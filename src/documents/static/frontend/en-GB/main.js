globalThis.$localize=Object.assign(globalThis.$localize || {},{locale:"en-GB"});
"use strict";(function(global,_global$ng,_global$ng2,_global$ng2$common,_global$ng$common,_global$ng$common$loc){(_global$ng=global.ng)!==null&&_global$ng!==void 0?_global$ng:global.ng={};(_global$ng2$common=(_global$ng2=global.ng).common)!==null&&_global$ng2$common!==void 0?_global$ng2$common:_global$ng2.common={};(_global$ng$common$loc=(_global$ng$common=global.ng.common).locales)!==null&&_global$ng$common$loc!==void 0?_global$ng$common$loc:_global$ng$common.locales={};const u=undefined;function plural(val){const n=val,i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length;if(i===1&&v===0)return 1;return 5}global.ng.common.locales["en-gb"]=["en-GB",[["a","p"],["am","pm"],u],[["am","pm"],u,u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",u,"{1} 'at' {0}",u],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"GBP","\xA3","British Pound",{"JPY":["JP\xA5","\xA5"],"USD":["US$","$"]},"ltr",plural,[[["mi","n","in the morning","in the afternoon","in the evening","at night"],["midnight","noon","in the morning","in the afternoon","in the evening","at night"],u],[["midnight","noon","morning","afternoon","evening","night"],u,u],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","21:00"],["21:00","06:00"]]]]})(globalThis);;
(self.webpackChunkpaperless_ui=self.webpackChunkpaperless_ui||[]).push([[792],{623:(ni,wt,$t)=>{"use strict";var At={};$t.r(At),$t.d(At,{AbortException:()=>x_e,AnnotationEditorLayer:()=>L_e,AnnotationEditorParamsType:()=>R_e,AnnotationEditorType:()=>Ek,AnnotationEditorUIManager:()=>F_e,AnnotationLayer:()=>k_e,AnnotationMode:()=>z_e,ColorPicker:()=>V_e,DOMSVGFactory:()=>H_e,DrawLayer:()=>$_e,FeatureTest:()=>G_e,GlobalWorkerOptions:()=>Ak,ImageKind:()=>B_e,InvalidPDFException:()=>U_e,MissingPDFException:()=>W_e,OPS:()=>Z_e,OutputScale:()=>j_e,PDFDataRangeTransport:()=>X_e,PDFDateString:()=>K_e,PDFWorker:()=>q_e,PasswordResponses:()=>Y_e,PermissionFlag:()=>Q_e,PixelsPerInch:()=>J_e,RenderingCancelledException:()=>epe,TextLayer:()=>tpe,UnexpectedResponseException:()=>npe,Util:()=>ipe,VerbosityLevel:()=>Ok,XfaLayer:()=>ope,build:()=>spe,createValidAbsoluteUrl:()=>rpe,fetchData:()=>ape,getDocument:()=>yk,getFilenameFromUrl:()=>lpe,getPdfFilenameFromUrl:()=>cpe,getXfaPageViewport:()=>dpe,isDataScheme:()=>upe,isPdfFile:()=>hpe,noContextMenu:()=>_pe,normalizeUnicode:()=>ppe,setLayerDimensions:()=>gpe,shadow:()=>fpe,version:()=>h4});var ht={};function Ut(t,n,e,i,o,s,r){try{var a=t[s](r),l=a.value}catch(c){return void e(c)}a.done?n(l):Promise.resolve(l).then(i,o)}function V(t){return function(){var n=this,e=arguments;return new Promise(function(i,o){var s=t.apply(n,e);function r(l){Ut(s,i,o,r,a,"next",l)}function a(l){Ut(s,i,o,r,a,"throw",l)}r(void 0)})}}function _t(t,n){return Object.is(t,n)}$t.r(ht),$t.d(ht,{AnnotationLayerBuilder:()=>Efe,DownloadManager:()=>Afe,EventBus:()=>Ofe,FindState:()=>yfe,GenericL10n:()=>Sz,LinkTarget:()=>su,PDFFindController:()=>Ez,PDFHistory:()=>Nfe,PDFLinkService:()=>Az,PDFPageView:()=>Dfe,PDFScriptingManager:()=>Pfe,PDFSinglePageViewer:()=>Oz,PDFViewer:()=>yz,ProgressBar:()=>Ife,RenderingStates:()=>xfe,ScrollMode:()=>Lfe,SimpleLinkService:()=>Rfe,SpreadMode:()=>Ffe,StructTreeLayerBuilder:()=>kfe,TextLayerBuilder:()=>zfe,XfaLayerBuilder:()=>Vfe,parseQueryString:()=>Hfe});let B=null,L=!1,X=1;const j=Symbol("SIGNAL");function Z(t){const n=B;return B=t,n}const ie={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function U(t){if(L)throw new Error("");if(null===B)return;B.consumerOnSignalRead(t);const n=B.nextProducerIndex++;ct(B),n<B.producerNode.length&&B.producerNode[n]!==t&&Re(B)&&Se(B.producerNode[n],B.producerIndexOfThis[n]),B.producerNode[n]!==t&&(B.producerNode[n]=t,B.producerIndexOfThis[n]=Re(B)?be(t,B,n):0),B.producerLastReadVersion[n]=t.version}function se(t){if((!Re(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==X)){if(!t.producerMustRecompute(t)&&!Oe(t))return void he(t);t.producerRecomputeValue(t),he(t)}}function ne(t){if(void 0===t.liveConsumerNode)return;const n=L;L=!0;try{for(const e of t.liveConsumerNode)e.dirty||Y(e)}finally{L=n}}function H(){return!1!==B?.consumerAllowSignalWrites}function Y(t){t.dirty=!0,ne(t),t.consumerMarkedDirty?.(t)}function he(t){t.dirty=!1,t.lastCleanEpoch=X}function J(t){return t&&(t.nextProducerIndex=0),Z(t)}function _e(t,n){if(Z(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Re(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Se(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Oe(t){ct(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(se(e),i!==e.version))return!0}return!1}function ve(t){if(ct(t),Re(t))for(let n=0;n<t.producerNode.length;n++)Se(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function be(t,n,e){if(it(t),0===t.liveConsumerNode.length&&Xe(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=be(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Se(t,n){if(it(t),1===t.liveConsumerNode.length&&Xe(t))for(let i=0;i<t.producerNode.length;i++)Se(t.producerNode[i],t.producerIndexOfThis[i]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],o=t.liveConsumerNode[n];ct(o),o.producerIndexOfThis[i]=n}}function Re(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ct(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function it(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Xe(t){return void 0!==t.producerNode}const xt=Symbol("UNSET"),qe=Symbol("COMPUTING"),Ye=Symbol("ERRORED"),lt={...ie,value:xt,dirty:!0,error:null,equal:_t,kind:"computed",producerMustRecompute:t=>t.value===xt||t.value===qe,producerRecomputeValue(t){if(t.value===qe)throw new Error("Detected cycle in computations.");const n=t.value;t.value=qe;const e=J(t);let i,o=!1;try{i=t.computation(),Z(null),o=n!==xt&&n!==Ye&&i!==Ye&&t.equal(n,i)}catch(s){i=Ye,t.error=s}finally{_e(t,e)}o?t.value=n:(t.value=i,t.version++)}};let Wt=function Mt(){throw new Error};function Nt(){Wt()}function zn(t,n){H()||Nt(),t.equal(t.value,n)||(t.value=n,function Si(t){t.version++,function te(){X++}(),ne(t)}(t))}const ls={...ie,equal:_t,value:void 0,kind:"signal"};function fn(t){return"function"==typeof t}function js(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const W1=js(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,o)=>`${o+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function fa(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class si{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(fn(i))try{i()}catch(s){n=s instanceof W1?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{fs(s)}catch(r){n=n??[],r instanceof W1?n=[...n,...r.errors]:n.push(r)}}if(n)throw new W1(n)}}add(n){var e;if(n&&n!==this)if(this.closed)fs(n);else{if(n instanceof si){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&fa(e,n)}remove(n){const{_finalizers:e}=this;e&&fa(e,n),n instanceof si&&n._removeParent(this)}}si.EMPTY=(()=>{const t=new si;return t.closed=!0,t})();const I0=si.EMPTY;function w1(t){return t instanceof si||t&&"closed"in t&&fn(t.remove)&&fn(t.add)&&fn(t.unsubscribe)}function fs(t){fn(t)?t():t.unsubscribe()}const Is={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b1={setTimeout(t,n,...e){const{delegate:i}=b1;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=b1;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function K(t){b1.setTimeout(()=>{const{onUnhandledError:n}=Is;if(!n)throw t;n(t)})}function ot(){}const dt=ze("C",void 0,void 0);function ze(t,n,e){return{kind:t,value:n,error:e}}let z=null;function rt(t){if(Is.useDeprecatedSynchronousErrorHandling){const n=!z;if(n&&(z={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=z;if(z=null,e)throw i}}else t()}class O extends si{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,w1(n)&&n.add(this)):this.destination=Rt}static create(n,e,i){return new ce(n,e,i)}next(n){this.isStopped?Ot(function ge(t){return ze("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ot(function Lt(t){return ze("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ot(dt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const De=Function.prototype.bind;function Ie(t,n){return De.call(t,n)}class G{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){Ae(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){Ae(i)}else Ae(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Ae(e)}}}class ce extends O{constructor(n,e,i){let o;if(super(),fn(n)||!n)o={next:n??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&Is.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&Ie(n.next,s),error:n.error&&Ie(n.error,s),complete:n.complete&&Ie(n.complete,s)}):o=n}this.destination=new G(o)}}function Ae(t){Is.useDeprecatedSynchronousErrorHandling?function hn(t){Is.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=t)}(t):K(t)}function Ot(t,n){const{onStoppedNotification:e}=Is;e&&b1.setTimeout(()=>e(t,n))}const Rt={closed:!0,next:ot,error:function Qt(t){throw t},complete:ot},Jn="function"==typeof Symbol&&Symbol.observable||"@@observable";function ms(t){return t}function di(t){return 0===t.length?ms:1===t.length?t[0]:function(e){return t.reduce((i,o)=>o(i),e)}}let an=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,o){const s=function g5(t){return t&&t instanceof O||function sr(t){return t&&fn(t.next)&&fn(t.error)&&fn(t.complete)}(t)&&w1(t)}(e)?e:new ce(e,i,o);return rt(()=>{const{operator:r,source:a}=this;s.add(r?r.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=vs(i))((o,s)=>{const r=new ce({next:a=>{try{e(a)}catch(l){s(l),r.unsubscribe()}},error:s,complete:o});this.subscribe(r)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Jn](){return this}pipe(...e){return di(e)(this)}toPromise(e){return new(e=vs(e))((i,o)=>{let s;this.subscribe(r=>s=r,r=>o(r),()=>i(s))})}}return t.create=n=>new t(n),t})();function vs(t){var n;return null!==(n=t??Is.Promise)&&void 0!==n?n:Promise}const f5=js(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xe=(()=>{class t extends an{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Mr(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new f5}next(e){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:o,observers:s}=this;return i||o?I0:(this.currentObservers=null,s.push(e),new si(()=>{this.currentObservers=null,fa(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:o,isStopped:s}=this;i?e.error(o):s&&e.complete()}asObservable(){const e=new an;return e.source=this,e}}return t.create=(n,e)=>new Mr(n,e),t})();class Mr extends xe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:I0}}class ui extends xe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function Xa(t){return fn(t?.lift)}function hi(t){return n=>{if(Xa(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pi(t,n,e,i,o){return new VU(t,n,e,i,o)}class VU extends O{constructor(n,e,i,o,s,r){super(n),this.onFinalize=s,this.shouldUnsubscribe=r,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Tt(t,n){return hi((e,i)=>{let o=0;e.subscribe(Pi(i,s=>{i.next(t.call(n,s,o++))}))})}const Lb="https://g.co/ng/security#xss";class He extends Error{code;constructor(n,e){super(function Lc(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}const Rg=Symbol("InputSignalNode#UNSET"),Rb={...ls,transformFn:void 0,applyValueToInputSignal(t,n){zn(t,n)}};function Fb(t,n){const e=Object.create(Rb);function i(){if(U(e),e.value===Rg)throw new He(-950,!1);return e.value}return e.value=t,e.transformFn=n?.transform,i[j]=e,i}function x0(t){return{toString:t}.toString()}const v5="__parameters__";function M5(t,n,e){return x0(()=>{const i=function qm(t){return function(...e){if(t){const i=t(...e);for(const o in i)this[o]=i[o]}}}(n);function o(...s){if(this instanceof o)return i.apply(this,s),this;const r=new o(...s);return a.annotation=r,a;function a(l,c,h){const p=l.hasOwnProperty(v5)?l[v5]:Object.defineProperty(l,v5,{value:[]})[v5];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(r),l}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const ao=globalThis;function $i(t){for(let n in t)if(t[n]===$i)return n;throw Error("Could not find renamed property on target object.")}function HU(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Cs(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Cs).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Ym(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const $U=$i({__forward_ref__:$i});function sn(t){return t.__forward_ref__=sn,t.toString=function(){return Cs(this())},t}function mn(t){return Fg(t)?t():t}function Fg(t){return"function"==typeof t&&t.hasOwnProperty($U)&&t.__forward_ref__===sn}function ml(t,n,e){t!=n&&function ln(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(e,t,n,"==")}function we(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function kg(t){return zb(t,Vg)||zb(t,Vb)}function zb(t,n){return t.hasOwnProperty(n)?t[n]:null}function zg(t){return t&&(t.hasOwnProperty(Qm)||t.hasOwnProperty(jU))?t[Qm]:null}const Vg=$i({\u0275prov:$i}),Qm=$i({\u0275inj:$i}),Vb=$i({ngInjectableDef:$i}),jU=$i({ngInjectorDef:$i});class Je{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=we({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function t8(t){return t&&!!t.\u0275providers}const T5=$i({\u0275cmp:$i}),n8=$i({\u0275dir:$i}),i8=$i({\u0275pipe:$i}),$b=$i({\u0275mod:$i}),L0=$i({\u0275fac:$i}),Bu=$i({__NG_ELEMENT_ID__:$i}),Gb=$i({__NG_ENV_ID__:$i});function On(t){return"string"==typeof t?t:null==t?"":String(t)}function o8(t,n){throw new He(-201,!1)}var ei=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ei||{});let s8;function Bb(){return s8}function Ur(t){const n=s8;return s8=t,n}function Ub(t,n,e){const i=kg(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ei.Optional?null:void 0!==n?n:void o8()}const Uu={},r8="__NG_DI_FLAG__",Gg="ngTempTokenPath",JU=/\n/gm,Wb="__source";let w5;function vl(t){const n=w5;return w5=t,n}function nW(t,n=ei.Default){if(void 0===w5)throw new He(-203,!1);return null===w5?Ub(t,void 0,n):w5.get(t,n&ei.Optional?null:void 0,n)}function Be(t,n=ei.Default){return(Bb()||nW)(mn(t),n)}function $(t,n=ei.Default){return Be(t,Bg(n))}function Bg(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function a8(t){const n=[];for(let e=0;e<t.length;e++){const i=mn(t[e]);if(Array.isArray(i)){if(0===i.length)throw new He(900,!1);let o,s=ei.Default;for(let r=0;r<i.length;r++){const a=i[r],l=iW(a);"number"==typeof l?-1===l?o=a.token:s|=l:o=a}n.push(Be(o,s))}else n.push(Be(i))}return n}function Wu(t,n){return t[r8]=n,t.prototype[r8]=n,t}function iW(t){return t[r8]}const l8=Wu(M5("Optional"),8),c8=Wu(M5("SkipSelf"),4);function Rc(t,n){return t.hasOwnProperty(L0)?t[L0]:null}function b5(t,n){t.forEach(e=>Array.isArray(e)?b5(e,n):n(e))}function jb(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Ug(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function va(t,n,e){let i=S5(t,n);return i>=0?t[1|i]=e:(i=~i,function Xb(t,n,e,i){let o=t.length;if(o==n)t.push(e,i);else if(1===o)t.push(i,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function u8(t,n){const e=S5(t,n);if(e>=0)return t[1|e]}function S5(t,n){return function Kb(t,n,e){let i=0,o=t.length>>e;for(;o!==i;){const s=i+(o-i>>1),r=t[s<<e];if(n===r)return s<<e;r>n?o=s:i=s+1}return~(o<<e)}(t,n,1)}const Z1={},Ii=[],Ka=new Je(""),qb=new Je("",-1),h8=new Je("");class Zg{get(n,e=Uu){if(e===Uu){const i=new Error(`NullInjectorError: No provider for ${Cs(n)}!`);throw i.name="NullInjectorError",i}return e}}function rr(t,n){const e=t[$b]||null;if(!e&&!0===n)throw new Error(`Type ${Cs(t)} does not have '\u0275mod' property.`);return e}function Gn(t){return t[T5]||null}function Ms(t){return t[n8]||null}function Xs(t){return t[i8]||null}function Yb(...t){return{\u0275providers:_8(0,t),\u0275fromNgModule:!0}}function _8(t,...n){const e=[],i=new Set;let o;const s=r=>{e.push(r)};return b5(n,r=>{const a=r;jg(a,s,[],i)&&(o||=[],o.push(a))}),void 0!==o&&Qb(o,s),e}function Qb(t,n){for(let e=0;e<t.length;e++){const{ngModule:i,providers:o}=t[e];p8(o,s=>{n(s,i)})}}function jg(t,n,e,i){if(!(t=mn(t)))return!1;let o=null,s=zg(t);const r=!s&&Gn(t);if(s||r){if(r&&!r.standalone)return!1;o=t}else{const l=t.ngModule;if(s=zg(l),!s)return!1;o=l}const a=i.has(o);if(r){if(a)return!1;if(i.add(o),r.dependencies){const l="function"==typeof r.dependencies?r.dependencies():r.dependencies;for(const c of l)jg(c,n,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(o);try{b5(s.imports,h=>{jg(h,n,e,i)&&(c||=[],c.push(h))})}finally{}void 0!==c&&Qb(c,n)}if(!a){const c=Rc(o)||(()=>new o);n({provide:o,useFactory:c,deps:Ii},o),n({provide:h8,useValue:o,multi:!0},o),n({provide:Ka,useValue:()=>Be(o),multi:!0},o)}const l=s.providers;if(null!=l&&!a){const c=t;p8(l,h=>{n(h,c)})}}}return o!==t&&void 0!==t.providers}function p8(t,n){for(let e of t)t8(e)&&(e=e.\u0275providers),Array.isArray(e)?p8(e,n):n(e)}const dW=$i({provide:String,useValue:$i});function g8(t){return null!==t&&"object"==typeof t&&dW in t}function Fc(t){return"function"==typeof t}const f8=new Je(""),Xg={},hW={};let m8;function Kg(){return void 0===m8&&(m8=new Zg),m8}class xs{}class kc extends xs{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,i,o){super(),this.parent=e,this.source=i,this.scopes=o,C8(n,r=>this.processProvider(r)),this.records.set(qb,E5(void 0,this)),o.has("environment")&&this.records.set(xs,E5(void 0,this));const s=this.records.get(f8);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(h8,Ii,ei.Self))}destroy(){Zu(this),this._destroyed=!0;const n=Z(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(n)}}onDestroy(n){return Zu(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Zu(this);const e=vl(this),i=Ur(void 0);try{return n()}finally{vl(e),Ur(i)}}get(n,e=Uu,i=ei.Default){if(Zu(this),n.hasOwnProperty(Gb))return n[Gb](this);i=Bg(i);const s=vl(this),r=Ur(void 0);try{if(!(i&ei.SkipSelf)){let l=this.records.get(n);if(void 0===l){const c=function mW(t){return"function"==typeof t||"object"==typeof t&&t instanceof Je}(n)&&kg(n);l=c&&this.injectableDefInScope(c)?E5(v8(n),Xg):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(i&ei.Self?Kg():this.parent).get(n,e=i&ei.Optional&&e===Uu?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Gg]=a[Gg]||[]).unshift(Cs(n)),s)throw a;return function oW(t,n,e,i){const o=t[Gg];throw n[Wb]&&o.unshift(n[Wb]),t.message=function sW(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Cs(n);if(Array.isArray(n))o=n.map(Cs).join(" -> ");else if("object"==typeof n){let s=[];for(let r in n)if(n.hasOwnProperty(r)){let a=n[r];s.push(r+":"+("string"==typeof a?JSON.stringify(a):Cs(a)))}o=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${o}]: ${t.replace(JU,"\n  ")}`}("\n"+t.message,o,e,i),t.ngTokenPath=o,t[Gg]=null,t}(a,n,"R3InjectorError",this.source)}throw a}finally{Ur(r),vl(s)}}resolveInjectorInitializers(){const n=Z(null),e=vl(this),i=Ur(void 0);try{const s=this.get(Ka,Ii,ei.Self);for(const r of s)r()}finally{vl(e),Ur(i),Z(n)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(Cs(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){let e=Fc(n=mn(n))?n:mn(n&&n.provide);const i=function pW(t){return g8(t)?E5(void 0,t.useValue):E5(tS(t),Xg)}(n);if(!Fc(n)&&!0===n.multi){let o=this.records.get(e);o||(o=E5(void 0,Xg,!0),o.factory=()=>a8(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,i)}hydrate(n,e){const i=Z(null);try{return e.value===Xg&&(e.value=hW,e.value=e.factory()),"object"==typeof e.value&&e.value&&function fW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Z(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const e=mn(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function v8(t){const n=kg(t),e=null!==n?n.factory:Rc(t);if(null!==e)return e;if(t instanceof Je)throw new He(204,!1);if(t instanceof Function)return function _W(t){if(t.length>0)throw new He(204,!1);const e=function ZU(t){return t&&(t[Vg]||t[Vb])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new He(204,!1)}function tS(t,n,e){let i;if(Fc(t)){const o=mn(t);return Rc(o)||v8(o)}if(g8(t))i=()=>mn(t.useValue);else if(function eS(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...a8(t.deps||[]));else if(function Jb(t){return!(!t||!t.useExisting)}(t))i=()=>Be(mn(t.useExisting));else{const o=mn(t&&(t.useClass||t.provide));if(!function gW(t){return!!t.deps}(t))return Rc(o)||v8(o);i=()=>new o(...a8(t.deps))}return i}function Zu(t){if(t.destroyed)throw new He(205,!1)}function E5(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function C8(t,n){for(const e of t)Array.isArray(e)?C8(e,n):e&&t8(e)?C8(e.\u0275providers,n):n(e)}function qa(t,n){t instanceof kc&&Zu(t);const i=vl(t),o=Ur(void 0);try{return n()}finally{vl(i),Ur(o)}}function nS(){return void 0!==Bb()||null!=function tW(){return w5}()}function zc(t){if(!nS())throw new He(-203,!1)}function Ao(t){return Array.isArray(t)&&"object"==typeof t[1]}function ws(t){return Array.isArray(t)&&!0===t[1]}function w8(t){return!!(4&t.flags)}function Ya(t){return t.componentOffset>-1}function ef(t){return!(1&~t.flags)}function Qa(t){return!!t.template}function k0(t){return!!(512&t[2])}function wl(t){return!(256&~t[2])}class NW{previousValue;currentValue;firstChange;constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function dS(t,n,e,i){null!==n?n.applyValueToInputSignal(n,i):t[e]=i}const xi=(()=>{const t=()=>uS;return t.ngInherit=!0,t})();function uS(t){return t.type.prototype.ngOnChanges&&(t.setInput=PW),DW}function DW(){const t=_S(this),n=t?.current;if(n){const e=t.previous;if(e===Z1)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function PW(t,n,e,i,o){const s=this.declaredInputs[i],r=_S(t)||function IW(t,n){return t[hS]=n}(t,{previous:Z1,current:null}),a=r.current||(r.current={}),l=r.previous,c=l[s];a[s]=new NW(c&&c.currentValue,e,l===Z1),dS(t,n,o,e)}const hS="__ngSimpleChanges__";function _S(t){return t[hS]||null}function Ci(t){for(;Array.isArray(t);)t=t[0];return t}function I5(t,n){return Ci(n[t])}function wr(t,n){return Ci(n[t.index])}function Gc(t,n){return t.data[n]}function Bc(t,n){return t[n]}function br(t,n){const e=n[t];return Ao(e)?e:e[0]}function E8(t){return!(128&~t[2])}function e1(t,n){return null==n?null:t[n]}function fS(t){t[17]=0}function A8(t){1024&t[2]||(t[2]|=1024,E8(t)&&Xu(t))}function nf(t){return!!(9216&t[2]||t[24]?.dirty)}function O8(t){t[10].changeDetectionScheduler?.notify(9),64&t[2]&&(t[2]|=1024),nf(t)&&Xu(t)}function Xu(t){t[10].changeDetectionScheduler?.notify(0);let n=z0(t);for(;null!==n&&!(8192&n[2])&&(n[2]|=8192,E8(n));)n=z0(n)}function sf(t,n){if(wl(t))throw new He(911,!1);null===t[21]&&(t[21]=[]),t[21].push(n)}function z0(t){const n=t[3];return ws(n)?n[3]:n}function vS(t){return t[7]??=[]}function CS(t){return t.cleanup??=[]}const Tn={lFrame:NS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let D8=!1;function MS(){return Tn.bindingsEnabled}function Uc(){return null!==Tn.skipHydrationRootTNode}function Ne(){return Tn.lFrame.lView}function vn(){return Tn.lFrame.tView}function b(t){return Tn.lFrame.contextLView=t,t[8]}function S(t){return Tn.lFrame.contextLView=null,t}function Qn(){let t=TS();for(;null!==t&&64===t.type;)t=t.parent;return t}function TS(){return Tn.lFrame.currentTNode}function Ku(){const t=Tn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function S1(t,n){const e=Tn.lFrame;e.currentTNode=t,e.isParent=n}function P8(){return Tn.lFrame.isParent}function I8(){Tn.lFrame.isParent=!1}function wS(){return Tn.lFrame.contextLView}function SS(){return D8}function af(t){const n=D8;return D8=t,n}function Sr(){const t=Tn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function V0(){return Tn.lFrame.bindingIndex}function t1(){return Tn.lFrame.bindingIndex++}function H0(t){const n=Tn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function AS(t){Tn.lFrame.inI18n=t}function jW(t,n){const e=Tn.lFrame;e.bindingIndex=e.bindingRootIndex=t,x8(n)}function x8(t){Tn.lFrame.currentDirectiveIndex=t}function R8(){return Tn.lFrame.currentQueryIndex}function lf(t){Tn.lFrame.currentQueryIndex=t}function KW(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[5]:null}function OS(t,n,e){if(e&ei.SkipSelf){let o=n,s=t;for(;!(o=o.parent,null!==o||e&ei.Host||(o=KW(s),null===o||(s=s[14],10&o.type))););if(null===o)return!1;n=o,t=s}const i=Tn.lFrame=yS();return i.currentTNode=n,i.lView=t,!0}function F8(t){const n=yS(),e=t[1];Tn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function yS(){const t=Tn.lFrame,n=null===t?null:t.child;return null===n?NS(t):n}function NS(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function DS(){const t=Tn.lFrame;return Tn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const PS=DS;function k8(){const t=DS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ks(){return Tn.lFrame.selectedIndex}function Wc(t){Tn.lFrame.selectedIndex=t}function Zi(){const t=Tn.lFrame;return Gc(t.tView,t.selectedIndex)}function qu(){Tn.lFrame.currentNamespace="svg"}let LS=!0;function Yu(){return LS}function K1(t){LS=t}function cf(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=s;r&&(t.contentHooks??=[]).push(-e,r),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),null!=h&&(t.destroyHooks??=[]).push(e,h)}}function df(t,n,e){RS(t,n,3,e)}function uf(t,n,e,i){(3&t[2])===e&&RS(t,n,e,i)}function z8(t,n){let e=t[2];(3&e)===n&&(e&=16383,e+=1,t[2]=e)}function RS(t,n,e,i){const s=i??-1,r=n.length-1;let a=0;for(let l=void 0!==i?65535&t[17]:0;l<r;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(t[17]+=65536),(a<s||-1==s)&&(eZ(t,e,n,l),t[17]=(4294901760&t[17])+l+2),l++}function FS(t,n){const e=Z(null);try{n.call(t)}finally{Z(e)}}function eZ(t,n,e,i){const o=e[i]<0,s=e[i+1],a=t[o?-e[i]:e[i]];o?t[2]>>14<t[17]>>16&&(3&t[2])===n&&(t[2]+=16384,FS(a,s)):FS(a,s)}class Qu{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,i){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=i}}function kS(t){return 3===t||4===t||6===t}function zS(t){return 64===t.charCodeAt(0)}function L5(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const o=n[i];"number"==typeof o?e=o:0===e||VS(t,e,o,null,-1===e||2===e?n[++i]:null)}}return t}function VS(t,n,e,i,o){let s=0,r=t.length;if(-1===n)r=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===n){r=-1;break}if(a>n){r=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==o&&(t[s+1]=o));if(i===t[s+1])return void(t[s+2]=o)}s++,null!==i&&s++,null!==o&&s++}-1!==r&&(t.splice(r,0,n),s=r+1),t.splice(s++,0,e),null!==i&&t.splice(s++,0,i),null!==o&&t.splice(s++,0,o)}const $8={};class Zc{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=Bg(i);const o=this.injector.get(n,$8,i);return o!==$8||e===$8?o:this.parentInjector.get(n,e,i)}}function G8(t){return-1!==t}function Ju(t){return 32767&t}function eh(t,n){let e=function rZ(t){return t>>16}(t),i=n;for(;e>0;)i=i[14],e--;return i}let B8=!0;function hf(t){const n=B8;return B8=t,n}let lZ=0;const q1={};function _f(t,n){const e=GS(t,n);if(-1!==e)return e;const i=n[1];i.firstCreatePass&&(t.injectorIndex=n.length,U8(i.data,t),U8(n,null),U8(i.blueprint,null));const o=pf(t,n),s=t.injectorIndex;if(G8(o)){const r=Ju(o),a=eh(o,n),l=a[1].data;for(let c=0;c<8;c++)n[s+c]=a[r+c]|l[r+c]}return n[s+8]=o,s}function U8(t,n){t.push(0,0,0,0,0,0,0,0,n)}function GS(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function pf(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,o=n;for(;null!==o;){if(i=KS(o),null===i)return-1;if(e++,o=o[14],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function W8(t,n,e){!function cZ(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Bu)&&(i=e[Bu]),null==i&&(i=e[Bu]=lZ++);const o=255&i;n.data[t+(o>>5)]|=1<<o}(t,n,e)}function BS(t,n,e){if(e&ei.Optional||void 0!==t)return t;o8()}function US(t,n,e,i){if(e&ei.Optional&&void 0===i&&(i=null),!(e&(ei.Self|ei.Host))){const o=t[9],s=Ur(void 0);try{return o?o.get(n,i,e&ei.Optional):Ub(n,i,e&ei.Optional)}finally{Ur(s)}}return BS(i,0,e)}function WS(t,n,e,i=ei.Default,o){if(null!==t){if(2048&n[2]&&!(i&ei.Self)){const r=function pZ(t,n,e,i,o){let s=t,r=n;for(;null!==s&&null!==r&&2048&r[2]&&!k0(r);){const a=ZS(s,r,e,i|ei.Self,q1);if(a!==q1)return a;let l=s.parent;if(!l){const c=r[20];if(c){const h=c.get(e,q1,i);if(h!==q1)return h}l=KS(r),r=r[14]}s=l}return o}(t,n,e,i,q1);if(r!==q1)return r}const s=ZS(t,n,e,i,q1);if(s!==q1)return s}return US(n,e,i,o)}function ZS(t,n,e,i,o){const s=function hZ(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Bu)?t[Bu]:void 0;return"number"==typeof n?n>=0?255&n:_Z:n}(e);if("function"==typeof s){if(!OS(n,t,i))return i&ei.Host?BS(o,0,i):US(n,e,i,o);try{let r;if(r=s(i),null!=r||i&ei.Optional)return r;o8()}finally{PS()}}else if("number"==typeof s){let r=null,a=GS(t,n),l=-1,c=i&ei.Host?n[15][5]:null;for((-1===a||i&ei.SkipSelf)&&(l=-1===a?pf(t,n):n[a+8],-1!==l&&XS(i,!1)?(r=n[1],a=Ju(l),n=eh(l,n)):a=-1);-1!==a;){const h=n[1];if(jS(s,a,h.data)){const p=uZ(a,n,e,r,i,c);if(p!==q1)return p}l=n[a+8],-1!==l&&XS(i,n[1].data[a+8]===c)&&jS(s,a,n)?(r=h,a=Ju(l),n=eh(l,n)):a=-1}}return o}function uZ(t,n,e,i,o,s){const r=n[1],a=r.data[t+8],h=gf(a,r,e,null==i?Ya(a)&&B8:i!=r&&!!(3&a.type),o&ei.Host&&s===a);return null!==h?th(n,r,h,a):q1}function gf(t,n,e,i,o){const s=t.providerIndexes,r=n.data,a=1048575&s,l=t.directiveStart,h=s>>20,f=o?a+h:t.directiveEnd;for(let v=i?a:a+h;v<f;v++){const C=r[v];if(v<l&&e===C||v>=l&&C.type===e)return v}if(o){const v=r[l];if(v&&Qa(v)&&v.type===e)return l}return null}function th(t,n,e,i){let o=t[e];const s=n.data;if(function tZ(t){return t instanceof Qu}(o)){const r=o;r.resolving&&function qU(t,n){throw n&&n.join(" > "),new He(-200,t)}(function Li(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():On(t)}(s[e]));const a=hf(r.canSeeViewProviders);r.resolving=!0;const c=r.injectImpl?Ur(r.injectImpl):null;OS(t,i,ei.Default);try{o=t[e]=r.factory(void 0,s,t,i),n.firstCreatePass&&e>=i.directiveStart&&function JW(t,n,e){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:s}=n.type.prototype;if(i){const r=uS(n);(e.preOrderHooks??=[]).push(t,r),(e.preOrderCheckHooks??=[]).push(t,r)}o&&(e.preOrderHooks??=[]).push(0-t,o),s&&((e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s))}(e,s[e],n)}finally{null!==c&&Ur(c),hf(a),r.resolving=!1,PS()}}return o}function jS(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function XS(t,n){return!(t&ei.Self||t&ei.Host&&n)}class $o{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return WS(this._tNode,this._lView,n,Bg(i),e)}}function _Z(){return new $o(Qn(),Ne())}function Ei(t){return x0(()=>{const n=t.prototype.constructor,e=n[L0]||Z8(n),i=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==i;){const s=o[L0]||Z8(o);if(s&&s!==e)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function Z8(t){return Fg(t)?()=>{const n=Z8(mn(t));return n&&n()}:Rc(t)}function KS(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[5]:null}function E1(t){return function dZ(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let o=0;for(;o<i;){const s=e[o];if(kS(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<i&&"string"==typeof e[o];)o++;else{if(s===n)return e[o+1];o+=2}}}return null}(Qn(),t)}function eE(t,n=null,e=null,i){const o=tE(t,n,e,i);return o.resolveInjectorInitializers(),o}function tE(t,n=null,e=null,i,o=new Set){const s=[e||Ii,Yb(t)];return i=i||("object"==typeof t?void 0:Cs(t)),new kc(s,n||Kg(),i||null,o)}class ri{static THROW_IF_NOT_FOUND=Uu;static NULL=new Zg;static create(n,e){if(Array.isArray(n))return eE({name:""},e,n,"");{const i=n.name??"";return eE({name:i},n.parent,n.providers,i)}}static \u0275prov=we({token:ri,providedIn:"any",factory:()=>Be(qb)});static __NG_ELEMENT_ID__=-1}new Je("").__NG_ELEMENT_ID__=t=>{const n=Qn();if(null===n)throw new He(204,!1);if(2&n.type)return n.value;if(t&ei.Optional)return null;throw new He(204,!1)};const nE=!1;let Ca=(()=>class t{static __NG_ELEMENT_ID__=bZ;static __NG_ENV_ID__=e=>e})();class iE extends Ca{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return sf(this._lView,n),()=>function y8(t,n){if(null===t[21])return;const e=t[21].indexOf(n);-1!==e&&t[21].splice(e,1)}(this._lView,n)}}function bZ(){return new iE(Ne())}class $0{}const nh=new Je("",{providedIn:"root",factory:()=>!1}),oE=new Je(""),X8=new Je("");let A1=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ui(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=we({token:t,providedIn:"root",factory:()=>new t})}return t})();const Ee=class EZ extends xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,nS()&&(this.destroyRef=$(Ca,{optional:!0})??void 0,this.pendingTasks=$(A1,{optional:!0})??void 0)}emit(n){const e=Z(null);try{super.next(n)}finally{Z(e)}}subscribe(n,e,i){let o=n,s=e||(()=>null),r=i;if(n&&"object"==typeof n){const l=n;o=l.next?.bind(l),s=l.error?.bind(l),r=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),r&&(r=this.wrapInTimeout(r)));const a=super.subscribe({next:o,error:s,complete:r});return n instanceof si&&n.add(a),a}wrapInTimeout(n){return e=>{const i=this.pendingTasks?.add();setTimeout(()=>{n(e),void 0!==i&&this.pendingTasks?.remove(i)})}}};function ih(...t){}function sE(t){let n,e;function i(){t=ih;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{t(),i()})),()=>i()}function rE(t){return queueMicrotask(()=>t()),()=>{t=ih}}const K8="isAngularZone",mf=K8+"_ID";let AZ=0;class cn{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ee(!1);onMicrotaskEmpty=new Ee(!1);onStable=new Ee(!1);onError=new Ee(!1);constructor(n){const{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:s=nE}=n;if(typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!o&&i,r.shouldCoalesceRunChangeDetection=o,r.callbackScheduled=!1,r.scheduleInRootZone=s,function NZ(t){const n=()=>{!function yZ(t){function n(){sE(()=>{t.callbackScheduled=!1,Y8(t),t.isCheckStableRunning=!0,q8(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Y8(t))}(t)},e=AZ++;t._inner=t._inner.fork({name:"angular",properties:{[K8]:!0,[mf]:e,[mf+e]:!0},onInvokeTask:(i,o,s,r,a,l)=>{if(function DZ(t){return cE(t,"__ignore_ng_zone__")}(l))return i.invokeTask(s,r,a,l);try{return aE(t),i.invokeTask(s,r,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||t.shouldCoalesceRunChangeDetection)&&n(),lE(t)}},onInvoke:(i,o,s,r,a,l,c)=>{try{return aE(t),i.invoke(s,r,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function PZ(t){return cE(t,"__scheduler_tick__")}(l)&&n(),lE(t)}},onHasTask:(i,o,s,r)=>{i.hasTask(s,r),o===s&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Y8(t),q8(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(i,o,s,r)=>(i.handleError(s,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(K8)}static assertInAngularZone(){if(!cn.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(cn.isInAngularZone())throw new He(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,o){const s=this._inner,r=s.scheduleEventTask("NgZoneEvent: "+o,n,OZ,ih,ih);try{return s.runTask(r,e,i)}finally{s.cancelTask(r)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const OZ={};function q8(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Y8(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function aE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lE(t){t._nesting--,q8(t)}class Q8{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ee;onMicrotaskEmpty=new Ee;onStable=new Ee;onError=new Ee;run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,o){return n.apply(e,i)}}function cE(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class Y1{_console=console;handleError(n){this._console.error("ERROR",n)}}const xZ=new Je("",{providedIn:"root",factory:()=>{const t=$(cn),n=$(Y1);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function uE(t,n){return Fb(t,n)}const hE=(uE.required=function LZ(t){return Fb(Rg,t)},uE);function RZ(){return R5(Qn(),Ne())}function R5(t,n){return new pn(wr(t,n))}let pn=(()=>class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=RZ})();function _E(t){return t instanceof pn?t.nativeElement:t}const pE=new Set;function Rs(t){pE.has(t)||(pE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Q1(t,n){Rs("NgSignals");const e=function rn(t){const n=Object.create(ls);n.value=t;const e=()=>(U(n),n.value);return e[j]=n,e}(t),i=e[j];return n?.equal&&(i.equal=n.equal),e.set=o=>zn(i,o),e.update=o=>function ko(t,n){H()||Nt(),zn(t,n(t.value))}(i,o),e.asReadonly=vf.bind(e),e}function vf(){const t=this[j];if(void 0===t.readonlyFn){const n=()=>this();n[j]=t,t.readonlyFn=n}return t.readonlyFn}function fE(t){return function gE(t){return"function"==typeof t&&void 0!==t[j]}(t)&&"function"==typeof t.set}function FZ(){return this._results[Symbol.iterator]()}class mE{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new xe}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const i=function Wr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function cW(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let o=t[i],s=n[i];if(e&&(o=e(o),s=e(s)),s!==o)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=FZ}function sh(t){return!(128&~t.flags)}var Cf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Cf||{});const Mf=new Map;let zZ=0;function e7(t){Mf.delete(t[19])}const Tf="__ngContext__";function Ar(t,n){Ao(n)?(t[Tf]=n[19],function HZ(t){Mf.set(t[19],t)}(n)):t[Tf]=n}function AE(t){return yE(t[12])}function OE(t){return yE(t[4])}function yE(t){for(;null!==t&&!ws(t);)t=t[4];return t}let i7;function J1(){if(void 0!==i7)return i7;if(typeof document<"u")return document;throw new He(210,!1)}const Sl=new Je("",{providedIn:"root",factory:()=>oj}),oj="ng",o7=new Je(""),Ma=new Je("",{providedIn:"platform",factory:()=>"unknown"}),FE=new Je("",{providedIn:"root",factory:()=>J1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),HE=new Je("",{providedIn:"root",factory:()=>!1});var g7=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(g7||{});const z5=new Je("");var Kc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Kc||{});let f7=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=we({token:t,providedIn:"root",factory:()=>new t})}return t})();const UE=[Kc.EarlyRead,Kc.Write,Kc.MixedReadWrite,Kc.Read];let WE=(()=>{class t{ngZone=$(cn);scheduler=$($0);errorHandler=$(Y1,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){$(z5,{optional:!0})}execute(){this.executing=!0;for(const e of UE)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[e])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>i.hooks[e](i.pipelinedValue),i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(const e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(7))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(g7.AFTER_NEXT_RENDER,e):e()}static \u0275prov=we({token:t,providedIn:"root",factory:()=>new t})}return t})();class ZE{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,i,o,s=null){this.impl=n,this.hooks=e,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function V5(t,n){!n?.injector&&zc();const e=n?.injector??$(ri);return Rs("NgAfterRender"),jE(t,e,n,!1)}function jr(t,n){!n?.injector&&zc();const e=n?.injector??$(ri);return Rs("NgAfterNextRender"),jE(t,e,n,!0)}function jE(t,n,e,i){const o=n.get(f7);o.impl??=n.get(WE);const s=n.get(z5,null,{optional:!0}),r=e?.phase??Kc.MixedReadWrite,a=!0!==e?.manualCleanup?n.get(Ca):null,l=new ZE(o.impl,function cj(t,n){if(t instanceof Function){const e=[void 0,void 0,void 0,void 0];return e[n]=t,e}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,r),i,a,s?.snapshot(null));return o.impl.register(l),l}function fA(t,n){const e=t.contentQueries;if(null!==e){const i=Z(null);try{for(let o=0;o<e.length;o+=2){const r=e[o+1];if(-1!==r){const a=t.data[r];lf(e[o]),a.contentQueries(2,n[r],r)}}}finally{Z(i)}}}function y7(t,n,e){lf(0);const i=Z(null);try{n(t,e)}finally{Z(i)}}function N7(t,n,e){if(w8(n)){const i=Z(null);try{const s=n.directiveEnd;for(let r=n.directiveStart;r<s;r++){const a=t.data[r];a.contentQueries&&a.contentQueries(1,e[r],r)}}finally{Z(i)}}}var n1=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(n1||{});let Rf,Ff;function j5(t){return function D7(){if(void 0===Rf&&(Rf=null,ao.trustedTypes))try{Rf=ao.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rf}()?.createHTML(t)||t}function P7(){if(void 0===Ff&&(Ff=null,ao.trustedTypes))try{Ff=ao.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ff}function mA(t){return P7()?.createHTML(t)||t}function CA(t){return P7()?.createScriptURL(t)||t}class Yc{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lb})`}}class Wj extends Yc{getTypeName(){return"HTML"}}class Zj extends Yc{getTypeName(){return"Style"}}class jj extends Yc{getTypeName(){return"Script"}}class Xj extends Yc{getTypeName(){return"URL"}}class Kj extends Yc{getTypeName(){return"ResourceURL"}}function Ta(t){return t instanceof Yc?t.changingThisBreaksApplicationSecurity:t}function e0(t,n){const e=function qj(t){return t instanceof Yc&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Lb})`)}return e===n}function MA(t){const n=new iX(t);return function oX(){try{return!!(new window.DOMParser).parseFromString(j5(""),"text/html")}catch{return!1}}()?new nX(n):n}class nX{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(j5(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}}class iX{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=j5(n),e}}const sX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kf(t){return(t=String(t)).match(sX)?t:"unsafe:"+t}function G0(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function mh(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const TA=G0("area,br,col,hr,img,wbr"),wA=G0("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bA=G0("rp,rt"),I7=mh(TA,mh(wA,G0("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mh(bA,G0("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mh(bA,wA)),x7=G0("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SA=mh(x7,G0("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),G0("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rX=G0("script,style,template");class aX{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let e=n.firstChild,i=!0,o=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)o.push(e),e=dX(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=cX(e);if(s){e=s;break}e=o.pop()}return this.buf.join("")}startElement(n){const e=EA(n).toLowerCase();if(!I7.hasOwnProperty(e))return this.sanitizedSomething=!0,!rX.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let o=0;o<i.length;o++){const s=i.item(o),r=s.name,a=r.toLowerCase();if(!SA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;x7[a]&&(l=kf(l)),this.buf.push(" ",r,'="',OA(l),'"')}return this.buf.push(">"),!0}endElement(n){const e=EA(n).toLowerCase();I7.hasOwnProperty(e)&&!TA.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(OA(n))}}function cX(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw AA(n);return n}function dX(t){const n=t.firstChild;if(n&&function lX(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw AA(n);return n}function EA(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function AA(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const uX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hX=/([^\#-~ |!])/g;function OA(t){return t.replace(/&/g,"&amp;").replace(uX,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(hX,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zf;function yA(t,n){let e=null;try{zf=zf||MA(t);let i=n?String(n):"";e=zf.getInertBodyElement(i);let o=5,s=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=s,s=e.innerHTML,e=zf.getInertBodyElement(i)}while(i!==s);return j5((new aX).sanitizeChildren(L7(e)||e))}finally{if(e){const i=L7(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function L7(t){return"content"in t&&function _X(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var o1=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(o1||{});function vo(t){const n=Ch();return n?mA(n.sanitize(o1.HTML,t)||""):e0(t,"HTML")?mA(Ta(t)):yA(J1(),On(t))}function R7(t){const n=Ch();return n?n.sanitize(o1.STYLE,t)||"":e0(t,"Style")?Ta(t):On(t)}function cs(t){const n=Ch();return n?n.sanitize(o1.URL,t)||"":e0(t,"URL")?Ta(t):kf(On(t))}function vh(t){const n=Ch();if(n)return CA(n.sanitize(o1.RESOURCE_URL,t)||"");if(e0(t,"ResourceURL"))return CA(Ta(t));throw new He(904,!1)}function Ch(){const t=Ne();return t&&t[10].sanitizer}const vX=/^>|^->|<!--|-->|--!>|<!-$/g,CX=/(<|>)/g;function t0(t){return t.ownerDocument.defaultView}function Mh(t){return t.ownerDocument}function wa(t){return t instanceof Function?t():t}var yl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(yl||{});function NX(t,n,e){let i=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const s=n.length;if(o+s===i||t.charCodeAt(o+s)<=32)return o}e=o+1}}const zA="ng-template";function DX(t,n,e,i){let o=0;if(i){for(;o<n.length&&"string"==typeof n[o];o+=2)if("class"===n[o]&&-1!==NX(n[o+1].toLowerCase(),e,0))return!0}else if(z7(t))return!1;if(o=n.indexOf(1,o),o>-1){let s;for(;++o<n.length&&"string"==typeof(s=n[o]);)if(s.toLowerCase()===e)return!0}return!1}function z7(t){return 4===t.type&&t.value!==zA}function PX(t,n,e){return n===(4!==t.type||e?t.value:zA)}function IX(t,n,e){let i=4;const o=t.attrs,s=null!==o?function RX(t){for(let n=0;n<t.length;n++)if(kS(t[n]))return n;return t.length}(o):0;let r=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!r)if(4&i){if(i=2|1&i,""!==l&&!PX(t,l,e)||""===l&&1===n.length){if(O1(i))return!1;r=!0}}else if(8&i){if(null===o||!DX(t,o,l,e)){if(O1(i))return!1;r=!0}}else{const c=n[++a],h=xX(l,o,z7(t),e);if(-1===h){if(O1(i))return!1;r=!0;continue}if(""!==c){let p;if(p=h>s?"":o[h+1].toLowerCase(),2&i&&c!==p){if(O1(i))return!1;r=!0}}}}else{if(!r&&!O1(i)&&!O1(l))return!1;if(r&&O1(l))continue;r=!1,i=l|1&i}}return O1(i)||r}function O1(t){return!(1&t)}function xX(t,n,e,i){if(null===n)return-1;let o=0;if(i||!e){let s=!1;for(;o<n.length;){const r=n[o];if(r===t)return o;if(3===r||6===r)s=!0;else{if(1===r||2===r){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===r)break;if(0===r){o+=4;continue}}o+=s?1:2}return-1}return function FX(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function VA(t,n,e=!1){for(let i=0;i<n.length;i++)if(IX(t,n[i],e))return!0;return!1}function kX(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let o=0;o<t.length;o++)if(t[o]!==i[o])continue e;return!0}}return!1}function HA(t,n){return t?":not("+n.trim()+")":n}function zX(t){let n=t[0],e=1,i=2,o="",s=!1;for(;e<t.length;){let r=t[e];if("string"==typeof r)if(2&i){const a=t[++e];o+="["+r+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?o+="."+r:4&i&&(o+=" "+r);else""!==o&&!O1(r)&&(n+=HA(s,o),o=""),i=r,s=s||!O1(i);e++}return""!==o&&(n+=HA(s,o)),n}const yn={};function V7(t,n){return t.createText(n)}function $A(t,n,e){t.setValue(n,e)}function H7(t,n){return t.createComment(function DA(t){return t.replace(vX,n=>n.replace(CX,"\u200b$1\u200b"))}(n))}function $f(t,n,e){return t.createElement(n,e)}function Qc(t,n,e,i,o){t.insertBefore(n,e,i,o)}function GA(t,n,e){t.appendChild(n,e)}function BA(t,n,e,i,o){null!==i?Qc(t,n,e,i,o):GA(t,n,e)}function Th(t,n,e){t.removeChild(null,n,e)}function WA(t,n,e){const{mergedAttrs:i,classes:o,styles:s}=e;null!==i&&function sZ(t,n,e){let i=0;for(;i<e.length;){const o=e[i];if("number"==typeof o){if(0!==o)break;i++;const s=e[i++],r=e[i++],a=e[i++];t.setAttribute(n,r,a,s)}else{const s=o,r=e[++i];zS(s)?t.setProperty(n,s,r):t.setAttribute(n,s,r),i++}}}(t,n,i),null!==o&&function GX(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}(t,n,o),null!==s&&function $X(t,n,e){t.setAttribute(n,"style",e)}(t,n,s)}function _(t=1){ZA(vn(),Ne(),Ks()+t,!1)}function ZA(t,n,e,i){if(!i)if(3&~n[2]){const s=t.preOrderHooks;null!==s&&uf(n,s,0,e)}else{const s=t.preOrderCheckHooks;null!==s&&df(n,s,e)}Wc(e)}function x(t,n=ei.Default){const e=Ne();return null===e?Be(t,n):WS(Qn(),e,mn(t),n)}function $7(){throw new Error("invalid")}function jA(t,n,e,i,o,s){const r=Z(null);try{let a=null;o&yl.SignalBased&&(a=n[i][j]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),o&yl.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(n,s)),null!==t.setInput?t.setInput(n,a,s,e,i):dS(n,a,i,s)}finally{Z(r)}}function Gf(t,n,e,i,o,s,r,a,l,c,h){const p=n.blueprint.slice();return p[0]=o,p[2]=1228|i,(null!==c||t&&2048&t[2])&&(p[2]|=2048),fS(p),p[3]=p[14]=t,p[8]=e,p[10]=r||t&&t[10],p[11]=a||t&&t[11],p[9]=l||t&&t[9]||null,p[5]=s,p[19]=function VZ(){return zZ++}(),p[6]=h,p[20]=c,p[15]=2==n.type?t[15]:p,p}function wh(t,n,e,i){if(0===e)return-1;const o=n.length;for(let s=0;s<e;s++)n.push(i),t.blueprint.push(i),t.data.push(null);return o}function XA(t,n,e,i,o){const s=Ks(),r=2&i;try{Wc(-1),r&&n.length>25&&ZA(t,n,25,!1),e(i,o)}finally{Wc(s)}}function G7(t,n,e){MS()&&(Ar(wr(e,n),n),KA(t,n,e))}function KA(t,n,e){(function eK(t,n,e){const i=e.directiveStart,o=e.directiveEnd;Ya(e)&&function cK(t,n,e){const i=wr(n,t),o=function qA(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=U7(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}(e),s=t[10].rendererFactory,r=j7(t,Gf(t,o,null,function nO(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}(e),i,n,null,s.createRenderer(i,e),null,null,null));t[n.index]=r}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||_f(e,n);const s=e.initialInputs;for(let r=i;r<o;r++){const a=t.data[r],l=th(n,t,r,e);Ar(l,n),null!==s&&dK(0,r-i,l,a,0,s),Qa(a)&&(br(e.index,n)[8]=th(n,t,r,e))}})(t,n,e),!(64&~e.flags)&&function tK(t,n,e){const i=e.directiveStart,o=e.directiveEnd,s=e.index,r=function XW(){return Tn.lFrame.currentDirectiveIndex}();try{Wc(s);for(let a=i;a<o;a++){const l=t.data[a],c=n[a];x8(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&nK(l,c)}}finally{Wc(-1),x8(r)}}(t,n,e)}function B7(t,n,e=wr){const i=n.localNames;if(null!==i){let o=n.index+1;for(let s=0;s<i.length;s+=2){const r=i[s+1],a=-1===r?e(n,t):t[r];t[o++]=a}}}function U7(t,n,e,i,o,s,r,a,l,c,h){const p=25+i,f=p+o,v=function BX(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:yn);return e}(p,f),C="function"==typeof c?c():c;return v[1]={type:t,blueprint:v,template:e,queries:null,viewQuery:a,declTNode:n,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:h}}let YA=()=>null;function QA(t,n,e,i,o){for(let s in n){if(!n.hasOwnProperty(s))continue;const r=n[s];if(void 0===r)continue;i??={};let a,l=yl.None;Array.isArray(r)?(a=r[0],l=r[1]):a=r;let c=s;if(null!==o){if(!o.hasOwnProperty(s))continue;c=o[s]}0===t?JA(i,e,c,a,l):JA(i,e,c,a)}return i}function JA(t,n,e,i,o){let s;t.hasOwnProperty(e)?(s=t[e]).push(n,i):s=t[e]=[n,i],void 0!==o&&s.push(o)}function Kr(t,n,e,i,o,s,r,a){const l=wr(n,e);let h,c=n.inputs;!a&&null!=c&&(h=c[i])?(X7(t,e,h,i,o),Ya(n)&&function qX(t,n){const e=br(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(i=function KX(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),o=null!=r?r(o,n.value||"",i):o,s.setProperty(l,i,o))}function W7(t,n,e,i){if(MS()){const o=null===i?null:{"":-1},s=function iK(t,n){const e=t.directiveRegistry;let i=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];VA(n,s.selectors,!1)&&(i??=[],Qa(s)?i.unshift(s):i.push(s))}return i}(t,e);if(null!==s){const[r,a]=tO(t,e,s);eO(t,n,e,r,o,a)}o&&function sK(t,n,e){if(n){const i=t.localNames=[];for(let o=0;o<n.length;o+=2){const s=e[n[o+1]];if(null==s)throw new He(-301,!1);i.push(n[o],s)}}}(e,i,o)}e.mergedAttrs=L5(e.mergedAttrs,e.attrs)}function eO(t,n,e,i,o,s){for(let c=0;c<i.length;c++)W8(_f(e,n),t,i[c].type);!function aK(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,i.length);for(let c=0;c<i.length;c++){const h=i[c];h.providersResolver&&h.providersResolver(h)}let r=!1,a=!1,l=wh(t,n,i.length,null);for(let c=0;c<i.length;c++){const h=i[c];e.mergedAttrs=L5(e.mergedAttrs,h.hostAttrs),lK(t,e,n,l,h),rK(l,h,o),null!==h.contentQueries&&(e.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=64);const p=h.type.prototype;!r&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),r=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function XX(t,n,e){const o=n.directiveEnd,s=t.data,r=n.attrs,a=[];let l=null,c=null;for(let h=n.directiveStart;h<o;h++){const p=s[h],f=e?e.get(p):null,C=f?f.outputs:null;l=QA(0,p.inputs,h,l,f?f.inputs:null),c=QA(1,p.outputs,h,c,C);const E=null===l||null===r||z7(n)?null:uK(l,h,r);a.push(E)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}(t,e,s)}function nK(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function tO(t,n,e){const i=[];let o=null;for(const s of e)null!==s.findHostDirectiveDefs&&(o??=new Map,s.findHostDirectiveDefs(s,i,o)),Qa(s)&&(i.push(s),oK(t,n,i.length-1));return Ya(n)?i.push(...e.slice(1)):i.push(...e),[i,o]}function oK(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function rK(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Qa(n)&&(e[""]=t)}}function lK(t,n,e,i,o){t.data[i]=o;const s=o.factory||(o.factory=Rc(o.type)),r=new Qu(s,Qa(o),x);t.blueprint[i]=r,e[i]=r,function QX(t,n,e,i,o){const s=o.hostBindings;if(s){let r=t.hostBindingOpCodes;null===r&&(r=t.hostBindingOpCodes=[]);const a=~n.index;(function JX(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(r)!=a&&r.push(a),r.push(e,i,s)}}(t,n,i,wh(t,e,o.hostVars,yn),o)}function n0(t,n,e,i,o,s){const r=wr(t,n);Z7(n[11],r,s,t.value,e,i,o)}function Z7(t,n,e,i,o,s,r){if(null==s)t.removeAttribute(n,o,e);else{const a=null==r?On(s):r(s,i||"",o);t.setAttribute(n,o,a,e)}}function dK(t,n,e,i,o,s){const r=s[n];if(null!==r)for(let a=0;a<r.length;)jA(i,e,r[a++],r[a++],r[a++],r[a++])}function uK(t,n,e){let i=null,o=0;for(;o<e.length;){const s=e[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===i&&(i=[]);const r=t[s];for(let a=0;a<r.length;a+=3)if(r[a]===n){i.push(s,r[a+1],r[a+2],e[o+1]);break}}o+=2}else o+=2;else o+=4}return i}function iO(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function j7(t,n){return t[12]?t[13][4]=n:t[12]=n,t[13]=n,n}function Bf(t,n){const e=t[9],i=e?e.get(Y1,null):null;i&&i.handleError(n)}function X7(t,n,e,i,o){for(let s=0;s<e.length;){const r=e[s++],a=e[s++],l=e[s++];jA(t.data[r],n[r],i,a,l,o)}}function hK(t,n){const e=br(n,t),i=e[1];!function _K(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(i,e);const o=e[0];null!==o&&null===e[6]&&(e[6]=null),Uf(i,e,e[8])}function Uf(t,n,e){F8(n);try{const i=t.viewQuery;null!==i&&y7(1,i,e);const o=t.template;null!==o&&XA(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[18]?.finishViewCreation(t),t.staticContentQueries&&fA(t,n),t.staticViewQueries&&y7(2,t.viewQuery,e);const s=t.components;null!==s&&function pK(t,n){for(let e=0;e<n.length;e++)hK(t,n[e])}(n,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[2]&=-5,k8()}}var Nl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Nl||{});let K7;function q7(t,n){return K7(t,n)}function Dl(t){return!(32&~t.flags)}function K5(t,n,e,i,o){if(null!=i){let s,r=!1;ws(i)?s=i:Ao(i)&&(r=!0,i=i[0]);const a=Ci(i);0===t&&null!==e?null==o?GA(n,e,a):Qc(n,e,a,o||null,!0):1===t&&null!==e?Qc(n,e,a,o||null,!0):2===t?Th(n,a,r):3===t&&n.destroyNode(a),null!=s&&function wK(t,n,e,i,o){const s=e[7];s!==Ci(e)&&K5(n,t,i,s,o);for(let a=10;a<e.length;a++){const l=e[a];Zf(l[1],l,t,n,i,s)}}(n,t,s,e,o)}}function rO(t,n){n[10].changeDetectionScheduler?.notify(10),Zf(t,n,n[11],2,null,null)}function aO(t,n){const e=t[9],i=n[3];(Ao(i)||n[15]!==i[3][15])&&(t[2]|=2),null===e?t[9]=[n]:e.push(n)}function Y7(t,n){const e=t[9],i=e.indexOf(n);e.splice(i,1)}function bh(t,n){if(t.length<=10)return;const e=10+n,i=t[e];if(i){const o=i[16];null!==o&&o!==t&&Y7(o,i),n>0&&(t[e-1][4]=i[4]);const s=Ug(t,10+n);!function sO(t,n){rO(t,n),n[0]=null,n[5]=null}(i[1],i);const r=s[18];null!==r&&r.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Sh(t,n){if(wl(n))return;const e=n[11];e.destroyNode&&Zf(t,n,e,3,null,null),function mK(t){let n=t[12];if(!n)return Q7(t[1],t);for(;n;){let e=null;if(Ao(n))e=n[12];else{const i=n[10];i&&(e=i)}if(!e){for(;n&&!n[4]&&n!==t;)Ao(n)&&Q7(n[1],n),n=n[3];null===n&&(n=t),Ao(n)&&Q7(n[1],n),e=n&&n[4]}n=e}}(n)}function Q7(t,n){if(wl(n))return;const e=Z(null);try{n[2]&=-129,n[2]|=256,n[24]&&ve(n[24]),function MK(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const o=n[e[i]];if(!(o instanceof Qu)){const s=e[i+1];if(Array.isArray(s))for(let r=0;r<s.length;r+=2){const a=o[s[r]],l=s[r+1];try{l.call(a)}finally{}}else try{s.call(o)}finally{}}}}(t,n),function CK(t,n){const e=t.cleanup,i=n[7];if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const a=e[r+3];a>=0?i[a]():i[-a].unsubscribe(),r+=2}else e[r].call(i[e[r+1]]);null!==i&&(n[7]=null);const o=n[21];if(null!==o){n[21]=null;for(let r=0;r<o.length;r++)(0,o[r])()}const s=n[23];if(null!==s){n[23]=null;for(const r of s)r.destroy()}}(t,n),1===n[1].type&&n[11].destroy();const i=n[16];if(null!==i&&ws(n[3])){i!==n[3]&&Y7(i,n);const o=n[18];null!==o&&o.detachView(t)}e7(n)}finally{Z(e)}}function J7(t,n,e){return lO(t,n.parent,e)}function lO(t,n,e){let i=n;for(;null!==i&&168&i.type;)i=(n=i).parent;if(null===i)return e[0];if(Ya(i)){const{encapsulation:o}=t.data[i.directiveStart+i.componentOffset];if(o===n1.None||o===n1.Emulated)return null}return wr(i,e)}function cO(t,n,e){return uO(t,n,e)}function dO(t,n,e){return 40&t.type?wr(t,e):null}let ev,uO=dO;function hO(t,n){uO=t,ev=n}function Wf(t,n,e,i){const o=J7(t,i,n),s=n[11],a=cO(i.parent||n[5],i,n);if(null!=o)if(Array.isArray(e))for(let l=0;l<e.length;l++)BA(s,o,e[l],a,!1);else BA(s,o,e,a,!1);void 0!==ev&&ev(s,i,n,e,o)}function Jc(t,n){if(null!==n){const e=n.type;if(3&e)return wr(n,t);if(4&e)return tv(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return Jc(t,i);{const o=t[n.index];return ws(o)?tv(-1,o):Ci(o)}}if(128&e)return Jc(t,n.next);if(32&e)return q7(n,t)()||Ci(t[n.index]);{const i=_O(t,n);return null!==i?Array.isArray(i)?i[0]:Jc(z0(t[15]),i):Jc(t,n.next)}}return null}function _O(t,n){return null!==n?t[15][5].projection[n.projection]:null}function tv(t,n){const e=10+t+1;if(e<n.length){const i=n[e],o=i[1].firstChild;if(null!==o)return Jc(i,o)}return n[7]}function nv(t,n,e,i,o,s,r){for(;null!=e;){if(128===e.type){e=e.next;continue}const a=i[e.index],l=e.type;if(r&&0===n&&(a&&Ar(Ci(a),i),e.flags|=2),!Dl(e))if(8&l)nv(t,n,e.child,i,o,s,!1),K5(n,t,o,a,s);else if(32&l){const c=q7(e,i);let h;for(;h=c();)K5(n,t,o,h,s);K5(n,t,o,a,s)}else 16&l?pO(t,n,i,e,o,s):K5(n,t,o,a,s);e=r?e.projectionNext:e.next}}function Zf(t,n,e,i,o,s){nv(e,i,t.firstChild,n,o,s,!1)}function pO(t,n,e,i,o,s){const r=e[15],l=r[5].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)K5(n,t,o,l[c],s);else{let c=l;const h=r[3];sh(i)&&(c.flags|=128),nv(t,n,c,h,o,s,!0)}}function q5(t,n,e,i){const o=Z(null);try{const s=n.tView,l=Gf(t,s,e,4096&t[2]?4096:16,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);l[16]=t[n.index];const h=t[18];return null!==h&&(l[18]=h.createEmbeddedView(s)),Uf(s,l,e),l}finally{Z(o)}}function gO(t,n){const e=10+n;if(e<t.length)return t[e]}function ed(t,n){return!n||null===n.firstChild||sh(t)}function Y5(t,n,e,i=!0){const o=n[1];if(function vK(t,n,e,i){const o=10+i,s=e.length;i>0&&(e[o-1][4]=n),i<s-10?(n[4]=e[o],jb(e,10+i,n)):(e.push(n),n[4]=null),n[3]=e;const r=n[16];null!==r&&e!==r&&aO(r,n);const a=n[18];null!==a&&a.insertView(t),O8(n),n[2]|=128}(o,n,t,e),i){const r=tv(e,t),a=n[11],l=a.parentNode(t[7]);null!==l&&function fK(t,n,e,i,o,s){i[0]=o,i[5]=n,Zf(t,i,e,1,o,s)}(o,t[5],a,n,l,r)}const s=n[6];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function iv(t,n){const e=bh(t,n);return void 0!==e&&Sh(e[1],e),e}function Q5(t,n,e,i,o=!1){for(;null!==e;){if(128===e.type){e=o?e.projectionNext:e.next;continue}const s=n[e.index];null!==s&&i.push(Ci(s)),ws(s)&&ov(s,i);const r=e.type;if(8&r)Q5(t,n,e.child,i);else if(32&r){const a=q7(e,n);let l;for(;l=a();)i.push(l)}else if(16&r){const a=_O(n,e);if(Array.isArray(a))i.push(...a);else{const l=z0(n[15]);Q5(l[1],l,a,i,!0)}}e=o?e.projectionNext:e.next}return i}function ov(t,n){for(let e=10;e<t.length;e++){const i=t[e],o=i[1].firstChild;null!==o&&Q5(i[1],i,o,n)}t[7]!==t[0]&&n.push(t[7])}let fO=[];const OK={...ie,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Xu(t.lView)},consumerOnSignalRead(){this.lView[24]=this}},NK={...ie,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=z0(t.lView);for(;n&&!mO(n[1]);)n=z0(n);n&&A8(n)},consumerOnSignalRead(){this.lView[24]=this}};function mO(t){return 2!==t.type}function vO(t){if(null===t[23])return;let n=!0;for(;n;){let e=!1;for(const i of t[23])i.dirty&&(e=!0,null===i.zone||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=e&&!!(8192&t[2])}}function jf(t,n=!0,e=0){const o=t[10].rendererFactory;o.begin?.();try{!function PK(t,n){const e=SS();try{af(!0),sv(t,n);let i=0;for(;nf(t);){if(100===i)throw new He(103,!1);i++,sv(t,1)}}finally{af(e)}}(t,e)}catch(r){throw n&&Bf(t,r),r}finally{o.end?.()}}function MO(t,n,e,i){if(wl(n))return;const o=n[2];F8(n);let a=!0,l=null,c=null;mO(t)?(c=function SK(t){return t[24]??function EK(t){const n=fO.pop()??Object.create(OK);return n.lView=t,n}(t)}(n),l=J(c)):null===function Q(){return B}()?(a=!1,c=function yK(t){const n=t[24]??Object.create(NK);return n.lView=t,n}(n),l=J(c)):n[24]&&(ve(n[24]),n[24]=null);try{fS(n),function ES(t){return Tn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&XA(t,n,e,2,i);const h=!(3&~o);if(h){const v=t.preOrderCheckHooks;null!==v&&df(n,v,null)}else{const v=t.preOrderHooks;null!==v&&uf(n,v,0,null),z8(n,0)}if(function IK(t){for(let n=AE(t);null!==n;n=OE(n)){if(!(2&n[2]))continue;const e=n[9];for(let i=0;i<e.length;i++)A8(e[i])}}(n),vO(n),TO(n,0),null!==t.contentQueries&&fA(t,n),h){const v=t.contentCheckHooks;null!==v&&df(n,v)}else{const v=t.contentHooks;null!==v&&uf(n,v,1),z8(n,1)}!function LK(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const o=e[i];if(o<0)Wc(~o);else{const s=o,r=e[++i],a=e[++i];jW(r,s);const l=n[s];a(2,l)}}}finally{Wc(-1)}}(t,n);const p=t.components;null!==p&&bO(n,p,0);const f=t.viewQuery;if(null!==f&&y7(2,f,i),h){const v=t.viewCheckHooks;null!==v&&df(n,v)}else{const v=t.viewHooks;null!==v&&uf(n,v,2),z8(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[22]){for(const v of n[22])v();n[22]=null}n[2]&=-73}catch(h){throw Xu(n),h}finally{null!==c&&(_e(c,l),a&&function AK(t){t.lView[24]!==t&&(t.lView=null,fO.push(t))}(c)),k8()}}function TO(t,n){for(let e=AE(t);null!==e;e=OE(e))for(let i=10;i<e.length;i++)wO(e[i],n)}function xK(t,n,e){wO(br(n,t),e)}function wO(t,n){E8(t)&&sv(t,n)}function sv(t,n){const i=t[1],o=t[2],s=t[24];let r=!!(0===n&&16&o);if(r||=!!(64&o&&0===n),r||=!!(1024&o),r||=!(!s?.dirty||!Oe(s)),r||=!1,s&&(s.dirty=!1),t[2]&=-9217,r)MO(i,t,i.template,t[8]);else if(8192&o){vO(t),TO(t,1);const a=i.components;null!==a&&bO(t,a,1)}}function bO(t,n,e){for(let i=0;i<n.length;i++)xK(t,n[i],e)}function Eh(t,n){const e=SS()?64:1088;for(t[10].changeDetectionScheduler?.notify(n);t;){t[2]|=e;const i=z0(t);if(k0(t)&&!i)return t;t=i}return null}class Ah{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const n=this._lView,e=n[1];return Q5(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i}get context(){return this._lView[8]}get dirty(){return!!(9280&this._lView[2])||!!this._lView[24]?.dirty}set context(n){this._lView[8]=n}get destroyed(){return wl(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(ws(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(bh(n,i),Ug(e,i))}this._attachedToViewContainer=!1}Sh(this._lView[1],this._lView)}onDestroy(n){sf(this._lView,n)}markForCheck(){Eh(this._cdRefInjectingView||this._lView,4)}markForRefresh(){A8(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){O8(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,jf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=k0(this._lView),e=this._lView[16];null!==e&&!n&&Y7(e,this._lView),rO(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=n;const e=k0(this._lView),i=this._lView[16];null!==i&&!e&&aO(i,this._lView),O8(this._lView)}}let nn=(()=>class t{static __NG_ELEMENT_ID__=kK})();const RK=nn,FK=class extends RK{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){const o=q5(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new Ah(o)}};function kK(){return Xf(Qn(),Ne())}function Xf(t,n){return 4&t.type?new FK(n,t,R5(t,n)):null}function AO(t,n,e){const i=n.insertBeforeIndex,o=Array.isArray(i)?i[0]:i;return null===o?dO(t,0,e):Ci(e[o])}function OO(t,n,e,i,o){const s=n.insertBeforeIndex;if(Array.isArray(s)){let r=i,a=null;if(3&n.type||(a=r,r=o),null!==r&&-1===n.componentOffset)for(let l=1;l<s.length;l++)Qc(t,r,e[s[l]],a,!1)}}function td(t,n,e,i,o){let s=t.data[n];if(null===s)s=cv(t,n,e,i,o),function ZW(){return Tn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=o;const r=Ku();s.injectorIndex=null===r?-1:r.injectorIndex}return S1(s,!0),s}function cv(t,n,e,i,o){const s=TS(),r=P8(),l=t.data[n]=function jK(t,n,e,i,o,s){let r=n?n.injectorIndex:-1,a=0;return Uc()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:r,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?s:s&&s.parent,e,n,i,o);return function ZK(t,n,e,i){null===t.firstChild&&(t.firstChild=n),null!==e&&(i?null==e.child&&null!==n.parent&&(e.child=n):null===e.next&&(e.next=n,n.prev=e))}(t,l,s,r),l}function yO(t,n){if(t.push(n),t.length>1)for(let e=t.length-2;e>=0;e--){const i=t[e];NO(i)||XK(i,n)&&null===KK(i)&&qK(i,n.index)}}function NO(t){return!(64&t.type)}function XK(t,n){return NO(n)||t.index>n.index}function KK(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function qK(t,n){const e=t.insertBeforeIndex;Array.isArray(e)?e[0]=n:(hO(AO,OO),t.insertBeforeIndex=n)}function Dh(t,n){const e=t.data[n];return null===e||"string"==typeof e?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function JK(t,n,e){const i=cv(t,e,64,null,null);return yO(n,i),i}function qf(t,n){const e=n[t.currentCaseLViewIndex];return null===e?e:e<0?~e:e}function DO(t){return t>>>17}function PO(t){return(131070&t)>>>1}function dv(t,n,e){t.index=0;const i=qf(n,e);t.removes=null!==i?n.remove[i]:Ii}function Yf(t){if(t.index<t.removes.length){const n=t.removes[t.index++];return n>0?t.lView[n]:(t.stack.push(t.index,t.removes),dv(t,t.lView[1].data[~n],t.lView),Yf(t))}return 0===t.stack.length?null:(t.removes=t.stack.pop(),t.index=t.stack.pop(),Yf(t))}function tq(){const t={stack:[],index:-1};return function n(e,i){for(t.lView=i;t.stack.length;)t.stack.pop();return dv(t,e.value,i),Yf.bind(null,t)}}class xq{}class WO{}class Lq{resolveComponentFactory(n){throw Error(`No component factory found for ${Cs(n)}.`)}}class e3{static NULL=new Lq}class o0{}let s1=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function Rq(){const t=Ne(),e=br(Qn().index,t);return(Ao(e)?e:t)[11]}()})(),Fq=(()=>{class t{static \u0275prov=we({token:t,providedIn:"root",factory:()=>null})}return t})();function n3(t,n,e){let i=e?t.styles:null,o=e?t.classes:null,s=0;if(null!==n)for(let r=0;r<n.length;r++){const a=n[r];"number"==typeof a?s=a:1==s?o=Ym(o,a):2==s&&(i=Ym(i,a+": "+n[++r]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=o:t.classesWithoutHost=o}class XO extends e3{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Gn(n);return new Fh(e,this.ngModule)}}function KO(t,n){const e=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const o=t[i];if(void 0===o)continue;const s=Array.isArray(o),r=s?o[0]:o;e.push(n?{propName:r,templateName:i,isSignal:!!((s?o[1]:yl.None)&yl.SignalBased)}:{propName:r,templateName:i})}return e}class Fh extends WO{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){const n=this.componentDef,e=n.inputTransforms,i=KO(n.inputs,!0);if(null!==e)for(const o of i)e.hasOwnProperty(o.propName)&&(o.transform=e[o.propName]);return i}get outputs(){return KO(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function VX(t){return t.map(zX).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,i,o){const s=Z(null);try{let r=(o=o||this.ngModule)instanceof xs?o:o?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);const a=r?new Zc(n,r):n,l=a.get(o0,null);if(null===l)throw new He(407,!1);const p={rendererFactory:l,sanitizer:a.get(Fq,null),changeDetectionScheduler:a.get($0,null)},f=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=i?function UX(t,n,e,i){const s=i.get(HE,!1)||e===n1.ShadowDom,r=t.selectRootElement(n,s);return function WX(t){YA(t)}(r),r}(f,i,this.componentDef.encapsulation,a):$f(f,v,function Vq(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(v));let E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let D=null;null!==C&&(D=null);const P=U7(0,null,null,1,0,null,null,null,null,null,null),I=Gf(null,P,null,E,null,null,p,f,a,null,D);I[25]=C,F8(I);let k=null;try{const R=i?["ng-version","19.1.4"]:function HX(t){const n=[],e=[];let i=1,o=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===o?""!==s&&n.push(s,t[++i]):8===o&&e.push(s);else{if(!O1(o))break;o=s}i++}return e.length&&n.push(1,...e),n}(this.componentDef.selectors[0]),ee=td(P,25,2,"#host",R),[re,fe]=tO(P,ee,[this.componentDef]);eO(P,I,ee,re,{},fe);for(const pe of re)ee.mergedAttrs=L5(ee.mergedAttrs,pe.hostAttrs);ee.mergedAttrs=L5(ee.mergedAttrs,R),n3(ee,ee.mergedAttrs,!0),C&&(WA(f,C,ee),Ar(C,I)),void 0!==e&&function $q(t,n,e){const i=t.projection=[];for(let o=0;o<n.length;o++){const s=e[o];i.push(null!=s&&s.length?Array.from(s):null)}}(ee,this.ngContentSelectors,e),KA(P,I,ee),N7(P,ee,I),cf(P,ee),k=br(ee.index,I),I[8]=k[8],Uf(P,I,null)}catch(R){throw null!==k&&e7(k),e7(I),R}finally{k8()}return new Hq(this.componentType,I)}finally{Z(s)}}}class Hq extends xq{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e){super(),this._rootLView=e,this._tNode=Gc(e[1],25),this.location=R5(this._tNode,e),this.instance=br(this._tNode.index,e)[8],this.hostView=this.changeDetectorRef=new Ah(e,void 0,!1),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let o;if(null!==i&&(o=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const s=this._rootLView;X7(s[1],s,o,n,e),this.previousInputValues.set(n,e),Eh(br(this._tNode.index,s),1)}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let qs=(()=>class t{static __NG_ELEMENT_ID__=Gq})();function Gq(){return QO(Qn(),Ne())}const Bq=qs,qO=class extends Bq{_lContainer;_hostTNode;_hostLView;constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return R5(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const n=pf(this._hostTNode,this._hostLView);if(G8(n)){const e=eh(n,this._hostLView),i=Ju(n);return new $o(e[1].data[i+8],e)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=YO(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,i){let o,s;"number"==typeof i?o=i:null!=i&&(o=i.index,s=i.injector);const a=n.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,o,ed(this._hostTNode,null)),a}createComponent(n,e,i,o,s){const r=n&&!function ju(t){return"function"==typeof t}(n);let a;if(r)a=e;else{const C=e||{};a=C.index,i=C.injector,o=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}const l=r?n:new Fh(Gn(n)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const E=(r?c:this.parentInjector).get(xs,null);E&&(s=E)}Gn(l.componentType??{});const v=l.create(c,o,null,s);return this.insertImpl(v.hostView,a,ed(this._hostTNode,null)),v}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){const o=n._lView;if(function FW(t){return ws(t[3])}(o)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const l=o[3],c=new qO(l,l[5],l[3]);c.detach(c.indexOf(n))}}const s=this._adjustIndex(e),r=this._lContainer;return Y5(r,o,s,i),n.attachToViewContainerRef(),jb(Mv(r),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=YO(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=bh(this._lContainer,e);i&&(Ug(Mv(this._lContainer),e),Sh(i[1],i))}detach(n){const e=this._adjustIndex(n,-1),i=bh(this._lContainer,e);return i&&null!=Ug(Mv(this._lContainer),e)?new Ah(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function YO(t){return t[8]}function Mv(t){return t[8]||(t[8]=[])}function QO(t,n){let e;const i=n[t.index];return ws(i)?e=i:(e=iO(i,n,null,t),n[t.index]=e,j7(n,e)),JO(e,n,t,i),new qO(e,t,n)}let JO=function ty(t,n,e,i){if(t[7])return;let o;o=8&e.type?Ci(i):function Uq(t,n){const e=t[11],i=e.createComment(""),o=wr(n,t),s=e.parentNode(o);return Qc(e,s,i,e.nextSibling(o),!1),i}(n,e),t[7]=o};class wv{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new wv(this.queryList)}setDirty(){this.queryList.setDirty()}}class bv{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let s=0;s<i;s++){const r=e.getByIndex(s);o.push(this.queries[r.indexInDeclarationView].clone())}return new bv(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==yv(n,e).matches&&this.queries[e].setDirty()}}class ny{flags;read;predicate;constructor(n,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof n?function Qq(t){return t.split(",").map(n=>n.trim())}(n):n}}class Sv{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const o=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(n,o);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new Sv(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ev{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Ev(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){const s=i[o];this.matchTNodeWithReadOption(n,e,Xq(e,s)),this.matchTNodeWithReadOption(n,e,gf(e,n,s,!1,!1))}else i===nn?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,gf(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const o=this.metadata.read;if(null!==o)if(o===pn||o===qs||o===nn&&4&e.type)this.addMatch(e.index,-2);else{const s=gf(e,n,o,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function Xq(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function qq(t,n,e,i){return-1===e?function Kq(t,n){return 11&t.type?R5(t,n):4&t.type?Xf(t,n):null}(n,t):-2===e?function Yq(t,n,e){return e===pn?R5(n,t):e===nn?Xf(n,t):e===qs?QO(n,t):void 0}(t,n,i):th(t,t[1],e,n)}function iy(t,n,e,i){const o=n[18].queries[i];if(null===o.matches){const s=t.data,r=e.matches,a=[];for(let l=0;null!==r&&l<r.length;l+=2){const c=r[l];a.push(c<0?null:qq(n,s[c],r[l+1],e.metadata.read))}o.matches=a}return o.matches}function Av(t,n,e,i){const o=t.queries.getByIndex(e),s=o.matches;if(null!==s){const r=iy(t,n,o,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(r[a/2]);else{const c=s[a+1],h=n[-l];for(let p=10;p<h.length;p++){const f=h[p];f[16]===f[3]&&Av(f[1],f,c,i)}if(null!==h[9]){const p=h[9];for(let f=0;f<p.length;f++){const v=p[f];Av(v[1],v,c,i)}}}}}return i}function oy(t,n,e){const i=new mE(!(4&~e));return function kW(t,n,e,i){const o=vS(n);o.push(e),t.firstCreatePass&&CS(t).push(i,o.length-1)}(t,n,i,i.destroy),(n[18]??=new bv).queries.push(new wv(i))-1}function ay(t,n,e){null===t.queries&&(t.queries=new Sv),t.queries.track(new Ev(n,e))}function yv(t,n){return t.queries.getByIndex(n)}function ly(t,n){const e=t[1],i=yv(e,n);return i.crossesNgTemplate?Av(e,t,n,[]):iy(e,t,i,n)}class id{}class Cy{}class Dv extends id{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new XO(this);constructor(n,e,i,o=!0){super(),this.ngModuleType=n,this._parent=e;const s=rr(n);this._bootstrapComponents=wa(s.bootstrap),this._r3Injector=tE(n,e,[{provide:id,useValue:this},{provide:e3,useValue:this.componentFactoryResolver},...i],Cs(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Pv extends Cy{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Dv(this.moduleType,n,[])}}class My extends id{injector;componentFactoryResolver=new XO(this);instance=null;constructor(n){super();const e=new kc([...n.providers,{provide:id,useValue:this},{provide:e3,useValue:this.componentFactoryResolver}],n.parent||Kg(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function o3(t,n,e=null){return new My({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let uY=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=_8(0,e.type),o=i.length>0?o3([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=we({token:t,providedIn:"environment",factory:()=>new t(Be(xs))})}return t})();function ke(t){return x0(()=>{const n=wy(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Cf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(uY).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||n1.Emulated,styles:t.styles||Ii,_:null,schemas:t.schemas||null,tView:null,id:""};n.standalone&&Rs("NgStandalone"),by(e);const i=t.dependencies;return e.directiveDefs=s3(i,!1),e.pipeDefs=s3(i,!0),e.id=function gY(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const s of i.join("|"))n=Math.imul(31,n)+s.charCodeAt(0)|0;return n+=2147483648,"c"+n}(e),e})}function hY(t){return Gn(t)||Ms(t)}function _Y(t){return null!==t}function Bn(t){return x0(()=>({type:t.type,bootstrap:t.bootstrap||Ii,declarations:t.declarations||Ii,imports:t.imports||Ii,exports:t.exports||Ii,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ty(t,n){if(null==t)return Z1;const e={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];let s,r,a=yl.None;Array.isArray(o)?(a=o[0],s=o[1],r=o[2]??s):(s=o,r=o),n?(e[s]=a!==yl.None?[i,a]:i,n[s]=r):e[s]=i}return e}function et(t){return x0(()=>{const n=wy(t);return by(n),n})}function eo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function wy(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Z1,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||Ii,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ty(t.inputs,n),outputs:Ty(t.outputs),debugInfo:null}}function by(t){t.features?.forEach(n=>n(t))}function s3(t,n){if(!t)return null;const e=n?Xs:hY;return()=>("function"==typeof t?t():t).map(i=>e(i)).filter(_Y)}function st(t){let n=function Sy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let o;if(Qa(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new He(903,!1);o=n.\u0275dir}if(o){if(e){i.push(o);const r=t;r.inputs=r3(t.inputs),r.inputTransforms=r3(t.inputTransforms),r.declaredInputs=r3(t.declaredInputs),r.outputs=r3(t.outputs);const a=o.hostBindings;a&&MY(t,a);const l=o.viewQuery,c=o.contentQueries;if(l&&vY(t,l),c&&CY(t,c),fY(t,o),HU(t.outputs,o.outputs),Qa(o)&&o.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let r=0;r<s.length;r++){const a=s[r];a&&a.ngInherit&&a(t),a===st&&(e=!1)}}n=Object.getPrototypeOf(n)}!function mY(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const o=t[i];o.hostVars=n+=o.hostVars,o.hostAttrs=L5(o.hostAttrs,e=L5(e,o.hostAttrs))}}(i)}function fY(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const i=n.inputs[e];if(void 0!==i&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],null!==n.inputTransforms)){const o=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=n.inputTransforms[o]}}}function r3(t){return t===Z1?{}:t===Ii?[]:t}function vY(t,n){const e=t.viewQuery;t.viewQuery=e?(i,o)=>{n(i,o),e(i,o)}:n}function CY(t,n){const e=t.contentQueries;t.contentQueries=e?(i,o,s)=>{n(i,o,s),e(i,o,s)}:n}function MY(t,n){const e=t.hostBindings;t.hostBindings=e?(i,o)=>{n(i,o),e(i,o)}:n}function zh(t){const n=e=>{const i=Array.isArray(t);null===e.hostDirectives?(e.findHostDirectiveDefs=Ey,e.hostDirectives=i?t.map(Iv):[t]):i?e.hostDirectives.unshift(...t.map(Iv)):e.hostDirectives.unshift(t)};return n.ngInherit=!0,n}function Ey(t,n,e){if(null!==t.hostDirectives)for(const i of t.hostDirectives)if("function"==typeof i){const o=i();for(const s of o)Ay(Iv(s),n,e)}else Ay(i,n,e)}function Ay(t,n,e){const i=Ms(t.directive);(function SY(t,n){for(const e in n)n.hasOwnProperty(e)&&(t[n[e]]=t[e])})(i.declaredInputs,t.inputs),Ey(i,n,e),e.set(i,t),n.push(i)}function Iv(t){return"function"==typeof t?{directive:mn(t),inputs:Z1,outputs:Z1}:{directive:mn(t.directive),inputs:Oy(t.inputs),outputs:Oy(t.outputs)}}function Oy(t){if(void 0===t||0===t.length)return Z1;const n={};for(let e=0;e<t.length;e+=2)n[t[e]]=t[e+1];return n}function s0(t){const n=t.inputConfig,e={};for(const i in n)if(n.hasOwnProperty(i)){const o=n[i];Array.isArray(o)&&o[3]&&(e[i]=o[3])}t.inputTransforms=e}function xv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function r0(t,n,e){return t[n]=e}function Go(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function od(t,n,e,i){const o=Go(t,n,e);return Go(t,n+1,i)||o}function Hh(t,n,e,i,o,s,r,a,l,c){const h=e+25,p=n.firstCreatePass?function yY(t,n,e,i,o,s,r,a,l){const c=n.consts,h=td(n,t,4,r||null,a||null);W7(n,e,h,e1(c,l)),cf(n,h);const p=h.tView=U7(2,h,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return null!==n.queries&&(n.queries.template(n,h),p.queries=n.queries.embeddedTView(h)),h}(h,n,t,i,o,s,r,a,l):n.data[h];S1(p,!1);const f=Ny(n,t,p,e);Yu()&&Wf(n,t,f,p),Ar(f,t);const v=iO(f,t,f,p);return t[h]=v,j7(t,v),ef(p)&&G7(n,t,p),null!=l&&B7(t,p,c),p}function y(t,n,e,i,o,s,r,a){const l=Ne(),c=vn();return Hh(l,c,t,n,e,i,o,e1(c.consts,s),r,a),y}let Ny=function Dy(t,n,e,i){return K1(!0),n[11].createComment("")};let ky=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Uy=new Je(""),h3=new Je("");let $v,Vv=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(e,i,o){this._ngZone=e,this.registry=i,$v||(function OQ(t){$v=t}(o),o.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==s),e()},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:o})}whenStable(e,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,o),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,o){return[]}static \u0275fac=function(i){return new(i||t)(Be(cn),Be(Hv),Be(h3))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})(),Hv=(()=>{class t{_applications=new Map;registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return $v?.findTestabilityInTree(this,e,i)??null}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Gh(t){return!!t&&"function"==typeof t.then}function Wy(t){return!!t&&"function"==typeof t.subscribe}const Bh=new Je("");let Zy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=$(Bh,{optional:!0})??[];injector=$(ri);constructor(){}runInitializers(){if(this.initialized)return;const e=[];for(const o of this.appInits){const s=qa(this.injector,o);if(Gh(s))e.push(s);else if(Wy(s)){const r=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(r)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(o=>{this.reject(o)}),0===e.length&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gv=(()=>{class t{static \u0275prov=we({token:t,providedIn:"root",factory:()=>new jy})}return t})();class jy{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){const i=this.queues.get(n.zone);i.has(n)&&(i.delete(n),this.queuedEffectCount--)}enqueue(n){const e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);const i=this.queues.get(e);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,e]of this.queues)null===n?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(const e of n)n.delete(e),this.queuedEffectCount--,e.run()}}const Uh=new Je("");let lr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=$(xZ);afterRenderManager=$(f7);zonelessEnabled=$(nh);rootEffectScheduler=$(Gv);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new xe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=$(A1).hasPendingTasks.pipe(Tt(e=>!e));constructor(){$(z5,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=$(xs);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){const o=e instanceof WO;if(!this._injector.get(Zy).done)throw!o&&function Cl(t){const n=Gn(t)||Ms(t)||Xs(t);return null!==n&&n.standalone}(e),new He(405,!1);let r;r=o?e:this._injector.get(e3).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const a=function yQ(t){return t.isBoundToModule}(r)?void 0:this._injector.get(id),c=r.create(ri.NULL,[],i||r.selector,a),h=c.location.nativeElement,p=c.injector.get(Uy,null);return p?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),_3(this.components,c),p?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(null!==this.tracingSnapshot){const i=this.tracingSnapshot;return this.tracingSnapshot=null,i.run(g7.CHANGE_DETECTION,this._tick),void i.dispose()}if(this._runningTick)throw new He(101,!1);const e=Z(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Z(e),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(o0,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;0!==this.dirtyFlags&&e++<10;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const e=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:o}of this.allViews)PQ(i,o,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:e})=>nf(e))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;_3(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Uh,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>_3(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new He(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _3(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function PQ(t,n,e,i){(e||nf(t))&&jf(t,n,e&&!i?0:1)}function Un(t,n,e,i){const o=Ne();return Go(o,t1(),n)&&(vn(),n0(Zi(),o,t,n,e,i)),Un}function s2(t,n,e,i){return Go(t,t1(),e)?n+On(e)+i:yn}function r2(t,n,e,i,o,s){const a=od(t,V0(),e,o);return H0(2),a?n+On(e)+i+On(o)+s:yn}function _2(t,n,e,i,o,s){const r=Ne(),a=s2(r,n,e,i);return a!==yn&&n0(Zi(),r,t,a,o,s),_2}function p3(t,n){return t<<17|n<<2}function Fl(t){return t>>17&32767}function Zv(t){return 2|t}function rd(t){return(131068&t)>>2}function jv(t,n){return-131069&t|n<<2}function Xv(t){return 1|t}function cN(t,n,e,i){const o=t[e+1],s=null===n;let r=i?Fl(o):rd(o),a=!1;for(;0!==r&&(!1===a||s);){const c=t[r+1];gJ(t[r],n)&&(a=!0,t[r+1]=i?Xv(c):Zv(c)),r=i?Fl(c):rd(c)}a&&(t[e+1]=i?Zv(o):Xv(o))}function gJ(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&S5(t,n)>=0}const bs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dN(t){return t.substring(bs.key,bs.keyEnd)}function uN(t,n){const e=bs.textEnd;return e===n?-1:(n=bs.keyEnd=function CJ(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,bs.key=n,e),p2(t,n,e))}function p2(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function m(t,n,e){const i=Ne();return Go(i,t1(),n)&&Kr(vn(),Zi(),i,t,n,i[11],e,!1),m}function Kv(t,n,e,i,o){const r=o?"class":"style";X7(t,e,n.inputs[r],r,i)}function qr(t,n,e){return y1(t,n,e,!1),qr}function Ce(t,n){return y1(t,n,null,!0),Ce}function lo(t){N1(yJ,l0,t,!0)}function l0(t,n){for(let e=function mJ(t){return function _N(t){bs.key=0,bs.keyEnd=0,bs.value=0,bs.valueEnd=0,bs.textEnd=t.length}(t),uN(t,p2(t,0,bs.textEnd))}(n);e>=0;e=uN(n,e))va(t,dN(n),!0)}function y1(t,n,e,i){const o=Ne(),s=vn(),r=H0(2);s.firstUpdatePass&&mN(s,t,r,i),n!==yn&&Go(o,r,n)&&CN(s,s.data[Ks()],o,o[11],t,o[r+1]=function DJ(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Cs(Ta(t)))),t}(n,e),i,r)}function N1(t,n,e,i){const o=vn(),s=H0(2);o.firstUpdatePass&&mN(o,null,s,i);const r=Ne();if(e!==yn&&Go(r,s,e)){const a=o.data[Ks()];if(TN(a,i)&&!fN(o,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Ym(l,e||"")),Kv(o,a,r,e,i)}else!function NJ(t,n,e,i,o,s,r,a){o===yn&&(o=Ii);let l=0,c=0,h=0<o.length?o[0]:null,p=0<s.length?s[0]:null;for(;null!==h||null!==p;){const f=l<o.length?o[l+1]:void 0,v=c<s.length?s[c+1]:void 0;let E,C=null;h===p?(l+=2,c+=2,f!==v&&(C=p,E=v)):null===p||null!==h&&h<p?(l+=2,C=h):(c+=2,C=p,E=v),null!==C&&CN(t,n,e,i,C,E,r,a),h=l<o.length?o[l]:null,p=c<s.length?s[c]:null}}(o,a,r,r[11],r[s+1],r[s+1]=function OJ(t,n,e){if(null==e||""===e)return Ii;const i=[],o=Ta(e);if(Array.isArray(o))for(let s=0;s<o.length;s++)t(i,o[s],!0);else if("object"==typeof o)for(const s in o)o.hasOwnProperty(s)&&t(i,s,o[s]);else"string"==typeof o&&n(i,o);return i}(t,n,e),i,s)}}function fN(t,n){return n>=t.expandoStartIndex}function mN(t,n,e,i){const o=t.data;if(null===o[e+1]){const s=o[Ks()],r=fN(t,e);TN(s,i)&&null===n&&!r&&(n=!1),n=function bJ(t,n,e,i){const o=function L8(t){const n=Tn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=i?n.residualClasses:n.residualStyles;if(null===o)0===(i?n.classBindings:n.styleBindings)&&(e=Zh(e=qv(null,t,n,e,i),n.attrs,i),s=null);else{const r=n.directiveStylingLast;if(-1===r||t[r]!==o)if(e=qv(o,t,n,e,i),null===s){let l=function SJ(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==rd(i))return t[Fl(i)]}(t,n,i);void 0!==l&&Array.isArray(l)&&(l=qv(null,t,n,l[1],i),l=Zh(l,n.attrs,i),function EJ(t,n,e,i){t[Fl(e?n.classBindings:n.styleBindings)]=i}(t,n,i,l))}else s=function AJ(t,n,e){let i;const o=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<o;s++)i=Zh(i,t[s].hostAttrs,e);return Zh(i,n.attrs,e)}(t,n,i)}return void 0!==s&&(i?n.residualClasses=s:n.residualStyles=s),e}(o,s,n,i),function _J(t,n,e,i,o,s){let r=s?n.classBindings:n.styleBindings,a=Fl(r),l=rd(r);t[i]=e;let h,c=!1;if(Array.isArray(e)?(h=e[1],(null===h||S5(e,h)>0)&&(c=!0)):h=e,o)if(0!==l){const f=Fl(t[a+1]);t[i+1]=p3(f,a),0!==f&&(t[f+1]=jv(t[f+1],i)),t[a+1]=function uJ(t,n){return 131071&t|n<<17}(t[a+1],i)}else t[i+1]=p3(a,0),0!==a&&(t[a+1]=jv(t[a+1],i)),a=i;else t[i+1]=p3(l,0),0===a?a=i:t[l+1]=jv(t[l+1],i),l=i;c&&(t[i+1]=Zv(t[i+1])),cN(t,h,i,!0),cN(t,h,i,!1),function pJ(t,n,e,i,o){const s=o?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&S5(s,n)>=0&&(e[i+1]=Xv(e[i+1]))}(n,h,t,i,s),r=p3(a,l),s?n.classBindings=r:n.styleBindings=r}(o,s,n,e,r,i)}}function qv(t,n,e,i,o){let s=null;const r=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<r&&(s=n[a],i=Zh(i,s.hostAttrs,o),s!==t);)a++;return null!==t&&(e.directiveStylingLast=a),i}function Zh(t,n,e){const i=e?1:2;let o=-1;if(null!==n)for(let s=0;s<n.length;s++){const r=n[s];"number"==typeof r?o=r:o===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),va(t,r,!!e||n[++s]))}return void 0===t?null:t}function yJ(t,n,e){const i=String(n);""!==i&&!i.includes(" ")&&va(t,i,e)}function CN(t,n,e,i,o,s,r,a){if(!(3&n.type))return;const l=t.data,c=l[a+1],h=function hJ(t){return!(1&~t)}(c)?MN(l,n,e,o,rd(c),r):void 0;g3(h)||(g3(s)||function dJ(t){return!(2&~t)}(c)&&(s=MN(l,null,e,o,a,r)),function bK(t,n,e,i,o){if(n)o?t.addClass(e,i):t.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Nl.DashCase;null==o?t.removeStyle(e,i,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Nl.Important),t.setStyle(e,i,o,s))}}(i,r,I5(Ks(),e),o,s))}function MN(t,n,e,i,o,s){const r=null===n;let a;for(;o>0;){const l=t[o],c=Array.isArray(l),h=c?l[1]:l,p=null===h;let f=e[o+1];f===yn&&(f=p?Ii:void 0);let v=p?u8(f,i):h===i?f:void 0;if(c&&!g3(v)&&(v=u8(l,i)),g3(v)&&(a=v,r))return a;const C=t[o+1];o=r?Fl(C):rd(C)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=u8(l,i))}return a}function g3(t){return void 0!==t}function TN(t,n){return!!(t.flags&(n?8:16))}function jh(t,n,e){N1(va,l0,s2(Ne(),t,n,e),!0)}function Yv(){return Ne()[15][8]}class zJ{destroy(n){}updateValue(n,e){}swap(n,e){const i=Math.min(n,e),o=Math.max(n,e),s=this.detach(o);if(o-i>1){const r=this.detach(i);this.attach(i,s),this.attach(o,r)}else this.attach(i,s)}move(n,e){this.attach(e,this.detach(n))}}function Qv(t,n,e,i,o){return t===e&&Object.is(n,i)?1:Object.is(o(t,n),o(e,i))?-1:0}function Jv(t,n,e,i){return!(void 0===n||!n.has(i)||(t.attach(e,n.get(i)),n.delete(i),0))}function bN(t,n,e,i,o){if(Jv(t,n,i,e(i,o)))t.updateValue(i,o);else{const s=t.create(i,o);t.attach(i,s)}}function SN(t,n,e,i){const o=new Set;for(let s=n;s<=e;s++)o.add(i(s,t.at(s)));return o}class EN{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const e=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let i=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const o=this._vMap;for(;o.has(i);)i=o.get(i);o.set(i,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,i]of this.kvMap)if(n(i,e),void 0!==this._vMap){const o=this._vMap;for(;o.has(i);)i=o.get(i),n(i,e)}}}function N(t,n){Rs("NgControlFlow");const e=Ne(),i=t1(),o=e[i]!==yn?e[i]:-1,s=-1!==o?f3(e,25+o):void 0;if(Go(e,i,t)){const a=Z(null);try{if(void 0!==s&&iv(s,0),-1!==t){const l=25+t,c=f3(e,l),h=eC(e[1],l),p=null;Y5(c,q5(e,h,n,{dehydratedView:p}),0,ed(h,p))}}finally{Z(a)}}else if(void 0!==s){const a=gO(s,0);void 0!==a&&(a[8]=n)}}class HJ{lContainer;$implicit;$index;constructor(n,e,i){this.lContainer=n,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-10}}function g2(t){return t}function Ht(t,n){return n}class $J{hasEmptyBlock;trackByFn;liveCollection;constructor(n,e,i){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=i}}function Ue(t,n,e,i,o,s,r,a,l,c,h,p,f){Rs("NgControlFlow");const v=Ne(),C=vn(),E=void 0!==l,D=Ne(),P=a?r.bind(D[15][8]):r,I=new $J(E,P);D[25+t]=I,Hh(v,C,t+1,n,e,i,o,e1(C.consts,s)),E&&Hh(v,C,t+2,l,c,h,p,e1(C.consts,f))}class GJ extends zJ{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,e,i){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-10}at(n){return this.getLView(n)[8].$implicit}attach(n,e){const i=e[6];this.needsIndexUpdate||=n!==this.length,Y5(this.lContainer,e,n,ed(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function BJ(t,n){return bh(t,n)}(this.lContainer,n)}create(n,e){const o=q5(this.hostLView,this.templateTNode,new HJ(this.lContainer,e,n),{dehydratedView:null});return this.operationsCounter?.recordCreate(),o}destroy(n){Sh(n[1],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[8].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[8].$index=n}getLView(n){return function UJ(t,n){return gO(t,n)}(this.lContainer,n)}}function We(t){const n=Z(null),e=Ks();try{const i=Ne(),o=i[1],s=i[e],r=e+1,a=f3(i,r);if(void 0===s.liveCollection){const c=eC(o,r);s.liveCollection=new GJ(a,i,c)}else s.liveCollection.reset();const l=s.liveCollection;if(function VJ(t,n,e){let i,o,s=0,r=t.length-1;if(Array.isArray(n)){let l=n.length-1;for(;s<=r&&s<=l;){const c=t.at(s),h=n[s],p=Qv(s,c,s,h,e);if(0!==p){p<0&&t.updateValue(s,h),s++;continue}const f=t.at(r),v=n[l],C=Qv(r,f,l,v,e);if(0!==C){C<0&&t.updateValue(r,v),r--,l--;continue}const E=e(s,c),D=e(r,f),P=e(s,h);if(Object.is(P,D)){const I=e(l,v);Object.is(I,E)?(t.swap(s,r),t.updateValue(r,v),l--,r--):t.move(r,s),t.updateValue(s,h),s++}else if(i??=new EN,o??=SN(t,s,r,e),Jv(t,i,s,P))t.updateValue(s,h),s++,r++;else if(o.has(P))i.set(E,t.detach(s)),r--;else{const I=t.create(s,n[s]);t.attach(s,I),s++,r++}}for(;s<=l;)bN(t,i,e,s,n[s]),s++}else if(null!=n){const l=n[Symbol.iterator]();let c=l.next();for(;!c.done&&s<=r;){const h=t.at(s),p=c.value,f=Qv(s,h,s,p,e);if(0!==f)f<0&&t.updateValue(s,p),s++,c=l.next();else{i??=new EN,o??=SN(t,s,r,e);const v=e(s,p);if(Jv(t,i,s,v))t.updateValue(s,p),s++,r++,c=l.next();else if(o.has(v)){const C=e(s,h);i.set(C,t.detach(s)),r--}else t.attach(s,t.create(s,p)),s++,r++,c=l.next()}}for(;!c.done;)bN(t,i,e,t.length,c.value),c=l.next()}for(;s<=r;)t.destroy(t.detach(r--));i?.forEach(l=>{t.destroy(l)})}(l,t,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){const c=t1(),h=0===l.length;if(Go(i,c,h)){const p=e+2,f=f3(i,p);if(h){const v=eC(o,p),C=null;Y5(f,q5(i,v,void 0,{dehydratedView:C}),0,ed(v,C))}else iv(f,0)}}}finally{Z(n)}}function f3(t,n){return t[n]}function eC(t,n){return Gc(t,n)}function d(t,n,e,i){const o=Ne(),s=vn(),r=25+t,a=o[11],l=s.firstCreatePass?function WJ(t,n,e,i,o,s){const r=n.consts,l=td(n,t,2,i,e1(r,o));return W7(n,e,l,e1(r,s)),null!==l.attrs&&n3(l,l.attrs,!1),null!==l.mergedAttrs&&n3(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(r,s,o,n,e,i):s.data[r],c=AN(s,o,l,a,n,t);o[r]=c;const h=ef(l);return S1(l,!0),WA(a,c,l),!Dl(l)&&Yu()&&Wf(s,o,c,l),0===function zW(){return Tn.lFrame.elementDepthCount}()&&Ar(c,o),function VW(){Tn.lFrame.elementDepthCount++}(),h&&(G7(s,o,l),N7(s,l,o)),null!==i&&B7(o,l),d}function u(){let t=Qn();P8()?I8():(t=t.parent,S1(t,!1));const n=t;(function $W(t){return Tn.skipHydrationRootTNode===t})(n)&&function WW(){Tn.skipHydrationRootTNode=null}(),function HW(){Tn.lFrame.elementDepthCount--}();const e=vn();return e.firstCreatePass&&(cf(e,t),w8(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function iZ(t){return!!(8&t.flags)}(n)&&Kv(e,n,Ne(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function oZ(t){return!!(16&t.flags)}(n)&&Kv(e,n,Ne(),n.stylesWithoutHost,!1),u}function w(t,n,e,i){return d(t,n,e,i),u(),w}let AN=(t,n,e,i,o,s)=>(K1(!0),$f(i,o,function xS(){return Tn.lFrame.currentNamespace}()));function ae(t,n,e){const i=Ne(),o=vn(),s=t+25,r=o.firstCreatePass?function XJ(t,n,e,i,o){const s=n.consts,r=e1(s,i),a=td(n,t,8,"ng-container",r);return null!==r&&n3(a,r,!0),W7(n,e,a,e1(s,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,o,i,n,e):o.data[s];S1(r,!0);const a=ON(o,i,r,t);return i[s]=a,Yu()&&Wf(o,i,a,r),Ar(a,i),ef(r)&&(G7(o,i,r),N7(o,r,i)),null!=e&&B7(i,r),ae}function le(){let t=Qn();const n=vn();return P8()?I8():(t=t.parent,S1(t,!1)),n.firstCreatePass&&(cf(n,t),w8(t)&&n.queries.elementEnd(t)),le}function Nn(t,n,e){return ae(t,n,e),le(),Nn}let ON=(t,n,e,i)=>(K1(!0),H7(n[11],""));function F(){return Ne()}function cr(t,n,e){const i=Ne();return Go(i,t1(),n)&&Kr(vn(),Zi(),i,t,n,i[11],e,!0),cr}const ad=void 0;var QJ=["en",[["a","p"],["AM","PM"],ad],[["AM","PM"],ad,ad],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ad,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ad,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ad,"{1} 'at' {0}",ad],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function YJ(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let f2={};function Or(t){const n=function tee(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=DN(n);if(e)return e;const i=n.split("-")[0];if(e=DN(i),e)return e;if("en"===i)return QJ;throw new He(701,!1)}function DN(t){return t in f2||(f2[t]=ao.ng&&ao.ng.common&&ao.ng.common.locales&&ao.ng.common.locales[t]),f2[t]}var to=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(to||{});const nee=["zero","one","two","few","many"],m3="en-US",v3={marker:"element"},C3={marker:"ICU"};var Yr=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(Yr||{});let PN=m3,Xh=0,Kh=0;let qh=(t,n,e,i)=>(K1(!0),function IN(t,n,e){const i=t[11];switch(e){case Node.COMMENT_NODE:return H7(i,n);case Node.TEXT_NODE:return V7(i,n);case Node.ELEMENT_NODE:return $f(i,n,null)}}(t,e,i));function xN(t,n,e,i){const o=e[11];let r,s=null;for(let a=0;a<n.length;a++){const l=n[a];if("string"==typeof l){const c=n[++a];null===e[c]&&(e[c]=qh(e,0,l,Node.TEXT_NODE))}else if("number"==typeof l)switch(1&l){case 0:const c=DO(l);let h,p;if(null===s&&(s=c,r=o.parentNode(i)),c===s?(h=i,p=r):(h=null,p=Ci(e[c])),null!==p){const E=PO(l);Qc(o,p,e[E],h,!1);const P=Dh(t,E);if(null!==P&&"object"==typeof P){const I=qf(P,e);null!==I&&xN(t,P.create[I],e,e[P.anchorIdx])}}break;case 1:const v=n[++a],C=n[++a];Z7(o,I5(l>>>1,e),null,null,v,C,null)}else switch(l){case C3:const c=n[++a],h=n[++a];null===e[h]&&Ar(e[h]=qh(e,0,c,Node.COMMENT_NODE),e);break;case v3:const p=n[++a],f=n[++a];null===e[f]&&Ar(e[f]=qh(e,0,p,Node.ELEMENT_NODE),e)}}}function LN(t,n,e,i,o){for(let s=0;s<e.length;s++){const r=e[s],a=e[++s];if(r&o){let l="";for(let c=s+1;c<=s+a;c++){const h=e[c];if("string"==typeof h)l+=h;else if("number"==typeof h)if(h<0)l+=On(n[i-h]);else{const p=h>>>2;switch(3&h){case 1:const f=e[++c],v=e[++c],C=t.data[p];"string"==typeof C?Z7(n[11],n[p],null,C,f,l,v):Kr(t,C,n,f,l,n[11],v,!1);break;case 0:const E=n[p];null!==E&&$A(n[11],E,l);break;case 2:hee(t,Dh(t,p),n,l);break;case 3:RN(t,Dh(t,p),i,n)}}}}else{const l=e[s+1];if(l>0&&!(3&~l)){const h=Dh(t,l>>>2);n[h.currentCaseLViewIndex]<0&&RN(t,h,i,n)}}s+=a}}function RN(t,n,e,i){let o=i[n.currentCaseLViewIndex];if(null!==o){let s=Xh;o<0&&(o=i[n.currentCaseLViewIndex]=~o,s=-1),LN(t,i,n.update[o],e,s)}}function hee(t,n,e,i){const o=function _ee(t,n){let e=t.cases.indexOf(n);if(-1===e)switch(t.type){case 1:{const i=function iee(t,n){const e=function NN(t){return Or(t)[to.PluralCase]}(n)(parseInt(t,10)),i=nee[e];return void 0!==i?i:"other"}(n,function ree(){return PN}());e=t.cases.indexOf(i),-1===e&&"other"!==i&&(e=t.cases.indexOf("other"));break}case 0:e=t.cases.indexOf("other")}return-1===e?null:e}(n,i);if(qf(n,e)!==o&&(FN(t,n,e),e[n.currentCaseLViewIndex]=null===o?null:~o,null!==o)){const r=e[n.anchorIdx];r&&xN(t,n.create[o],e,r)}}function FN(t,n,e){let i=qf(n,e);if(null!==i){const o=n.remove[i];for(let s=0;s<o.length;s++){const r=o[s];if(r>0){const a=I5(r,e);null!==a&&Th(e[11],a)}else FN(t,Dh(t,~r),e)}}}const M3=/\ufffd(\d+):?\d*\ufffd/gi,pee=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,gee=/\ufffd(\d+)\ufffd/,zN=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,fee=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,mee=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,vee=/\uE500/g;function VN(t,n,e,i,o,s,r){const a=wh(t,i,1,null);let l=a<<Yr.SHIFT,c=Ku();n===c&&(c=null),null===c&&(l|=Yr.APPEND_EAGERLY),r&&(l|=Yr.COMMENT,function gK(t){void 0===K7&&(K7=t())}(tq)),o.push(l,null===s?"":s);const h=cv(t,a,r?32:1,null===s?"":s,null);yO(e,h);const p=h.index;return S1(h,!1),null!==c&&n!==c&&function QK(t,n){let e=t.insertBeforeIndex;null===e?(hO(AO,OO),e=t.insertBeforeIndex=[null,n]):(ml(Array.isArray(e),!0,"Expecting array here"),e.push(n))}(c,p),h}function Tee(t,n,e,i,o,s,r,a){const l=a.match(M3),h=VN(n,e,i,r,o,l?null:a,!1).index;l&&Qh(s,a,h,null,0,null),t.push({kind:0,index:h})}function Qh(t,n,e,i,o,s){const r=t.length,a=r+1;t.push(null,null);const l=r+2,c=n.split(M3);let h=0;for(let p=0;p<c.length;p++){const f=c[p];if(1&p){const v=o+parseInt(f,10);t.push(-1-v),h|=HN(v)}else""!==f&&t.push(f)}return t.push(e<<2|(i?1:0)),i&&t.push(i,s),t[r]=h,t[a]=t.length-l,h}function bee(t){let n=0;for(let e=0;e<t.length;e++){const i=t[e];"number"==typeof i&&i<0&&n++}return n}function HN(t){return 1<<Math.min(t,31)}function $N(t){let n,s,e="",i=0,o=!1;for(;null!==(n=fee.exec(t));)o?n[0]===`\ufffd/*${s}\ufffd`&&(i=n.index,o=!1):(e+=t.substring(i,n.index+n[0].length),s=n[1],o=!0);return e+=t.slice(i),e}function GN(t,n,e,i,o,s,r){let a=0;const l={type:s.type,currentCaseLViewIndex:wh(n,e,1,null),anchorIdx:r,cases:[],create:[],remove:[],update:[]};(function yee(t,n,e){t.push(HN(n.mainBinding),2,-1-n.mainBinding,e<<2|2)})(i,s,r),function YK(t,n,e){const i=t.data[n];null===i?t.data[n]=e:i.value=e}(n,r,l);const c=s.values,h=[];for(let p=0;p<c.length;p++){const f=c[p],v=[];for(let E=0;E<f.length;E++){const D=f[E];if("string"!=typeof D){const P=v.push(D)-1;f[E]=`\x3c!--\ufffd${P}\ufffd--\x3e`}}const C=[];h.push(C),a=Aee(C,n,l,e,i,o,s.cases[p],f.join(""),v)|a}a&&function Nee(t,n,e){t.push(n,1,e<<2|3)}(i,a,r),t.push({kind:3,index:r,cases:h,currentCaseLViewIndex:l.currentCaseLViewIndex})}function Eee(t){const n=[],e=[];let i=1,o=0;const s=tC(t=t.replace(zN,function(r,a,l){return i="select"===l?0:1,o=parseInt(a.slice(1),10),""}));for(let r=0;r<s.length;){let a=s[r++].trim();1===i&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&n.push(a);const l=tC(s[r++]);n.length>e.length&&e.push(l)}return{type:i,mainBinding:o,cases:n,values:e}}function tC(t){if(!t)return[];let n=0;const e=[],i=[],o=/[{}]/g;let s;for(o.lastIndex=0;s=o.exec(t);){const a=s.index;if("}"==s[0]){if(e.pop(),0==e.length){const l=t.substring(n,a);zN.test(l)?i.push(Eee(l)):i.push(l),n=a+1}}else{if(0==e.length){const l=t.substring(n,a);i.push(l),n=a+1}e.push("{")}}const r=t.substring(n);return i.push(r),i}function Aee(t,n,e,i,o,s,r,a,l){const c=[],h=[],p=[];e.cases.push(r),e.create.push(c),e.remove.push(h),e.update.push(p);const v=MA(J1()).getInertBodyElement(a),C=L7(v)||v;return C?BN(t,n,e,i,o,c,h,p,C,s,l,0):0}function BN(t,n,e,i,o,s,r,a,l,c,h,p){let f=0,v=l.firstChild;for(;v;){const C=wh(n,i,1,null);switch(v.nodeType){case Node.ELEMENT_NODE:const E=v,D=E.tagName.toLowerCase();if(I7.hasOwnProperty(D)){nC(s,v3,D,c,C),n.data[C]=D;const R=E.attributes;for(let re=0;re<R.length;re++){const fe=R.item(re),pe=fe.name.toLowerCase();fe.value.match(M3)?SA.hasOwnProperty(pe)&&Qh(a,fe.value,C,fe.name,0,x7[pe]?kf:null):Dee(s,C,fe)}const ee={kind:1,index:C,children:[]};t.push(ee),f=BN(ee.children,n,e,i,o,s,r,a,v,C,h,p+1)|f,UN(r,C,p)}break;case Node.TEXT_NODE:const P=v.textContent||"",I=P.match(M3);nC(s,null,I?"":P,c,C),UN(r,C,p),I&&(f=Qh(a,P,C,null,0,null)|f),t.push({kind:0,index:C});break;case Node.COMMENT_NODE:const k=gee.exec(v.textContent||"");if(k){const ee=h[parseInt(k[1],10)];nC(s,C3,"",c,C),GN(t,n,i,o,c,ee,C),Oee(r,C,p)}}v=v.nextSibling}return f}function UN(t,n,e){0===e&&t.push(n)}function Oee(t,n,e){0===e&&(t.push(~n),t.push(n))}function nC(t,n,e,i,o){null!==n&&t.push(n),t.push(e,o,function eq(t,n,e){return t|n<<17|e<<1}(0,i,o))}function Dee(t,n,e){t.push(n<<1|1,e.name,e.value)}const Pee=/\[(\ufffd.+?\ufffd?)\]/,Iee=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,xee=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Lee=/{([A-Z0-9_]+)}/g,Ree=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Fee=/\/\*/,kee=/\d+\:(\d+)/;function Qr(t,n,e=-1){const i=vn(),o=Ne(),s=25+t,r=e1(i.consts,n),a=Ku();i.firstCreatePass&&function Mee(t,n,e,i,o,s){const r=Ku(),a=[],l=[],c=[[]],h=[[]];o=function See(t,n){if(function xO(t){return-1===t}(n))return $N(t);{const e=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,i=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return $N(t.substring(e,i))}}(o,s);const p=function Cee(t){return t.replace(vee," ")}(o).split(mee);for(let f=0;f<p.length;f++){let v=p[f];if(1&f){const C=47===v.charCodeAt(0),E=v.charCodeAt(C?1:0),D=25+Number.parseInt(v.substring(C?2:1));if(C)c.shift(),h.shift(),S1(Ku(),!1);else{const P=JK(t,c[0],D);c.unshift([]),S1(P,!0);const I={kind:2,index:D,children:[],type:35===E?0:1};h[0].push(I),h.unshift(I.children)}}else{const C=tC(v);for(let E=0;E<C.length;E++){let D=C[E];if(1&E){const P=D;if("object"!=typeof P)throw new Error(`Unable to parse ICU expression in "${o}" message.`);const k=VN(t,r,c[0],e,a,"",!0).index;GN(h[0],t,e,l,n,P,k)}else""!==D&&Tee(h[0],t,r,c[0],a,l,e,D)}}}t.data[i]={create:a,update:l,ast:h[0],parentTNodeIndex:n}}(i,null===a?0:a.index,o,s,r,e),2===i.type?o[15][2]|=32:o[2]|=32;const l=i.data[s],h=lO(i,a===o[5]?null:a,o);(function uee(t,n,e,i){const o=t[11];for(let s=0;s<n.length;s++){const r=n[s++],c=(r&Yr.APPEND_EAGERLY)===Yr.APPEND_EAGERLY,h=r>>>Yr.SHIFT;let p=t[h],f=!1;null===p&&(p=t[h]=qh(t,0,n[s],(r&Yr.COMMENT)===Yr.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),f=Yu()),c&&null!==e&&f&&Qc(o,e,p,i,!1)}})(o,l.create,h,a&&8&a.type?o[a.index]:null),AS(!0)}function Jr(){AS(!1)}function M(t,n,e){Qr(t,n,e),Jr()}function iC(t,n){const e=vn();!function wee(t,n,e){const o=Qn().index,s=[];if(t.firstCreatePass&&null===t.data[n]){for(let r=0;r<e.length;r+=2){const a=e[r],l=e[r+1];if(""!==l){if(pee.test(l))throw new Error(`ICU expressions are not supported in attributes. Message: "${l}".`);Qh(s,l,o,a,bee(s),null)}}t.data[n]=s}}(e,t+25,e1(e.consts,n))}function bn(t){return function aee(t){t&&(Xh|=1<<Math.min(Kh,31)),Kh++}(Go(Ne(),t1(),t)),bn}function Sn(t){!function lee(t,n,e){if(Kh>0){const i=t.data[e];LN(t,n,Array.isArray(i)?i:i.update,V0()-Kh-1,Xh)}Xh=0,Kh=0}(vn(),Ne(),t+25)}function ba(t,n={}){return function zee(t,n={}){let e=t;if(Pee.test(t)){const i={},o=[0];e=e.replace(Iee,(s,r,a)=>{const l=r||a,c=i[l]||[];if(c.length||(l.split("|").forEach(E=>{const D=E.match(kee),P=D?parseInt(D[1],10):0,I=Fee.test(E);c.push([P,I,E])}),i[l]=c),!c.length)throw new Error(`i18n postprocess: unmatched placeholder - ${l}`);const h=o[o.length-1];let p=0;for(let E=0;E<c.length;E++)if(c[E][0]===h){p=E;break}const[f,v,C]=c[p];return v?o.pop():h!==f&&o.push(f),c.splice(p,1),C})}return Object.keys(n).length&&(e=e.replace(xee,(i,o,s,r,a,l)=>n.hasOwnProperty(s)?`${o}${n[s]}${l}`:i),e=e.replace(Lee,(i,o)=>n.hasOwnProperty(o)?n[o]:i),e=e.replace(Ree,(i,o)=>{if(n.hasOwnProperty(o)){const s=n[o];if(!s.length)throw new Error(`i18n postprocess: unmatched ICU - ${i} with key: ${o}`);return s.shift()}return i})),e}(t,n)}function T(t,n,e,i){const o=Ne(),s=vn(),r=Qn();return oC(s,o,o[11],r,t,n,i),T}function oC(t,n,e,i,o,s,r){const a=ef(i),c=t.firstCreatePass&&CS(t),h=n[8],p=vS(n);let f=!0;if(3&i.type||r){const E=wr(i,n),D=r?r(E):E,P=p.length,I=r?R=>r(Ci(R[i.index])):i.index;let k=null;if(!r&&a&&(k=function Vee(t,n,e,i){const o=t.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const r=o[s];if(r===e&&o[s+1]===i){const a=n[7],l=o[s+2];return a.length>l?a[l]:null}"string"==typeof r&&(s+=2)}return null}(t,n,o,i.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,f=!1;else{s=qN(i,n,h,s);const R=e.listen(D,o,s);p.push(s,R),c&&c.push(o,I,P,P+1)}}else s=qN(i,n,h,s);const v=i.outputs;let C;if(f&&null!==v&&(C=v[o])){const E=C.length;if(E)for(let D=0;D<E;D+=2){const ee=n[C[D]][C[D+1]].subscribe(s),re=p.length;p.push(s,ee),c&&c.push(o,i.index,re,-(re+1))}}}function KN(t,n,e,i){const o=Z(null);try{return!1!==e(i)}catch(s){return Bf(t,s),!1}finally{Z(o)}}function qN(t,n,e,i){return function o(s){if(s===Function)return i;Eh(Ya(t)?br(t.index,n):n,5);let a=KN(n,0,i,s),l=o.__ngNextListenerFn__;for(;l;)a=KN(n,0,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function g(t=1){return function qW(t){return(Tn.lFrame.contextLView=function mS(t,n){for(;t>0;)n=n[14],t--;return n}(t,Tn.lFrame.contextLView))[8]}(t)}function Hee(t,n){let e=null;const i=function LX(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const s=n[o];if("*"!==s){if(null===i?VA(t,s,!0):kX(i,s))return o}else e=o}return e}function Ys(t){const n=Ne()[15][5];if(!n.projection){const i=n.projection=function Wg(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}(t?t.length:1,null),o=i.slice();let s=n.child;for(;null!==s;){if(128!==s.type){const r=t?Hee(s,t):0;null!==r&&(o[r]?o[r].projectionNext=s:i[r]=s,o[r]=s)}s=s.next}}}function ks(t,n=0,e,i,o,s){const r=Ne(),a=vn(),l=i?t+1:null;null!==l&&Hh(r,a,l,i,o,s,null,e);const c=td(a,25+t,16,null,e||null);null===c.projection&&(c.projection=n),I8();const p=!r[6]||Uc();null===r[15][5].projection[c.projection]&&null!==l?function $ee(t,n,e){const i=25+e,o=n.data[i],s=t[i];Y5(s,q5(t,o,void 0,{dehydratedView:null}),0,ed(o,null))}(r,a,l):p&&!Dl(c)&&function TK(t,n,e){pO(n[11],0,n,e,J7(t,e,n),cO(e.parent||n[5],e,n))}(a,r,c)}function ai(t,n,e){return Kt(t,"",n,"",e),ai}function Kt(t,n,e,i,o){const s=Ne(),r=s2(s,n,e,i);return r!==yn&&Kr(vn(),Zi(),s,t,r,s[11],o,!1),Kt}function a1(t,n,e,i,o,s,r){const a=Ne(),l=r2(a,n,e,i,o,s);return l!==yn&&Kr(vn(),Zi(),a,t,l,a[11],r,!1),a1}function _i(t,n,e,i){!function ry(t,n,e,i){const o=vn();if(o.firstCreatePass){const s=Qn();ay(o,new ny(n,e,i),s.index),function Jq(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),!(2&~e)&&(o.staticContentQueries=!0)}return oy(o,Ne(),e)}(t,n,e,i)}function dn(t,n,e){!function sy(t,n,e){const i=vn();return i.firstCreatePass&&(ay(i,new ny(t,n,e),-1),!(2&~n)&&(i.staticViewQueries=!0)),oy(i,Ne(),n)}(t,n,e)}function pt(t){const n=Ne(),e=vn(),i=R8();lf(i+1);const o=yv(e,i);if(t.dirty&&function RW(t){return!(4&~t[2])}(n)===!(2&~o.metadata.flags)){if(null===o.matches)t.reset([]);else{const s=ly(n,i);t.reset(s,_E),t.notifyOnChanges()}return!0}return!1}function gt(){return function Ov(t,n){return t[18].queries[n].queryList}(Ne(),R8())}function sC(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}function Ve(t){return Bc(wS(),25+t)}function A(t,n=""){const e=Ne(),i=vn(),o=t+25,s=i.firstCreatePass?td(i,o,1,n,null):i.data[o],r=_D(i,e,s,n,t);e[o]=r,Yu()&&Wf(i,e,r,s),S1(s,!1)}let _D=(t,n,e,i,o)=>(K1(!0),V7(n[11],i));function oe(t){return Le("",t,""),oe}function Le(t,n,e){const i=Ne(),o=s2(i,t,n,e);return o!==yn&&B0(i,Ks(),o),Le}function Sa(t,n,e,i,o){const s=Ne(),r=r2(s,t,n,e,i,o);return r!==yn&&B0(s,Ks(),r),Sa}function B0(t,n,e){const i=I5(n,t);$A(t[11],i,e)}function Ze(t,n,e){fE(n)&&(n=n());const i=Ne();return Go(i,t1(),n)&&Kr(vn(),Zi(),i,t,n,i[11],e,!1),Ze}function $e(t,n){const e=fE(t);return e&&t.set(n),e}function je(t,n){const e=Ne(),i=vn(),o=Qn();return oC(i,e,e[11],o,t,n),je}const TD={};function rC(t){const n=vn(),e=Ne(),i=t+25;return S1(td(n,i,128,null,null),!1),sC(n,e,i,TD),rC}function Jh(t){const e=Bc(wS(),25+t);if(e===TD)throw new He(314,!1);return e}function aC(t,n,e,i,o){if(t=mn(t),Array.isArray(t))for(let s=0;s<t.length;s++)aC(t[s],n,e,i,o);else{const s=vn(),r=Ne(),a=Qn();let l=Fc(t)?t:mn(t.provide);const c=tS(t),h=1048575&a.providerIndexes,p=a.directiveStart,f=a.providerIndexes>>20;if(Fc(t)||!t.multi){const v=new Qu(c,o,x),C=cC(l,n,o?h:h+f,p);-1===C?(W8(_f(a,r),s,l),lC(s,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(v),r.push(v)):(e[C]=v,r[C]=v)}else{const v=cC(l,n,h+f,p),C=cC(l,n,h,h+f),D=C>=0&&e[C];if(o&&!D||!o&&!(v>=0&&e[v])){W8(_f(a,r),s,l);const P=function rte(t,n,e,i,o){const s=new Qu(t,e,x);return s.multi=[],s.index=n,s.componentProviders=0,bD(s,o,i&&!e),s}(o?ste:ote,e.length,o,i,c);!o&&D&&(e[C].providerFactory=P),lC(s,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(P),r.push(P)}else lC(s,t,v>-1?v:C,bD(e[o?C:v],c,!o&&i));!o&&i&&D&&e[C].componentProviders++}}}function lC(t,n,e,i){const o=Fc(n),s=function uW(t){return!!t.useClass}(n);if(o||s){const l=(s?mn(n.useClass):n).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const h=c.indexOf(e);-1===h?c.push(e,[i,l]):c[h+1].push(i,l)}else c.push(e,l)}}}function bD(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function cC(t,n,e,i){for(let o=e;o<i;o++)if(n[o]===t)return o;return-1}function ote(t,n,e,i){return dC(this.multi,[])}function ste(t,n,e,i){const o=this.multi;let s;if(this.providerFactory){const r=this.providerFactory.componentProviders,a=th(e,e[1],this.providerFactory.index,i);s=a.slice(0,r),dC(o,s);for(let l=r;l<a.length;l++)s.push(a[l])}else s=[],dC(o,s);return s}function dC(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function tn(t,n=[]){return e=>{e.providersResolver=(i,o)=>function ite(t,n,e){const i=vn();if(i.firstCreatePass){const o=Qa(t);aC(e,i.data,i.blueprint,o,!0),aC(n,i.data,i.blueprint,o,!1)}}(i,o?o(t):t,n)}}function kl(t,n,e){const i=Sr()+t,o=Ne();return o[i]===yn?r0(o,i,e?n.call(e):n()):function Vh(t,n){return t[n]}(o,i)}function Wn(t,n,e,i){return ED(Ne(),Sr(),t,n,e,i)}function Pe(t,n,e,i,o){return AD(Ne(),Sr(),t,n,e,i,o)}function ld(t,n,e,i,o,s){return OD(Ne(),Sr(),t,n,e,i,o,s)}function uC(t,n,e,i,o,s,r){return yD(Ne(),Sr(),t,n,e,i,o,s,r)}function e_(t,n){const e=t[n];return e===yn?void 0:e}function ED(t,n,e,i,o,s){const r=n+e;return Go(t,r,o)?r0(t,r+1,s?i.call(s,o):i(o)):e_(t,r+1)}function AD(t,n,e,i,o,s,r){const a=n+e;return od(t,a,o,s)?r0(t,a+2,r?i.call(r,o,s):i(o,s)):e_(t,a+2)}function OD(t,n,e,i,o,s,r,a){const l=n+e;return function l3(t,n,e,i,o){const s=od(t,n,e,i);return Go(t,n+2,o)||s}(t,l,o,s,r)?r0(t,l+3,a?i.call(a,o,s,r):i(o,s,r)):e_(t,l+3)}function yD(t,n,e,i,o,s,r,a,l){const c=n+e;return function r1(t,n,e,i,o,s){const r=od(t,n,e,i);return od(t,n+2,o,s)||r}(t,c,o,s,r,a)?r0(t,c+4,l?i.call(l,o,s,r,a):i(o,s,r,a)):e_(t,c+4)}function ye(t,n){const e=vn();let i;const o=t+25;e.firstCreatePass?(i=function gte(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[o]=i,i.onDestroy&&(e.destroyHooks??=[]).push(o,i.onDestroy)):i=e.data[o];const s=i.factory||(i.factory=Rc(i.type)),a=Ur(x);try{const l=hf(!1),c=s();return hf(l),sC(e,Ne(),o,c),c}finally{Ur(a)}}function Ke(t,n,e){const i=t+25,o=Ne(),s=Bc(o,i);return n_(o,i)?ED(o,Sr(),n,s.transform,e,s):s.transform(e)}function Yo(t,n,e,i){const o=t+25,s=Ne(),r=Bc(s,o);return n_(s,o)?AD(s,Sr(),n,r.transform,e,i,r):r.transform(e,i)}function cd(t,n,e,i,o){const s=t+25,r=Ne(),a=Bc(r,s);return n_(r,s)?OD(r,Sr(),n,a.transform,e,i,o,a):a.transform(e,i,o)}function t_(t,n,e,i,o,s){const r=t+25,a=Ne(),l=Bc(a,r);return n_(a,r)?yD(a,Sr(),n,l.transform,e,i,o,s,l):l.transform(e,i,o,s)}function n_(t,n){return t[1].data[n].pure}function zt(t,n){return Xf(t,n)}class Ute{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let WD=(()=>{class t{compileModuleSync(e){return new Pv(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=wa(rr(e).declarations).reduce((r,a)=>{const l=Gn(a);return l&&r.push(new Fh(l)),r},[]);return new Ute(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jte=(()=>{class t{zone=$(cn);changeDetectionScheduler=$($0);applicationRef=$(lr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fC({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new cn({...mC(),scheduleInRootZone:e}),[{provide:cn,useFactory:t},{provide:Ka,multi:!0,useFactory:()=>{const i=$(jte,{optional:!0});return()=>i.initialize()}},{provide:Ka,multi:!0,useFactory:()=>{const i=$(Kte);return()=>{i.initialize()}}},!0===n?{provide:oE,useValue:!0}:[],{provide:X8,useValue:e??nE}]}function mC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let Kte=(()=>{class t{subscription=new si;initialized=!1;zone=$(cn);pendingTasks=$(A1);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{cn.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{cn.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),s_=(()=>{class t{appRef=$(lr);taskService=$(A1);ngZone=$(cn);zonelessEnabled=$(nh);tracing=$(z5,{optional:!0});disableScheduling=$(oE,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new si;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(mf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(X8,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Q8||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;let i=!1;switch(e){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 8:this.appRef.deferredDirtyFlags|=8;break;case 6:case 14:this.appRef.dirtyFlags|=2,i=!0;break;case 13:this.appRef.dirtyFlags|=16,i=!0;break;case 12:i=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;const o=this.useMicrotaskScheduler?rE:sE;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(mf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ea=new Je("",{providedIn:"root",factory:()=>$(ea,ei.Optional|ei.SkipSelf)||function qte(){return typeof $localize<"u"&&$localize.locale||m3}()}),Yte=new Je("",{providedIn:"root",factory:()=>"USD"}),S3=new Je(""),nne=new Je("");function r_(t){return!t.moduleRef}let zl=null;let Ss=(()=>class t{static __NG_ELEMENT_ID__=lne})();function lne(t){return function cne(t,n,e){if(Ya(t)&&!e){const i=br(t.index,n);return new Ah(i,i)}return 175&t.type?new Ah(n[15],n):null}(Qn(),Ne(),!(16&~t))}class lP{constructor(){}supports(n){return n instanceof Map||xv(n)}create(){return new mne}}class mne{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||xv(n)))throw new He(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(o,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const o=this._records.get(n);this._maybeAddToChanges(o,e);const s=o._prev,r=o._next;return s&&(s._next=r),r&&(r._prev=s),o._next=null,o._prev=null,o}const i=new vne(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class vne{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}}function dP(){return new O3([new lP])}let O3=(()=>{class t{static \u0275prov=we({token:t,providedIn:"root",factory:dP});factories;constructor(e){this.factories=e}static create(e,i){if(i){const o=i.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||dP()),deps:[[t,new c8,new l8]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new He(901,!1)}}return t})(),Tne=(()=>{class t{constructor(e){}static \u0275fac=function(i){return new(i||t)(Be(lr))};static \u0275mod=Bn({type:t});static \u0275inj=Vn({})}return t})();function xne(t){try{const{rootComponent:n,appProviders:e,platformProviders:i}=t,o=function rne(t=[]){if(zl)return zl;const n=function JD(t=[],n){return ri.create({name:n,providers:[{provide:f8,useValue:"platform"},{provide:S3,useValue:new Set([()=>zl=null])},...t]})}(t);return zl=n,function Xy(){!function An(t){Wt=t}(()=>{throw new He(600,!1)})}(),function eP(t){const n=t.get(o7,null);qa(t,()=>{n?.forEach(e=>e())})}(n),n}(i),s=[fC({}),{provide:$0,useExisting:s_},...e||[]];return function qD(t){const n=r_(t)?t.r3Injector:t.moduleRef.injector,e=n.get(cn);return e.run(()=>{r_(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const i=n.get(Y1,null);let o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:s=>{i.handleError(s)}})}),r_(t)){const s=()=>n.destroy(),r=t.platformInjector.get(S3);r.add(s),n.onDestroy(()=>{o.unsubscribe(),r.delete(s)})}else{const s=()=>t.moduleRef.destroy(),r=t.platformInjector.get(S3);r.add(s),t.moduleRef.onDestroy(()=>{_3(t.allPlatformModules,t.moduleRef),o.unsubscribe(),r.delete(s)})}return function DQ(t,n,e){try{const i=e();return Gh(i)?i.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(i,e,()=>{const s=n.get(Zy);return s.runInitializers(),s.donePromise.then(()=>{if(function see(t){"string"==typeof t&&(PN=t.toLowerCase().replace(/_/g,"-"))}(n.get(ea,m3)||m3),!n.get(nne,!0))return r_(t)?n.get(lr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(r_(t)){const l=n.get(lr);return void 0!==t.rootComponent&&l.bootstrap(t.rootComponent),l}return function ine(t,n){const e=t.injector.get(lr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>e.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new He(-403,!1);t.instance.ngDoBootstrap(e)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new My({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:o,rootComponent:n})}catch(n){return Promise.reject(n)}}function Ri(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function h_(t,n=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?n:Number(t)}function c0(t,n){Rs("NgSignals");const e=function ft(t){const n=Object.create(lt);n.computation=t;const e=()=>{if(se(n),U(n),n.value===Ye)throw n.error;return n.value};return e[j]=n,e}(t);return n?.equal&&(e[j].equal=n.equal),e}function Qs(t){const n=Z(null);try{return t()}finally{Z(n)}}function k3(t,n){const e=Gn(t),i=n.elementInjector||Kg();return new Fh(e).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}let GP=null;function U0(){return GP}class Aie{}const Xn=new Je("");let NC=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:()=>$(yie),providedIn:"platform"})}return t})();const Oie=new Je("");let yie=(()=>{class t extends NC{_location;_history;_doc=$(Xn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U0().getBaseHref(this._doc)}onPopState(e){const i=U0().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=U0().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function DC(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function BP(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function W0(t){return t&&"?"!==t[0]?"?"+t:t}let ud=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:()=>$(WP),providedIn:"root"})}return t})();const UP=new Je("");let WP=(()=>{class t extends ud{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??$(Xn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return DC(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+W0(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,s){const r=this.prepareExternalUrl(o+W0(s));this._platformLocation.pushState(e,i,r)}replaceState(e,i,o,s){const r=this.prepareExternalUrl(o+W0(s));this._platformLocation.replaceState(e,i,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||t)(Be(NC),Be(UP,8))};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nie=(()=>{class t extends ud{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=DC(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,s){let r=this.prepareExternalUrl(o+W0(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,i,r)}replaceState(e,i,o,s){let r=this.prepareExternalUrl(o+W0(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||t)(Be(NC),Be(UP,8))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})(),__=(()=>{class t{_subject=new xe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Iie(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(BP(ZP(i))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+W0(i))}normalize(e){return t.stripTrailingSlash(function Pie(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,ZP(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+W0(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+W0(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i??void 0,complete:o??void 0})}static normalizeQueryParams=W0;static joinWithSlash=DC;static stripTrailingSlash=BP;static \u0275fac=function(i){return new(i||t)(Be(ud))};static \u0275prov=we({token:t,factory:()=>function Die(){return new __(Be(ud))}(),providedIn:"root"})}return t})();function ZP(t){return t.replace(/\/index.html$/,"")}const jP={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var z3=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(z3||{}),Nr=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Nr||{}),Yi=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Yi||{}),Ea=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ea||{});function V3(t,n){return c1(Or(t)[to.DateFormat],n)}function H3(t,n){return c1(Or(t)[to.TimeFormat],n)}function $3(t,n){return c1(Or(t)[to.DateTimeFormat],n)}function l1(t,n){const e=Or(t),i=e[to.NumberSymbols][n];if(typeof i>"u"){if(12===n)return e[to.NumberSymbols][0];if(13===n)return e[to.NumberSymbols][1]}return i}function PC(t,n){return Or(t)[to.NumberFormats][n]}function XP(t){return function eee(t){return Or(t)[to.CurrencyCode]||null}(t)}function KP(t){if(!t[to.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[to.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function c1(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function IC(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const Zie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,G3={},jie=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function qP(t,n,e,i){let o=function noe(t){if(JP(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[o,s=1,r=1]=t.split("-").map(a=>+a);return B3(o,s-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(Zie))return function ioe(t){const n=new Date(0);let e=0,i=0;const o=t[8]?n.setUTCFullYear:n.setFullYear,s=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),o.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const r=Number(t[4]||0)-e,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(n,r,a,l,c),n}(i)}const n=new Date(t);if(!JP(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=Z0(e,n)||n;let a,r=[];for(;n;){if(a=jie.exec(n),!a){r.push(n);break}{r=r.concat(a.slice(1));const h=r.pop();if(!h)break;n=h}}let l=o.getTimezoneOffset();i&&(l=QP(i,l),o=function toe(t,n,e){const i=e?-1:1,o=t.getTimezoneOffset();return function eoe(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(QP(n,o)-o))}(o,i,!0));let c="";return r.forEach(h=>{const p=function Jie(t){if(LC[t])return LC[t];let n;switch(t){case"G":case"GG":case"GGG":n=no(3,Yi.Abbreviated);break;case"GGGG":n=no(3,Yi.Wide);break;case"GGGGG":n=no(3,Yi.Narrow);break;case"y":n=us(0,1,0,!1,!0);break;case"yy":n=us(0,2,0,!0,!0);break;case"yyy":n=us(0,3,0,!1,!0);break;case"yyyy":n=us(0,4,0,!1,!0);break;case"Y":n=j3(1);break;case"YY":n=j3(2,!0);break;case"YYY":n=j3(3);break;case"YYYY":n=j3(4);break;case"M":case"L":n=us(1,1,1);break;case"MM":case"LL":n=us(1,2,1);break;case"MMM":n=no(2,Yi.Abbreviated);break;case"MMMM":n=no(2,Yi.Wide);break;case"MMMMM":n=no(2,Yi.Narrow);break;case"LLL":n=no(2,Yi.Abbreviated,Nr.Standalone);break;case"LLLL":n=no(2,Yi.Wide,Nr.Standalone);break;case"LLLLL":n=no(2,Yi.Narrow,Nr.Standalone);break;case"w":n=xC(1);break;case"ww":n=xC(2);break;case"W":n=xC(1,!0);break;case"d":n=us(2,1);break;case"dd":n=us(2,2);break;case"c":case"cc":n=us(7,1);break;case"ccc":n=no(1,Yi.Abbreviated,Nr.Standalone);break;case"cccc":n=no(1,Yi.Wide,Nr.Standalone);break;case"ccccc":n=no(1,Yi.Narrow,Nr.Standalone);break;case"cccccc":n=no(1,Yi.Short,Nr.Standalone);break;case"E":case"EE":case"EEE":n=no(1,Yi.Abbreviated);break;case"EEEE":n=no(1,Yi.Wide);break;case"EEEEE":n=no(1,Yi.Narrow);break;case"EEEEEE":n=no(1,Yi.Short);break;case"a":case"aa":case"aaa":n=no(0,Yi.Abbreviated);break;case"aaaa":n=no(0,Yi.Wide);break;case"aaaaa":n=no(0,Yi.Narrow);break;case"b":case"bb":case"bbb":n=no(0,Yi.Abbreviated,Nr.Standalone,!0);break;case"bbbb":n=no(0,Yi.Wide,Nr.Standalone,!0);break;case"bbbbb":n=no(0,Yi.Narrow,Nr.Standalone,!0);break;case"B":case"BB":case"BBB":n=no(0,Yi.Abbreviated,Nr.Format,!0);break;case"BBBB":n=no(0,Yi.Wide,Nr.Format,!0);break;case"BBBBB":n=no(0,Yi.Narrow,Nr.Format,!0);break;case"h":n=us(3,1,-12);break;case"hh":n=us(3,2,-12);break;case"H":n=us(3,1);break;case"HH":n=us(3,2);break;case"m":n=us(4,1);break;case"mm":n=us(4,2);break;case"s":n=us(5,1);break;case"ss":n=us(5,2);break;case"S":n=us(6,1);break;case"SS":n=us(6,2);break;case"SSS":n=us(6,3);break;case"Z":case"ZZ":case"ZZZ":n=W3(0);break;case"ZZZZZ":n=W3(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=W3(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=W3(2);break;default:return null}return LC[t]=n,n}(h);c+=p?p(o,e,l):"''"===h?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function B3(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function Z0(t,n){const e=function Lie(t){return Or(t)[to.LocaleId]}(t);if(G3[e]??={},G3[e][n])return G3[e][n];let i="";switch(n){case"shortDate":i=V3(t,Ea.Short);break;case"mediumDate":i=V3(t,Ea.Medium);break;case"longDate":i=V3(t,Ea.Long);break;case"fullDate":i=V3(t,Ea.Full);break;case"shortTime":i=H3(t,Ea.Short);break;case"mediumTime":i=H3(t,Ea.Medium);break;case"longTime":i=H3(t,Ea.Long);break;case"fullTime":i=H3(t,Ea.Full);break;case"short":const o=Z0(t,"shortTime"),s=Z0(t,"shortDate");i=U3($3(t,Ea.Short),[o,s]);break;case"medium":const r=Z0(t,"mediumTime"),a=Z0(t,"mediumDate");i=U3($3(t,Ea.Medium),[r,a]);break;case"long":const l=Z0(t,"longTime"),c=Z0(t,"longDate");i=U3($3(t,Ea.Long),[l,c]);break;case"full":const h=Z0(t,"fullTime"),p=Z0(t,"fullDate");i=U3($3(t,Ea.Full),[h,p])}return i&&(G3[e][n]=i),i}function U3(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function D1(t,n,e="-",i,o){let s="";(t<0||o&&t<=0)&&(o?t=1-t:(t=-t,s=e));let r=String(t);for(;r.length<n;)r="0"+r;return i&&(r=r.slice(r.length-n)),s+r}function us(t,n,e=0,i=!1,o=!1){return function(s,r){let a=function Kie(t,n){switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((e>0||a>-e)&&(a+=e),3===t)0===a&&-12===e&&(a=12);else if(6===t)return function Xie(t,n){return D1(t,3).substring(0,n)}(a,n);const l=l1(r,5);return D1(a,n,l,i,o)}}function no(t,n,e=Nr.Format,i=!1){return function(o,s){return function qie(t,n,e,i,o,s){switch(e){case 2:return function kie(t,n,e){const i=Or(t),s=c1([i[to.MonthsFormat],i[to.MonthsStandalone]],n);return c1(s,e)}(n,o,i)[t.getMonth()];case 1:return function Fie(t,n,e){const i=Or(t),s=c1([i[to.DaysFormat],i[to.DaysStandalone]],n);return c1(s,e)}(n,o,i)[t.getDay()];case 0:const r=t.getHours(),a=t.getMinutes();if(s){const c=function $ie(t){const n=Or(t);return KP(n),(n[to.ExtraData][2]||[]).map(i=>"string"==typeof i?IC(i):[IC(i[0]),IC(i[1])])}(n),h=function Gie(t,n,e){const i=Or(t);KP(i);const s=c1([i[to.ExtraData][0],i[to.ExtraData][1]],n)||[];return c1(s,e)||[]}(n,o,i),p=c.findIndex(f=>{if(Array.isArray(f)){const[v,C]=f,E=r>=v.hours&&a>=v.minutes,D=r<C.hours||r===C.hours&&a<C.minutes;if(v.hours<C.hours){if(E&&D)return!0}else if(E||D)return!0}else if(f.hours===r&&f.minutes===a)return!0;return!1});if(-1!==p)return h[p]}return function Rie(t,n,e){const i=Or(t),s=c1([i[to.DayPeriodsFormat],i[to.DayPeriodsStandalone]],n);return c1(s,e)}(n,o,i)[r<12?0:1];case 3:return function zie(t,n){return c1(Or(t)[to.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,s,t,n,e,i)}}function W3(t){return function(n,e,i){const o=-1*i,s=l1(e,5),r=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case 0:return(o>=0?"+":"")+D1(r,2,s)+D1(Math.abs(o%60),2,s);case 1:return"GMT"+(o>=0?"+":"")+D1(r,1,s);case 2:return"GMT"+(o>=0?"+":"")+D1(r,2,s)+":"+D1(Math.abs(o%60),2,s);case 3:return 0===i?"Z":(o>=0?"+":"")+D1(r,2,s)+":"+D1(Math.abs(o%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const Yie=0,Z3=4;function YP(t){const n=t.getDay(),e=0===n?-3:Z3-n;return B3(t.getFullYear(),t.getMonth(),t.getDate()+e)}function xC(t,n=!1){return function(e,i){let o;if(n){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,r=e.getDate();o=1+Math.floor((r+s)/7)}else{const s=YP(e),r=function Qie(t){const n=B3(t,Yie,1).getDay();return B3(t,0,1+(n<=Z3?Z3:Z3+7)-n)}(s.getFullYear()),a=s.getTime()-r.getTime();o=1+Math.round(a/6048e5)}return D1(o,t,l1(i,5))}}function j3(t,n=!1){return function(e,i){return D1(YP(e).getFullYear(),t,l1(i,5),n)}}const LC={};function QP(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function JP(t){return t instanceof Date&&!isNaN(t.valueOf())}const ooe=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function FC(t,n,e,i,o,s,r=!1){let a="",l=!1;if(isFinite(t)){let c=function hoe(t){let i,o,s,r,a,n=Math.abs(t)+"",e=0;for((o=n.indexOf("."))>-1&&(n=n.replace(".","")),(s=n.search(/e/i))>0?(o<0&&(o=s),o+=+n.slice(s+1),n=n.substring(0,s)):o<0&&(o=n.length),s=0;"0"===n.charAt(s);s++);if(s===(a=n.length))i=[0],o=1;else{for(a--;"0"===n.charAt(a);)a--;for(o-=s,i=[],r=0;s<=a;s++,r++)i[r]=Number(n.charAt(s))}return o>22&&(i=i.splice(0,21),e=o-1,o=1),{digits:i,exponent:e,integerLen:o}}(t);r&&(c=function uoe(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(c));let h=n.minInt,p=n.minFrac,f=n.maxFrac;if(s){const I=s.match(ooe);if(null===I)throw new Error(`${s} is not a valid digit info`);const k=I[1],R=I[3],ee=I[5];null!=k&&(h=zC(k)),null!=R&&(p=zC(R)),null!=ee?f=zC(ee):null!=R&&p>f&&(f=p)}!function _oe(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let i=t.digits,o=i.length-t.integerLen;const s=Math.min(Math.max(n,o),e);let r=s+t.integerLen,a=i[r];if(r>0){i.splice(Math.max(t.integerLen,r));for(let p=r;p<i.length;p++)i[p]=0}else{o=Math.max(0,o),t.integerLen=1,i.length=Math.max(1,r=s+1),i[0]=0;for(let p=1;p<r;p++)i[p]=0}if(a>=5)if(r-1<0){for(let p=0;p>r;p--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[r-1]++;for(;o<Math.max(0,s);o++)i.push(0);let l=0!==s;const c=n+t.integerLen,h=i.reduceRight(function(p,f,v,C){return C[v]=(f+=p)<10?f:f-10,l&&(0===C[v]&&v>=c?C.pop():l=!1),f>=10?1:0},0);h&&(i.unshift(h),t.integerLen++)}(c,p,f);let v=c.digits,C=c.integerLen;const E=c.exponent;let D=[];for(l=v.every(I=>!I);C<h;C++)v.unshift(0);for(;C<0;C++)v.unshift(0);C>0?D=v.splice(C,v.length):(D=v,v=[0]);const P=[];for(v.length>=n.lgSize&&P.unshift(v.splice(-n.lgSize,v.length).join(""));v.length>n.gSize;)P.unshift(v.splice(-n.gSize,v.length).join(""));v.length&&P.unshift(v.join("")),a=P.join(l1(e,i)),D.length&&(a+=l1(e,o)+D.join("")),E&&(a+=l1(e,6)+"+"+E)}else a=l1(e,9);return a=t<0&&!l?n.negPre+a+n.negSuf:n.posPre+a+n.posSuf,a}function kC(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),o=i[0],s=i[1],r=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],a=r[0],l=r[1]||"";e.posPre=a.substring(0,a.indexOf("#"));for(let h=0;h<l.length;h++){const p=l.charAt(h);"0"===p?e.minFrac=e.maxFrac=h+1:"#"===p?e.maxFrac=h+1:e.posSuf+=p}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const h=o.length-e.posPre.length-e.posSuf.length,p=s.indexOf("#");e.negPre=s.substring(0,p).replace(/'/g,""),e.negSuf=s.slice(p+h).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function zC(t){const n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function Ai(t,n,e){return function JJ(t,n,e){"string"!=typeof n&&(e=n,n=t[to.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),f2[n]=t,e&&(f2[n][to.ExtraData]=e)}(t,n,e)}function iI(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[o,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===n)return decodeURIComponent(s)}return null}const HC=/\s+/,oI=[];let Dr=(()=>{class t{_ngEl;_renderer;initialClasses=oI;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=null!=e?e.trim().split(HC):oI}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(HC):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],o=e[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(HC).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(i){return new(i||t)(x(pn),x(s1))};static \u0275dir=et({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})(),$C=(()=>{class t{_viewContainer;_context=new voe;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){aI("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){aI("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||t)(x(qs),x(nn))};static \u0275dir=et({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})();class voe{$implicit=null;ngIf=null}function aI(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Cs(n)}'.`)}let K3=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,i,o){this._ngEl=e,this._differs=i,this._renderer=o}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[o,s]=e.split("."),r=-1===o.indexOf("-")?void 0:Nl.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${i}${s}`:i,r):this._renderer.removeStyle(this._ngEl.nativeElement,o,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||t)(x(pn),x(O3),x(s1))};static \u0275dir=et({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),Uo=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,o)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,o),get:(e,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}static \u0275fac=function(i){return new(i||t)(x(qs))};static \u0275dir=et({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[xi]})}return t})();function P1(t,n){return new He(2100,!1)}class woe{createSubscription(n,e){return Qs(()=>n.subscribe({next:e,error:i=>{throw i}}))}dispose(n){Qs(()=>n.unsubscribe())}}class boe{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}}const Soe=new boe,Eoe=new woe;let Aa=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Gh(e))return Soe;if(Wy(e))return Eoe;throw P1()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||t)(x(Ss,16))};static \u0275pipe=eo({name:"async",type:t,pure:!1})}return t})();const Ooe=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let M2=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw P1();return e.replace(Ooe,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=eo({name:"titlecase",type:t,pure:!0})}return t})();const Doe=new Je(""),Poe=new Je("");let UC=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,i,o){this.locale=e,this.defaultTimezone=i,this.defaultOptions=o}transform(e,i,o,s){if(null==e||""===e||e!=e)return null;try{return qP(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(r){throw P1()}}static \u0275fac=function(i){return new(i||t)(x(ea,16),x(Doe,24),x(Poe,24))};static \u0275pipe=eo({name:"date",type:t,pure:!0})}return t})(),WC=(()=>{class t{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=cI;transform(e,i=cI){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ??=this.differs.find(e).create();const o=this.differ.diff(e),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(r=>{this.keyValues.push(function Foe(t,n){return{key:t,value:n}}(r.key,r.currentValue))})),(o||s)&&(i&&this.keyValues.sort(i),this.compareFn=i),this.keyValues}static \u0275fac=function(i){return new(i||t)(x(O3,16))};static \u0275pipe=eo({name:"keyvalue",type:t,pure:!1})}return t})();function cI(t,n){const e=t.key,i=n.key;if(e===i)return 0;if(null==e)return 1;if(null==i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const o=String(e),s=String(i);return o==s?0:o<s?-1:1}let q3=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,i,o){if(!jC(e))return null;o||=this._locale;try{return function doe(t,n,e){return FC(t,kC(PC(n,z3.Decimal),l1(n,5)),n,1,0,e)}(XC(e),o,i)}catch(s){throw P1()}}static \u0275fac=function(i){return new(i||t)(x(ea,16))};static \u0275pipe=eo({name:"number",type:t,pure:!0})}return t})(),dI=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,i,o){if(!jC(e))return null;o||=this._locale;try{return function coe(t,n,e){return FC(t,kC(PC(n,z3.Percent),l1(n,5)),n,1,0,e,!0).replace(new RegExp("%","g"),l1(n,3))}(XC(e),o,i)}catch(s){throw P1()}}static \u0275fac=function(i){return new(i||t)(x(ea,16))};static \u0275pipe=eo({name:"percent",type:t,pure:!0})}return t})(),ZC=(()=>{class t{_locale;_defaultCurrencyCode;constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,o="symbol",s,r){if(!jC(e))return null;r||=this._locale,"boolean"==typeof o&&(o=o?"symbol":"code");let a=i||this._defaultCurrencyCode;"code"!==o&&(a="symbol"===o||"symbol-narrow"===o?function Bie(t,n,e="en"){const i=function Vie(t){return Or(t)[to.Currencies]}(e)[t]||jP[t]||[],o=i[1];return"narrow"===n&&"string"==typeof o?o:i[0]||t}(a,"symbol"===o?"wide":"narrow",r):o);try{return function loe(t,n,e,i,o){const r=kC(PC(n,z3.Currency),l1(n,5));return r.minFrac=function Wie(t){let n;const e=jP[t];return e&&(n=e[2]),"number"==typeof n?n:2}(i),r.maxFrac=r.minFrac,FC(t,r,n,13,12,o).replace("\xa4",e).replace("\xa4","").trim()}(XC(e),r,a,i,s)}catch(l){throw P1()}}static \u0275fac=function(i){return new(i||t)(x(ea,16),x(Yte,16))};static \u0275pipe=eo({name:"currency",type:t,pure:!0})}return t})();function jC(t){return!(null==t||""===t||t!=t)}function XC(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let uI=(()=>{class t{transform(e,i,o){if(null==e)return null;if(!this.supports(e))throw P1();return e.slice(i,o)}supports(e){return"string"==typeof e||Array.isArray(e)}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=eo({name:"slice",type:t,pure:!1})}return t})(),T2=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({})}return t})();const hI="browser";function Vl(t){return t===hI}function _I(t){return"server"===t}let pI=(()=>{class t{static \u0275prov=we({token:t,providedIn:"root",factory:()=>new zoe($(Xn),window)})}return t})();class zoe{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const e=function Voe(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const s=o.shadowRoot;if(s){const r=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(r)return r}o=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],o-s[1])}}class gI{}function AI(t,n=0){return function _se(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):2===arguments.length?n:0}function Hl(t){return t instanceof pn?t.nativeElement:t}function OI(t){return t&&fn(t.schedule)}function QC(t){return t[t.length-1]}function e6(t){return fn(QC(t))?t.pop():void 0}function m_(t){return OI(QC(t))?t.pop():void 0}function $l(t){return this instanceof $l?(this.v=t,this):new $l(t)}function PI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function n9(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=t[s]&&function(r){return new Promise(function(a,l){!function o(s,r,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},r)}(a,l,(r=t[s](r)).done,r.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const o9=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function II(t){return fn(t?.then)}function xI(t){return fn(t[Jn])}function LI(t){return Symbol.asyncIterator&&fn(t?.[Symbol.asyncIterator])}function RI(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const FI=function Gse(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kI(t){return fn(t?.[FI])}function zI(t){return function DI(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=e.apply(t,n||[]),s=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function r(v){return function(C){return Promise.resolve(C).then(v,p)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(v,C){i[v]&&(o[v]=function(E){return new Promise(function(D,P){s.push([v,E,D,P])>1||l(v,E)})},C&&(o[v]=C(o[v])))}function l(v,C){try{!function c(v){v.value instanceof $l?Promise.resolve(v.value.v).then(h,p):f(s[0][2],v)}(i[v](C))}catch(E){f(s[0][3],E)}}function h(v){l("next",v)}function p(v){l("throw",v)}function f(v,C){v(C),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:o}=yield $l(e.read());if(o)return yield $l(void 0);yield yield $l(i)}}finally{e.releaseLock()}})}function VI(t){return fn(t?.getReader)}function Wo(t){if(t instanceof an)return t;if(null!=t){if(xI(t))return function Bse(t){return new an(n=>{const e=t[Jn]();if(fn(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(o9(t))return function Use(t){return new an(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(II(t))return function Wse(t){return new an(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,K)})}(t);if(LI(t))return HI(t);if(kI(t))return function Zse(t){return new an(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(VI(t))return function jse(t){return HI(zI(t))}(t)}throw RI(t)}function HI(t){return new an(n=>{(function Xse(t,n){var e,i,o,s;return function yI(t,n,e,i){return new(e||(e=Promise))(function(s,r){function a(h){try{c(i.next(h))}catch(p){r(p)}}function l(h){try{c(i.throw(h))}catch(p){r(p)}}function c(h){h.done?s(h.value):function o(s){return s instanceof e?s:new e(function(r){r(s)})}(h.value).then(a,l)}c((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=PI(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(r){o={error:r}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function d0(t,n,e,i=0,o=!1){const s=n.schedule(function(){e(),o?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!o)return s}function $I(t,n=0){return hi((e,i)=>{e.subscribe(Pi(i,o=>d0(i,t,()=>i.next(o),n),()=>d0(i,t,()=>i.complete(),n),o=>d0(i,t,()=>i.error(o),n)))})}function GI(t,n=0){return hi((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function BI(t,n){if(!t)throw new Error("Iterable cannot be null");return new an(e=>{d0(e,n,()=>{const i=t[Symbol.asyncIterator]();d0(e,n,()=>{i.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Co(t,n){return n?function ere(t,n){if(null!=t){if(xI(t))return function Kse(t,n){return Wo(t).pipe(GI(n),$I(n))}(t,n);if(o9(t))return function Yse(t,n){return new an(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(II(t))return function qse(t,n){return Wo(t).pipe(GI(n),$I(n))}(t,n);if(LI(t))return BI(t,n);if(kI(t))return function Qse(t,n){return new an(e=>{let i;return d0(e,n,()=>{i=t[FI](),d0(e,n,()=>{let o,s;try{({value:o,done:s}=i.next())}catch(r){return void e.error(r)}s?e.complete():e.next(o)},0,!0)}),()=>fn(i?.return)&&i.return()})}(t,n);if(VI(t))return function Jse(t,n){return BI(zI(t),n)}(t,n)}throw RI(t)}(t,n):Wo(t)}function Et(...t){return Co(t,m_(t))}class tre extends si{constructor(n,e){super()}schedule(n,e=0){return this}}const t6={setInterval(t,n,...e){const{delegate:i}=t6;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=t6;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class s9 extends tre{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,i=0){return t6.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&t6.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,i=!1;try{this.work(n)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,fa(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const v_={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=v_;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=n(s=>{e=void 0,t(s)});return new si(()=>e?.(o))},requestAnimationFrame(...t){const{delegate:n}=v_;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=v_;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0},r9={now:()=>(r9.delegate||Date).now(),delegate:void 0};class C_{constructor(n,e=C_.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}C_.now=r9.now;class a9 extends C_{constructor(n,e=C_.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const l9=new class ire extends a9{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;n=n||i.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw o}}}(class nre extends s9{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=v_.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:s}=n;null!=e&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==e&&(v_.cancelAnimationFrame(e),n._scheduled=void 0)}});let c9,ore=1;const n6={};function UI(t){return t in n6&&(delete n6[t],!0)}const sre={setImmediate(t){const n=ore++;return n6[n]=!0,c9||(c9=Promise.resolve()),c9.then(()=>UI(n)&&t()),n},clearImmediate(t){UI(t)}},{setImmediate:rre,clearImmediate:are}=sre,i6={setImmediate(...t){const{delegate:n}=i6;return(n?.setImmediate||rre)(...t)},clearImmediate(t){const{delegate:n}=i6;return(n?.clearImmediate||are)(t)},delegate:void 0},WI=new class cre extends a9{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;n=n||i.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw o}}}(class lre extends s9{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=i6.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:s}=n;null!=e&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==e&&(i6.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}}),b2=new a9(s9),dre=b2;function ZI(t){return t instanceof Date&&!isNaN(t)}function hd(t=0,n,e=dre){let i=-1;return null!=n&&(OI(n)?e=n:i=n),new an(o=>{let s=ZI(t)?+t-e.now():t;s<0&&(s=0);let r=0;return e.schedule(function(){o.closed||(o.next(r++),0<=i?this.schedule(void 0,i):o.complete())},s)})}function d9(t,n=b2){return function ure(t){return hi((n,e)=>{let i=!1,o=null,s=null,r=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=o;o=null,e.next(c)}r&&e.complete()},l=()=>{s=null,r&&e.complete()};n.subscribe(Pi(e,c=>{i=!0,o=c,s||Wo(t(c)).subscribe(s=Pi(e,a,l))},()=>{r=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>hd(t,n))}function li(t,n){return hi((e,i)=>{let o=0;e.subscribe(Pi(i,s=>t.call(n,s,o++)&&i.next(s)))})}let u9;try{u9=typeof Intl<"u"&&Intl.v8BreakIterator}catch{u9=!1}let M_,h9,jI=(()=>{class t{_platformId=$(Ma);isBrowser=this._platformId?Vl(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!u9)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function E2(t){return function hre(){if(null==M_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>M_=!0}))}finally{M_=M_||!1}return M_}()?t:!!t.capture}function _9(t){if(function _re(){if(null==h9){const t=typeof document<"u"?document.head:null;h9=!(!t||!t.createShadowRoot&&!t.attachShadow)}return h9}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function s6(t){return t.composedPath?t.composedPath()[0]:t.target}let gre=(()=>{class t{_ngZone=$(cn);_platform=$(jI);_renderer=$(o0).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new xe;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new an(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const o=e>0?this._scrolled.pipe(d9(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Et()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(li(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_scrollableContainsElement(e,i){let o=Hl(i),s=e.getElementRef().nativeElement;do{if(o==s)return!0}while(o=o.parentElement);return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mre=(()=>{class t{_platform=$(jI);_listeners;_viewportSize;_change=new xe;_document=$(Xn,{optional:!0});constructor(){const e=$(cn),i=$(o0).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){const o=s=>this._change.next(s);this._listeners=[i.listen("window","resize",o),i.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(d9(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vre=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({})}return t})();function un(t,n,e){const i=fn(t)||n||e?{next:t,error:n,complete:e}:t;return i?hi((o,s)=>{var r;null===(r=i.subscribe)||void 0===r||r.call(i);let a=!0;o.subscribe(Pi(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):ms}function Pr(t,n=b2){return hi((e,i)=>{let o=null,s=null,r=null;const a=()=>{if(o){o.unsubscribe(),o=null;const c=s;s=null,i.next(c)}};function l(){const c=r+t,h=n.now();if(h<c)return o=this.schedule(void 0,c-h),void i.add(o);a()}e.subscribe(Pi(i,c=>{s=c,r=n.now(),o||(o=n.schedule(l,t),i.add(o))},()=>{a(),i.complete()},void 0,()=>{s=o=null}))})}const ta=new an(t=>t.complete());function Js(t){return t<=0?()=>ta:hi((n,e)=>{let i=0;n.subscribe(Pi(e,o=>{++i<=t&&(e.next(o),t<=i&&e.complete())}))})}const g9={};let Zre=(()=>{class t{_appId=$(Sl);getId(e){return"ng"!==this._appId&&(e+=this._appId),g9.hasOwnProperty(e)||(g9[e]=0),`${e}${g9[e]++}`}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nx(t=0,n=b2){return t<0&&(t=0),hd(t,t,n)}function As(t,n,e=1/0){return fn(n)?As((i,o)=>Tt((s,r)=>n(i,s,o,r))(Wo(t(i,o))),e):("number"==typeof n&&(e=n),hi((i,o)=>function jre(t,n,e,i,o,s,r,a){const l=[];let c=0,h=0,p=!1;const f=()=>{p&&!l.length&&!c&&n.complete()},v=E=>c<i?C(E):l.push(E),C=E=>{s&&n.next(E),c++;let D=!1;Wo(e(E,h++)).subscribe(Pi(n,P=>{o?.(P),s?v(P):n.next(P)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<i;){const P=l.shift();r?d0(n,r,()=>C(P)):C(P)}f()}catch(P){n.error(P)}}))};return t.subscribe(Pi(n,v,()=>{p=!0,f()})),()=>{a?.()}}(i,o,t,e)))}function A2(t=1/0){return As(ms,t)}function u0(...t){const n=m_(t),e=function gse(t,n){return"number"==typeof QC(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?Wo(i[0]):A2(e)(Co(i,n)):ta}function Te(t){return hi((n,e)=>{Wo(t).subscribe(Pi(e,()=>e.complete(),ot)),!e.closed&&n.subscribe(e)})}function Mi(t,n){return hi((e,i)=>{let o=null,s=0,r=!1;const a=()=>r&&!o&&i.complete();e.subscribe(Pi(i,l=>{o?.unsubscribe();let c=0;const h=s++;Wo(t(l,h)).subscribe(o=Pi(i,p=>i.next(n?n(l,p,h,c++):p),()=>{o=null,a()}))},()=>{r=!0,a()}))})}function pd(...t){return function Xre(){return A2(1)}()(Co(t,m_(t)))}function O2(...t){const n=m_(t);return hi((e,i)=>{(n?pd(t,e,n):pd(t,e)).subscribe(i)})}const r6=new WeakMap;let Kre=(()=>{class t{_appRef;_injector=$(ri);_environmentInjector=$(xs);load(e){const i=this._appRef=this._appRef||this._injector.get(lr);let o=r6.get(i);o||(o={loaders:new Set,refs:[]},r6.set(i,o),i.onDestroy(()=>{r6.get(i)?.refs.forEach(s=>s.destroy()),r6.delete(i)})),o.loaders.has(e)||(o.loaders.add(e),o.refs.push(k3(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const qre=new Je("cdk-dir-doc",{providedIn:"root",factory:function Yre(){return $(Xn)}}),Qre=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ix=(()=>{class t{value="ltr";change=new Ee;constructor(){const e=$(qre,{optional:!0});e&&(this.value=function Jre(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?Qre.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ox(t){const n=t.cloneNode(!0),e=n.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();n.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return"canvas"===i?ax(t,n):("input"===i||"select"===i||"textarea"===i)&&rx(t,n),sx("canvas",t,n,ax),sx("input, textarea, select",t,n,rx),n}function sx(t,n,e,i){const o=n.querySelectorAll(t);if(o.length){const s=e.querySelectorAll(t);for(let r=0;r<o.length;r++)i(o[r],s[r])}}let eae=0;function rx(t,n){"file"!==n.type&&(n.value=t.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${eae++}`)}function ax(t,n){const e=n.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function f9(t){const n=t.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function m9(t,n,e){const{top:i,bottom:o,left:s,right:r}=t;return e>=i&&e<=o&&n>=s&&n<=r}function w_(t,n,e){t.top+=n,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function lx(t,n,e,i){const{top:o,right:s,bottom:r,left:a,width:l,height:c}=t,h=l*n,p=c*n;return i>o-p&&i<r+p&&e>a-h&&e<s+h}class cx{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:f9(e)})})}handleScroll(n){const e=s6(n),i=this.positions.get(e);if(!i)return null;const o=i.scrollPosition;let s,r;if(e===this._document){const c=this.getViewportScrollPosition();s=c.top,r=c.left}else s=e.scrollTop,r=e.scrollLeft;const a=o.top-s,l=o.left-r;return this.positions.forEach((c,h)=>{c.clientRect&&e!==h&&e.contains(h)&&w_(c.clientRect,a,l)}),o.top=s,o.left=r,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function dx(t,n){const e=t.rootNodes;if(1===e.length&&e[0].nodeType===n.ELEMENT_NODE)return e[0];const i=n.createElement("div");return e.forEach(o=>i.appendChild(o)),i}function v9(t,n,e){for(let i in n)if(n.hasOwnProperty(i)){const o=n[i];o?t.setProperty(i,o,e?.has(i)?"important":""):t.removeProperty(i)}return t}function y2(t,n){const e=n?"":"none";v9(t.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function ux(t,n,e){v9(t.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function a6(t,n){return n&&"none"!=n?t+" "+n:t}function hx(t,n){t.style.width=`${n.width}px`,t.style.height=`${n.height}px`,t.style.transform=l6(n.left,n.top)}function l6(t,n){return`translate3d(${Math.round(t)}px, ${Math.round(n)}px, 0)`}function _x(t){const n=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*n}function C9(t,n){return t.getPropertyValue(n).split(",").map(i=>i.trim())}const nae=new Set(["position"]);class iae{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,e,i,o,s,r,a,l,c,h){this._document=n,this._rootElement=e,this._direction=i,this._initialDomRect=o,this._previewTemplate=s,this._previewClass=r,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=h}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),px(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return function tae(t){const n=getComputedStyle(t),e=C9(n,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const o=e.indexOf(i),s=C9(n,"transition-duration"),r=C9(n,"transition-delay");return _x(s[o])+_x(r[o])}(this._preview)}addEventListener(n,e){return this._renderer.listen(this._preview,n,e)}_createPreview(){const n=this._previewTemplate,e=this._previewClass,i=n?n.template:null;let o;if(i&&n){const s=n.matchSize?this._initialDomRect:null,r=n.viewContainer.createEmbeddedView(i,n.context);r.detectChanges(),o=dx(r,this._document),this._previewEmbeddedView=r,n.matchSize?hx(o,s):o.style.transform=l6(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=ox(this._rootElement),hx(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return v9(o.style,{"pointer-events":"none",margin:px(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},nae),y2(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>o.classList.add(s)):o.classList.add(e)),o}}function px(t){return"showPopover"in t}const gx=E2({passive:!0}),c6=E2({passive:!1}),fx=E2({passive:!1,capture:!0}),mx=new Set(["position"]);class sae{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Q1(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new xe;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=si.EMPTY;_pointerUpSubscription=si.EMPTY;_scrollSubscription=si.EMPTY;_resizeSubscription=si.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>y2(e,n)))}_disabled=!1;beforeStarted=new xe;started=new xe;released=new xe;ended=new xe;entered=new xe;exited=new xe;dropped=new xe;moved=this._moveEvents;data;constrainPosition;constructor(n,e,i,o,s,r,a){this._config=e,this._document=i,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=r,this._renderer=a,this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new cx(i),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>Hl(i)),this._handles.forEach(i=>y2(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const e=Hl(n);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,c6),e.addEventListener("touchstart",this._pointerDown,gx),e.addEventListener("dragstart",this._nativeDragStart,c6)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?Hl(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),y2(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),y2(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Cx,fx)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){const e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{const e=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const a=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),l=this._dropContainer;if(!a)return void this._endDragSequence(n);(!l||!l.isDragging()&&!l.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();const i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{const o=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,s=this._activeTransform;s.x=i.x-o.x+this._passiveTransform.x,s.y=i.y-o.y+this._passiveTransform.y,this._applyRootElementTransform(s.x,s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:n,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){b_(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{e.addEventListener("selectstart",Cx,fx)}),i){const o=this._rootElement,s=o.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(a,o),this._initialTransform=o.style.transform||"",this._preview=new iae(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(s,e)),ux(o,!1,mx),this._document.body.appendChild(s.replaceChild(r,o)),this.started.next({source:this,event:n}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),o=b_(e),s=!o&&0!==e.button,r=this._rootElement,a=s6(e),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=o?function Gre(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}(e):function $re(t){return 0===t.buttons||0===t.detail}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||l||c)return;if(this._handles.length){const f=r.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=f9(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,e);const p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){ux(this._rootElement,!0,mx),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),o=this._getPointerPositionOnPage(n),s=this._getDragDistance(o),r=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:s,dropPoint:o,event:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:o,event:n}),e.drop(this,i,this._initialIndex,this._initialContainer,r,s,o,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:i,y:o}){let s=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,n,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const e=this._preview.getTransitionDuration();return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const o=a=>{(!a||this._preview&&s6(a)===this._preview.element&&"transform"===a.propertyName)&&(r(),i(),clearTimeout(s))},s=setTimeout(o,1.5*e),r=this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,e=n?n.template:null;let i;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),i=dx(this._placeholderRef,this._document)):i=ox(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(n,e,i){const o=e===this._rootElement?null:e,s=o?o.getBoundingClientRect():n,r=b_(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:s.left-n.left+(r.pageX-s.left-a.left),y:s.top-n.top+(r.pageY-s.top-a.top)}}_getPointerPositionOnPage(n){const e=this._getViewportScrollPosition(),i=b_(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,o=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const r=this._ownerSVGElement.getScreenCTM();if(r){const a=this._ownerSVGElement.createSVGPoint();return a.x=o,a.y=s,a.matrixTransform(r.inverse())}}return{x:o,y:s}}_getConstrainedPointerPosition(n){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:o}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),h=a.top+r,p=a.bottom-(c-r);i=vx(i,a.left+s,a.right-(l-s)),o=vx(o,h,p)}return{x:i,y:o}}_updatePointerDirectionDelta(n){const{x:e,y:i}=n,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-s.x),a=Math.abs(i-s.y);return r>this._config.pointerDirectionChangeThreshold&&(o.x=e>s.x?1:-1,s.x=e),a>this._config.pointerDirectionChangeThreshold&&(o.y=i>s.y?1:-1,s.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,y2(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,c6),n.removeEventListener("touchstart",this._pointerDown,gx),n.removeEventListener("dragstart",this._nativeDragStart,c6)}_applyRootElementTransform(n,e){const i=1/this.scale,o=l6(n*i,e*i),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=a6(o,this._initialTransform)}_applyPreviewTransform(n,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,o=l6(n,e);this._preview.setTransform(a6(o,i))}_getDragDistance(n){const e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(0===n&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===i.width&&0===i.height)return;const s=o.left-i.left,r=i.right-o.right,a=o.top-i.top,l=i.bottom-o.bottom;o.width>i.width?(s>0&&(n+=s),r>0&&(n-=r)):n=0,o.height>i.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){const e=this.dragStartDelay;return"number"==typeof e?e:b_(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){const e=this._parentPositions.handleScroll(n);if(e){const i=s6(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&w_(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=_9(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){const i=this._previewContainer||"global";if("parent"===i)return n;if("global"===i){const o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return Hl(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){const e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}}function vx(t,n,e){return Math.max(n,Math.min(e,t))}function b_(t){return"t"===t.type[0]}function Cx(t){t.preventDefault()}function gd(t,n,e){const i=S_(n,t.length-1),o=S_(e,t.length-1);if(i===o)return;const s=t[i],r=o<i?-1:1;for(let a=i;a!==o;a+=r)t[a]=t[a+r];t[o]=s}function S_(t,n){return Math.max(0,Math.min(n,t))}class Mx{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,e,i,o){const s=this._itemPositions,r=this._getItemIndexFromPointerPosition(n,e,i,o);if(-1===r&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(D=>D.drag===n),c=s[r],p=c.clientRect,f=l>r?1:-1,v=this._getItemOffsetPx(s[l].clientRect,p,f),C=this._getSiblingOffsetPx(l,s,f),E=s.slice();return gd(s,l,r),s.forEach((D,P)=>{if(E[P]===D)return;const I=D.drag===n,k=I?v:C,R=I?n.getPlaceholderElement():D.drag.getRootElement();D.offset+=k;const ee=Math.round(D.offset*(1/D.drag.scale));a?(R.style.transform=a6(`translate3d(${ee}px, 0, 0)`,D.initialTransform),w_(D.clientRect,0,k)):(R.style.transform=a6(`translate3d(0, ${ee}px, 0)`,D.initialTransform),w_(D.clientRect,k,0))}),this._previousSwap.overlaps=m9(p,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?o.x:o.y,{previousIndex:l,currentIndex:r}}enter(n,e,i,o){const s=null==o||o<0?this._getItemIndexFromPointerPosition(n,e,i):o,r=this._activeDraggables,a=r.indexOf(n),l=n.getPlaceholderElement();let c=r[s];if(c===n&&(c=r[s+1]),!c&&(null==s||-1===s||s<r.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=r[0]),a>-1&&r.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const h=c.getRootElement();h.parentElement.insertBefore(l,h),r.splice(s,0,n)}else this._element.appendChild(l),r.push(n);l.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{const e=n.getRootElement();if(e){const i=this._itemPositions.find(o=>o.drag===n)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===n)}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:i})=>{w_(i,n,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){const n="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:f9(i)}}).sort((e,i)=>n?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(n,e,i){const o="horizontal"===this.orientation;let s=o?e.left-n.left:e.top-n.top;return-1===i&&(s+=o?e.width-n.width:e.height-n.height),s}_getSiblingOffsetPx(n,e,i){const o="horizontal"===this.orientation,s=e[n].clientRect,r=e[n+-1*i];let a=s[o?"width":"height"]*i;if(r){const l=o?"left":"top",c=o?"right":"bottom";-1===i?a-=r.clientRect[l]-s[c]:a+=s[l]-r.clientRect[c]}return a}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,o="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const r=i[i.length-1].clientRect;return o?n>=r.right:e>=r.bottom}{const r=i[0].clientRect;return o?n<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(n,e,i,o){const s="horizontal"===this.orientation,r=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==n&&((!o||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?o.x:o.y)!==this._previousSwap.delta)&&(s?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==r&&this._sortPredicate(r,n)?r:-1}}class rae{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,e){this._document=n,this._dragDropRegistry=e}start(n){const e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){const o=e[i];this._relatedNodes.push([o,o.nextSibling])}this.withItems(n)}sort(n,e,i,o){const s=this._getItemIndexFromPointerPosition(n,e,i),r=this._previousSwap;if(-1===s||this._activeItems[s]===n)return null;const a=this._activeItems[s];if(r.drag===a&&r.overlaps&&r.deltaX===o.x&&r.deltaY===o.y)return null;const l=this.getItemIndex(n),c=n.getPlaceholderElement(),h=a.getRootElement();s>l?h.after(c):h.before(c),gd(this._activeItems,l,s);const p=this._getRootNode().elementFromPoint(e,i);return r.deltaX=o.x,r.deltaY=o.y,r.drag=a,r.overlaps=h===p||h.contains(p),{previousIndex:l,currentIndex:s}}enter(n,e,i,o){let s=null==o||o<0?this._getItemIndexFromPointerPosition(n,e,i):o;-1===s&&(s=this._getClosestItemIndexToPointer(n,e,i));const r=this._activeItems[s],a=this._activeItems.indexOf(n);a>-1&&this._activeItems.splice(a,1),r&&!this._dragDropRegistry.isDragging(r)?(this._activeItems.splice(s,0,n),r.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){const n=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){const[o,s]=this._relatedNodes[i];o.parentNode===n&&o.nextSibling!==s&&(null===s?n.appendChild(o):s.parentNode===n&&n.insertBefore(o,s))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,e,i){const o=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),s=o?this._activeItems.findIndex(r=>{const a=r.getRootElement();return o===a||a.contains(o)}):-1;return-1!==s&&this._sortPredicate(s,n)?s:-1}_getRootNode(){return this._rootNode||(this._rootNode=_9(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,e,i){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let o=1/0,s=-1;for(let r=0;r<this._activeItems.length;r++){const a=this._activeItems[r];if(a!==n){const{x:l,y:c}=a.getRootElement().getBoundingClientRect(),h=Math.hypot(e-l,i-c);h<o&&(o=h,s=r)}}return s}}var d1=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(d1||{}),Ir=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(Ir||{});class aae{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new xe;entered=new xe;exited=new xe;dropped=new xe;sorted=new xe;receivingStarted=new xe;receivingStopped=new xe;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=si.EMPTY;_verticalScrollDirection=d1.NONE;_horizontalScrollDirection=Ir.NONE;_scrollNode;_stopScrollTimers=new xe;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,e,i,o,s){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=s;const r=this.element=Hl(n);this._document=i,this.withOrientation("vertical").withElementContainer(r),e.registerDropContainer(this),this._parentPositions=new cx(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,i,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,i,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,i,o,s,r,a,l={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:s,distance:r,dropPoint:a,event:l})}withItems(n){const e=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>-1===n.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof Mx&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if("mixed"===n)this._sortStrategy=new rae(this._document,this._dragDropRegistry);else{const e=new Mx(this._dragDropRegistry);e.direction=this._direction,e.orientation=n,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(n){const e=this._container;return this._scrollableElements=-1===n.indexOf(e)?[e,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;Hl(this.element);const i=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(n);return i>-1&&this._scrollableElements.splice(i,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,i,o){if(this.sortingDisabled||!this._domRect||!lx(this._domRect,.05,e,i))return;const s=this._sortStrategy.sort(n,e,i,o);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let i,o=d1.NONE,s=Ir.NONE;if(this._parentPositions.positions.forEach((r,a)=>{a===this._document||!r.clientRect||i||lx(r.clientRect,.05,n,e)&&([o,s]=function lae(t,n,e,i,o){const s=bx(n,o),r=Sx(n,i);let a=d1.NONE,l=Ir.NONE;if(s){const c=t.scrollTop;s===d1.UP?c>0&&(a=d1.UP):t.scrollHeight-c>t.clientHeight&&(a=d1.DOWN)}if(r){const c=t.scrollLeft;"rtl"===e?r===Ir.RIGHT?c<0&&(l=Ir.RIGHT):t.scrollWidth+c>t.clientWidth&&(l=Ir.LEFT):r===Ir.LEFT?c>0&&(l=Ir.LEFT):t.scrollWidth-c>t.clientWidth&&(l=Ir.RIGHT)}return[a,l]}(a,r.clientRect,this._direction,n,e),(o||s)&&(i=a))}),!o&&!s){const{width:r,height:a}=this._viewportRuler.getViewportSize(),l={width:r,height:a,top:0,right:r,bottom:a,left:0};o=bx(l,e),s=Sx(l,n),i=window}i&&(o!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=s,this._scrollNode=i,(o||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),nx(0,l9).pipe(Te(this._stopScrollTimers)).subscribe(()=>{const n=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===d1.UP?n.scrollBy(0,-e):this._verticalScrollDirection===d1.DOWN&&n.scrollBy(0,e),this._horizontalScrollDirection===Ir.LEFT?n.scrollBy(-e,0):this._horizontalScrollDirection===Ir.RIGHT&&n.scrollBy(e,0)})};_isOverContainer(n,e){return null!=this._domRect&&m9(this._domRect,n,e)}_getSiblingContainerFromPosition(n,e,i){return this._siblings.find(o=>o._canReceive(n,e,i))}_canReceive(n,e,i){if(!this._domRect||!m9(this._domRect,e,i)||!this.enterPredicate(n,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,i);return!!o&&(o===this._container||this._container.contains(o))}_startReceiving(n,e){const i=this._activeSiblings;!i.has(n)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=_9(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}}function bx(t,n){const{top:e,bottom:i,height:o}=t,s=.05*o;return n>=e-s&&n<=e+s?d1.UP:n>=i-s&&n<=i+s?d1.DOWN:d1.NONE}function Sx(t,n){const{left:e,right:i,width:o}=t,s=.05*o;return n>=e-s&&n<=e+s?Ir.LEFT:n>=i-s&&n<=i+s?Ir.RIGHT:Ir.NONE}const d6=E2({passive:!1,capture:!0});let cae=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ke({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return t})(),M9=(()=>{class t{_ngZone=$(cn);_document=$(Xn);_styleLoader=$(Kre);_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Q1([]);_globalListeners=new Map;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new xe;pointerUp=new xe;scroll=new xe;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,d6)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,d6)}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(cae),this._activeDragInstances.update(o=>[...o,e]),1===this._activeDragInstances().length)){const o=i.type.startsWith("touch"),s={handler:r=>this.pointerUp.next(r),options:!0};o?(this._globalListeners.set("touchend",s),this._globalListeners.set("touchcancel",s)):this._globalListeners.set("mouseup",s),this._globalListeners.set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:d6}),o||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:d6}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(e){this._activeDragInstances.update(i=>{const o=i.indexOf(e);return o>-1?(i.splice(o,1),[...i]):i}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new an(o=>this._ngZone.runOutsideAngular(()=>{const r=a=>{this._activeDragInstances().length&&o.next(a)};return e.addEventListener("scroll",r,!0),()=>{e.removeEventListener("scroll",r,!0)}}))),u0(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const dae={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let T9=(()=>{class t{_document=$(Xn);_ngZone=$(cn);_viewportRuler=$(mre);_dragDropRegistry=$(M9);_renderer=$(o0).createRenderer(null,null);constructor(){}createDrag(e,i=dae){return new sae(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new aae(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const E_=new Je("CDK_DRAG_PARENT"),Ex=new Je("CdkDragHandle");let w9=(()=>{class t{element=$(pn);_parentDrag=$(E_,{optional:!0,skipSelf:!0});_dragDropRegistry=$(M9);_stateChanges=new xe;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){const i=this._dragDropRegistry.getDragDirectiveForNode(e);if(i){this._parentDrag=i,i._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=et({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",Ri]},features:[tn([{provide:Ex,useExisting:t}]),s0]})}return t})();const Ax=new Je("CDK_DRAG_CONFIG"),Ox=new Je("CdkDropList");let N2=(()=>{class t{element=$(pn);dropContainer=$(Ox,{optional:!0,skipSelf:!0});_ngZone=$(cn);_viewContainerRef=$(qs);_dir=$(ix,{optional:!0});_changeDetectorRef=$(Ss);_selfHandle=$(Ex,{optional:!0,self:!0});_parentDrag=$(E_,{optional:!0,skipSelf:!0});_dragDropRegistry=$(M9);_destroyed=new xe;_handles=new ui([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Ee;released=new Ee;ended=new Ee;entered=new Ee;exited=new Ee;dropped=new Ee;moved=new an(e=>{const i=this._dragRef.moved.pipe(Tt(o=>({source:this,pointerPosition:o.pointerPosition,event:o.event,delta:o.delta,distance:o.distance}))).subscribe(e);return()=>{i.unsubscribe()}});_injector=$(ri);constructor(){const e=this.dropContainer,i=$(Ax,{optional:!0}),o=$(T9);this._dragRef=o.createDrag(this.element,{dragStartThreshold:i&&null!=i.dragStartThreshold?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&null!=i.pointerDirectionChangeThreshold?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(Te(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){jr(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){const i=e.rootElementSelector,o=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){const i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){const i=this._handles.getValue(),o=i.indexOf(e);o>-1&&(i.splice(o,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Hl(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay="object"==typeof o&&o?o:AI(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Js(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){const o=this._dragDropRegistry.getDragDirectiveForNode(i);if(o){e.withParent(o._dragRef);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:o,constrainPosition:s,previewClass:r,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:h}=e;this.disabled=l??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),r&&(this.previewClass=r),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.pipe(un(e=>{const i=e.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Mi(e=>u0(...e.map(i=>i._stateChanges.pipe(O2(i))))),Te(this._destroyed)).subscribe(e=>{const i=this._dragRef,o=e.element.nativeElement;e.disabled?i.disableHandle(o):i.enableHandle(o)})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=et({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,o){2&i&&Ce("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Ri],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",h_]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[tn([{provide:E_,useExisting:t}]),s0,xi]})}return t})();const b9=new Je("CdkDropListGroup");let D2=(()=>{class t{element=$(pn);_changeDetectorRef=$(Ss);_scrollDispatcher=$(gre);_dir=$(ix,{optional:!0});_group=$(b9,{optional:!0,skipSelf:!0});_destroyed=new xe;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=$(Zre).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new Ee;entered=new Ee;exited=new Ee;sorted=new Ee;_unsortedItems=new Set;constructor(){const e=$(T9),i=$(Ax,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(o,s)=>this.enterPredicate(o.data,s.data),this._dropListRef.sortPredicate=(o,s,r)=>this.sortPredicate(o,s.data,r.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(O2(this._dir.value),Te(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function pse(t){return Array.isArray(t)?t:[t]}(this.connectedTo).map(o=>"string"==typeof o?t._dropLists.find(r=>r.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===i.indexOf(o)&&i.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const o=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(o)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=AI(this.autoScrollStep,2),e.connectedTo(i.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),u0(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:i,draggingDisabled:o,sortingDisabled:s,listAutoScrollDisabled:r,listOrientation:a}=e;this.disabled=o??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=r??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=et({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,o){2&i&&(Un("id",o.id),Ce("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Ri],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Ri],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Ri],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[tn([{provide:b9,useValue:void 0},{provide:Ox,useExisting:t}]),s0]})}return t})(),fd=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({providers:[T9],imports:[vre]})}return t})();function P2(t,n){return fn(n)?As(t,n,1):As(t,1)}function A_(t){return hi((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class u6{}class h6{}class u1{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),s=e.slice(i+1).trim();this.addHeaderEntry(o,s)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof u1?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new u1;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof u1?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const s=n.value;if(s){let r=this.headers.get(e);if(!r)return;r=r.filter(a=>-1===s.indexOf(a)),0===r.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,r)}else this.headers.delete(e),this.normalizedNames.delete(e)}}addHeaderEntry(n,e){const i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(n,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),o=n.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class gae{encodeKey(n){return yx(n)}encodeValue(n){return yx(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const mae=/%(\d[a-f0-9])/gi,vae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yx(t){return encodeURIComponent(t).replace(mae,(n,e)=>vae[e]??n)}function _6(t){return`${t}`}class na{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new gae,n.fromString){if(n.fromObject)throw new He(2805,!1);this.map=function fae(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[r,a]=-1==s?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,s)),n.decodeValue(o.slice(s+1))],l=e.get(r)||[];l.push(a),e.set(r,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],o=Array.isArray(i)?i.map(_6):[_6(i)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new na({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(_6(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(_6(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class Cae{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function Nx(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Dx(t){return typeof Blob<"u"&&t instanceof Blob}function Px(t){return typeof FormData<"u"&&t instanceof FormData}const O_="Content-Type",S9="X-Request-URL",Ix="text/plain",xx="application/json",Lx=`${xx}, ${Ix}, */*`;class y_{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,e,i,o){let s;if(this.url=e,this.method=n.toUpperCase(),function Mae(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,s=o):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new u1,this.context??=new Cae,this.params){const r=this.params.toString();if(0===r.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+r}}else this.params=new na,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||Nx(this.body)||Dx(this.body)||Px(this.body)||function Tae(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof na?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Px(this.body)?null:Dx(this.body)?this.body.type||null:Nx(this.body)?null:"string"==typeof this.body?Ix:this.body instanceof na?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?xx:null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,s=n.transferCache??this.transferCache,r=void 0!==n.body?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress;let c=n.headers||this.headers,h=n.params||this.params;const p=n.context??this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce((f,v)=>f.set(v,n.setHeaders[v]),c)),n.setParams&&(h=Object.keys(n.setParams).reduce((f,v)=>f.set(v,n.setParams[v]),h)),new y_(e,i,r,{params:h,headers:c,context:p,reportProgress:l,responseType:o,withCredentials:a,transferCache:s})}}var h0=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(h0||{});class E9{headers;status;statusText;url;ok;type;constructor(n,e=200,i="OK"){this.headers=n.headers||new u1,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class g6 extends E9{constructor(n={}){super(n)}type=h0.ResponseHeader;clone(n={}){return new g6({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class md extends E9{body;constructor(n={}){super(n),this.body=void 0!==n.body?n.body:null}type=h0.Response;clone(n={}){return new md({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class I2 extends E9{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function A9(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let Ji=(()=>{class t{handler;constructor(e){this.handler=e}request(e,i,o={}){let s;if(e instanceof y_)s=e;else{let l,c;l=o.headers instanceof u1?o.headers:new u1(o.headers),o.params&&(c=o.params instanceof na?o.params:new na({fromObject:o.params})),s=new y_(e,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const r=Et(s).pipe(P2(l=>this.handler.handle(l)));if(e instanceof y_||"events"===o.observe)return r;const a=r.pipe(li(l=>l instanceof md));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Tt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new He(2806,!1);return l.body}));case"blob":return a.pipe(Tt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new He(2807,!1);return l.body}));case"text":return a.pipe(Tt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new He(2808,!1);return l.body}));default:return a.pipe(Tt(l=>l.body))}case"response":return a;default:throw new He(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new na).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,A9(o,i))}post(e,i,o={}){return this.request("POST",e,A9(o,i))}put(e,i,o={}){return this.request("PUT",e,A9(o,i))}static \u0275fac=function(i){return new(i||t)(Be(u6))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();const kx=new Je("");function zx(t,n){return n(t)}function Oae(t,n){return(e,i)=>n.intercept(e,{handle:o=>t(o,i)})}const N9=new Je(""),N_=new Je(""),Vx=new Je(""),Hx=new Je("",{providedIn:"root",factory:()=>!0});function Nae(){let t=null;return(n,e)=>{null===t&&(t=($(N9,{optional:!0})??[]).reduceRight(Oae,zx));const i=$(A1);if($(Hx)){const s=i.add();return t(n,e).pipe(A_(()=>i.remove(s)))}return t(n,e)}}let $x=(()=>{class t extends u6{backend;injector;chain=null;pendingTasks=$(A1);contributeToStability=$(Hx);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(N_),...this.injector.get(Vx,[])]));this.chain=i.reduceRight((o,s)=>function yae(t,n,e){return(i,o)=>qa(e,()=>n(i,s=>t(s,o)))}(o,s,this.injector),zx)}if(this.contributeToStability){const i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(A_(()=>this.pendingTasks.remove(i)))}return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||t)(Be(h6),Be(xs))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();const Lae=/^\)\]\}',?\n/,Rae=RegExp(`^${S9}:`,"m");let Bx=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new He(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Co(i.\u0275loadImpl()):Et(null)).pipe(Mi(()=>new an(s=>{const r=i.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((E,D)=>r.setRequestHeader(E,D.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept",Lx),!e.headers.has(O_)){const E=e.detectContentTypeHeader();null!==E&&r.setRequestHeader(O_,E)}if(e.responseType){const E=e.responseType.toLowerCase();r.responseType="json"!==E?E:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const E=r.statusText||"OK",D=new u1(r.getAllResponseHeaders()),P=function Fae(t){return"responseURL"in t&&t.responseURL?t.responseURL:Rae.test(t.getAllResponseHeaders())?t.getResponseHeader(S9):null}(r)||e.url;return l=new g6({headers:D,status:r.status,statusText:E,url:P}),l},h=()=>{let{headers:E,status:D,statusText:P,url:I}=c(),k=null;204!==D&&(k=typeof r.response>"u"?r.responseText:r.response),0===D&&(D=k?200:0);let R=D>=200&&D<300;if("json"===e.responseType&&"string"==typeof k){const ee=k;k=k.replace(Lae,"");try{k=""!==k?JSON.parse(k):null}catch(re){k=ee,R&&(R=!1,k={error:re,text:k})}}R?(s.next(new md({body:k,headers:E,status:D,statusText:P,url:I||void 0})),s.complete()):s.error(new I2({error:k,headers:E,status:D,statusText:P,url:I||void 0}))},p=E=>{const{url:D}=c(),P=new I2({error:E,status:r.status||0,statusText:r.statusText||"Unknown Error",url:D||void 0});s.error(P)};let f=!1;const v=E=>{f||(s.next(c()),f=!0);let D={type:h0.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(D.total=E.total),"text"===e.responseType&&r.responseText&&(D.partialText=r.responseText),s.next(D)},C=E=>{let D={type:h0.UploadProgress,loaded:E.loaded};E.lengthComputable&&(D.total=E.total),s.next(D)};return r.addEventListener("load",h),r.addEventListener("error",p),r.addEventListener("timeout",p),r.addEventListener("abort",p),e.reportProgress&&(r.addEventListener("progress",v),null!==a&&r.upload&&r.upload.addEventListener("progress",C)),r.send(a),s.next({type:h0.Sent}),()=>{r.removeEventListener("error",p),r.removeEventListener("abort",p),r.removeEventListener("load",h),r.removeEventListener("timeout",p),e.reportProgress&&(r.removeEventListener("progress",v),null!==a&&r.upload&&r.upload.removeEventListener("progress",C)),r.readyState!==r.DONE&&r.abort()}})))}static \u0275fac=function(i){return new(i||t)(Be(gI))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();const D9=new Je(""),Ux=new Je("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Wx=new Je("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Zx{}let Vae=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=iI(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||t)(Be(Xn),Be(Ma),Be(Ux))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();function Hae(t,n){const e=t.url.toLowerCase();if(!$(D9)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const i=$(Zx).getToken(),o=$(Wx);return null!=i&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,i)})),n(t)}var Gl=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Gl||{});const jx=new Je(""),{isArray:t1e}=Array,{getPrototypeOf:n1e,prototype:i1e,keys:o1e}=Object;function Kx(t){if(1===t.length){const n=t[0];if(t1e(n))return{args:n,keys:null};if(function s1e(t){return t&&"object"==typeof t&&n1e(t)===i1e}(n)){const e=o1e(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:r1e}=Array;function P9(t){return Tt(n=>function a1e(t,n){return r1e(n)?t(...n):t(n)}(t,n))}function qx(t,n){return t.reduce((e,i,o)=>(e[i]=n[o],e),{})}let Yx=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||t)(x(s1),x(pn))};static \u0275dir=et({type:t})}return t})(),Cd=(()=>{class t extends Yx{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275dir=et({type:t,features:[st]})}return t})();const pi=new Je(""),c1e={provide:pi,useExisting:sn(()=>Zo),multi:!0};let Zo=(()=>{class t extends Cd{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275dir=et({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){1&i&&T("change",function(r){return o.onChange(r.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[tn([c1e]),st]})}return t})();const d1e={provide:pi,useExisting:sn(()=>Ti),multi:!0},h1e=new Je("");let Ti=(()=>{class t extends Yx{_compositionMode;_composing=!1;constructor(e,i,o){super(e,i),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function u1e(){const t=U0()?U0().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||t)(x(s1),x(pn),x(h1e,8))};static \u0275dir=et({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&T("input",function(r){return o._handleInput(r.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(r){return o._compositionEnd(r.target.value)})},standalone:!1,features:[tn([d1e]),st]})}return t})();function Bl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const er=new Je(""),Ul=new Je("");function tL(t){return Bl(t.value)?{required:!0}:null}function m6(t){return null}function aL(t){return null!=t}function lL(t){return Gh(t)?Co(t):t}function cL(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function dL(t,n){return n.map(e=>e(t))}function uL(t){return t.map(n=>function p1e(t){return!t.validate}(n)?n:e=>n.validate(e))}function I9(t){return null!=t?function hL(t){if(!t)return null;const n=t.filter(aL);return 0==n.length?null:function(e){return cL(dL(e,n))}}(uL(t)):null}function x9(t){return null!=t?function _L(t){if(!t)return null;const n=t.filter(aL);return 0==n.length?null:function(e){return function l1e(...t){const n=e6(t),{args:e,keys:i}=Kx(t),o=new an(s=>{const{length:r}=e;if(!r)return void s.complete();const a=new Array(r);let l=r,c=r;for(let h=0;h<r;h++){let p=!1;Wo(e[h]).subscribe(Pi(s,f=>{p||(p=!0,c--),a[h]=f},()=>l--,void 0,()=>{(!l||!p)&&(c||s.next(i?qx(i,a):a),s.complete())}))}});return n?o.pipe(P9(n)):o}(dL(e,n).map(lL)).pipe(Tt(cL))}}(uL(t)):null}function pL(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function gL(t){return t._rawValidators}function fL(t){return t._rawAsyncValidators}function L9(t){return t?Array.isArray(t)?t:[t]:[]}function v6(t,n){return Array.isArray(t)?t.includes(n):t===n}function mL(t,n){const e=L9(n);return L9(t).forEach(o=>{v6(e,o)||e.push(o)}),e}function vL(t,n){return L9(n).filter(e=>!v6(t,e))}class CL{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=I9(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=x9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class xr extends CL{name;get formDirective(){return null}get path(){return null}}class Wl extends CL{_parent=null;name=null;valueAccessor=null}class ML{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let jt=(()=>{class t extends ML{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(x(Wl,2))};static \u0275dir=et({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&Ce("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[st]})}return t})(),Mo=(()=>{class t extends ML{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(x(xr,10))};static \u0275dir=et({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&Ce("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[st]})}return t})();const D_="VALID",M6="INVALID",x2="PENDING",P_="DISABLED";class L2{}class wL extends L2{value;source;constructor(n,e){super(),this.value=n,this.source=e}}class k9 extends L2{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}}class z9 extends L2{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}}class T6 extends L2{status;source;constructor(n,e){super(),this.status=n,this.source=e}}class C1e extends L2{source;constructor(n){super(),this.source=n}}class M1e extends L2{source;constructor(n){super(),this.source=n}}function V9(t){return(w6(t)?t.validators:t)||null}function H9(t,n){return(w6(n)?n.asyncValidators:t)||null}function w6(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function bL(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new He(1e3,"");if(!i[e])throw new He(1001,"")}function SL(t,n,e){t._forEachChild((i,o)=>{if(void 0===e[o])throw new He(1002,"")})}class $9{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Qs(this.statusReactive)}set status(n){Qs(()=>this.statusReactive.set(n))}_status=c0(()=>this.statusReactive());statusReactive=Q1(void 0);get valid(){return this.status===D_}get invalid(){return this.status===M6}get pending(){return this.status==x2}get disabled(){return this.status===P_}get enabled(){return this.status!==P_}errors;get pristine(){return Qs(this.pristineReactive)}set pristine(n){Qs(()=>this.pristineReactive.set(n))}_pristine=c0(()=>this.pristineReactive());pristineReactive=Q1(!0);get dirty(){return!this.pristine}get touched(){return Qs(this.touchedReactive)}set touched(n){Qs(()=>this.touchedReactive.set(n))}_touched=c0(()=>this.touchedReactive());touchedReactive=Q1(!1);get untouched(){return!this.touched}_events=new xe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(mL(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(mL(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(vL(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(vL(n,this._rawAsyncValidators))}hasValidator(n){return v6(this._rawValidators,n)}hasAsyncValidator(n){return v6(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const e=!1===this.touched;this.touched=!0;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:i}),e&&!1!==n.emitEvent&&this._events.next(new z9(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&!1!==n.emitEvent&&this._events.next(new z9(!1,i))}markAsDirty(n={}){const e=!0===this.pristine;this.pristine=!1;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:i}),e&&!1!==n.emitEvent&&this._events.next(new k9(!1,i))}markAsPristine(n={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&!1!==n.emitEvent&&this._events.next(new k9(!0,i))}markAsPending(n={}){this.status=x2;const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new T6(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:e})}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=P_,this.errors=null,this._forEachChild(o=>{o.disable({...n,onlySelf:!0})}),this._updateValue();const i=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new wL(this.value,i)),this._events.next(new T6(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=D_,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===D_||this.status===x2)&&this._runAsyncValidator(i,n.emitEvent)}const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new wL(this.value,e)),this._events.next(new T6(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:e})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?P_:D_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=x2,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const i=lL(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new T6(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new Ee,this.statusChanges=new Ee}_calculateStatus(){return this._allControlsDisabled()?P_:this.errors?M6:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(x2)?x2:this._anyControlsHaveStatus(M6)?M6:D_}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){const i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),o&&this._events.next(new k9(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new z9(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){w6(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function T1e(t){return Array.isArray(t)?I9(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function w1e(t){return Array.isArray(t)?x9(t):t||null}(this._rawAsyncValidators)}}class Kn extends $9{constructor(n,e,i){super(V9(e),H9(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){SL(this,0,n),Object.keys(n).forEach(i=>{bL(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const o=this.controls[i];o&&o.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,o)=>{i.reset(n?n[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((o,s)=>{i=e(i,o,s)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Md=new Je("",{providedIn:"root",factory:()=>I_}),I_="always";function b6(t,n){return[...n.path,t]}function x_(t,n,e=I_){G9(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function E1e(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&EL(t,n)})}(t,n),function O1e(t,n){const e=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function A1e(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&EL(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function S1e(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function S6(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),A6(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function E6(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function G9(t,n){const e=gL(t);null!==n.validator?t.setValidators(pL(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=fL(t);null!==n.asyncValidator?t.setAsyncValidators(pL(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const o=()=>t.updateValueAndValidity();E6(n._rawValidators,o),E6(n._rawAsyncValidators,o)}function A6(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=gL(t);if(Array.isArray(o)&&o.length>0){const s=o.filter(r=>r!==n.validator);s.length!==o.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const o=fL(t);if(Array.isArray(o)&&o.length>0){const s=o.filter(r=>r!==n.asyncValidator);s.length!==o.length&&(e=!0,t.setAsyncValidators(s))}}}const i=()=>{};return E6(n._rawValidators,i),E6(n._rawAsyncValidators,i),e}function EL(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function AL(t,n){G9(t,n)}function U9(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function OL(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function W9(t,n){if(!n)return null;let e,i,o;return Array.isArray(n),n.forEach(s=>{s.constructor===Ti?e=s:function D1e(t){return Object.getPrototypeOf(t.constructor)===Cd}(s)?i=s:o=s}),o||i||e||null}const I1e={provide:xr,useExisting:sn(()=>R_)},L_=Promise.resolve();let R_=(()=>{class t extends xr{callSetDisabledState;get submitted(){return Qs(this.submittedReactive)}_submitted=c0(()=>this.submittedReactive());submittedReactive=Q1(!1);_directives=new Set;form;ngSubmit=new Ee;options;constructor(e,i,o){super(),this.callSetDisabledState=o,this.form=new Kn({},I9(e),x9(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){L_.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),x_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){L_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){L_.then(()=>{const i=this._findContainer(e.path),o=new Kn({});AL(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){L_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){L_.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),OL(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||t)(x(er,10),x(Ul,10),x(Md,8))};static \u0275dir=et({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){1&i&&T("submit",function(r){return o.onSubmit(r)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[tn([I1e]),st]})}return t})();function yL(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function NL(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const de=class extends $9{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,i){super(V9(e),H9(i,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),w6(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=NL(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){yL(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){yL(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){NL(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let DL=(()=>{class t extends xr{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return b6(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275dir=et({type:t,standalone:!1,features:[st]})}return t})();const R1e={provide:Wl,useExisting:sn(()=>Rn)},IL=Promise.resolve();let Rn=(()=>{class t extends Wl{_changeDetectorRef;callSetDisabledState;control=new de;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ee;constructor(e,i,o,s,r,a){super(),this._changeDetectorRef=r,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=W9(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),U9(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){x_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){IL.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&Ri(i);IL.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?b6(e,this._parent):[e]}static \u0275fac=function(i){return new(i||t)(x(xr,9),x(er,10),x(Ul,10),x(pi,10),x(Ss,8),x(Md,8))};static \u0275dir=et({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[tn([R1e]),st,xi]})}return t})(),Oo=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=et({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();const F1e={provide:pi,useExisting:sn(()=>Zl),multi:!0};let Zl=(()=>{class t extends Cd{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275dir=et({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){1&i&&T("input",function(r){return o.onChange(r.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[tn([F1e]),st]})}return t})();const k1e={provide:pi,useExisting:sn(()=>R2),multi:!0};let z1e=(()=>{class t{_accessors=[];add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),R2=(()=>{class t extends Cd{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=$(Md,{optional:!0})??I_;constructor(e,i,o,s){super(e,i),this._registry=o,this._injector=s}ngOnInit(){this._control=this._injector.get(Wl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||t)(x(s1),x(pn),x(z1e),x(ri))};static \u0275dir=et({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){1&i&&T("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[tn([k1e]),st]})}return t})();const Z9=new Je(""),$1e={provide:xr,useExisting:sn(()=>co)};let co=(()=>{class t extends xr{callSetDisabledState;get submitted(){return Qs(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=c0(()=>this._submittedReactive());_submittedReactive=Q1(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ee;constructor(e,i,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(A6(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return x_(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){S6(e.control||null,e,!1),function P1e(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),OL(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new C1e(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new M1e(this.form))}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(S6(i||null,e),(t=>t instanceof de)(o)&&(x_(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);AL(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function y1e(t,n){return A6(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G9(this.form,this),this._oldForm&&A6(this._oldForm,this)}_checkFormPresent(){}static \u0275fac=function(i){return new(i||t)(x(er,10),x(Ul,10),x(Md,8))};static \u0275dir=et({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,o){1&i&&T("submit",function(r){return o.onSubmit(r)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[tn([$1e]),st,xi]})}return t})();const G1e={provide:xr,useExisting:sn(()=>F2)};let F2=(()=>{class t extends DL{name=null;constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}_checkParentType(){RL(this._parent)}static \u0275fac=function(i){return new(i||t)(x(xr,13),x(er,10),x(Ul,10))};static \u0275dir=et({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[tn([G1e]),st]})}return t})();const B1e={provide:xr,useExisting:sn(()=>O6)};let O6=(()=>{class t extends xr{_parent;name=null;constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}ngOnInit(){this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return b6(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){RL(this._parent)}static \u0275fac=function(i){return new(i||t)(x(xr,13),x(er,10),x(Ul,10))};static \u0275dir=et({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[tn([B1e]),st]})}return t})();function RL(t){return!(t instanceof F2||t instanceof co||t instanceof O6)}const U1e={provide:Wl,useExisting:sn(()=>To)};let To=(()=>{class t extends Wl{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Ee;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,o,s,r){super(),this._ngModelWarningConfig=r,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=W9(0,s)}ngOnChanges(e){this._added||this._setUpControl(),U9(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return b6(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||t)(x(xr,13),x(er,10),x(Ul,10),x(pi,10),x(Z9,8))};static \u0275dir=et({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[tn([U1e]),st,xi]})}return t})();const W1e={provide:pi,useExisting:sn(()=>j0),multi:!0};function FL(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let j0=(()=>{class t extends Cd{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;const o=FL(this._getOptionId(e),e);this.setProperty("value",o)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Z1e(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275dir=et({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){1&i&&T("change",function(r){return o.onChange(r.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[tn([W1e]),st]})}return t})(),jl=(()=>{class t{_element;_renderer;_select;id;constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(FL(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(x(pn),x(s1),x(j0,9))};static \u0275dir=et({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();const j1e={provide:pi,useExisting:sn(()=>j9),multi:!0};function kL(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let j9=(()=>{class t extends Cd{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){let i;if(this.value=e,Array.isArray(e)){const o=e.map(s=>this._getOptionId(s));i=(s,r)=>{s._setSelected(o.indexOf(r.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const r=s;for(let a=0;a<r.length;a++){const c=this._getOptionValue(r[a].value);o.push(c)}}else{const r=i.options;for(let a=0;a<r.length;a++){const l=r[a];if(l.selected){const c=this._getOptionValue(l.value);o.push(c)}}}this.value=o,e(o)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function X1e(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275dir=et({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){1&i&&T("change",function(r){return o.onChange(r.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[tn([j1e]),st]})}return t})(),Xl=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(kL(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(kL(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(x(pn),x(s1),x(j9,9))};static \u0275dir=et({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function VL(t){return"number"==typeof t?t:parseFloat(t)}let Td=(()=>{class t{_validator=m6;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):m6,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static \u0275fac=function(i){return new(i||t)};static \u0275dir=et({type:t,features:[xi]})}return t})();const K1e={provide:er,useExisting:sn(()=>X9),multi:!0};let X9=(()=>{class t extends Td{max;inputName="max";normalizeInput=e=>VL(e);createValidator=e=>function eL(t){return n=>{if(Bl(n.value)||Bl(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275dir=et({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&Un("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[tn([K1e]),st]})}return t})();const q1e={provide:er,useExisting:sn(()=>F_),multi:!0};let F_=(()=>{class t extends Td{min;inputName="min";normalizeInput=e=>VL(e);createValidator=e=>function Jx(t){return n=>{if(Bl(n.value)||Bl(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275dir=et({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&Un("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[tn([q1e]),st]})}return t})();const Y1e={provide:er,useExisting:sn(()=>y6),multi:!0};let y6=(()=>{class t extends Td{required;inputName="required";normalizeInput=Ri;createValidator=e=>tL;enabled(e){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275dir=et({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){2&i&&Un("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[tn([Y1e]),st]})}return t})();const t0e={provide:er,useExisting:sn(()=>k_),multi:!0};let k_=(()=>{class t extends Td{maxlength;inputName="maxlength";normalizeInput=e=>function zL(t){return"number"==typeof t?t:parseInt(t,10)}(e);createValidator=e=>function sL(t){return n=>function Qx(t){return null!=t&&"number"==typeof t.length}(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275dir=et({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&Un("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[tn([t0e]),st]})}return t})(),UL=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({})}return t})();class k2 extends $9{constructor(n,e,i){super(V9(e),H9(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){SL(this,0,n),n.forEach((i,o)=>{bL(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,o)=>{i.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}let Xt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Md,useValue:e.callSetDisabledState??I_}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({imports:[UL]})}return t})(),qt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Z9,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Md,useValue:e.callSetDisabledState??I_}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({imports:[UL]})}return t})();class i0e extends Aie{supportsDOMEvents=!0}class K9 extends i0e{static makeCurrent(){!function Eie(t){GP??=t}(new K9)}onAndCancel(n,e,i,o){return n.addEventListener(e,i,o),()=>{n.removeEventListener(e,i,o)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function o0e(){return z_=z_||document.querySelector("base"),z_?z_.getAttribute("href"):null}();return null==e?null:function s0e(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){z_=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return iI(document.cookie,n)}}let z_=null,a0e=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();const q9=new Je("");let Y9=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o,s){return this._findPluginFor(i).addEventListener(e,i,o,s)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new He(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||t)(Be(q9),Be(cn))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();class WL{_doc;constructor(n){this._doc=n}manager}const N6="ng-app-id";function ZL(t){for(const n of t)n.remove()}function jL(t,n){const e=n.createElement("style");return e.textContent=t,e}function Q9(t,n){const e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}let XL=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,o,s={}){this.doc=e,this.appId=i,this.nonce=o,this.isServer=_I(s),function l0e(t,n,e,i){const o=t.head?.querySelectorAll(`style[${N6}="${n}"],link[${N6}="${n}"]`);if(o)for(const s of o)s.removeAttribute(N6),s instanceof HTMLLinkElement?i.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(const o of e)this.addUsage(o,this.inline,jL);i?.forEach(o=>this.addUsage(o,this.external,Q9))}removeStyles(e,i){for(const o of e)this.removeUsage(o,this.inline);i?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,i,o){const s=i.get(e);s?s.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(r=>this.addElement(r,o(e,this.doc)))})}removeUsage(e,i){const o=i.get(e);o&&(o.usage--,o.usage<=0&&(ZL(o.elements),i.delete(e)))}ngOnDestroy(){for(const[,{elements:e}]of[...this.inline,...this.external])ZL(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(const[i,{elements:o}]of this.inline)o.push(this.addElement(e,jL(i,this.doc)));for(const[i,{elements:o}]of this.external)o.push(this.addElement(e,Q9(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(N6,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||t)(Be(Xn),Be(Sl),Be(FE,8),Be(Ma))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();const J9={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},eM=/%COMP%/g,p0e=new Je("",{providedIn:"root",factory:()=>!0});function qL(t,n){return n.map(e=>e.replace(eM,t))}let YL=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,o,s,r,a,l,c=null,h=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=r,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=h,this.platformIsServer=_I(a),this.defaultRenderer=new tM(e,r,l,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===n1.ShadowDom&&(i={...i,encapsulation:n1.Emulated});const o=this.getOrCreateRenderer(e,i);return o instanceof JL?o.applyToHost(e):o instanceof nM&&o.applyStyles(),o}getOrCreateRenderer(e,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const r=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,f=this.tracingService;switch(i.encapsulation){case n1.Emulated:s=new JL(l,c,i,this.appId,h,r,a,p,f);break;case n1.ShadowDom:return new v0e(l,c,e,i,r,a,this.nonce,p,f);default:s=new nM(l,c,i,h,r,a,p,f)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||t)(Be(Y9),Be(XL),Be(Sl),Be(p0e),Be(Xn),Be(Ma),Be(cn),Be(FE),Be(z5,8))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();class tM{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,i,o,s){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.tracingService=s}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(J9[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(QL(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(QL(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){e.remove()}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new He(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,o){if(o){e=o+":"+e;const s=J9[o];s?n.setAttributeNS(s,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const o=J9[i];o?n.removeAttributeNS(o,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,o){o&(Nl.DashCase|Nl.Important)?n.style.setProperty(e,i,o&Nl.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Nl.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){null!=n&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i,o){if("string"==typeof n&&!(n=U0().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);let s=this.decoratePreventDefault(i);return null!==this.tracingService&&this.tracingService.wrapEventListener&&(s=this.tracingService.wrapEventListener(n,e,s)),this.eventManager.addEventListener(n,e,s,o)}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function QL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class v0e extends tM{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,i,o,s,r,a,l,c){super(n,s,r,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=o.styles;h=qL(o.id,h);for(const f of h){const v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=f,this.shadowRoot.appendChild(v)}const p=o.getExternalStyles?.();if(p)for(const f of p){const v=Q9(f,s);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nM extends tM{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,i,o,s,r,a,l,c){super(n,s,r,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let h=i.styles;this.styles=c?qL(c,h):h,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class JL extends nM{contentAttr;hostAttr;constructor(n,e,i,o,s,r,a,l,c){const h=o+"-"+i.id;super(n,e,i,s,r,a,l,c,h),this.contentAttr=function g0e(t){return"_ngcontent-%COMP%".replace(eM,t)}(h),this.hostAttr=function f0e(t){return"_nghost-%COMP%".replace(eM,t)}(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let C0e=(()=>{class t extends WL{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o,s){return e.addEventListener(i,o,s),()=>this.removeEventListener(e,i,o,s)}removeEventListener(e,i,o,s){return e.removeEventListener(i,o,s)}static \u0275fac=function(i){return new(i||t)(Be(Xn))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();const eR=["alt","control","meta","shift"],M0e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},T0e={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let w0e=(()=>{class t extends WL{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,o,s){const r=t.parseEventName(i),a=t.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U0().onAndCancel(e,r.domEventName,a,s))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=t._normalizeKey(i.pop());let r="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),r="code."),eR.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),r+=c+".")}),r+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=r,l}static matchEventFullKeyCode(e,i){let o=M0e[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(o=e.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),eR.forEach(r=>{r!==o&&(0,T0e[r])(e)&&(s+=r+".")}),s+=o,s===i)}static eventCallback(e,i,o){return s=>{t.matchEventFullKeyCode(s,e)&&o.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static \u0275fac=function(i){return new(i||t)(Be(Xn))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();function tR(t){return{appProviders:[...iR,...t?.providers??[]],platformProviders:O0e}}const O0e=[{provide:Ma,useValue:hI},{provide:o7,useValue:function S0e(){K9.makeCurrent()},multi:!0},{provide:Xn,useFactory:function A0e(){return function ij(t){i7=t}(document),document},deps:[]}],nR=[{provide:h3,useClass:class r0e{addToWindow(n){ao.getAngularTestability=(i,o=!0)=>{const s=n.findTestabilityInTree(i,o);if(null==s)throw new He(5103,!1);return s},ao.getAllAngularTestabilities=()=>n.getAllTestabilities(),ao.getAllAngularRootElements=()=>n.getAllRootElements(),ao.frameworkStabilizers||(ao.frameworkStabilizers=[]),ao.frameworkStabilizers.push(i=>{const o=ao.getAllAngularTestabilities();let s=o.length;const r=function(){s--,0==s&&i()};o.forEach(a=>{a.whenStable(r)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?U0().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:Uy,useClass:Vv,deps:[cn,Hv,h3]},{provide:Vv,useClass:Vv,deps:[cn,Hv,h3]}],iR=[{provide:f8,useValue:"root"},{provide:Y1,useFactory:function E0e(){return new Y1},deps:[]},{provide:q9,useClass:C0e,multi:!0,deps:[Xn,cn,Ma]},{provide:q9,useClass:w0e,multi:!0,deps:[Xn]},YL,XL,Y9,{provide:o0,useExisting:YL},{provide:gI,useClass:a0e,deps:[]},[]];let y0e=(()=>{class t{constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({providers:[...iR,...nR],imports:[T2,Tne]})}return t})(),oR=(()=>{class t{_doc;_dom;constructor(e){this._doc=e,this._dom=U0()}addTag(e,i=!1){return e?this._getOrCreateElement(e,i):null}addTags(e,i=!1){return e?e.reduce((o,s)=>(s&&o.push(this._getOrCreateElement(s,i)),o),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];const i=this._doc.querySelectorAll(`meta[${e}]`);return i?[].slice.call(i):[]}updateTag(e,i){if(!e)return null;i=i||this._parseSelector(e);const o=this.getTag(i);return o?this._setMetaElementAttributes(e,o):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,i=!1){if(!i){const r=this._parseSelector(e),a=this.getTags(r).filter(l=>this._containsAttributes(e,l))[0];if(void 0!==a)return a}const o=this._dom.createElement("meta");return this._setMetaElementAttributes(e,o),this._doc.getElementsByTagName("head")[0].appendChild(o),o}_setMetaElementAttributes(e,i){return Object.keys(e).forEach(o=>i.setAttribute(this._getMetaKeyMap(o),e[o])),i}_parseSelector(e){const i=e.name?"name":"property";return`${i}="${e[i]}"`}_containsAttributes(e,i){return Object.keys(e).every(o=>i.getAttribute(this._getMetaKeyMap(o))===e[o])}_getMetaKeyMap(e){return N0e[e]||e}static \u0275fac=function(i){return new(i||t)(Be(Xn))};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const N0e={httpEquiv:"http-equiv"};let sR=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||t)(Be(Xn))};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iM=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:function(i){let o=null;return o=i?new(i||t):Be(x0e),o},providedIn:"root"})}return t})(),x0e=(()=>{class t extends iM{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o1.NONE:return i;case o1.HTML:return e0(i,"HTML")?Ta(i):yA(this._doc,String(i)).toString();case o1.STYLE:return e0(i,"Style")?Ta(i):i;case o1.SCRIPT:if(e0(i,"Script"))return Ta(i);throw new He(5200,!1);case o1.URL:return e0(i,"URL")?Ta(i):kf(String(i));case o1.RESOURCE_URL:if(e0(i,"ResourceURL"))return Ta(i);throw new He(5201,!1);default:throw new He(5202,!1)}}bypassSecurityTrustHtml(e){return function Yj(t){return new Wj(t)}(e)}bypassSecurityTrustStyle(e){return function Qj(t){return new Zj(t)}(e)}bypassSecurityTrustScript(e){return function Jj(t){return new jj(t)}(e)}bypassSecurityTrustUrl(e){return function eX(t){return new Xj(t)}(e)}bypassSecurityTrustResourceUrl(e){return function tX(t){return new Kj(t)}(e)}static \u0275fac=function(i){return new(i||t)(Be(Xn))};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function X0(t){t||(zc(),t=$(Ca));const n=new an(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(Te(n))}const V0e=["addListener","removeListener"],H0e=["addEventListener","removeEventListener"],$0e=["on","off"];function Dn(t,n,e,i){if(fn(e)&&(i=e,e=void 0),i)return Dn(t,n,e).pipe(P9(i));const[o,s]=function U0e(t){return fn(t.addEventListener)&&fn(t.removeEventListener)}(t)?H0e.map(r=>a=>t[r](n,a,e)):function G0e(t){return fn(t.addListener)&&fn(t.removeListener)}(t)?V0e.map(cR(t,n)):function B0e(t){return fn(t.on)&&fn(t.off)}(t)?$0e.map(cR(t,n)):[];if(!o&&o9(t))return As(r=>Dn(r,n,e))(Wo(t));if(!o)throw new TypeError("Invalid event target");return new an(r=>{const a=(...l)=>r.next(1<l.length?l:l[0]);return o(a),()=>s(a)})}function cR(t,n){return e=>i=>t[e](n,i)}const{isArray:W0e}=Array;function dR(t){return 1===t.length&&W0e(t[0])?t[0]:t}function uR(...t){return 1===(t=dR(t)).length?Wo(t[0]):new an(function Z0e(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push(Wo(t[i]).subscribe(Pi(n,o=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}n.next(o)})))}}(t))}function oM(...t){const n=e6(t),e=dR(t);return e.length?new an(i=>{let o=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{o=s=null});for(let r=0;!i.closed&&r<e.length;r++)Wo(e[r]).subscribe(Pi(i,a=>{if(o[r].push(a),o.every(l=>l.length)){const l=o.map(c=>c.shift());i.next(n?n(...l):l),o.some((c,h)=>!c.length&&s[h])&&i.complete()}},()=>{s[r]=!0,!o[r].length&&i.complete()}));return()=>{o=s=null}}):ta}function D6(...t){const n=e6(t);return hi((e,i)=>{const o=t.length,s=new Array(o);let r=t.map(()=>!1),a=!1;for(let l=0;l<o;l++)Wo(t[l]).subscribe(Pi(i,c=>{s[l]=c,!a&&!r[l]&&(r[l]=!0,(a=r.every(ms))&&(r=null))},ot));e.subscribe(Pi(i,l=>{if(a){const c=[l,...s];i.next(n?n(...c):c)}}))})}function hR(t,n){return n?e=>pd(n.pipe(Js(1),function X0e(){return hi((t,n)=>{t.subscribe(Pi(n,ot))})}()),e.pipe(hR(t))):As((e,i)=>Wo(t(e,i)).pipe(Js(1),function K0e(t){return Tt(()=>t)}(e)))}function I1(t,n=b2){const e=hd(t,n);return hR(()=>e)}function h1(t,n=ms){return t=t??q0e,hi((e,i)=>{let o,s=!0;e.subscribe(Pi(i,r=>{const a=n(r);(s||!t(o,a))&&(s=!1,o=a,i.next(r))}))})}function q0e(t,n){return t===n}var Q0e={left:"right",right:"left",bottom:"top",top:"bottom"};function P6(t){return t.replace(/left|right|bottom|top/g,function(n){return Q0e[n]})}function _0(t){return t.split("-")[0]}var J0e={start:"end",end:"start"};function _R(t){return t.replace(/start|end/g,function(n){return J0e[n]})}var Oa="top",x1="bottom",L1="right",ya="left",sM="auto",H_=[Oa,x1,L1,ya],z2="start",$_="end",pR="viewport",G_="popper",gR=H_.reduce(function(t,n){return t.concat([n+"-"+z2,n+"-"+$_])},[]),fR=[].concat(H_,[sM]).reduce(function(t,n){return t.concat([n,n+"-"+z2,n+"-"+$_])},[]),ule=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Na(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function wd(t){return t instanceof Na(t).Element||t instanceof Element}function _1(t){return t instanceof Na(t).HTMLElement||t instanceof HTMLElement}function rM(t){return!(typeof ShadowRoot>"u")&&(t instanceof Na(t).ShadowRoot||t instanceof ShadowRoot)}function ql(t){return((wd(t)?t.ownerDocument:t.document)||window.document).documentElement}var bd=Math.max,I6=Math.min,V2=Math.round;function aM(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function mR(){return!/^((?!chrome|android).)*safari/i.test(aM())}function H2(t,n,e){void 0===n&&(n=!1),void 0===e&&(e=!1);var i=t.getBoundingClientRect(),o=1,s=1;n&&_1(t)&&(o=t.offsetWidth>0&&V2(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&V2(i.height)/t.offsetHeight||1);var a=(wd(t)?Na(t):window).visualViewport,l=!mR()&&e,c=(i.left+(l&&a?a.offsetLeft:0))/o,h=(i.top+(l&&a?a.offsetTop:0))/s,p=i.width/o,f=i.height/s;return{width:p,height:f,top:h,right:c+p,bottom:h+f,left:c,x:c,y:h}}function lM(t){var n=Na(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function cM(t){return H2(ql(t)).left+lM(t).scrollLeft}function K0(t){return Na(t).getComputedStyle(t)}function p0(t){return t?(t.nodeName||"").toLowerCase():null}function x6(t){return"html"===p0(t)?t:t.assignedSlot||t.parentNode||(rM(t)?t.host:null)||ql(t)}function dM(t){var n=K0(t);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function vR(t){return["html","body","#document"].indexOf(p0(t))>=0?t.ownerDocument.body:_1(t)&&dM(t)?t:vR(x6(t))}function B_(t,n){var e;void 0===n&&(n=[]);var i=vR(t),o=i===(null==(e=t.ownerDocument)?void 0:e.body),s=Na(i),r=o?[s].concat(s.visualViewport||[],dM(i)?i:[]):i,a=n.concat(r);return o?a:a.concat(B_(x6(r)))}function ple(t){return["table","td","th"].indexOf(p0(t))>=0}function CR(t){return _1(t)&&"fixed"!==K0(t).position?t.offsetParent:null}function U_(t){for(var n=Na(t),e=CR(t);e&&ple(e)&&"static"===K0(e).position;)e=CR(e);return e&&("html"===p0(e)||"body"===p0(e)&&"static"===K0(e).position)?n:e||function gle(t){var n=/firefox/i.test(aM());if(/Trident/i.test(aM())&&_1(t)&&"fixed"===K0(t).position)return null;var o=x6(t);for(rM(o)&&(o=o.host);_1(o)&&["html","body"].indexOf(p0(o))<0;){var s=K0(o);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||n&&"filter"===s.willChange||n&&s.filter&&"none"!==s.filter)return o;o=o.parentNode}return null}(t)||n}function MR(t,n){var e=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(e&&rM(e)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function uM(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function TR(t,n,e){return n===pR?uM(function hle(t,n){var e=Na(t),i=ql(t),o=e.visualViewport,s=i.clientWidth,r=i.clientHeight,a=0,l=0;if(o){s=o.width,r=o.height;var c=mR();(c||!c&&"fixed"===n)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:r,x:a+cM(t),y:l}}(t,e)):wd(n)?function fle(t,n){var e=H2(t,!1,"fixed"===n);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(n,e):uM(function _le(t){var n,e=ql(t),i=lM(t),o=null==(n=t.ownerDocument)?void 0:n.body,s=bd(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=bd(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-i.scrollLeft+cM(t),l=-i.scrollTop;return"rtl"===K0(o||e).direction&&(a+=bd(e.clientWidth,o?o.clientWidth:0)-s),{width:s,height:r,x:a,y:l}}(ql(t)))}function $2(t){return t.split("-")[1]}function hM(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function wR(t){var l,n=t.reference,e=t.element,i=t.placement,o=i?_0(i):null,s=i?$2(i):null,r=n.x+n.width/2-e.width/2,a=n.y+n.height/2-e.height/2;switch(o){case Oa:l={x:r,y:n.y-e.height};break;case x1:l={x:r,y:n.y+n.height};break;case L1:l={x:n.x+n.width,y:a};break;case ya:l={x:n.x-e.width,y:a};break;default:l={x:n.x,y:n.y}}var c=o?hM(o):null;if(null!=c){var h="y"===c?"height":"width";switch(s){case z2:l[c]=l[c]-(n[h]/2-e[h]/2);break;case $_:l[c]=l[c]+(n[h]/2-e[h]/2)}}return l}function SR(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function ER(t,n){return n.reduce(function(e,i){return e[i]=t,e},{})}function _M(t,n){void 0===n&&(n={});var i=n.placement,o=void 0===i?t.placement:i,s=n.strategy,r=void 0===s?t.strategy:s,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,h=void 0===c?pR:c,p=n.elementContext,f=void 0===p?G_:p,v=n.altBoundary,C=void 0!==v&&v,E=n.padding,D=void 0===E?0:E,P=SR("number"!=typeof D?D:ER(D,H_)),k=t.rects.popper,R=t.elements[C?f===G_?"reference":G_:f],ee=function vle(t,n,e,i){var o="clippingParents"===n?function mle(t){var n=B_(x6(t)),i=["absolute","fixed"].indexOf(K0(t).position)>=0&&_1(t)?U_(t):t;return wd(i)?n.filter(function(o){return wd(o)&&MR(o,i)&&"body"!==p0(o)}):[]}(t):[].concat(n),s=[].concat(o,[e]),a=s.reduce(function(l,c){var h=TR(t,c,i);return l.top=bd(h.top,l.top),l.right=I6(h.right,l.right),l.bottom=I6(h.bottom,l.bottom),l.left=bd(h.left,l.left),l},TR(t,s[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(wd(R)?R:R.contextElement||ql(t.elements.popper),l,h,r),re=H2(t.elements.reference),fe=wR({reference:re,element:k,strategy:"absolute",placement:o}),pe=uM(Object.assign({},k,fe)),ue=f===G_?pe:re,me={top:ee.top-ue.top+P.top,bottom:ue.bottom-ee.bottom+P.bottom,left:ee.left-ue.left+P.left,right:ue.right-ee.right+P.right},Fe=t.modifiersData.offset;if(f===G_&&Fe){var bt=Fe[o];Object.keys(me).forEach(function(nt){var Dt=[L1,x1].indexOf(nt)>=0?1:-1,Bt=[Oa,x1].indexOf(nt)>=0?"y":"x";me[nt]+=bt[Bt]*Dt})}return me}const wle={name:"flip",enabled:!0,phase:"main",fn:function Tle(t){var n=t.state,e=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var o=e.mainAxis,s=void 0===o||o,r=e.altAxis,a=void 0===r||r,l=e.fallbackPlacements,c=e.padding,h=e.boundary,p=e.rootBoundary,f=e.altBoundary,v=e.flipVariations,C=void 0===v||v,E=e.allowedAutoPlacements,D=n.options.placement,P=_0(D),k=l||(P!==D&&C?function Mle(t){if(_0(t)===sM)return[];var n=P6(t);return[_R(t),n,_R(n)]}(D):[P6(D)]),R=[D].concat(k).reduce(function(zi,Ni){return zi.concat(_0(Ni)===sM?function Cle(t,n){void 0===n&&(n={});var o=n.boundary,s=n.rootBoundary,r=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?fR:l,h=$2(n.placement),p=h?a?gR:gR.filter(function(C){return $2(C)===h}):H_,f=p.filter(function(C){return c.indexOf(C)>=0});0===f.length&&(f=p);var v=f.reduce(function(C,E){return C[E]=_M(t,{placement:E,boundary:o,rootBoundary:s,padding:r})[_0(E)],C},{});return Object.keys(v).sort(function(C,E){return v[C]-v[E]})}(n,{placement:Ni,boundary:h,rootBoundary:p,padding:c,flipVariations:C,allowedAutoPlacements:E}):Ni)},[]),ee=n.rects.reference,re=n.rects.popper,fe=new Map,pe=!0,ue=R[0],me=0;me<R.length;me++){var Fe=R[me],bt=_0(Fe),nt=$2(Fe)===z2,Dt=[Oa,x1].indexOf(bt)>=0,Bt=Dt?"width":"height",Zt=_M(n,{placement:Fe,boundary:h,rootBoundary:p,altBoundary:f,padding:c}),Ge=Dt?nt?L1:ya:nt?x1:Oa;ee[Bt]>re[Bt]&&(Ge=P6(Ge));var Ft=P6(Ge),It=[];if(s&&It.push(Zt[bt]<=0),a&&It.push(Zt[Ge]<=0,Zt[Ft]<=0),It.every(function(zi){return zi})){ue=Fe,pe=!1;break}fe.set(Fe,It)}if(pe)for(var ci=function(Ni){var yt=R.find(function(Ln){var Di=fe.get(Ln);if(Di)return Di.slice(0,Ni).every(function(Fo){return Fo})});if(yt)return ue=yt,"break"},St=C?3:1;St>0&&"break"!==ci(St);St--);n.placement!==ue&&(n.modifiersData[i]._skip=!0,n.placement=ue,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function W_(t,n,e){return bd(t,I6(n,e))}function pM(t){var n=H2(t),e=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-e)<=1&&(e=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:i}}const Ale={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ele(t){var n=t.state,e=t.options,i=t.name,o=e.mainAxis,s=void 0===o||o,r=e.altAxis,a=void 0!==r&&r,f=e.tether,v=void 0===f||f,C=e.tetherOffset,E=void 0===C?0:C,D=_M(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),P=_0(n.placement),I=$2(n.placement),k=!I,R=hM(P),ee=function ble(t){return"x"===t?"y":"x"}(R),re=n.modifiersData.popperOffsets,fe=n.rects.reference,pe=n.rects.popper,ue="function"==typeof E?E(Object.assign({},n.rects,{placement:n.placement})):E,me="number"==typeof ue?{mainAxis:ue,altAxis:ue}:Object.assign({mainAxis:0,altAxis:0},ue),Fe=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,bt={x:0,y:0};if(re){if(s){var nt,Dt="y"===R?Oa:ya,Bt="y"===R?x1:L1,Zt="y"===R?"height":"width",Ge=re[R],Ft=Ge+D[Dt],It=Ge-D[Bt],yi=v?-pe[Zt]/2:0,ci=I===z2?fe[Zt]:pe[Zt],St=I===z2?-pe[Zt]:-fe[Zt],kn=n.elements.arrow,zi=v&&kn?pM(kn):{width:0,height:0},Ni=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},yt=Ni[Dt],Ln=Ni[Bt],Di=W_(0,fe[Zt],zi[Zt]),Fo=k?fe[Zt]/2-yi-Di-yt-me.mainAxis:ci-Di-yt-me.mainAxis,Ps=k?-fe[Zt]/2+yi+Di+Ln+me.mainAxis:St+Di+Ln+me.mainAxis,Zs=n.elements.arrow&&U_(n.elements.arrow),Cr=Zs?"y"===R?Zs.clientTop||0:Zs.clientLeft||0:0,Yt=null!=(nt=Fe?.[R])?nt:0,Wa=Ge+Ps-Yt,ga=W_(v?I6(Ft,Ge+Fo-Yt-Cr):Ft,Ge,v?bd(It,Wa):It);re[R]=ga,bt[R]=ga-Ge}if(a){var tt,Za=re[ee],P0="y"===ee?"height":"width",yc=Za+D["x"===R?Oa:ya],Nc=Za-D["x"===R?x1:L1],fl=-1!==[Oa,ya].indexOf(P),Dc=null!=(tt=Fe?.[ee])?tt:0,Pc=fl?yc:Za-fe[P0]-pe[P0]-Dc+me.altAxis,Ic=fl?Za+fe[P0]+pe[P0]-Dc-me.altAxis:Nc,xc=v&&fl?function Sle(t,n,e){var i=W_(t,n,e);return i>e?e:i}(Pc,Za,Ic):W_(v?Pc:yc,Za,v?Ic:Nc);re[ee]=xc,bt[ee]=xc-Za}n.modifiersData[i]=bt}},requiresIfExists:["offset"]},Dle={name:"arrow",enabled:!0,phase:"main",fn:function yle(t){var n,e=t.state,i=t.name,o=t.options,s=e.elements.arrow,r=e.modifiersData.popperOffsets,a=_0(e.placement),l=hM(a),h=[ya,L1].indexOf(a)>=0?"height":"width";if(s&&r){var p=function(n,e){return SR("number"!=typeof(n="function"==typeof n?n(Object.assign({},e.rects,{placement:e.placement})):n)?n:ER(n,H_))}(o.padding,e),f=pM(s),v="y"===l?Oa:ya,C="y"===l?x1:L1,E=e.rects.reference[h]+e.rects.reference[l]-r[l]-e.rects.popper[h],D=r[l]-e.rects.reference[l],P=U_(s),I=P?"y"===l?P.clientHeight||0:P.clientWidth||0:0,re=I/2-f[h]/2+(E/2-D/2),fe=W_(p[v],re,I-f[h]-p[C]);e.modifiersData[i]=((n={})[l]=fe,n.centerOffset=fe-re,n)}},effect:function Nle(t){var n=t.state,i=t.options.element,o=void 0===i?"[data-popper-arrow]":i;null!=o&&("string"==typeof o&&!(o=n.elements.popper.querySelector(o))||MR(n.elements.popper,o)&&(n.elements.arrow=o))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lle(t,n,e){void 0===e&&(e=!1);var i=_1(n),o=_1(n)&&function xle(t){var n=t.getBoundingClientRect(),e=V2(n.width)/t.offsetWidth||1,i=V2(n.height)/t.offsetHeight||1;return 1!==e||1!==i}(n),s=ql(n),r=H2(t,o,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==p0(n)||dM(s))&&(a=function Ile(t){return t!==Na(t)&&_1(t)?function Ple(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):lM(t)}(n)),_1(n)?((l=H2(n,!0)).x+=n.clientLeft,l.y+=n.clientTop):s&&(l.x=cM(s))),{x:r.left+a.scrollLeft-l.x,y:r.top+a.scrollTop-l.y,width:r.width,height:r.height}}function Rle(t){var n=new Map,e=new Set,i=[];function o(s){e.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var l=n.get(a);l&&o(l)}}),i.push(s)}return t.forEach(function(s){n.set(s.name,s)}),t.forEach(function(s){e.has(s.name)||o(s)}),i}function kle(t){var n;return function(){return n||(n=new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(t())})})),n}}var AR={placement:"bottom",modifiers:[],strategy:"absolute"};function OR(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Vle(t){void 0===t&&(t={});var e=t.defaultModifiers,i=void 0===e?[]:e,o=t.defaultOptions,s=void 0===o?AR:o;return function(a,l,c){void 0===c&&(c=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},AR,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],f=!1,v={state:h,setOptions:function(P){var I="function"==typeof P?P(h.options):P;E(),h.options=Object.assign({},s,h.options,I),h.scrollParents={reference:wd(a)?B_(a):a.contextElement?B_(a.contextElement):[],popper:B_(l)};var k=function Fle(t){var n=Rle(t);return ule.reduce(function(e,i){return e.concat(n.filter(function(o){return o.phase===i}))},[])}(function zle(t){var n=t.reduce(function(e,i){var o=e[i.name];return e[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,e},{});return Object.keys(n).map(function(e){return n[e]})}([].concat(i,h.options.modifiers)));return h.orderedModifiers=k.filter(function(R){return R.enabled}),function C(){h.orderedModifiers.forEach(function(D){var I=D.options,R=D.effect;if("function"==typeof R){var ee=R({state:h,name:D.name,instance:v,options:void 0===I?{}:I});p.push(ee||function(){})}})}(),v.update()},forceUpdate:function(){if(!f){var P=h.elements,I=P.reference,k=P.popper;if(OR(I,k)){h.rects={reference:Lle(I,U_(k),"fixed"===h.options.strategy),popper:pM(k)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(me){return h.modifiersData[me.name]=Object.assign({},me.data)});for(var R=0;R<h.orderedModifiers.length;R++)if(!0!==h.reset){var ee=h.orderedModifiers[R],re=ee.fn,fe=ee.options;"function"==typeof re&&(h=re({state:h,options:void 0===fe?{}:fe,name:ee.name,instance:v})||h)}else h.reset=!1,R=-1}}},update:kle(function(){return new Promise(function(D){v.forceUpdate(),D(h)})}),destroy:function(){E(),f=!0}};if(!OR(a,l))return v;function E(){p.forEach(function(D){return D()}),p=[]}return v.setOptions(c).then(function(D){!f&&c.onFirstUpdate&&c.onFirstUpdate(D)}),v}}var L6={passive:!0};const $le={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Hle(t){var n=t.state,e=t.instance,i=t.options,o=i.scroll,s=void 0===o||o,r=i.resize,a=void 0===r||r,l=Na(n.elements.popper),c=[].concat(n.scrollParents.reference,n.scrollParents.popper);return s&&c.forEach(function(h){h.addEventListener("scroll",e.update,L6)}),a&&l.addEventListener("resize",e.update,L6),function(){s&&c.forEach(function(h){h.removeEventListener("scroll",e.update,L6)}),a&&l.removeEventListener("resize",e.update,L6)}},data:{}},Ble={name:"popperOffsets",enabled:!0,phase:"read",fn:function Gle(t){var n=t.state;n.modifiersData[t.name]=wR({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}};var Ule={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yR(t){var n,e=t.popper,i=t.popperRect,o=t.placement,s=t.variation,r=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,p=t.isFixed,f=r.x,v=void 0===f?0:f,C=r.y,E=void 0===C?0:C,D="function"==typeof h?h({x:v,y:E}):{x:v,y:E};v=D.x,E=D.y;var P=r.hasOwnProperty("x"),I=r.hasOwnProperty("y"),k=ya,R=Oa,ee=window;if(c){var re=U_(e),fe="clientHeight",pe="clientWidth";re===Na(e)&&"static"!==K0(re=ql(e)).position&&"absolute"===a&&(fe="scrollHeight",pe="scrollWidth"),(o===Oa||(o===ya||o===L1)&&s===$_)&&(R=x1,E-=(p&&re===ee&&ee.visualViewport?ee.visualViewport.height:re[fe])-i.height,E*=l?1:-1),o!==ya&&(o!==Oa&&o!==x1||s!==$_)||(k=L1,v-=(p&&re===ee&&ee.visualViewport?ee.visualViewport.width:re[pe])-i.width,v*=l?1:-1)}var nt,Fe=Object.assign({position:a},c&&Ule),bt=!0===h?function Wle(t,n){var i=t.y,o=n.devicePixelRatio||1;return{x:V2(t.x*o)/o||0,y:V2(i*o)/o||0}}({x:v,y:E},Na(e)):{x:v,y:E};return v=bt.x,E=bt.y,Object.assign({},Fe,l?((nt={})[R]=I?"0":"",nt[k]=P?"0":"",nt.transform=(ee.devicePixelRatio||1)<=1?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",nt):((n={})[R]=I?E+"px":"",n[k]=P?v+"px":"",n.transform="",n))}const jle={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Zle(t){var n=t.state,e=t.options,i=e.gpuAcceleration,o=void 0===i||i,s=e.adaptive,r=void 0===s||s,a=e.roundOffsets,l=void 0===a||a,c={placement:_0(n.placement),variation:$2(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:o,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,yR(Object.assign({},c,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:r,roundOffsets:l})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,yR(Object.assign({},c,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}};var qle=[$le,Ble,jle,{name:"applyStyles",enabled:!0,phase:"write",fn:function Xle(t){var n=t.state;Object.keys(n.elements).forEach(function(e){var i=n.styles[e]||{},o=n.attributes[e]||{},s=n.elements[e];!_1(s)||!p0(s)||(Object.assign(s.style,i),Object.keys(o).forEach(function(r){var a=o[r];!1===a?s.removeAttribute(r):s.setAttribute(r,!0===a?"":a)}))})},effect:function Kle(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.styles=e,n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(i){var o=n.elements[i],s=n.attributes[i]||{},a=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:e[i]).reduce(function(l,c){return l[c]="",l},{});!_1(o)||!p0(o)||(Object.assign(o.style,a),Object.keys(s).forEach(function(l){o.removeAttribute(l)}))})}},requires:["computeStyles"]}],Yle=Vle({defaultModifiers:qle});const ece={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Jle(t){var n=t.state,i=t.name,o=t.options.offset,s=void 0===o?[0,0]:o,r=fR.reduce(function(h,p){return h[p]=function Qle(t,n,e){var i=_0(t),o=[ya,Oa].indexOf(i)>=0?-1:1,s="function"==typeof e?e(Object.assign({},n,{placement:t})):e,r=s[0],a=s[1];return r=r||0,a=(a||0)*o,[ya,L1].indexOf(i)>=0?{x:a,y:r}:{x:r,y:a}}(p,n.rects,s),h},{}),a=r[n.placement],c=a.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=a.x,n.modifiersData.popperOffsets.y+=c),n.modifiersData[i]=r}},tce=["container"],nce=["ngbAccordionBody",""],Yl=["*"];function ice(t,n){if(1&t){const e=F();d(0,"button",1),T("click",function(){return b(e),S(g().close())}),u()}}const sce=["ngbDatepickerDayView",""],rce=["month"],ace=["year"];function lce(t,n){if(1&t&&(d(0,"option",3),A(1),u()),2&t){const e=n.$implicit,i=g();m("value",e),Un("aria-label",i.i18n.getMonthFullName(e,i.date.year)),_(),oe(i.i18n.getMonthShortName(e,i.date.year))}}function cce(t,n){if(1&t&&(d(0,"option",3),A(1),u()),2&t){const e=n.$implicit,i=g();m("value",e),_(),oe(i.i18n.getYearNumerals(e))}}function dce(t,n){if(1&t){const e=F();d(0,"ngb-datepicker-navigation-select",6),T("select",function(o){return b(e),S(g().select.emit(o))}),u()}if(2&t){const e=g();m("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function uce(t,n){1&t&&w(0,"div",7)}function hce(t,n){1&t&&w(0,"div",7)}function _ce(t,n){if(1&t&&(y(0,uce,1,0,"div",7),d(1,"div",8),A(2),u(),y(3,hce,1,0,"div",7)),2&t){const e=n.$implicit,i=n.$index,o=g(2);N(i>0?0:-1),_(2),Le(" ",o.i18n.getMonthLabel(e.firstDate)," "),_(),N(i!==o.months.length-1?3:-1)}}function pce(t,n){1&t&&Ue(0,_ce,4,3,null,null,Ht),2&t&&We(g().months)}function gce(t,n){if(1&t&&(d(0,"div",1),A(1),u()),2&t){const e=g(2);_(),oe(e.i18n.getWeekLabel())}}function fce(t,n){if(1&t&&(d(0,"div",2),A(1),u()),2&t){const e=n.$implicit;_(),oe(e)}}function mce(t,n){if(1&t&&(d(0,"div",0),y(1,gce,2,1,"div",1),Ue(2,fce,2,1,"div",2,g2),u()),2&t){const e=g();_(),N(e.datepicker.showWeekNumbers?1:-1),_(),We(e.viewModel.weekdays)}}function vce(t,n){if(1&t&&(d(0,"div",4),A(1),u()),2&t){const e=g(2).$implicit,i=g();_(),oe(i.i18n.getWeekNumerals(e.number))}}function Cce(t,n){}function Mce(t,n){if(1&t&&y(0,Cce,0,0,"ng-template",7),2&t){const e=g().$implicit;m("ngTemplateOutlet",g(3).datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function Tce(t,n){if(1&t){const e=F();d(0,"div",6),T("click",function(o){const s=b(e).$implicit;return g(3).doSelect(s),S(o.preventDefault())}),y(1,Mce,1,2,null,7),u()}if(2&t){const e=n.$implicit;Ce("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),m("tabindex",e.tabindex),Un("aria-label",e.ariaLabel),_(),N(e.hidden?-1:1)}}function wce(t,n){if(1&t&&(d(0,"div",3),y(1,vce,2,1,"div",4),Ue(2,Tce,2,9,"div",5,Ht),u()),2&t){const e=g().$implicit,i=g();_(),N(i.datepicker.showWeekNumbers?1:-1),_(),We(e.days)}}function bce(t,n){1&t&&y(0,wce,4,1,"div",3),2&t&&N(n.$implicit.collapsed?-1:0)}const Sce=["defaultDayTemplate"],Ece=["content"],NR=t=>({$implicit:t});function Ace(t,n){if(1&t&&w(0,"div",8),2&t){const i=n.currentMonth,o=n.selected,s=n.disabled,r=n.focused;m("date",n.date)("currentMonth",i)("selected",o)("disabled",s)("focused",r)}}function Oce(t,n){if(1&t&&(d(0,"div",10),A(1),u()),2&t){const e=g().$implicit,i=g(2);_(),Le(" ",i.i18n.getMonthLabel(e.firstDate)," ")}}function yce(t,n){if(1&t&&(d(0,"div",9),y(1,Oce,2,1,"div",10),w(2,"ngb-datepicker-month",11),u()),2&t){const e=n.$implicit,i=g(2);_(),N("none"===i.navigation||i.displayMonths>1&&"select"===i.navigation?1:-1),_(),m("month",e.firstDate)}}function Nce(t,n){1&t&&Ue(0,yce,3,2,"div",9,Ht),2&t&&We(g().model.months)}function Dce(t,n){if(1&t){const e=F();d(0,"ngb-datepicker-navigation",12),T("navigate",function(o){return b(e),S(g().onNavigateEvent(o))})("select",function(o){return b(e),S(g().onNavigateDateSelect(o))}),u()}if(2&t){const e=g();m("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function Pce(t,n){}function Ice(t,n){}const xce=["dialog"],Lce=["ngbNavOutlet",""];function Rce(t,n){}function Fce(t,n){if(1&t&&(d(0,"div",0),y(1,Rce,0,0,"ng-template",1),u()),2&t){const e=g().$implicit,i=g();m("item",e)("nav",i.nav)("role",i.paneRole),_(),m("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",Wn(5,NR,e.active||i.isPanelTransitioning(e)))}}function kce(t,n){if(1&t&&y(0,Fce,2,7,"div",0),2&t){const e=n.$implicit,i=g();N(e.isPanelInDom()||i.isPanelTransitioning(e)?0:-1)}}const zce=(t,n,e)=>({$implicit:t,pages:n,disabled:e}),Vce=t=>({disabled:!0,currentPage:t}),Hce=(t,n,e)=>({disabled:t,$implicit:n,currentPage:e}),gM=(t,n)=>({disabled:t,currentPage:n}),$ce=t=>({disabled:t});function Gce(t,n){1&t&&(d(0,"span",13),M(1,7),u())}function Bce(t,n){1&t&&(d(0,"span",13),M(1,8),u())}function Uce(t,n){1&t&&(d(0,"span",13),M(1,9),u())}function Wce(t,n){1&t&&(d(0,"span",13),M(1,10),u())}function Zce(t,n){1&t&&A(0,"...")}function jce(t,n){1&t&&A(0),2&t&&oe(n.$implicit)}function Xce(t,n){}function Kce(t,n){if(1&t&&(d(0,"a",16),y(1,Xce,0,0,"ng-template",12),u()),2&t){const e=g(2).$implicit,i=g(),o=Ve(9);_(),m("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||o)("ngTemplateOutletContext",Wn(2,Vce,e))}}function qce(t,n){}function Yce(t,n){if(1&t){const e=F();d(0,"a",18),T("click",function(o){b(e);const s=g().$implicit;return g(2).selectPage(s),S(o.preventDefault())}),y(1,qce,0,0,"ng-template",12),u()}if(2&t){const e=g().$implicit,i=g(),o=i.$implicit,s=i.disabled,r=g(),a=Ve(11);Un("tabindex",s?"-1":null)("aria-disabled",s?"true":null),_(),m("ngTemplateOutlet",(null==r.tplNumber?null:r.tplNumber.templateRef)||a)("ngTemplateOutletContext",ld(4,Hce,s,e,o))}}function Qce(t,n){if(1&t&&(d(0,"li",15),y(1,Kce,2,4,"a",16)(2,Yce,2,8,"a",17),u()),2&t){const e=n.$implicit,i=g(),o=i.$implicit,s=i.disabled,r=g();Ce("active",e===o)("disabled",r.isEllipsis(e)||s),Un("aria-current",e===o?"page":null),_(),N(r.isEllipsis(e)?1:2)}}function Jce(t,n){1&t&&Ue(0,Qce,3,6,"li",14,g2),2&t&&We(n.pages)}function ede(t,n){}function tde(t,n){if(1&t){const e=F();d(0,"li",15)(1,"a",19),T("click",function(o){return b(e),g().selectPage(1),S(o.preventDefault())}),y(2,ede,0,0,"ng-template",12),u()()}if(2&t){const e=g(),i=Ve(1);Ce("disabled",e.previousDisabled()),_(),Un("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),_(),m("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||i)("ngTemplateOutletContext",Pe(6,gM,e.previousDisabled(),e.page))}}function nde(t,n){}function ide(t,n){if(1&t){const e=F();d(0,"li",15)(1,"a",20),T("click",function(o){b(e);const s=g();return s.selectPage(s.page-1),S(o.preventDefault())}),y(2,nde,0,0,"ng-template",12),u()()}if(2&t){const e=g(),i=Ve(3);Ce("disabled",e.previousDisabled()),_(),Un("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),_(),m("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||i)("ngTemplateOutletContext",Wn(6,$ce,e.previousDisabled()))}}function ode(t,n){}function sde(t,n){}function rde(t,n){if(1&t){const e=F();d(0,"li",15)(1,"a",21),T("click",function(o){b(e);const s=g();return s.selectPage(s.page+1),S(o.preventDefault())}),y(2,sde,0,0,"ng-template",12),u()()}if(2&t){const e=g(),i=Ve(5);Ce("disabled",e.nextDisabled()),_(),Un("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),_(),m("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||i)("ngTemplateOutletContext",Pe(6,gM,e.nextDisabled(),e.page))}}function ade(t,n){}function lde(t,n){if(1&t){const e=F();d(0,"li",15)(1,"a",22),T("click",function(o){b(e);const s=g();return s.selectPage(s.pageCount),S(o.preventDefault())}),y(2,ade,0,0,"ng-template",12),u()()}if(2&t){const e=g(),i=Ve(7);Ce("disabled",e.nextDisabled()),_(),Un("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),_(),m("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||i)("ngTemplateOutletContext",Pe(6,gM,e.nextDisabled(),e.page))}}function cde(t,n){1&t&&A(0),2&t&&oe(g(2).title)}function dde(t,n){}function ude(t,n){if(1&t&&(d(0,"h3",2),y(1,cde,1,1,"ng-template",null,0,zt)(3,dde,0,0,"ng-template",4),u()),2&t){const e=Ve(2),i=g();_(3),m("ngTemplateOutlet",i.isTitleTemplate()?i.title:e)("ngTemplateOutletContext",i.context)}}function hde(t,n){if(1&t&&(d(0,"span"),M(1,0),ye(2,"percent"),u()),2&t){const e=g();_(2),bn(Ke(2,1,e.getValue()/e.max)),Sn(1)}}function vde(t,n){if(1&t&&(d(0,"strong",3),A(1),u()),2&t){const e=g();_(),oe(e.header)}}function Cde(t,n){}function Mde(t,n){if(1&t){const e=F();d(0,"div",1),y(1,Cde,0,0,"ng-template",4),d(2,"button",5),T("click",function(){return b(e),S(g().hide())}),u()()}if(2&t){const e=g(),i=Ve(1);_(),m("ngTemplateOutlet",e.contentHeaderTpl||i)}}function Tde(t,n){if(1&t&&(d(0,"span"),A(1),u()),2&t){const e=g().$implicit;lo(g().highlightClass),_(),oe(e)}}function wde(t,n){if(1&t&&(ae(0),A(1),le()),2&t){const e=g().$implicit;_(),oe(e)}}function bde(t,n){1&t&&y(0,Tde,2,4,"span",0)(1,wde,2,1,"ng-container"),2&t&&N(n.$index%2!=0?0:1)}const Sde=(t,n,e)=>({result:t,term:n,formatter:e});function Ede(t,n){if(1&t&&w(0,"ngb-highlight",2),2&t){const i=n.term;m("result",(0,n.formatter)(n.result))("term",i)}}function Ade(t,n){}function Ode(t,n){if(1&t){const e=F();d(0,"button",3),T("mouseenter",function(){const o=b(e).$index;return S(g().markActive(o))})("click",function(){const o=b(e).$implicit;return S(g().select(o))}),y(1,Ade,0,0,"ng-template",4),u()}if(2&t){const e=n.$implicit,i=n.$index,o=g(),s=Ve(1);Ce("active",i===o.activeIdx),m("id",o.id+"-"+i),_(),m("ngTemplateOutlet",o.resultTemplate||s)("ngTemplateOutletContext",ld(5,Sde,e,o.term,o.formatter))}}const DR={animation:!0,transitionTimerDelayMs:5};let Ql=(()=>{class t{constructor(){this.animation=DR.animation}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yde=(()=>{class t{constructor(){this._ngbConfig=$(Ql),this.closeOthers=!1,this.destroyOnHide=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ia(t){return parseInt(`${t}`,10)}function Z_(t){return null!=t?`${t}`:""}function PR(t,n,e=0){return Math.max(Math.min(t,n),e)}function Jl(t){return"string"==typeof t}function zs(t){return!isNaN(ia(t))}function oa(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function ec(t){return null!=t}function xR(t){return zs(t)?`0${t}`.slice(-2):""}function G2(t){return(t||document.body).getBoundingClientRect()}function LR(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function RR(t=document){const n=t?.activeElement;return n?n.shadowRoot?RR(n.shadowRoot):n:null}const xde=()=>{},{transitionTimerDelayMs:Lde}=DR,j_=new Map,Lr=(t,n,e,i)=>{let o=i.context||{};const s=j_.get(n);if(s)switch(i.runningTransition){case"continue":return ta;case"stop":t.run(()=>s.transition$.complete()),o=Object.assign(s.context,o),j_.delete(n)}const r=e(n,i.animation,o)||xde;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>r()),Et(void 0).pipe(function Ide(t){return n=>new an(e=>n.subscribe({next:r=>t.run(()=>e.next(r)),error:r=>t.run(()=>e.error(r)),complete:()=>t.run(()=>e.complete())}))}(t));const a=new xe,l=new xe,c=a.pipe(function j0e(...t){return n=>pd(n,Et(...t))}(!0));j_.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:o});const h=function Nde(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const p=Dn(n,"transitionend").pipe(Te(c),li(({target:v})=>v===n));uR(hd(h+Lde).pipe(Te(c)),p,l).pipe(Te(c)).subscribe(()=>{j_.delete(n),t.run(()=>{r(),a.next(),a.complete()})})}),a.asObservable()},Fde=(t,n,e)=>{let{direction:i,maxSize:o,dimension:s}=e;const{classList:r}=t;function a(){r.add("collapse"),"show"===i?r.add("show"):r.remove("show")}if(n)return o||(o=function Rde(t,n){if(typeof navigator>"u")return"0px";const{classList:e}=t,i=e.contains("show");i||e.add("show"),t.style[n]="";const o=t.getBoundingClientRect()[n]+"px";return i||e.remove("show"),o}(t,s),e.maxSize=o,t.style[s]="show"!==i?o:"0px",r.remove("collapse","collapsing","show"),G2(t),r.add("collapsing")),t.style[s]="show"===i?o:"0px",()=>{a(),r.remove("collapsing"),t.style[s]=""};a()};let kde=(()=>{class t{constructor(){this._ngbConfig=$(Ql),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),X_=(()=>{class t{constructor(){this._config=$(kde),this._element=$(pn),this._zone=$(cn),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new Ee,this.horizontal=this._config.horizontal,this.shown=new Ee,this.hidden=new Ee}set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return Lr(this._zone,this._element.nativeElement,Fde,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,o){2&i&&Ce("collapse-horizontal",o.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"]})}}return t})(),zde=0,K_=(()=>{class t{constructor(){this._item=$(R1),this._viewRef=null,this.elementRef=$(pn)}ngAfterContentChecked(){this._bodyTpl&&(this._item._shouldBeInDOM?this._createViewIfNotExists():this._destroyViewIfExists())}ngOnDestroy(){this._destroyViewIfExists()}_destroyViewIfExists(){this._viewRef?.destroy(),this._viewRef=null}_createViewIfNotExists(){this._viewRef||(this._viewRef=this._vcr.createEmbeddedView(this._bodyTpl),this._viewRef.detectChanges())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["","ngbAccordionBody",""]],contentQueries:function(i,o,s){if(1&i&&_i(s,nn,7),2&i){let r;pt(r=gt())&&(o._bodyTpl=r.first)}},viewQuery:function(i,o){if(1&i&&dn(tce,7,qs),2&i){let s;pt(s=gt())&&(o._vcr=s.first)}},hostAttrs:[1,"accordion-body"],attrs:nce,ngContentSelectors:Yl,decls:3,vars:0,consts:[["container",""]],template:function(i,o){1&i&&(Ys(),Nn(0,null,0),ks(2))},encapsulation:2})}}return t})(),B2=(()=>{class t{constructor(){this.item=$(R1),this.ngbCollapse=$(X_)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region",1,"accordion-collapse"],hostVars:2,hostBindings:function(i,o){2&i&&(cr("id",o.item.collapseId),Un("aria-labelledby",o.item.toggleId))},exportAs:["ngbAccordionCollapse"],features:[zh([X_])]})}}return t})(),FR=(()=>{class t{constructor(){this.item=$(R1),this.accordion=$(Sd)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbAccordionToggle",""]],hostVars:5,hostBindings:function(i,o){1&i&&T("click",function(){return!o.item.disabled&&o.accordion.toggle(o.item.id)}),2&i&&(cr("id",o.item.toggleId),Un("aria-controls",o.item.collapseId)("aria-expanded",!o.item.collapsed),Ce("collapsed",o.item.collapsed))}})}}return t})(),q_=(()=>{class t{constructor(){this.item=$(R1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["button","ngbAccordionButton",""]],hostAttrs:["type","button",1,"accordion-button"],hostVars:1,hostBindings:function(i,o){2&i&&cr("disabled",o.item.disabled)},features:[zh([FR])]})}}return t})(),Y_=(()=>{class t{constructor(){this.item=$(R1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbAccordionHeader",""]],hostAttrs:["role","heading",1,"accordion-header"],hostVars:2,hostBindings:function(i,o){2&i&&Ce("collapsed",o.item.collapsed)}})}}return t})(),R1=(()=>{class t{constructor(){this._accordion=$(Sd),this._cd=$(Ss),this._destroyRef=$(Ca),this._collapsed=!0,this._id="ngb-accordion-item-"+zde++,this._collapseAnimationRunning=!1,this.disabled=!1,this.show=new Ee,this.shown=new Ee,this.hide=new Ee,this.hidden=new Ee}set id(e){Jl(e)&&""!==e&&(this._id=e)}set destroyOnHide(e){this._destroyOnHide=e}get destroyOnHide(){return void 0===this._destroyOnHide?this._accordion.destroyOnHide:this._destroyOnHide}set collapsed(e){e?this.collapse():this.expand()}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}get _shouldBeInDOM(){return!this.collapsed||this._collapseAnimationRunning||!this.destroyOnHide}ngAfterContentInit(){const{ngbCollapse:e}=this._collapse;e.animation=!1,e.collapsed=this.collapsed,e.animation=this._accordion.animation,e.hidden.pipe(X0(this._destroyRef)).subscribe(()=>{this._collapseAnimationRunning=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id),this._cd.markForCheck()}),e.shown.pipe(X0(this._destroyRef)).subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id),this._cd.markForCheck()})}toggle(){this.collapsed=!this.collapsed}expand(){if(this.collapsed){if(!this._accordion._ensureCanExpand(this))return;this._collapsed=!1,this._cd.markForCheck(),this._cd.detectChanges(),this.show.emit(),this._accordion.show.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!1}}collapse(){this.collapsed||(this._collapsed=!0,this._collapseAnimationRunning=!0,this._cd.markForCheck(),this.hide.emit(),this._accordion.hide.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!0)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbAccordionItem",""]],contentQueries:function(i,o,s){if(1&i&&_i(s,B2,7),2&i){let r;pt(r=gt())&&(o._collapse=r.first)}},hostAttrs:[1,"accordion-item"],hostVars:1,hostBindings:function(i,o){2&i&&cr("id",o.id)},inputs:{id:[0,"ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordionItem"]})}}return t})(),Sd=(()=>{class t{constructor(){this._config=$(yde),this._anItemWasAlreadyExpandedDuringInitialisation=!1,this.animation=this._config.animation,this.closeOthers=this._config.closeOthers,this.destroyOnHide=this._config.destroyOnHide,this.show=new Ee,this.shown=new Ee,this.hide=new Ee,this.hidden=new Ee}toggle(e){this._getItem(e)?.toggle()}expand(e){this._getItem(e)?.expand()}expandAll(){this._items&&(this.closeOthers?this._items.find(e=>!e.collapsed)||this._items.first.expand():this._items.forEach(e=>e.expand()))}collapse(e){this._getItem(e)?.collapse()}collapseAll(){this._items?.forEach(e=>e.collapse())}isExpanded(e){const i=this._getItem(e);return!!i&&!i.collapsed}_ensureCanExpand(e){return!(this.closeOthers&&(this._items?(this._items.find(i=>!i.collapsed&&e!==i)?.collapse(),0):this._anItemWasAlreadyExpandedDuringInitialisation||(this._anItemWasAlreadyExpandedDuringInitialisation=!0,0)))}_getItem(e){return this._items?.find(i=>i.id===e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbAccordion",""]],contentQueries:function(i,o,s){if(1&i&&_i(s,R1,4),2&i){let r;pt(r=gt())&&(o._items=r)}},hostAttrs:[1,"accordion"],inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordion"]})}}return t})(),Ed=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),Vde=(()=>{class t{constructor(){this._ngbConfig=$(Ql),this.dismissible=!0,this.type="warning"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Hde=({classList:t})=>{t.remove("show")};let R6=(()=>{class t{constructor(){this._config=$(Vde),this._elementRef=$(pn),this._zone=$(cn),this.animation=this._config.animation,this.dismissible=this._config.dismissible,this.type=this._config.type,this.closed=new Ee}close(){const e=Lr(this._zone,this._elementRef.nativeElement,Hde,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-alert"]],hostAttrs:["role","alert"],hostVars:6,hostBindings:function(i,o){2&i&&(lo("alert show"+(o.type?" alert-"+o.type:"")),Ce("fade",o.animation)("alert-dismissible",o.dismissible))},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],ngContentSelectors:Yl,decls:2,vars:1,consts:()=>{let e;return e="Close",[["type","button","aria-label",e,1,"btn-close"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(i,o){1&i&&(Ys(),ks(0),y(1,ice,1,0,"button",0)),2&i&&(_(),N(o.dismissible?1:-1))},styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0})}}return t})(),Q_=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),VR=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),J_=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})();class hs{static from(n){return n instanceof hs?n:n?new hs(n.year,n.month,n.day):null}constructor(n,e,i){this.year=oa(n)?n:null,this.month=oa(e)?e:null,this.day=oa(i)?i:null}equals(n){return null!=n&&this.year===n.year&&this.month===n.month&&this.day===n.day}before(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day<n.day:this.month<n.month:this.year<n.year)}after(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day>n.day:this.month>n.month:this.year>n.year)}}function HR(t){return new hs(t.getFullYear(),t.getMonth()+1,t.getDate())}function k6(t){const n=new Date(t.year,t.month-1,t.day,12);return isNaN(n.getTime())||n.setFullYear(t.year),n}let z6=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:()=>function Gde(){return new Bde}(),providedIn:"root"})}}return t})(),Bde=(()=>{class t extends z6{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,i="d",o=1){let s=k6(e),r=!0,a=s.getMonth();switch(i){case"y":s.setFullYear(s.getFullYear()+o);break;case"m":a+=o,s.setMonth(a),a%=12,a<0&&(a+=12);break;case"d":s.setDate(s.getDate()+o),r=!1;break;default:return e}return r&&s.getMonth()!==a&&s.setDate(0),HR(s)}getPrev(e,i="d",o=1){return this.getNext(e,i,-o)}getWeekday(e){let o=k6(e).getDay();return 0===o?7:o}getWeekNumber(e,i){7===i&&(i=0);const r=k6(e[(11-i)%7]);r.setDate(r.getDate()+4-(r.getDay()||7));const a=r.getTime();return r.setMonth(0),r.setDate(1),Math.floor(Math.round((a-r.getTime())/864e5)/7)+1}getToday(){return HR(new Date)}isValid(e){if(!(e&&oa(e.year)&&oa(e.month)&&oa(e.day)&&0!==e.year))return!1;const i=k6(e);return!isNaN(i.getTime())&&i.getFullYear()===e.year&&i.getMonth()+1===e.month&&i.getDate()===e.day}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})();function U2(t,n){return!function Ude(t,n){return!t&&!n||!!t&&!!n&&t.equals(n)}(t,n)}function $R(t,n){return!(!t&&!n||t&&n&&t.year===n.year&&t.month===n.month)}function V6(t,n,e){return t&&n&&t.before(n)?n:t&&e&&t.after(e)?e:t||null}function mM(t,n){const{minDate:e,maxDate:i,disabled:o,markDisabled:s}=n;return!(null==t||o||s&&s(t,{year:t.year,month:t.month})||e&&t.before(e)||i&&t.after(i))}let Ad=(()=>{class t{getMonthLabel(e){return`${this.getMonthFullName(e.month,e.year)} ${this.getYearNumerals(e.year)}`}getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}getWeekLabel(){return""}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:()=>new Jde,providedIn:"root"})}}return t})(),Jde=(()=>{class t extends Ad{constructor(){super(...arguments),this._locale=$(ea),this._monthsShort=[...Array(12).keys()].map(e=>Intl.DateTimeFormat(this._locale,{month:"short",timeZone:"UTC"}).format(Date.UTC(2e3,e))),this._monthsFull=[...Array(12).keys()].map(e=>Intl.DateTimeFormat(this._locale,{month:"long",timeZone:"UTC"}).format(Date.UTC(2e3,e)))}getWeekdayLabel(e,i="narrow"){return[1,2,3,4,5,6,7].map(s=>Intl.DateTimeFormat(this._locale,{weekday:i,timeZone:"UTC"}).format(Date.UTC(2e3,4,s)))[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){return qP(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})(),vM=(()=>{class t{constructor(){this._VALIDATORS={dayTemplateData:e=>{if(this._state.dayTemplateData!==e)return{dayTemplateData:e}},displayMonths:e=>{if(oa(e=ia(e))&&e>0&&this._state.displayMonths!==e)return{displayMonths:e}},disabled:e=>{if(this._state.disabled!==e)return{disabled:e}},firstDayOfWeek:e=>{if(oa(e=ia(e))&&e>=0&&this._state.firstDayOfWeek!==e)return{firstDayOfWeek:e}},focusVisible:e=>{if(this._state.focusVisible!==e&&!this._state.disabled)return{focusVisible:e}},markDisabled:e=>{if(this._state.markDisabled!==e)return{markDisabled:e}},maxDate:e=>{const i=this.toValidDate(e,null);if(U2(this._state.maxDate,i))return{maxDate:i}},minDate:e=>{const i=this.toValidDate(e,null);if(U2(this._state.minDate,i))return{minDate:i}},navigation:e=>{if(this._state.navigation!==e)return{navigation:e}},outsideDays:e=>{if(this._state.outsideDays!==e)return{outsideDays:e}},weekdays:e=>{const i=!0===e||!1===e?"narrow":e,o=!0!==e&&!1!==e||e;if(this._state.weekdayWidth!==i||this._state.weekdaysVisible!==o)return{weekdayWidth:i,weekdaysVisible:o}}},this._calendar=$(z6),this._i18n=$(Ad),this._model$=new xe,this._dateSelect$=new xe,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:"narrow",weekdaysVisible:!0}}get model$(){return this._model$.pipe(li(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(li(e=>null!==e))}set(e){let i=Object.keys(e).map(o=>this._VALIDATORS[o](e[o])).reduce((o,s)=>({...o,...s}),{});Object.keys(i).length>0&&this._nextState(i)}focus(e){const i=this.toValidDate(e,null);null!=i&&!this._state.disabled&&U2(this._state.focusDate,i)&&this._nextState({focusDate:e})}focusSelect(){mM(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const i=this.toValidDate(e,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||$R(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(e,i={}){const o=this.toValidDate(e,null);null!=o&&!this._state.disabled&&(U2(this._state.selectedDate,o)&&this._nextState({selectedDate:o}),i.emitEvent&&mM(o,this._state)&&this._dateSelect$.next(o))}toValidDate(e,i){const o=hs.from(e);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(o)?o:i}getMonth(e){for(let i of this._state.months)if(e.month===i.number&&e.year===i.year)return i;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const i=this._updateState(e);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(e){const{months:i,displayMonths:o,selectedDate:s,focusDate:r,focusVisible:a,disabled:l,outsideDays:c}=e;e.months.forEach(h=>{h.weeks.forEach(p=>{p.days.forEach(f=>{r&&(f.context.focused=r.equals(f.date)&&a),f.tabindex=!l&&r&&f.date.equals(r)&&r.month===h.number?0:-1,!0===l&&(f.context.disabled=!0),void 0!==s&&(f.context.selected=null!==s&&s.equals(f.date)),h.number!==f.date.month&&(f.hidden="hidden"===c||"collapsed"===c||o>1&&f.date.after(i[0].firstDate)&&f.date.before(i[o-1].lastDate))})})})}_updateState(e){const i=Object.assign({},this._state,e);let o=i.firstDate;if(("minDate"in e||"maxDate"in e)&&(function Wde(t,n){if(n&&t&&n.before(t))throw new Error(`'maxDate' ${n} should be greater than 'minDate' ${t}`)}(i.minDate,i.maxDate),i.focusDate=V6(i.focusDate,i.minDate,i.maxDate),i.firstDate=V6(i.firstDate,i.minDate,i.maxDate),o=i.focusDate),"disabled"in e&&(i.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(o=i.selectedDate),"focusVisible"in e||"focusDate"in e&&(i.focusDate=V6(i.focusDate,i.minDate,i.maxDate),o=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in e&&(i.firstDate=V6(i.firstDate,i.minDate,i.maxDate),o=i.firstDate),o){const r=function qde(t,n,e,i,o){const{displayMonths:s,months:r}=e,a=r.splice(0,r.length);return Array.from({length:s},(c,h)=>{const p=Object.assign(t.getNext(n,"m",h),{day:1});if(r[h]=null,!o){const f=a.findIndex(v=>v.firstDate.equals(p));-1!==f&&(r[h]=a.splice(f,1)[0])}return p}).forEach((c,h)=>{null===r[h]&&(r[h]=function Yde(t,n,e,i,o={}){const{dayTemplateData:s,minDate:r,maxDate:a,firstDayOfWeek:l,markDisabled:c,outsideDays:h,weekdayWidth:p,weekdaysVisible:f}=e,v=t.getToday();o.firstDate=null,o.lastDate=null,o.number=n.month,o.year=n.year,o.weeks=o.weeks||[],o.weekdays=o.weekdays||[],n=function Qde(t,n,e){const i=t.getDaysPerWeek(),o=new hs(n.year,n.month,1),s=t.getWeekday(o)%i;return t.getPrev(o,"d",(i+s-e)%i)}(t,n,l),f||(o.weekdays.length=0);for(let C=0;C<t.getWeeksPerMonth();C++){let E=o.weeks[C];E||(E=o.weeks[C]={number:0,days:[],collapsed:!0});const D=E.days;for(let P=0;P<t.getDaysPerWeek();P++){0===C&&f&&(o.weekdays[P]=i.getWeekdayLabel(t.getWeekday(n),p));const I=new hs(n.year,n.month,n.day),k=t.getNext(I),R=i.getDayAriaLabel(I);let ee=!!(r&&I.before(r)||a&&I.after(a));!ee&&c&&(ee=c(I,{month:o.number,year:o.year}));let re=I.equals(v),fe=s?s(I,{month:o.number,year:o.year}):void 0;null===o.firstDate&&I.month===o.number&&(o.firstDate=I),I.month===o.number&&k.month!==o.number&&(o.lastDate=I);let pe=D[P];pe||(pe=D[P]={}),pe.date=I,pe.context=Object.assign(pe.context||{},{$implicit:I,date:I,data:fe,currentMonth:o.number,currentYear:o.year,disabled:ee,focused:!1,selected:!1,today:re}),pe.tabindex=-1,pe.ariaLabel=R,pe.hidden=!1,n=k}E.number=t.getWeekNumber(D.map(P=>P.date),l),E.collapsed="collapsed"===h&&D[0].date.month!==o.number&&D[D.length-1].date.month!==o.number}return o}(t,c,e,i,a.shift()||{}))}),r}(this._calendar,o,i,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e||"weekdaysVisible"in e);i.months=r,i.firstDate=r[0].firstDate,i.lastDate=r[r.length-1].lastDate,"selectedDate"in e&&!mM(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in e&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=o);const a=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,l=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in e||"maxDate"in e||0===i.selectBoxes.years.length||a)&&(i.selectBoxes.years=function jde(t,n,e){if(!t)return[];const i=n?Math.max(n.year,t.year-500):t.year-10,s=(e?Math.min(e.year,t.year+500):t.year+10)-i+1,r=Array(s);for(let a=0;a<s;a++)r[a]=i+a;return r}(i.firstDate,i.minDate,i.maxDate)),("minDate"in e||"maxDate"in e||0===i.selectBoxes.months.length||a)&&(i.selectBoxes.months=function Zde(t,n,e,i){if(!n)return[];let o=t.getMonths(n.year);if(e&&n.year===e.year){const s=o.findIndex(r=>r===e.month);o=o.slice(s)}if(i&&n.year===i.year){const s=o.findIndex(r=>r===i.month);o=o.slice(0,s+1)}return o}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(l||a||"minDate"in e||"maxDate"in e||"disabled"in e)&&(i.prevDisabled=i.disabled||function Kde(t,n,e){const i=Object.assign(t.getPrev(n,"m"),{day:1});return null!=e&&(i.year===e.year&&i.month<e.month||i.year<e.year&&1===e.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function Xde(t,n,e){const i=Object.assign(t.getNext(n,"m"),{day:1});return null!=e&&i.after(e)}(this._calendar,i.lastDate,i.maxDate))}return i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})();var H6=function(t){return t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",t}(H6||{});let CM=(()=>{class t{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays="narrow"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Od=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:()=>function e5e(){return new t5e}(),providedIn:"root"})}}return t})(),t5e=(()=>{class t extends Od{fromModel(e){return e&&oa(e.year)&&oa(e.month)&&oa(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&oa(e.year)&&oa(e.month)&&oa(e.day)?{year:e.year,month:e.month,day:e.day}:null}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})(),n5e=(()=>{class t{processKey(e,i){const{state:o,calendar:s}=i;switch(e.key){case"PageUp":i.focusDate(s.getPrev(o.focusedDate,e.shiftKey?"y":"m",1));break;case"PageDown":i.focusDate(s.getNext(o.focusedDate,e.shiftKey?"y":"m",1));break;case"End":i.focusDate(e.shiftKey?o.maxDate:o.lastDate);break;case"Home":i.focusDate(e.shiftKey?o.minDate:o.firstDate);break;case"ArrowLeft":i.focusDate(s.getPrev(o.focusedDate,"d",1));break;case"ArrowUp":i.focusDate(s.getPrev(o.focusedDate,"d",s.getDaysPerWeek()));break;case"ArrowRight":i.focusDate(s.getNext(o.focusedDate,"d",1));break;case"ArrowDown":i.focusDate(s.getNext(o.focusedDate,"d",s.getDaysPerWeek()));break;case"Enter":case" ":i.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),i5e=(()=>{class t{constructor(){this.i18n=$(Ad)}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(i,o){2&i&&Ce("bg-primary",o.selected)("text-white",o.selected)("text-muted",o.isMuted())("outside",o.isMuted())("active",o.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:sce,decls:1,vars:1,template:function(i,o){1&i&&A(0),2&i&&oe(o.i18n.getDayNumerals(o.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-tertiary-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0})}}return t})(),o5e=(()=>{class t{constructor(){this._month=-1,this._year=-1,this.i18n=$(Ad),this.select=new Ee}changeMonth(e){this.select.emit(new hs(this.date.year,ia(e),1))}changeYear(e){this.select.emit(new hs(ia(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this.monthSelect.nativeElement.value=`${this._month}`),this.date.year!==this._year&&(this._year=this.date.year,this.yearSelect.nativeElement.value=`${this._year}`))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(i,o){if(1&i&&(dn(rce,7,pn),dn(ace,7,pn)),2&i){let s;pt(s=gt())&&(o.monthSelect=s.first),pt(s=gt())&&(o.yearSelect=s.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:8,vars:2,consts:()=>{let e,i,o,s;return e="Select month",i="Select month",o="Select year",s="Select year",[["month",""],["year",""],["aria-label",e,"title",i,1,"form-select",3,"change","disabled"],[3,"value"],["aria-label",o,"title",s,1,"form-select",3,"change","disabled"]]},template:function(i,o){if(1&i){const s=F();d(0,"select",2,0),T("change",function(a){return b(s),S(o.changeMonth(a.target.value))}),Ue(2,lce,2,3,"option",3,Ht),u(),d(4,"select",4,1),T("change",function(a){return b(s),S(o.changeYear(a.target.value))}),Ue(6,cce,2,2,"option",3,Ht),u()}2&i&&(m("disabled",o.disabled),_(2),We(o.months),_(2),m("disabled",o.disabled),_(2),We(o.years))},styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0})}}return t})(),s5e=(()=>{class t{constructor(){this.navigation=H6,this.i18n=$(Ad),this.months=[],this.navigate=new Ee,this.select=new Ee}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:()=>{let e,i,o,s;return e="Previous month",i="Previous month",o="Next month",s="Next month",[[1,"ngb-dp-arrow","ngb-dp-arrow-prev"],["type","button","aria-label",e,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years"],[1,"ngb-dp-arrow","ngb-dp-arrow-next"],["type","button","aria-label",o,"title",s,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],[1,"ngb-dp-arrow"],[1,"ngb-dp-month-name"]]},template:function(i,o){1&i&&(d(0,"div",0)(1,"button",1),T("click",function(r){return o.onClickPrev(r)}),w(2,"span",2),u()(),y(3,dce,1,4,"ngb-datepicker-navigation-select",3)(4,pce,2,0),d(5,"div",4)(6,"button",5),T("click",function(r){return o.onClickNext(r)}),w(7,"span",2),u()()),2&i&&(_(),m("disabled",o.prevDisabled),_(2),N(o.showSelect?3:-1),_(),N(o.showSelect?-1:4),_(2),m("disabled",o.nextDisabled))},dependencies:[o5e],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow-next{justify-content:flex-end}.ngb-dp-arrow-next .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0})}}return t})(),GR=(()=>{class t{constructor(){this.templateRef=$(nn)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["ng-template","ngbDatepickerContent",""]]})}}return t})(),BR=(()=>{class t{constructor(){this._keyboardService=$(n5e),this._service=$(vM),this.i18n=$(Ad),this.datepicker=$(MM)}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(i,o){1&i&&T("keydown",function(r){return o.onKeyDown(r)})},inputs:{month:"month"},decls:3,vars:1,consts:[["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["role","row",1,"ngb-dp-week"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"disabled","tabindex","hidden","ngb-dp-today"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&(y(0,mce,4,1,"div",0),Ue(1,bce,1,1,null,null,Ht)),2&i&&(N(o.viewModel.weekdays.length>0?0:-1),_(),We(o.viewModel.weeks))},dependencies:[Uo],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-tertiary-bg)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2})}}return t})(),MM=(()=>{class t{constructor(){this.injector=$(ri),this._service=$(vM),this._calendar=$(z6),this._i18n=$(Ad),this._config=$(CM),this._nativeElement=$(pn).nativeElement,this._ngbDateAdapter=$(Od),this._ngZone=$(cn),this._destroyRef=$(Ca),this._injector=$(ri),this._controlValue=null,this._publicState={},this._initialized=!1,this.dayTemplate=this._config.dayTemplate,this.dayTemplateData=this._config.dayTemplateData,this.displayMonths=this._config.displayMonths,this.firstDayOfWeek=this._config.firstDayOfWeek,this.footerTemplate=this._config.footerTemplate,this.markDisabled=this._config.markDisabled,this.maxDate=this._config.maxDate,this.minDate=this._config.minDate,this.navigation=this._config.navigation,this.outsideDays=this._config.outsideDays,this.showWeekNumbers=this._config.showWeekNumbers,this.startDate=this._config.startDate,this.weekdays=this._config.weekdays,this.navigate=new Ee,this.dateSelect=new Ee,this.onChange=i=>{},this.onTouched=()=>{};const e=$(Ss);this._service.dateSelect$.pipe(X0()).subscribe(i=>{this.dateSelect.emit(i)}),this._service.model$.pipe(X0()).subscribe(i=>{const o=i.firstDate,s=this.model?this.model.firstDate:null;this._publicState={maxDate:i.maxDate,minDate:i.minDate,firstDate:i.firstDate,lastDate:i.lastDate,focusedDate:i.focusDate,months:i.months.map(h=>h.firstDate)};let r=!1;if(!o.equals(s)&&(this.navigate.emit({current:s?{year:s.year,month:s.month}:null,next:{year:o.year,month:o.month},preventDefault:()=>r=!0}),r&&null!==s))return void this._service.open(s);const a=i.selectedDate,l=i.focusDate,c=this.model?this.model.focusDate:null;this.model=i,U2(a,this._controlValue)&&(this._controlValue=a,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(a))),U2(l,c)&&c&&i.focusVisible&&this.focus(),e.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(e){this._service.focus(hs.from(e))}focusSelect(){this._service.focusSelect()}focus(){jr({read:()=>{this._nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]')?.focus()}},{injector:this._injector})}navigateTo(e){this._service.open(hs.from(e?e.day?e:{...e,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{u0(Dn(this._contentEl.nativeElement,"focusin"),Dn(this._contentEl.nativeElement,"focusout")).pipe(li(o=>{const s=o.target,r=o.relatedTarget;return!(s?.classList.contains("ngb-dp-day")&&r?.classList.contains("ngb-dp-day")&&this._nativeElement.contains(s)&&this._nativeElement.contains(r))}),X0(this._destroyRef)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>e[i]=this[i]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate),this._initialized=!0}ngOnChanges(e){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(o=>o in e).forEach(o=>i[o]=this[o]),this._service.set(i),"startDate"in e&&this._initialized){const{currentValue:o,previousValue:s}=e.startDate;$R(s,o)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case H6.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case H6.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=hs.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(i,o,s){if(1&i&&_i(s,GR,7),2&i){let r;pt(r=gt())&&(o.contentTemplateFromContent=r.first)}},viewQuery:function(i,o){if(1&i&&(dn(Sce,7),dn(Ece,7)),2&i){let s;pt(s=gt())&&(o._defaultDayTemplate=s.first),pt(s=gt())&&(o._contentEl=s.first)}},hostVars:2,hostBindings:function(i,o){2&i&&Ce("disabled",o.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0},vM]),xi],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],[1,"ngb-dp-month"],[1,"ngb-dp-month-name"],[3,"month"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(i,o){if(1&i&&(y(0,Ace,1,5,"ng-template",null,0,zt)(2,Nce,2,0,"ng-template",null,1,zt),d(4,"div",3),y(5,Dce,1,7,"ngb-datepicker-navigation",4),u(),d(6,"div",5,2),y(8,Pce,0,0,"ng-template",6),u(),y(9,Ice,0,0,"ng-template",7)),2&i){const s=Ve(3);_(5),N("none"!==o.navigation?5:-1),_(),Ce("ngb-dp-months",!o.contentTemplate),_(2),m("ngTemplateOutlet",o.contentTemplate||(null==o.contentTemplateFromContent?null:o.contentTemplateFromContent.templateRef)||s)("ngTemplateOutletContext",Wn(7,NR,o))("ngTemplateOutletInjector",o.injector),_(),m("ngTemplateOutlet",o.footerTemplate)}},dependencies:[Uo,i5e,BR,s5e],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-tertiary-bg)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-tertiary-bg)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0})}}return t})();const $6=(t,n)=>!!n&&n.some(e=>e.contains(t)),UR=(t,n)=>!n||null!=function Pde(t,n){return!n||typeof t.closest>"u"?null:t.closest(n)}(t,n),r5e=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function ep(t,n,e,i,o,s,r,a){e&&t.runOutsideAngular((t=>r5e?()=>setTimeout(()=>t(),100):t)(()=>{const c=Dn(n,"keydown").pipe(Te(o),li(f=>"Escape"===f.key),un(f=>f.preventDefault())),h=Dn(n,"mousedown").pipe(Tt(f=>{const v=f.target;return 2!==f.button&&!$6(v,r)&&("inside"===e?$6(v,s)&&UR(v,a):"outside"===e?!$6(v,s):UR(v,a)||!$6(v,s))}),Te(o)),p=Dn(n,"mouseup").pipe(D6(h),li(([f,v])=>v),I1(0),Te(o));uR([c.pipe(Tt(f=>0)),p.pipe(Tt(f=>1))]).subscribe(f=>t.run(()=>i(f)))}))}const WR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ZR(t){const n=Array.from(t.querySelectorAll(WR)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const jR=(t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const o=Dn(n,"focusin").pipe(Te(e),Tt(s=>s.target));Dn(n,"keydown").pipe(Te(e),li(s=>"Tab"===s.key),D6(o)).subscribe(([s,r])=>{const[a,l]=ZR(n);(r===a||r===n)&&s.shiftKey&&(l.focus(),s.preventDefault()),r===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Dn(n,"click").pipe(Te(e),D6(o),Tt(s=>s[1])).subscribe(s=>s.focus())})};let l5e=(()=>{class t{constructor(){this._element=$(Xn).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const c5e=/\s+/,d5e=/  +/gi,u5e={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},_5e=/^left/,p5e=/^right/,g5e=/^start/,f5e=/^end/;function XR({placement:t,baseClass:n},e){let i=Array.isArray(t)?t:t.split(c5e),s=i.findIndex(c=>"auto"===c);s>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(c){null==i.find(h=>-1!==h.search("^"+c))&&i.splice(s++,1,c)});const r=i.map(c=>function h5e(t,n){const[e,i]=u5e[t];return n&&i||e}(c,e.isRTL()));return{placement:r.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!n,phase:"write",fn({state:c}){const h=new RegExp(n+"(-[a-z]+)*","gi"),p=c.elements.popper,f=c.placement;let v=p.className;v=v.replace(h,""),v+=` ${function m5e(t,n){let[e,i]=n.split("-");const o=e.replace(_5e,"start").replace(p5e,"end");let s=[o];if(i){let r=i;("left"===e||"right"===e)&&(r=r.replace(g5e,"top").replace(f5e,"bottom")),s.push(`${o}-${r}`)}return t&&(s=s.map(r=>`${t}-${r}`)),s.join(" ")}(n,f)}`,v=v.trim().replace(d5e," "),p.className=v}},wle,Ale,Dle,{enabled:!0,name:"flip",options:{fallbackPlacements:r}}]}}function KR(t){return t}function tp(){const t=$(l5e);let n=null;return{createPopper(e){if(!n){let o=(e.updatePopperOptions||KR)(XR(e,t));n=Yle(e.hostElement,e.targetElement,o)}},update(){n&&n.update()},setOptions(e){if(n){let o=(e.updatePopperOptions||KR)(XR(e,t));n.setOptions(o)}},destroy(){n&&(n.destroy(),n=null)}}}let np=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:()=>function v5e(){return new C5e}(),providedIn:"root"})}}return t})(),C5e=(()=>{class t extends np{parse(e){if(null!=e){const i=e.trim().split("-");if(1===i.length&&zs(i[0]))return{year:ia(i[0]),month:null,day:null};if(2===i.length&&zs(i[0])&&zs(i[1]))return{year:ia(i[0]),month:ia(i[1]),day:null};if(3===i.length&&zs(i[0])&&zs(i[1])&&zs(i[2]))return{year:ia(i[0]),month:ia(i[1]),day:ia(i[2])}}return null}format(e){return e?`${e.year}-${zs(e.month)?xR(e.month):""}-${zs(e.day)?xR(e.day):""}`:""}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})(),qR=(()=>{class t extends CM{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e,this.restoreFocus=!0}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ip(t){return n=>(n.modifiers.push(ece,{name:"offset",options:{offset:()=>t}}),n)}let G6=(()=>{class t{constructor(){this._parserFormatter=$(np),this._elRef=$(pn),this._vcRef=$(qs),this._ngZone=$(cn),this._calendar=$(z6),this._dateAdapter=$(Od),this._document=$(Xn),this._changeDetector=$(Ss),this._injector=$(ri),this._config=$(qR),this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=tp(),this._destroyCloseHandlers$=new xe,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.positionTarget=this._config.positionTarget,this.dateSelect=new Ee,this.navigate=new Ee,this.closed=new Ee,this._onChange=e=>{},this._onTouched=()=>{},this._validatorChange=()=>{}}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e&&"false"!==e,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}registerOnValidatorChange(e){this._validatorChange=e}setDisabledState(e){this.disabled=e}validate(e){const{value:i}=e;if(null!=i){const o=this._fromDateStruct(this._dateAdapter.fromModel(i));if(!o)return{ngbDate:{invalid:i}};if(this.minDate&&o.before(hs.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:i}}};if(this.maxDate&&o.after(hs.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:i}}}}return null}writeValue(e){this._model=this._fromDateStruct(this._dateAdapter.fromModel(e)),this._writeModelValue(this._model)}manualDateChange(e,i=!1){const o=e!==this._inputValue;o&&(this._inputValue=e,this._model=this._fromDateStruct(this._parserFormatter.parse(e))),(o||!i)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===e?null:e),i&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let e;if(this._cRef=this._vcRef.createComponent(MM,{injector:this._injector}),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(i=>{this.writeValue(i),this._onChange(i),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container)?.appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,jR(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus()),e=Jl(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!e)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._ngZone.runOutsideAngular(()=>{this._cRef&&e&&(this._positioning.createPopper({hostElement:e,targetElement:this._cRef.location.nativeElement,placement:this.placement,updatePopperOptions:i=>this.popperOptions(ip([0,2])(i))}),this._afterRenderRef=V5({mixedReadWrite:()=>{this._positioning.update()}},{injector:this._injector}))}),this._setCloseHandlers()}}close(){if(this.isOpen()){this._cRef?.destroy(),this._cRef=null,this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let e=this._elWithFocus;Jl(this.restoreFocus)?e=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(e=this.restoreFocus),e&&e.focus?e.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(e){this.isOpen()&&this._cRef.instance.navigateTo(e)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(e){if((e.minDate||e.maxDate)&&(this._validatorChange(),this.isOpen()&&(e.minDate&&this._cRef.setInput("minDate",this.minDate),e.maxDate&&this._cRef.setInput("maxDate",this.maxDate))),e.datepickerClass){const{currentValue:i,previousValue:o}=e.datepickerClass;this._applyPopupClass(i,o)}e.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(e){["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(i=>{void 0!==this[i]&&e.setInput(i,this[i])}),e.setInput("startDate",this.startDate||this._model)}_applyPopupClass(e,i){const o=this._cRef?.location.nativeElement;o&&(e&&o.classList.add(e),i&&o.classList.remove(i))}_applyPopupStyling(e){e.classList.add("dropdown-menu","show"),"body"===this.container&&e.classList.add("ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(e){e.navigate.subscribe(i=>this.navigate.emit(i)),e.dateSelect.subscribe(i=>{this.dateSelect.emit(i),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(e){const i=this._parserFormatter.format(e);this._inputValue=i,this._elRef.nativeElement.value=i,this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(e)),this._onTouched())}_fromDateStruct(e){const i=e?new hs(e.year,e.month,e.day):null;return this._calendar.isValid(i)?i:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),ep(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(i,o){1&i&&T("input",function(r){return o.manualDateChange(r.target.value)})("change",function(r){return o.manualDateChange(r.target.value,!0)})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()}),2&i&&cr("disabled",o.disabled)},inputs:{autoClose:"autoClose",contentTemplate:"contentTemplate",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0},{provide:er,useExisting:sn(()=>t),multi:!0},{provide:CM,useExisting:qR}]),xi]})}}return t})();new Date(1882,10,12),new Date(2174,10,25);let rp=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),I5e=(()=>{class t{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e,this.container=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vs=(()=>{class t{constructor(){this._disabled=!1,this.nativeElement=$(pn).nativeElement,this.tabindex=0}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(i,o){2&i&&(cr("tabIndex",o.disabled?-1:o.tabindex),Ce("disabled",o.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"}})}}return t})(),Rr=(()=>{class t{constructor(){this.item=$(Vs)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(i,o){2&i&&cr("disabled",o.item.disabled)}})}}return t})(),yo=(()=>{class t{constructor(){this.dropdown=$(bo),this.nativeElement=$(pn).nativeElement}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(i,o,s){if(1&i&&_i(s,Vs,4),2&i){let r;pt(r=gt())&&(o.menuItems=r)}},hostAttrs:[1,"dropdown-menu"],hostVars:2,hostBindings:function(i,o){1&i&&T("keydown.ArrowUp",function(r){return o.dropdown.onKeyDown(r)})("keydown.ArrowDown",function(r){return o.dropdown.onKeyDown(r)})("keydown.Home",function(r){return o.dropdown.onKeyDown(r)})("keydown.End",function(r){return o.dropdown.onKeyDown(r)})("keydown.Enter",function(r){return o.dropdown.onKeyDown(r)})("keydown.Space",function(r){return o.dropdown.onKeyDown(r)})("keydown.Tab",function(r){return o.dropdown.onKeyDown(r)})("keydown.Shift.Tab",function(r){return o.dropdown.onKeyDown(r)}),2&i&&Ce("show",o.dropdown.isOpen())}})}}return t})(),ap=(()=>{class t{constructor(){this.dropdown=$(bo),this.nativeElement=$(pn).nativeElement}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,o){2&i&&(Un("aria-expanded",o.dropdown.isOpen()),Ce("show",o.dropdown.isOpen()))}})}}return t})(),Jo=(()=>{class t extends ap{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275dir=et({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,o){1&i&&T("click",function(){return o.dropdown.toggle()})("keydown.ArrowUp",function(r){return o.dropdown.onKeyDown(r)})("keydown.ArrowDown",function(r){return o.dropdown.onKeyDown(r)})("keydown.Home",function(r){return o.dropdown.onKeyDown(r)})("keydown.End",function(r){return o.dropdown.onKeyDown(r)})("keydown.Tab",function(r){return o.dropdown.onKeyDown(r)})("keydown.Shift.Tab",function(r){return o.dropdown.onKeyDown(r)}),2&i&&(Un("aria-expanded",o.dropdown.isOpen()),Ce("show",o.dropdown.isOpen()))},features:[tn([{provide:ap,useExisting:sn(()=>t)}]),st]})}}return t})(),bo=(()=>{class t{constructor(){this._changeDetector=$(Ss),this._config=$(I5e),this._document=$(Xn),this._injector=$(ri),this._ngZone=$(cn),this._nativeElement=$(pn).nativeElement,this._destroyCloseHandlers$=new xe,this._bodyContainer=null,this._positioning=tp(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new Ee}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){jr({write:()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()}},{injector:this._injector})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement}),this._applyPlacementClasses()),e.dropdownClass){const{currentValue:i,previousValue:o}=e.dropdownClass;this._applyCustomDropdownClass(i,o)}e.autoClose&&this._open&&(this.autoClose=e.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,updatePopperOptions:e=>this.popperOptions(ip([0,2])(e))}),this._applyPlacementClasses(),this._afterRenderRef=V5({write:()=>{this._positionMenu()}},{injector:this._injector})})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),ep(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(e){const{key:i}=e,o=this._getMenuElements();let s=-1,r=null;const a=this._isEventFromToggle(e);if(!a&&o.length&&o.forEach((l,c)=>{l.contains(e.target)&&(r=l),l===RR(this._document)&&(s=c)})," "!==i&&"Enter"!==i){if("Tab"!==i){if(a||r){if(this.open(),o.length){switch(i){case"ArrowDown":s=Math.min(s+1,o.length-1);break;case"ArrowUp":if(this._isDropup()&&-1===s){s=o.length-1;break}s=Math.max(s-1,0);break;case"Home":s=0;break;case"End":s=o.length-1}o[s].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(WR);e.shiftKey&&e.target===l[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Dn(e.target,"focusout").pipe(Js(1)).subscribe(({relatedTarget:l})=>{this._nativeElement.contains(l)||this.close()})}}else r&&(!0===this.autoClose||"inside"===this.autoClose)&&Dn(r,"click").pipe(Js(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:e})=>!e).map(({nativeElement:e})=>e):[]}_positionMenu(){const e=this._menu;this.isOpen()&&e&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||this._document.createElement("div");o.style.position="absolute",i.style.position="static",o.style.zIndex="1055",o.appendChild(i),this._document.body.appendChild(o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const o="body"===this.container?this._bodyContainer:this._nativeElement;o&&(i&&o.classList.remove(i),e&&o.classList.add(e))}_applyPlacementClasses(e){if(this._menu){e||(e=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const i=-1!==e.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(i),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(i))}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(i,o,s){if(1&i&&(_i(s,yo,5),_i(s,ap,5)),2&i){let r;pt(r=gt())&&(o._menu=r.first),pt(r=gt())&&(o._anchor=r.first)}},hostVars:2,hostBindings:function(i,o){2&i&&Ce("show",o.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[xi]})}}return t})(),No=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),x5e=(()=>{class t{constructor(){this._ngbConfig=$(Ql),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Dd{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}class EM{constructor(n){this._componentType=n,this._windowRef=null,this._contentRef=null,this._document=$(Xn),this._applicationRef=$(lr),this._injector=$(ri),this._viewContainerRef=$(qs),this._ngZone=$(cn)}open(n,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(n,e),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:o}=this._windowRef.location,s=new xe;jr({mixedReadWrite:()=>{s.next(),s.complete()}},{injector:this._injector});const r=s.pipe(As(()=>Lr(this._ngZone,o,({classList:a})=>a.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:r}}close(n=!1){return this._windowRef?Lr(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:n,runningTransition:"stop"}).pipe(un(()=>{this._windowRef?.destroy(),this._contentRef?.viewRef?.destroy(),this._windowRef=null,this._contentRef=null})):Et(void 0)}_getContentRef(n,e){if(n){if(n instanceof nn){const i=n.createEmbeddedView(e);return this._applicationRef.attachView(i),new Dd([i.rootNodes],i)}return new Dd([[this._document.createTextNode(`${n}`)]])}return new Dd([])}}let L5e=(()=>{class t{constructor(){this._document=$(Xn)}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:s,paddingRight:r}=o;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${a+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=r),o.overflow=s}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),R5e=(()=>{class t{constructor(){this._nativeElement=$(pn).nativeElement,this._zone=$(cn),this._injector=$(ri)}ngOnInit(){jr({mixedReadWrite:()=>Lr(this._zone,this._nativeElement,(e,i)=>{i&&G2(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return Lr(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){2&i&&(lo("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),Ce("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,o){},encapsulation:2})}}return t})();class io{update(n){}close(n){}dismiss(n){}}const F5e=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],k5e=["animation","backdropClass"];class z5e{_applyWindowOptions(n,e){F5e.forEach(i=>{ec(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){k5e.forEach(i=>{ec(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Te(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Te(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new xe,this._dismissed=new xe,this._hidden=new xe,n.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,r)=>{this._resolve=s,this._reject=r}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function IR(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Et(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),oM(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var AM=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(AM||{});let V5e=(()=>{class t{constructor(){this._document=$(Xn),this._elRef=$(pn),this._zone=$(cn),this._injector=$(ri),this._closed$=new xe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new Ee,this.shown=new xe,this.hidden=new xe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Jl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,jr({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=oM(Lr(this._zone,e,()=>e.classList.remove("show"),i),Lr(this._zone,this._dialogEl.nativeElement,()=>{},i));return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){const e={animation:this.animation,runningTransition:"continue"};oM(Lr(this._zone,this._elRef.nativeElement,(s,r)=>{r&&G2(s),s.classList.add("show")},e),Lr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Dn(e,"keydown").pipe(Te(this._closed$),li(o=>"Escape"===o.key)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(AM.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Dn(this._dialogEl.nativeElement,"mousedown").pipe(Te(this._closed$),un(()=>i=!1),Mi(()=>Dn(e,"mouseup").pipe(Te(this._closed$),Js(1))),li(({target:o})=>e===o)).subscribe(()=>{i=!0}),Dn(e,"click").pipe(Te(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(AM.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=ZR(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Lr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&dn(xce,7),2&i){let s;pt(s=gt())&&(o._dialogEl=s.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(i,o){2&i&&(Un("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy)("role",o.role),lo("modal d-block"+(o.windowClass?" "+o.windowClass:"")),Ce("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Yl,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,o){1&i&&(Ys(),d(0,"div",1,0)(2,"div",2),ks(3),u()()),2&i&&lo("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return t})(),H5e=(()=>{class t{constructor(){this._applicationRef=$(lr),this._injector=$(ri),this._environmentInjector=$(xs),this._document=$(Xn),this._scrollBar=$(L5e),this._activeWindowCmptHasChanged=new xe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ee;const e=$(cn);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const i=this._windowCmpts[this._windowCmpts.length-1];jR(e,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const s=o.container instanceof HTMLElement?o.container:ec(o.container)?this._document.querySelector(o.container):this._document.body;if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const r=new io,a=(e=o.injector||e).get(xs,null)||this._environmentInjector,l=this._getContentRef(e,a,i,r,o);let c=!1!==o.backdrop?this._attachBackdrop(s):void 0,h=this._attachWindowComponent(s,l.nodes),p=new z5e(h,l,c,o.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(h),p.hidden.pipe(Js(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),r.close=f=>{p.close(f)},r.dismiss=f=>{p.dismiss(f)},r.update=f=>{p.update(f)},p.update(o),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),h.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=k3(R5e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=k3(V5e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,i,o,s,r){return o?o instanceof nn?this._createFromTemplateRef(o,s):Jl(o)?this._createFromString(o):this._createFromComponent(e,i,o,s,r):new Dd([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(r){i.close(r)},dismiss(r){i.dismiss(r)}});return this._applicationRef.attachView(s),new Dd([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Dd([[i]])}_createFromComponent(e,i,o,s,r){const l=k3(o,{environmentInjector:i,elementInjector:ri.create({providers:[{provide:io,useValue:s}],parent:e})}),c=l.location.nativeElement;return r.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Dd([[c]],l.hostView,l)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Do=(()=>{class t{constructor(){this._injector=$(ri),this._modalStack=$(H5e),this._config=$(x5e)}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),OM=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({providers:[Do]})}}return t})(),$5e=(()=>{class t{constructor(){this._ngbConfig=$(Ql),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const sF=t=>ec(t)&&""!==t;let G5e=0,Z2=(()=>{class t{constructor(){this.templateRef=$(nn)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["ng-template","ngbNavContent",""]]})}}return t})(),j2=(()=>{class t{constructor(e){this.role=e,this.nav=$(g0)}static{this.\u0275fac=function(i){return new(i||t)(E1("role"))}}static{this.\u0275dir=et({type:t,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(i,o){2&i&&Un("role",o.role?o.role:o.nav.roles?"presentation":void 0)}})}}return t})(),tc=(()=>{class t{constructor(){this._nav=$(g0),this._nativeElement=$(pn).nativeElement,this.disabled=!1,this.shown=new Ee,this.hidden=new Ee}ngOnInit(){ec(this.domId)||(this.domId="ngb-nav-"+G5e++)}get active(){return this._nav.activeId===this.id}get id(){return sF(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(ec(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbNavItem",""]],contentQueries:function(i,o,s){if(1&i&&_i(s,Z2,4),2&i){let r;pt(r=gt())&&(o.contentTpl=r.first)}},hostAttrs:[1,"nav-item"],inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[0,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]})}}return t})(),g0=(()=>{class t{constructor(e){this.role=e,this._config=$($5e),this._cd=$(Ss),this._document=$(Xn),this._nativeElement=$(pn).nativeElement,this.destroyRef=$(Ca),this._navigatingWithKeyboard=!1,this.activeIdChange=new Ee,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new Ee,this.hidden=new Ee,this.navItemChange$=new xe,this.navChange=new Ee}click(e){e.disabled||this._updateActiveId(e.id)}onFocusout({relatedTarget:e}){this._nativeElement.contains(e)||(this._navigatingWithKeyboard=!1)}onKeyDown(e){if("tablist"!==this.roles||!this.keyboard)return;const i=this.links.filter(r=>!r.navItem.disabled),{length:o}=i;let s=-1;if(i.forEach((r,a)=>{r.nativeElement===this._document.activeElement&&(s=a)}),o){switch(e.key){case"ArrowUp":case"ArrowLeft":s=(s-1+o)%o;break;case"ArrowRight":case"ArrowDown":s=(s+1)%o;break;case"Home":s=0;break;case"End":s=o-1}"changeWithArrows"===this.keyboard&&this.select(i[s].navItem.id),i[s].nativeElement.focus(),this._navigatingWithKeyboard=!0,e.preventDefault()}}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!ec(this.activeId)){const e=this.items.first?this.items.first.id:null;sF(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}this.items.changes.pipe(X0(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:e}){e&&!e.firstChange&&this._notifyItemChanged(e.currentValue)}_updateActiveId(e,i=!0){if(this.activeId!==e){let o=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{o=!0}}),o||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}_notifyItemChanged(e){this.navItemChange$.next(this._getItemById(e))}_getItemById(e){return this.items&&this.items.find(i=>i.id===e)||null}static{this.\u0275fac=function(i){return new(i||t)(E1("role"))}}static{this.\u0275dir=et({type:t,selectors:[["","ngbNav",""]],contentQueries:function(i,o,s){if(1&i&&(_i(s,tc,4),_i(s,q0,5)),2&i){let r;pt(r=gt())&&(o.items=r),pt(r=gt())&&(o.links=r)}},hostAttrs:[1,"nav"],hostVars:4,hostBindings:function(i,o){1&i&&T("keydown.arrowLeft",function(r){return o.onKeyDown(r)})("keydown.arrowRight",function(r){return o.onKeyDown(r)})("keydown.arrowDown",function(r){return o.onKeyDown(r)})("keydown.arrowUp",function(r){return o.onKeyDown(r)})("keydown.Home",function(r){return o.onKeyDown(r)})("keydown.End",function(r){return o.onKeyDown(r)})("focusout",function(r){return o.onFocusout(r)}),2&i&&(Un("aria-orientation","vertical"===o.orientation&&"tablist"===o.roles?"vertical":void 0)("role",o.role?o.role:o.roles?"tablist":void 0),Ce("flex-column","vertical"===o.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[xi]})}}return t})(),q0=(()=>{class t{constructor(e){this.role=e,this.navItem=$(tc),this.nav=$(g0),this.nativeElement=$(pn).nativeElement}get tabindex(){return!1===this.nav.keyboard?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}static{this.\u0275fac=function(i){return new(i||t)(E1("role"))}}static{this.\u0275dir=et({type:t,selectors:[["","ngbNavLink",""]],hostAttrs:[1,"nav-link"],hostVars:12,hostBindings:function(i,o){2&i&&(cr("id",o.navItem.domId),Un("role",o.role?o.role:o.nav.roles?"tab":void 0)("tabindex",o.tabindex)("aria-controls",o.navItem.isPanelInDom()?o.navItem.panelDomId:null)("aria-selected",o.navItem.active)("aria-disabled",o.navItem.disabled),Ce("nav-item",o.navItem.isNgContainer())("active",o.navItem.active)("disabled",o.navItem.disabled))}})}}return t})(),X2=(()=>{class t extends q0{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275dir=et({type:t,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostBindings:function(i,o){1&i&&T("click",function(r){return o.nav.click(o.navItem),r.preventDefault()})},features:[st]})}}return t})();const U5e=({classList:t})=>(t.remove("show"),()=>t.remove("active")),W5e=(t,n)=>{n&&G2(t),t.classList.add("show")};let yM=(()=>{class t{constructor(){this.nativeElement=$(pn).nativeElement}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(i,o){2&i&&(cr("id",o.item.panelDomId),Un("role",o.role?o.role:o.nav.roles?"tabpanel":void 0)("aria-labelledby",o.item.domId),Ce("fade",o.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}})}}return t})(),K2=(()=>{class t{constructor(){this._cd=$(Ss),this._ngZone=$(cn),this._activePane=null}isPanelTransitioning(e){return this._activePane?.item===e}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(X0(this.nav.destroyRef),O2(this._activePane?.item||null),h1(),function Y0e(t){return li((n,e)=>t<=e)}(1)).subscribe(e=>{const i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Lr(this._ngZone,this._activePane.nativeElement,U5e,i).subscribe(()=>{const o=this._activePane?.item;this._activePane=this._getPaneForItem(e),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),Lr(this._ngZone,this._activePane.nativeElement,W5e,i).subscribe(()=>{e&&(e.shown.emit(),this.nav.shown.emit(e.id))})),o&&(o.hidden.emit(),this.nav.hidden.emit(o.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show","active")}_getPaneForItem(e){return this._panes&&this._panes.find(i=>i.item===e)||null}_getActivePane(){return this._panes&&this._panes.find(e=>e.item.active)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["","ngbNavOutlet",""]],viewQuery:function(i,o){if(1&i&&dn(yM,5),2&i){let s;pt(s=gt())&&(o._panes=s)}},hostAttrs:[1,"tab-content"],inputs:{paneRole:"paneRole",nav:[0,"ngbNavOutlet","nav"]},attrs:Lce,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&Ue(0,kce,1,1,null,null,Ht),2&i&&We(o.nav.items)},dependencies:[yM,Uo],encapsulation:2,changeDetection:0})}}return t})(),nc=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),Z5e=(()=>{class t{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rF=(()=>{class t{constructor(){this.templateRef=$(nn)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["ng-template","ngbPaginationEllipsis",""]]})}}return t})(),aF=(()=>{class t{constructor(){this.templateRef=$(nn)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["ng-template","ngbPaginationFirst",""]]})}}return t})(),lF=(()=>{class t{constructor(){this.templateRef=$(nn)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["ng-template","ngbPaginationLast",""]]})}}return t})(),cF=(()=>{class t{constructor(){this.templateRef=$(nn)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["ng-template","ngbPaginationNext",""]]})}}return t})(),dF=(()=>{class t{constructor(){this.templateRef=$(nn)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["ng-template","ngbPaginationNumber",""]]})}}return t})(),uF=(()=>{class t{constructor(){this.templateRef=$(nn)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["ng-template","ngbPaginationPrevious",""]]})}}return t})(),hF=(()=>{class t{constructor(){this.templateRef=$(nn)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["ng-template","ngbPaginationPages",""]]})}}return t})(),ic=(()=>{class t{constructor(){this._config=$(Z5e),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new Ee(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,i){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,i=this.pageCount,o=Math.floor(this.maxSize/2);return this.page<=o?i=this.maxSize:this.pageCount-this.page<o?e=this.pageCount-this.maxSize:(e=this.page-o-1,i=this.page+(this.maxSize%2==0?o-1:o)),[e,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(e){const i=this.page;this.page=PR(e,this.pageCount,1),this.page!==i&&zs(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),zs(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,o=this.pageCount;[i,o]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,o),this._applyEllipses(i,o)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-pagination"]],contentQueries:function(i,o,s){if(1&i&&(_i(s,rF,5),_i(s,aF,5),_i(s,lF,5),_i(s,cF,5),_i(s,dF,5),_i(s,uF,5),_i(s,hF,5)),2&i){let r;pt(r=gt())&&(o.tplEllipsis=r.first),pt(r=gt())&&(o.tplFirst=r.first),pt(r=gt())&&(o.tplLast=r.first),pt(r=gt())&&(o.tplNext=r.first),pt(r=gt())&&(o.tplNumber=r.first),pt(r=gt())&&(o.tplPrevious=r.first),pt(r=gt())&&(o.tplPages=r.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[xi],decls:20,vars:12,consts:()=>{let e,i,o,s,r,a,l,c;return e="\xAB\xAB",i="\xAB",o="\xBB",s="\xBB\xBB",r="First",a="Previous",l="Next",c="Last",[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],e,i,o,s,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",r,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(i,o){if(1&i&&(y(0,Gce,2,0,"ng-template",null,0,zt)(2,Bce,2,0,"ng-template",null,1,zt)(4,Uce,2,0,"ng-template",null,2,zt)(6,Wce,2,0,"ng-template",null,3,zt)(8,Zce,1,0,"ng-template",null,4,zt)(10,jce,1,1,"ng-template",null,5,zt)(12,Jce,2,0,"ng-template",null,6,zt),d(14,"ul"),y(15,tde,3,9,"li",11)(16,ide,3,8,"li",11)(17,ode,0,0,"ng-template",12)(18,rde,3,9,"li",11)(19,lde,3,9,"li",11),u()),2&i){const s=Ve(13);_(14),lo("pagination"+(o.size?" pagination-"+o.size:"")),_(),N(o.boundaryLinks?15:-1),_(),N(o.directionLinks?16:-1),_(),m("ngTemplateOutlet",(null==o.tplPages?null:o.tplPages.templateRef)||s)("ngTemplateOutletContext",ld(8,zce,o.page,o.pages,o.disabled)),_(),N(o.directionLinks?18:-1),_(),N(o.boundaryLinks?19:-1)}},dependencies:[Uo],encapsulation:2,changeDetection:0})}}return t})(),f0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})();const j5e={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function _F(t,n,e,i,o,s=0,r=0){const a=function X5e(t){const n=(t||"").trim();if(0===n.length)return[];const e=n.split(/\s+/).map(o=>o.split(":")).map(o=>j5e[o[0]]||o),i=e.filter(o=>o.includes("manual"));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&e.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i.length?[]:e}(n);if(0===a.length)return()=>{};const l=new Set,c=[];let h;function p(v,C){t.addEventListener(v,C),c.push(()=>t.removeEventListener(v,C))}function f(v,C){clearTimeout(h),C>0?h=setTimeout(v,C):v()}for(const[v,C]of a)C?(p(v,()=>{l.add(v),f(()=>l.size>0&&i(),s)}),p(C,()=>{l.delete(v),f(()=>0===l.size&&o(),r)})):p(v,()=>e()?f(o,r):f(i,s));return()=>c.forEach(v=>v())}let K5e=(()=>{class t{constructor(){this._ngbConfig=$(Ql),this.autoClose=!0,this.placement="auto",this.popperOptions=e=>e,this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),q5e=0,Y5e=(()=>{class t{isTitleTemplate(){return this.title instanceof nn}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(i,o){2&i&&(cr("id",o.id),lo("popover"+(o.popoverClass?" "+o.popoverClass:"")),Ce("fade",o.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:Yl,decls:4,vars:1,consts:[["simpleTitle",""],["data-popper-arrow","",1,"popover-arrow"],[1,"popover-header"],[1,"popover-body"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&(Ys(),w(0,"div",1),y(1,ude,4,2,"h3",2),d(2,"div",3),ks(3),u()),2&i&&(_(),N(o.title?1:-1))},dependencies:[Uo],encapsulation:2,changeDetection:0})}}return t})(),Da=(()=>{class t{constructor(){this._config=$(K5e),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disablePopover=this._config.disablePopover,this.popoverClass=this._config.popoverClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new Ee,this.hidden=new Ee,this._nativeElement=$(pn).nativeElement,this._ngZone=$(cn),this._document=$(Xn),this._changeDetector=$(Ss),this._injector=$(ri),this._ngbPopoverWindowId="ngb-popover-"+q5e++,this._popupService=new EM(Y5e),this._windowRef=null,this._positioning=tp()}open(e){if(!this._windowRef&&!this._isDisabled()){const{windowRef:i,transition$:o}=this._popupService.open(this.ngbPopover,e??this.popoverContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("title",this.popoverTitle),this._windowRef.setInput("context",e??this.popoverContext),this._windowRef.setInput("popoverClass",this.popoverClass),this._windowRef.setInput("id",this._ngbPopoverWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,baseClass:"bs-popover",updatePopperOptions:s=>this.popperOptions(ip([0,8])(s))}),Promise.resolve().then(()=>{this._positioning.update()}),this._afterRenderRef=V5({mixedReadWrite:()=>{this._positioning.update()}},{injector:this._injector})}),ep(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),o.subscribe(()=>this.shown.emit())}}close(e=this.animation){this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._afterRenderRef?.destroy(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=_F(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:e,popoverTitle:i,disablePopover:o,popoverClass:s}){s&&this.isOpen()&&this._windowRef.setInput("popoverClass",s.currentValue),(e||i||o)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}_getPositionTargetElement(){return(Jl(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",popoverContext:"popoverContext",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[xi]})}}return t})(),Pa=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),Q5e=(()=>{class t{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Z6=(()=>{class t{set max(e){this._max=!zs(e)||e<=0?100:e}get max(){return this._max}constructor(){this._config=$(Q5e),this.stacked=$(J5e,{optional:!0}),this.animated=this._config.animated,this.ariaLabel=this._config.ariaLabel,this.striped=this._config.striped,this.showValue=this._config.showValue,this.textType=this._config.textType,this.type=this._config.type,this.value=0,this.height=this._config.height,this.max=this._config.max}getValue(){return PR(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:7,hostBindings:function(i,o){2&i&&(Un("aria-valuenow",o.getValue())("aria-valuemax",o.max)("aria-label",o.ariaLabel),qr("width",o.stacked?o.getPercentValue():null,"%")("height",o.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},ngContentSelectors:Yl,decls:3,vars:11,consts:()=>{let e;return e="" + "\ufffd0\ufffd" + "",[e]},template:function(i,o){1&i&&(Ys(),d(0,"div"),y(1,hde,3,3,"span"),ks(2),u()),2&i&&(function wN(t,n,e,i,o){N1(va,l0,r2(Ne(),t,n,e,i,o),!0)}("progress-bar",o.type?o.textType?" bg-"+o.type:" text-bg-"+o.type:"","",o.textType?" text-"+o.textType:"",""),qr("width",o.stacked?null:o.getPercentValue(),"%"),Ce("progress-bar-animated",o.animated)("progress-bar-striped",o.striped),_(),N(o.showValue?1:-1))},dependencies:[dI],encapsulation:2,changeDetection:0})}}return t})(),J5e=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-progressbar-stacked"]],hostAttrs:[1,"progress-stacked"],ngContentSelectors:Yl,decls:1,vars:0,template:function(i,o){1&i&&(Ys(),ks(0))},encapsulation:2,changeDetection:0})}}return t})(),Y0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),pF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),gF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),fF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),i2e=(()=>{class t{constructor(){this._ngbConfig=$(Ql),this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const o2e=(t,n)=>{const{classList:e}=t;if(n)return e.add("fade"),G2(t),e.add("show","showing"),()=>{e.remove("showing")};e.add("show")},s2e=({classList:t})=>(t.add("showing"),()=>{t.remove("show","showing")});let r2e=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbToastHeader",""]]})}}return t})(),a2e=(()=>{class t{constructor(e){this.ariaLive=e,this._config=$(i2e),this._zone=$(cn),this._injector=$(ri),this._element=$(pn),this.animation=this._config.animation,this.delay=this._config.delay,this.autohide=this._config.autohide,this.contentHeaderTpl=null,this.shown=new Ee,this.hidden=new Ee,this.ariaLive??=this._config.ariaLive}ngAfterContentInit(){jr({mixedReadWrite:()=>{this._init(),this.show()}},{injector:this._injector})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=Lr(this._zone,this._element.nativeElement,s2e,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=Lr(this._zone,this._element.nativeElement,o2e,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static{this.\u0275fac=function(i){return new(i||t)(E1("aria-live"))}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-toast"]],contentQueries:function(i,o,s){if(1&i&&_i(s,r2e,7,nn),2&i){let r;pt(r=gt())&&(o.contentHeaderTpl=r.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(i,o){2&i&&(Un("aria-live",o.ariaLive),Ce("fade",o.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[xi],ngContentSelectors:Yl,decls:5,vars:1,consts:()=>{let e;return e="Close",[["headerTpl",""],[1,"toast-header"],[1,"toast-body"],[1,"me-auto"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(i,o){1&i&&(Ys(),y(0,vde,2,1,"ng-template",null,0,zt)(2,Mde,3,1,"div",1),d(3,"div",2),ks(4),u()),2&i&&(_(2),N(o.contentHeaderTpl||o.header?2:-1))},dependencies:[Uo],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}}return t})(),NM=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),l2e=(()=>{class t{constructor(){this._ngbConfig=$(Ql),this.autoClose=!0,this.placement="auto",this.popperOptions=e=>e,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),c2e=0,d2e=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(i,o){2&i&&(cr("id",o.id),lo("tooltip"+(o.tooltipClass?" "+o.tooltipClass:"")),Ce("fade",o.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:Yl,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(i,o){1&i&&(Ys(),w(0,"div",0),d(1,"div",1),ks(2),u())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}}return t})(),lp=(()=>{class t{constructor(){this._config=$(l2e),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disableTooltip=this._config.disableTooltip,this.tooltipClass=this._config.tooltipClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new Ee,this.hidden=new Ee,this._nativeElement=$(pn).nativeElement,this._ngZone=$(cn),this._document=$(Xn),this._changeDetector=$(Ss),this._injector=$(ri),this._ngbTooltipWindowId="ngb-tooltip-"+c2e++,this._popupService=new EM(d2e),this._windowRef=null,this._positioning=tp()}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:o}=this._popupService.open(this._ngbTooltip,e??this.tooltipContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,baseClass:"bs-tooltip",updatePopperOptions:s=>this.popperOptions(ip([0,6])(s))}),Promise.resolve().then(()=>{this._positioning.update()}),this._afterRenderRef=V5({mixedReadWrite:()=>{this._positioning.update()}},{injector:this._injector})}),ep(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._nativeElement]),o.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._afterRenderRef?.destroy(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=_F(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&this._windowRef.setInput("tooltipClass",e.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(Jl(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[xi]})}}return t})(),Pd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),u2e=(()=>{class t{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(e){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=Z_(this.result),o=Array.isArray(this.term)?this.term:[this.term],s=c=>this.accentSensitive?c:LR(c),r=o.map(c=>function Dde(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(Z_(c)))).filter(c=>c),a=this.accentSensitive?i:LR(i),l=r.length?a.split(new RegExp(`(${r.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=l;else{let c=0;this.parts=l.map(h=>i.substring(c,c+=h.length))}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[xi],decls:2,vars:0,consts:[[3,"class"]],template:function(i,o){1&i&&Ue(0,bde,2,1,null,null,g2),2&i&&We(o.parts)},styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0})}}return t})();const h2e=new Je("live announcer delay",{providedIn:"root",factory:()=>100});function mF(t,n=!1){let e=t.body.querySelector("#ngb-live");return null==e&&n&&(e=t.createElement("div"),e.setAttribute("id","ngb-live"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.classList.add("visually-hidden"),t.body.appendChild(e)),e}let _2e=(()=>{class t{constructor(){this._document=$(Xn),this._delay=$(h2e)}ngOnDestroy(){const e=mF(this._document);e&&e.parentElement.removeChild(e)}say(e){const i=mF(this._document,!0),o=this._delay;if(null!=i){i.textContent="";const s=()=>i.textContent=e;null===o?s():setTimeout(s,o)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),p2e=(()=>{class t{constructor(){this.editable=!0,this.focusFirst=!0,this.selectOnExact=!1,this.showHint=!1,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),g2e=(()=>{class t{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Z_,this.selectEvent=new Ee,this.activeChangeEvent=new Ee}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(i,o){1&i&&T("mousedown",function(r){return r.preventDefault()}),2&i&&(cr("id",o.id),lo("dropdown-menu show"+(o.popupClass?" "+o.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:4,vars:0,consts:[["rt",""],["type","button","role","option",1,"dropdown-item",3,"id","active"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&(y(0,Ede,1,2,"ng-template",null,0,zt),Ue(2,Ode,2,9,"button",1,g2)),2&i&&(_(2),We(o.results))},dependencies:[u2e,Uo],encapsulation:2})}}return t})(),f2e=0,m2e=(()=>{class t{constructor(){this._nativeElement=$(pn).nativeElement,this._config=$(p2e),this._live=$(_2e),this._document=$(Xn),this._ngZone=$(cn),this._changeDetector=$(Ss),this._injector=$(ri),this._popupService=new EM(g2e),this._positioning=tp(),this._subscription=null,this._closed$=new xe,this._inputValueBackup=null,this._inputValueForSelectOnExact=null,this._valueChanges$=Dn(this._nativeElement,"input").pipe(Tt(e=>e.target.value)),this._resubscribeTypeahead$=new ui(null),this._windowRef=null,this.autocomplete="off",this.container=this._config.container,this.editable=this._config.editable,this.focusFirst=this._config.focusFirst,this.selectOnExact=this._config.selectOnExact,this.showHint=this._config.showHint,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.selectItem=new Ee,this.activeDescendant=null,this.popupId="ngb-typeahead-"+f2e++,this._onTouched=()=>{},this._onChange=e=>{}}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:e}){e&&!e.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){this._writeInputValue(this._formatItemForInput(e)),this.showHint&&(this._inputValueBackup=e)}setDisabledState(e){this._nativeElement.disabled=e}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead$.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead$.next(null),this._onTouched()}handleKeyDown(e){if(this.isPopupOpen())switch(e.key){case"ArrowDown":e.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case"ArrowUp":e.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case"Enter":case"Tab":{const i=this._windowRef.instance.getActive();ec(i)&&(e.preventDefault(),e.stopPropagation(),this._selectResult(i)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._nativeElement.value;const{windowRef:e}=this._popupService.open();this._windowRef=e,this._windowRef.setInput("id",this.popupId),this._windowRef.setInput("popupClass",this.popupClass),this._windowRef.instance.selectEvent.subscribe(i=>this._selectResultClosePopup(i)),this._windowRef.instance.activeChangeEvent.subscribe(i=>this.activeDescendant=i),"body"===this.container&&(this._windowRef.location.nativeElement.style.zIndex="1055",this._document.body.appendChild(this._windowRef.location.nativeElement)),this._changeDetector.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._windowRef&&(this._positioning.createPopper({hostElement:this._nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,updatePopperOptions:i=>this.popperOptions(ip([0,2])(i))}),this._afterRenderRef=V5({mixedReadWrite:()=>{this._positioning.update()}},{injector:this._injector}))}),ep(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._positioning.destroy(),this._afterRenderRef?.destroy(),this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(e){let i=!1;this.selectItem.emit({item:e,preventDefault:()=>{i=!0}}),this._resubscribeTypeahead$.next(null),i||(this.writeValue(e),this._onChange(e))}_selectResultClosePopup(e){this._selectResult(e),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const e=this._inputValueBackup.toLowerCase(),i=this._formatItemForInput(this._windowRef.instance.getActive());e===i.substring(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+i.substring(this._inputValueBackup.length)),this._nativeElement.setSelectionRange.apply(this._nativeElement,[this._inputValueBackup.length,i.length])):this._writeInputValue(i)}}_formatItemForInput(e){return null!=e&&this.inputFormatter?this.inputFormatter(e):Z_(e)}_writeInputValue(e){this._nativeElement.value=Z_(e)}_subscribeToUserInput(){const e=this._valueChanges$.pipe(un(i=>{this._inputValueBackup=this.showHint?i:null,this._inputValueForSelectOnExact=this.selectOnExact?i:null,this._onChange(this.editable?i:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>Et([]));this._subscription=this._resubscribeTypeahead$.pipe(Mi(()=>e)).subscribe(i=>{i&&0!==i.length?this.selectOnExact&&1===i.length&&this._formatItemForInput(i[0])===this._inputValueForSelectOnExact?(this._selectResult(i[0]),this._closePopup()):(this._openPopup(),this._windowRef.setInput("focusFirst",this.focusFirst),this._windowRef.setInput("results",i),this._windowRef.setInput("term",this._nativeElement.value),this.resultFormatter&&this._windowRef.setInput("formatter",this.resultFormatter),this.resultTemplate&&this._windowRef.setInput("resultTemplate",this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const o=i?i.length:0;this._live.say(0===o?"No results available":`${o} result${1===o?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox"],hostVars:7,hostBindings:function(i,o){1&i&&T("blur",function(){return o.handleBlur()})("keydown",function(r){return o.handleKeyDown(r)}),2&i&&(cr("autocomplete",o.autocomplete),Un("aria-autocomplete",o.showHint?"both":"list")("aria-activedescendant",o.activeDescendant)("aria-owns",o.isPopupOpen()?o.popupId:null)("aria-expanded",o.isPopupOpen()),Ce("open",o.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",selectOnExact:"selectOnExact",showHint:"showHint",placement:"placement",popperOptions:"popperOptions",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),xi]})}}return t})(),DM=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})(),vF=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})();const C2e=[Ed,Q_,VR,J_,rp,No,OM,nc,vF,f0,Pa,Y0,pF,gF,fF,NM,Pd,DM];let M2e=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({imports:[C2e,Ed,Q_,VR,J_,rp,No,OM,nc,vF,f0,Pa,Y0,pF,gF,fF,NM,Pd,DM]})}}return t})();const T2e=["content"],w2e=["scroll"],b2e=["padding"],CF=["*"],cp=t=>({searchTerm:t});function S2e(t,n){if(1&t&&(d(0,"div",3),Nn(1,6),u()),2&t){const e=g();_(),m("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",Wn(2,cp,e.filterValue))}}function E2e(t,n){if(1&t&&(d(0,"div",5),Nn(1,6),u()),2&t){const e=g();_(),m("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",Wn(2,cp,e.filterValue))}}const A2e=["searchInput"],O2e=["clearButton"],y2e=(t,n,e)=>({item:t,clear:n,label:e}),N2e=(t,n)=>({items:t,clear:n}),D2e=(t,n,e,i)=>({item:t,item$:n,index:e,searchTerm:i});function P2e(t,n){if(1&t&&(d(0,"div",19),A(1),u()),2&t){const e=g(2);_(),oe(e.placeholder)}}function I2e(t,n){}function x2e(t,n){if(1&t&&y(0,P2e,2,1,"ng-template",null,1,zt)(2,I2e,0,0,"ng-template",18),2&t){const e=Ve(1),i=g();_(2),m("ngTemplateOutlet",i.placeholderTemplate||e)}}function L2e(t,n){if(1&t){const e=F();d(0,"span",22),T("click",function(){b(e);const o=g().$implicit;return S(g(2).unselect(o))}),A(1,"\xd7"),u(),w(2,"span",23)}if(2&t){const e=g().$implicit,i=g(2);_(2),m("ngItemLabel",e.label)("escape",i.escapeHTML)}}function R2e(t,n){}function F2e(t,n){if(1&t&&(d(0,"div",21),y(1,L2e,3,2,"ng-template",null,2,zt)(3,R2e,0,0,"ng-template",12),u()),2&t){const e=n.$implicit,i=Ve(2),o=g(2);Ce("ng-value-disabled",e.disabled),_(3),m("ngTemplateOutlet",o.labelTemplate||i)("ngTemplateOutletContext",ld(4,y2e,e.value,o.clearItem,e.label))}}function k2e(t,n){1&t&&Ue(0,F2e,4,8,"div",20,Yv().trackByOption,!0),2&t&&We(g().selectedItems)}function z2e(t,n){}function V2e(t,n){if(1&t&&y(0,z2e,0,0,"ng-template",12),2&t){const e=g();m("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",Pe(2,N2e,e.selectedValues,e.clearItem))}}function H2e(t,n){1&t&&w(0,"div",24)}function $2e(t,n){}function G2e(t,n){if(1&t&&y(0,H2e,1,0,"ng-template",null,3,zt)(2,$2e,0,0,"ng-template",18),2&t){const e=Ve(1),i=g();_(2),m("ngTemplateOutlet",i.loadingSpinnerTemplate||e)}}function B2e(t,n){1&t&&Nn(0,18),2&t&&m("ngTemplateOutlet",g(2).clearButtonTemplate)}function U2e(t,n){1&t&&(d(0,"span",25,4)(2,"span",26),A(3,"\xd7"),u()()),2&t&&ai("title",g(2).clearAllText)}function W2e(t,n){1&t&&y(0,B2e,1,1,"ng-container",18)(1,U2e,4,1,"span",25),2&t&&N(g().clearButtonTemplate?0:1)}function Z2e(t,n){if(1&t&&w(0,"span",31),2&t){const e=g().$implicit,i=g(2);m("ngItemLabel",e.label)("escape",i.escapeHTML)}}function j2e(t,n){}function X2e(t,n){if(1&t){const e=F();d(0,"div",30),T("click",function(){const o=b(e).$implicit;return S(g(2).toggleItem(o))})("mouseover",function(){const o=b(e).$implicit;return S(g(2).onItemHover(o))}),y(1,Z2e,1,2,"ng-template",null,5,zt)(3,j2e,0,0,"ng-template",12),u()}if(2&t){const e=n.$implicit,i=Ve(2),o=g(2);Ce("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===o.itemsList.markedItem),Un("role",e.children?"group":"option")("aria-selected",e.selected)("id",null==e?null:e.htmlId),_(3),m("ngTemplateOutlet",e.children?o.optgroupTemplate||i:o.optionTemplate||i)("ngTemplateOutletContext",uC(17,D2e,e.value,e,e.index,o.searchTerm))}}function K2e(t,n){if(1&t&&(d(0,"span")(1,"span",33),A(2),u(),A(3),u()),2&t){const e=g(3);_(2),oe(e.addTagText),_(),Le('"',e.searchTerm,'"')}}function q2e(t,n){}function Y2e(t,n){if(1&t){const e=F();d(0,"div",32),T("mouseover",function(){return b(e),S(g(2).itemsList.unmarkItem())})("click",function(){return b(e),S(g(2).selectTag())}),y(1,K2e,4,2,"ng-template",null,6,zt)(3,q2e,0,0,"ng-template",12),u()}if(2&t){const e=Ve(2),i=g(2);Ce("ng-option-marked",!i.itemsList.markedItem),_(3),m("ngTemplateOutlet",i.tagTemplate||e)("ngTemplateOutletContext",Wn(4,cp,i.searchTerm))}}function Q2e(t,n){if(1&t&&(d(0,"div",34),A(1),u()),2&t){const e=g(3);_(),oe(e.notFoundText)}}function J2e(t,n){}function eue(t,n){if(1&t&&y(0,Q2e,2,1,"ng-template",null,7,zt)(2,J2e,0,0,"ng-template",12),2&t){const e=Ve(1),i=g(2);_(2),m("ngTemplateOutlet",i.notFoundTemplate||e)("ngTemplateOutletContext",Wn(2,cp,i.searchTerm))}}function tue(t,n){if(1&t&&(d(0,"div",34),A(1),u()),2&t){const e=g(3);_(),oe(e.typeToSearchText)}}function nue(t,n){}function iue(t,n){if(1&t&&y(0,tue,2,1,"ng-template",null,8,zt)(2,nue,0,0,"ng-template",18),2&t){const e=Ve(1),i=g(2);_(2),m("ngTemplateOutlet",i.typeToSearchTemplate||e)}}function oue(t,n){if(1&t&&(d(0,"div",34),A(1),u()),2&t){const e=g(3);_(),oe(e.loadingText)}}function sue(t,n){}function rue(t,n){if(1&t&&y(0,oue,2,1,"ng-template",null,9,zt)(2,sue,0,0,"ng-template",12),2&t){const e=Ve(1),i=g(2);_(2),m("ngTemplateOutlet",i.loadingTextTemplate||e)("ngTemplateOutletContext",Wn(2,cp,i.searchTerm))}}function aue(t,n){if(1&t){const e=F();d(0,"ng-dropdown-panel",27),T("update",function(o){return b(e),S(g().viewPortItems=o)})("scroll",function(o){return b(e),S(g().scroll.emit(o))})("scrollToEnd",function(o){return b(e),S(g().scrollToEnd.emit(o))})("outsideClick",function(){return b(e),S(g().close())}),ae(1),Ue(2,X2e,4,22,"div",28,Yv().trackByOption,!0),y(4,Y2e,4,6,"div",29),le(),y(5,eue,3,4)(6,iue,3,1)(7,rue,3,4),u()}if(2&t){const e=g();Ce("ng-select-multiple",e.multiple),m("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.ngClass?e.ngClass:e.classes:null)("id",e.dropdownId),Un("aria-label",e.ariaLabelDropdown),_(2),We(e.viewPortItems),_(2),N(e.showAddTag?4:-1),_(),N(e.showNoItemsFound()?5:-1),_(),N(e.showTypeToSearch()?6:-1),_(),N(e.loading&&0===e.itemsList.filteredItems.length?7:-1)}}const MF=/[&<>"']/g,lue=RegExp(MF.source),cue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Po(t){return null!=t}function dp(t){return"object"==typeof t&&Po(t)}function j6(t){return t instanceof Function}let hue=(()=>{class t{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?function due(t){return t&&lue.test(t)?t.replace(MF,n=>cue[n]):t}(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(i){return new(i||t)(x(pn))}}static{this.\u0275dir=et({type:t,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[xi]})}}return t})(),X6=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-option-tmp",""]]})}}return t})(),_ue=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-optgroup-tmp",""]]})}}return t})(),PM=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-label-tmp",""]]})}}return t})(),pue=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-multi-label-tmp",""]]})}}return t})(),gue=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-header-tmp",""]]})}}return t})(),fue=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-footer-tmp",""]]})}}return t})(),mue=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-notfound-tmp",""]]})}}return t})(),vue=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-placeholder-tmp",""]]})}}return t})(),Cue=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-typetosearch-tmp",""]]})}}return t})(),Mue=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-loadingtext-tmp",""]]})}}return t})(),Tue=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-tag-tmp",""]]})}}return t})(),TF=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-loadingspinner-tmp",""]]})}}return t})(),wue=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ng-clearbutton-tmp",""]]})}}return t})();function wF(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const bue={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function K6(t){return t.replace(/[^\u0000-\u007E]/g,e=>bue[e]||e)}class Sue{constructor(n,e){this._ngSelect=n,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let n=this.selectedItems.length-1;for(;n>=0;n--){const e=this.selectedItems[n];if(!e.disabled)return e}return null}setItems(n){this._items=n.map((e,i)=>this.mapItem(e,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(n){if(n.selected||this.maxItemsSelected)return;const e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(n,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(n)}unselect(n){n.selected&&(this._selectionModel.unselect(n,this._ngSelect.multiple),this._ngSelect.hideSelected&&Po(n.index)&&this._ngSelect.multiple&&this._showSelected(n))}findItem(n){let e;return e=this._ngSelect.compareWith?i=>this._ngSelect.compareWith(i.value,n):this._ngSelect.bindValue?i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===n:i=>i.value===n||!i.children&&i.label&&i.label===this.resolveNested(n,this._ngSelect.bindLabel),this._items.find(i=>e(i))}addItem(n){const e=this.mapItem(n,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(n=!1){this._selectionModel.clear(n),this._items.forEach(e=>{e.selected=n&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(n){return n=K6(n).toLocaleLowerCase(),this.filteredItems.find(e=>K6(e.label).toLocaleLowerCase().substr(0,n.length)===n)}filter(n){if(!n)return void this.resetFilteredItems();this._filteredItems=[],n=this._ngSelect.searchFn?n:K6(n).toLocaleLowerCase();const e=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(const o of Array.from(this._groups.keys())){const s=[];for(const r of this._groups.get(o))i&&(r.parent&&r.parent.selected||r.selected)||e(n,this._ngSelect.searchFn?r.value:r)&&s.push(r);if(s.length>0){const[r]=s.slice(-1);if(r.parent){const a=this._items.find(l=>l===r.parent);this._filteredItems.push(a)}this._filteredItems.push(...s)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(n=>!n.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(n){this._markedIndex=this._filteredItems.indexOf(n)}markSelectedOrDefault(n){if(0===this._filteredItems.length)return;const e=this._getLastMarkedIndex();this._markedIndex=e>-1?e:n?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(n,e){if(!dp(n))return n;if(-1===e.indexOf("."))return n[e];{const i=e.split(".");let o=n;for(let s=0,r=i.length;s<r;++s){if(null==o)return null;o=o[i[s]]}return o}}mapItem(n,e){const i=Po(n.$ngOptionLabel)?n.$ngOptionLabel:this.resolveNested(n,this._ngSelect.bindLabel),o=Po(n.$ngOptionValue)?n.$ngOptionValue:n;return{index:e,label:Po(i)?i.toString():"",value:o,disabled:n.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){const n=this._ngSelect.multiple;for(const e of this.selectedItems){const i=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,o=Po(i)?this.findItem(i):null;this._selectionModel.unselect(e,n),this._selectionModel.select(o||e,n,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>-1===this.selectedItems.indexOf(e)))}_showSelected(n){if(this._filteredItems.push(n),n.parent){const e=n.parent;this._filteredItems.find(o=>o===e)||this._filteredItems.push(e)}else if(n.children)for(const e of n.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,i)=>e.index-i.index)]}_hideSelected(n){this._filteredItems=this._filteredItems.filter(e=>e!==n),n.parent?n.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==n.parent)):n.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==n))}_defaultSearchFn(n,e){return K6(e.label).toLocaleLowerCase().indexOf(n)>-1}_getNextItemIndex(n){return n>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(n){0===this._filteredItems.length||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(n),this.markedItem.disabled&&this._stepToItem(n))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const n=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&n<0?-1:Math.max(this.markedIndex,n)}_groupBy(n,e){const i=new Map;if(0===n.length)return i;if(Array.isArray(n[0].value[e])){for(const r of n){const a=(r.value[e]||[]).map((l,c)=>this.mapItem(l,c));i.set(r,a)}return i}const o=j6(this._ngSelect.groupBy),s=r=>{const a=o?e(r.value):r.value[e];return Po(a)?a:void 0};for(const r of n){const a=s(r),l=i.get(a);l?l.push(r):i.set(a,[r])}return i}_flatten(n){const e=j6(this._ngSelect.groupBy),i=[];for(const o of Array.from(n.keys())){let s=i.length;if(void 0===o){const p=n.get(void 0)||[];i.push(...p.map(f=>(f.index=s++,f)));continue}const r=dp(o),a={label:r?"":String(o),children:void 0,parent:null,index:s++,disabled:!this._ngSelect.selectableGroup,htmlId:wF()},l=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,c=this._ngSelect.groupValue||(()=>r?o.value:{[l]:o}),h=n.get(o).map(p=>(p.parent=a,p.children=void 0,p.index=s++,p));a.children=h,a.value=c(o,h.map(p=>p.value)),i.push(a),i.push(...h)}return i}}let bF=(()=>{class t{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,i,o){const s=this._dimensions,r=s.itemHeight*i,l=Math.max(0,e)/r*i;let c=Math.min(i,Math.ceil(l)+(s.itemsPerViewport+1));const p=Math.max(0,c-s.itemsPerViewport);let f=Math.min(p,Math.floor(l)),v=s.itemHeight*Math.ceil(f)-s.itemHeight*Math.min(f,o);return v=isNaN(v)?0:v,f=isNaN(f)?-1:f,c=isNaN(c)?-1:c,f-=o,f=Math.max(0,f),c+=o,c=Math.min(i,c),{topPadding:v,scrollHeight:r,start:f,end:c}}setDimensions(e,i){const o=Math.max(1,Math.floor(i/e));this._dimensions={itemHeight:e,panelHeight:i,itemsPerViewport:o}}getScrollTo(e,i,o){const{panelHeight:s}=this.dimensions,r=e+i,l=o+s;return s>=r&&o===e?null:r>l?o+r-l:e<=o?e:null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})();const SF=["top","right","bottom","left"],Eue=typeof requestAnimationFrame<"u"?l9:WI;let EF=(()=>{class t{constructor(e,i,o,s,r){this._renderer=e,this._zone=i,this._panelService=o,this._document=r,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new Ee,this.scroll=new Ee,this.scrollToEnd=new Ee,this.outsideClick=new Ee,this._destroy$=new xe,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=s.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:e,panelHeight:i}=this._panelService.dimensions,o=this.markedItem.index*e;return i>o?0:o}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){const i=e.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,i=!1){if(!e)return;const o=this.items.indexOf(e);if(o<0||o>=this.itemsLength)return;let s;if(this.virtualScroll){const r=this._panelService.dimensions.itemHeight;s=this._panelService.getScrollTo(o*r,r,this._lastScrollPosition)}else{const r=this._dropdown.querySelector(`#${e.htmlId}`);s=this._panelService.getScrollTo(r.offsetTop,r.clientHeight,i?r.offsetTop:this._lastScrollPosition)}Po(s)&&(this._scrollablePanel.scrollTop=s)}scrollToTag(){const e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),SF.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){SF.forEach(o=>{const s=`ng-select-${o}`;this._renderer.removeClass(this._dropdown,s),this._renderer.removeClass(this._select,s)});const i=`ng-select-${e}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{Dn(this.scrollElementRef.nativeElement,"scroll").pipe(Te(this._destroy$),d9(0,Eue)).subscribe(e=>{const i=e.path||e.composedPath&&e.composedPath();i&&(0!==i.length||e.target)&&this._onContentScrolled(i&&0!==i.length?i[0].scrollTop:e.target.scrollTop)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{u0(Dn(this._document,"touchstart",{capture:!0}),Dn(this._document,"click",{capture:!0})).pipe(Te(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;const i=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,i){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(e){this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;const i=this._panelService.calculateItems(e=e||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),Po(e)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{const o=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;return this._virtualPadding.style.height=o*this.itemsLength+"px",this._panelService.setDimensions(o,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(e){this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if("auto"!==this.position)return this.position;const i=this._select.getBoundingClientRect(),o=document.documentElement.scrollTop||document.body.scrollTop;return i.top+window.pageYOffset+i.height+e.getBoundingClientRect().height>o+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect();this._dropdown.style.left=e.left-i.left+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){const e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),o=e.height;"top"===this._currentPosition?(this._dropdown.style.bottom=i.bottom-e.bottom+o+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=e.top-i.top+o+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{Dn(this._dropdown,"mousedown").pipe(Te(this._destroy$)).subscribe(e=>{"INPUT"!==e.target.tagName&&e.preventDefault()})})}static{this.\u0275fac=function(i){return new(i||t)(x(s1),x(cn),x(bF),x(pn),x(Xn,8))}}static{this.\u0275cmp=ke({type:t,selectors:[["ng-dropdown-panel"]],viewQuery:function(i,o){if(1&i&&(dn(T2e,7,pn),dn(w2e,7,pn),dn(b2e,7,pn)),2&i){let s;pt(s=gt())&&(o.contentElementRef=s.first),pt(s=gt())&&(o.scrollElementRef=s.first),pt(s=gt())&&(o.paddingElementRef=s.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:[2,"virtualScroll","virtualScroll",Ri],headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[s0,xi],ngContentSelectors:CF,decls:9,vars:6,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&(Ys(),y(0,S2e,2,4,"div",3),d(1,"div",4,0),w(3,"div",null,1),d(5,"div",null,2),ks(7),u()(),y(8,E2e,2,4,"div",5)),2&i&&(N(o.headerTemplate?0:-1),_(3),Ce("total-padding",o.virtualScroll),_(2),Ce("scrollable-content",o.virtualScroll&&o.items.length),_(3),N(o.footerTemplate?8:-1))},dependencies:[Uo],encapsulation:2,changeDetection:0})}}return t})(),Aue=(()=>{class t{constructor(e){this.elementRef=e,this.disabled=!1,this.stateChange$=new xe}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this.disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this.disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}static{this.\u0275fac=function(i){return new(i||t)(x(pn))}}static{this.\u0275cmp=ke({type:t,selectors:[["ng-option"]],inputs:{value:"value",disabled:[2,"disabled","disabled",Ri]},features:[s0,xi],ngContentSelectors:CF,decls:1,vars:0,template:function(i,o){1&i&&(Ys(),ks(0))},encapsulation:2,changeDetection:0})}}return t})();var m0=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Esc=27]="Esc",t[t.Space=32]="Space",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowDown=40]="ArrowDown",t[t.Backspace=8]="Backspace",t}(m0||{});function AF(){return new Oue}class Oue{constructor(){this._selected=[]}get value(){return this._selected}select(n,e,i){if(n.selected=!0,(!n.children||!e&&i)&&this._selected.push(n),e)if(n.parent){const o=n.parent.children.length,s=n.parent.children.filter(r=>r.selected).length;n.parent.selected=o===s}else n.children&&(this._setChildrenSelectedState(n.children,!0),this._removeChildren(n),this._selected=i&&this._activeChildren(n)?[...this._selected.filter(o=>o.parent!==n),n]:[...this._selected,...n.children.filter(o=>!o.disabled)])}unselect(n,e){if(this._selected=this._selected.filter(i=>i!==n),n.selected=!1,e)if(n.parent&&n.parent.selected){const i=n.parent.children;this._removeParent(n.parent),this._removeChildren(n.parent),this._selected.push(...i.filter(o=>o!==n&&!o.disabled)),n.parent.selected=!1}else n.children&&(this._setChildrenSelectedState(n.children,!1),this._removeChildren(n))}clear(n){this._selected=n?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(n,e){for(const i of n)i.disabled||(i.selected=e)}_removeChildren(n){this._selected=[...this._selected.filter(e=>e.parent!==n),...n.children.filter(e=>e.parent===n&&e.disabled&&e.selected)]}_removeParent(n){this._selected=this._selected.filter(e=>e!==n)}_activeChildren(n){return n.children.every(e=>!e.disabled||e.selected)}}let yue=(()=>{class t{constructor(){this.fixedPlaceholder=!0,this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Nue=(()=>{class t{warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const OF=new Je("ng-select-selection-model");let Q0=(()=>{class t{constructor(e,i,o,s,r,a,l){this.classes=e,this.autoFocus=i,this.config=o,this._cd=a,this._console=l,this.ariaLabelDropdown="Options List",this.markFirst=!0,this.fixedPlaceholder=!0,this.preventToggleOnRightClick=!1,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.ngClass=null,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new Ee,this.focusEvent=new Ee,this.changeEvent=new Ee,this.openEvent=new Ee,this.closeEvent=new Ee,this.searchEvent=new Ee,this.clearEvent=new Ee,this.addEvent=new Ee,this.removeEvent=new Ee,this.scroll=new Ee,this.scrollToEnd=new Ee,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=wF(),this.escapeHTML=!0,this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new xe,this._keyPress$=new xe,this._items=[],this.keyDownFn=c=>!0,this.clearItem=c=>{const h=this.selectedItems.find(p=>p.value===c);this.unselect(h)},this.trackByOption=(c,h)=>this.trackByFn?this.trackByFn(h.value):h,this._onChange=c=>{},this._onTouched=()=>{},this._mergeGlobalConfig(o),this.itemsList=new Sue(this,s?s():AF()),this.element=r.nativeElement}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get items(){return this._items}set items(e){this._itemsAreUsed=!0,this._items=e??[]}get disabled(){return this.readonly||this._disabled}get compareWith(){return this._compareWith}set compareWith(e){if(null!=e&&!j6(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return Po(this._clearSearchOnAdd)?this._clearSearchOnAdd:Po(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return Po(this._deselectOnClick)?this._deselectOnClick:Po(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}get showAddTag(){if(!this._validTerm)return!1;const e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===e))&&!this.loading}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=Po(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Po(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(m0[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){this.clearButton&&this.clearButton.nativeElement===e.target?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.which){case m0.ArrowDown:this._handleArrowDown(e);break;case m0.ArrowUp:this._handleArrowUp(e);break;case m0.Space:this._handleSpace(e);break;case m0.Enter:this._handleEnter(e);break;case m0.Tab:this._handleTab(e);break;case m0.Esc:this.close(),e.preventDefault();break;case m0.Backspace:this._handleBackspace()}}handleKeyCodeClear(e){e.which===m0.Enter&&(this.handleClearClick(),e.preventDefault())}handleMousedown(e){if(this.preventToggleOnRightClick&&2===e.button)return!1;const i=e.target;"INPUT"!==i.tagName&&e.preventDefault(),i.classList.contains("ng-clear-wrapper")?this.handleClearClick():i.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close(),this._onSelectionChanged()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value),this._onSelectionChanged())}selectTag(){let e;e=j6(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const i=o=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(o,null):this.itemsList.addItem(o);!function uue(t){return t instanceof Promise}(e)?e&&this.select(i(e)):e.then(o=>this.select(i(o))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}showNoItemsFound(){const e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){const i=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Po(i)?!dp(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Po(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const e=o=>{this.items=o.map(s=>({$ngOptionValue:s.value,$ngOptionLabel:s.elementRef.nativeElement.innerHTML,disabled:s.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{const o=u0(this.ngOptions.changes,this._destroy$);u0(...this.ngOptions.map(s=>s.stateChange$)).pipe(Te(o)).subscribe(s=>{const r=this.itemsList.findItem(s.value);r.disabled=s.disabled,r.label=s.label||r.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(O2(this.ngOptions),Te(this._destroy$)).subscribe(o=>{this.bindLabel=this._defaultLabel,e(o),i()})}_isValidWriteValue(e){if(!Po(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;const i=o=>!(!Po(this.compareWith)&&dp(o)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(o)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(e)?e.every(o=>i(o)):(this._console.warn("Multiple select ngModel should be array."),!1):i(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;const i=o=>{let s=this.itemsList.findItem(o);if(s)this.itemsList.select(s);else{const r=dp(o);r||!r&&!this.bindValue?this.itemsList.select(this.itemsList.mapItem(o,null)):this.bindValue&&(s={[this.bindLabel]:null,[this.bindValue]:o},this.itemsList.select(this.itemsList.mapItem(s,null)))}};this.multiple?e.forEach(o=>i(o)):i(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(Te(this._destroy$),un(e=>this._pressedKeys.push(e)),Pr(200),li(()=>this._pressedKeys.length>0),Tt(()=>this._pressedKeys.join(""))).subscribe(e=>{const i=this.itemsList.findByLabel(e);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){const e=this.searchInput.nativeElement,i={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const o of Object.keys(i))e.setAttribute(o,i[o])}_updateNgModel(){const e=[];for(const o of this.selectedItems)if(this.bindValue){let s=null;s=o.children?o.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(o.value,this.bindValue),e.push(s)}else e.push(o.value);const i=this.selectedItems.map(o=>o.value);this.multiple?(this._onChange(e),this.changeEvent.emit(i)):(this._onChange(Po(e[0])?e[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(!1===this.isOpen)if(this.showClear()&&!e.shiftKey)this.focusOnClear(),e.preventDefault();else if(!this.addTag)return;this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){const i=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.fixedPlaceholder=this.fixedPlaceholder||e.fixedPlaceholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=Po(this.virtualScroll)?this.virtualScroll:!!Po(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=Po(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}static{this.\u0275fac=function(i){return new(i||t)(E1("class"),E1("autofocus"),x(yue),x(OF,8),x(pn),x(Ss),x(Nue))}}static{this.\u0275cmp=ke({type:t,selectors:[["ng-select"]],contentQueries:function(i,o,s){if(1&i&&(_i(s,X6,5,nn),_i(s,_ue,5,nn),_i(s,PM,5,nn),_i(s,pue,5,nn),_i(s,gue,5,nn),_i(s,fue,5,nn),_i(s,mue,5,nn),_i(s,vue,5,nn),_i(s,Cue,5,nn),_i(s,Mue,5,nn),_i(s,Tue,5,nn),_i(s,TF,5,nn),_i(s,wue,5,nn),_i(s,Aue,5)),2&i){let r;pt(r=gt())&&(o.optionTemplate=r.first),pt(r=gt())&&(o.optgroupTemplate=r.first),pt(r=gt())&&(o.labelTemplate=r.first),pt(r=gt())&&(o.multiLabelTemplate=r.first),pt(r=gt())&&(o.headerTemplate=r.first),pt(r=gt())&&(o.footerTemplate=r.first),pt(r=gt())&&(o.notFoundTemplate=r.first),pt(r=gt())&&(o.placeholderTemplate=r.first),pt(r=gt())&&(o.typeToSearchTemplate=r.first),pt(r=gt())&&(o.loadingTextTemplate=r.first),pt(r=gt())&&(o.tagTemplate=r.first),pt(r=gt())&&(o.loadingSpinnerTemplate=r.first),pt(r=gt())&&(o.clearButtonTemplate=r.first),pt(r=gt())&&(o.ngOptions=r)}},viewQuery:function(i,o){if(1&i&&(dn(EF,5),dn(A2e,7),dn(O2e,5)),2&i){let s;pt(s=gt())&&(o.dropdownPanel=s.first),pt(s=gt())&&(o.searchInput=s.first),pt(s=gt())&&(o.clearButton=s.first)}},hostVars:20,hostBindings:function(i,o){1&i&&T("keydown",function(r){return o.handleKeyDown(r)}),2&i&&Ce("ng-select-typeahead",o.typeahead)("ng-select-multiple",o.multiple)("ng-select-taggable",o.addTag)("ng-select-searchable",o.searchable)("ng-select-clearable",o.clearable)("ng-select-opened",o.isOpen)("ng-select",o.useDefaultClass)("ng-select-filtered",o.filtered)("ng-select-single",o.single)("ng-select-disabled",o.disabled)},inputs:{ariaLabelDropdown:"ariaLabelDropdown",bindLabel:"bindLabel",bindValue:"bindValue",ariaLabel:"ariaLabel",markFirst:[2,"markFirst","markFirst",Ri],placeholder:"placeholder",fixedPlaceholder:"fixedPlaceholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",preventToggleOnRightClick:"preventToggleOnRightClick",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:[2,"loading","loading",Ri],closeOnSelect:[2,"closeOnSelect","closeOnSelect",Ri],hideSelected:[2,"hideSelected","hideSelected",Ri],selectOnTab:[2,"selectOnTab","selectOnTab",Ri],openOnEnter:[2,"openOnEnter","openOnEnter",Ri],maxSelectedItems:[2,"maxSelectedItems","maxSelectedItems",h_],groupBy:"groupBy",groupValue:"groupValue",bufferAmount:[2,"bufferAmount","bufferAmount",h_],virtualScroll:[2,"virtualScroll","virtualScroll",Ri],selectableGroup:[2,"selectableGroup","selectableGroup",Ri],selectableGroupAsModel:[2,"selectableGroupAsModel","selectableGroupAsModel",Ri],searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:[2,"clearOnBackspace","clearOnBackspace",Ri],labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:[2,"tabIndex","tabIndex",h_],readonly:[2,"readonly","readonly",Ri],searchWhileComposing:[2,"searchWhileComposing","searchWhileComposing",Ri],minTermLength:[2,"minTermLength","minTermLength",h_],editableSearchTerm:[2,"editableSearchTerm","editableSearchTerm",Ri],ngClass:"ngClass",typeahead:"typeahead",multiple:[2,"multiple","multiple",Ri],addTag:"addTag",searchable:[2,"searchable","searchable",Ri],clearable:[2,"clearable","clearable",Ri],isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick",keyDownFn:"keyDownFn"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0},bF]),s0,xi],decls:13,vars:19,consts:[["searchInput",""],["defaultPlaceholderTemplate",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-input"],["aria-autocomplete","list","role","combobox",3,"blur","change","compositionend","compositionstart","focus","input","disabled","readOnly","value"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["role","listbox",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id"],[3,"ngTemplateOutlet"],[1,"ng-placeholder"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[1,"ng-spinner-loader"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox",1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(i,o){if(1&i){const s=F();d(0,"div",10),T("mousedown",function(a){return b(s),S(o.handleMousedown(a))}),d(1,"div",11),y(2,x2e,3,1)(3,k2e,2,0)(4,V2e,1,5,null,12),d(5,"div",13)(6,"input",14,0),T("blur",function(a){return b(s),S(o.onInputBlur(a))})("change",function(a){return b(s),S(a.stopPropagation())})("compositionend",function(){b(s);const a=Ve(7);return S(o.onCompositionEnd(a.value))})("compositionstart",function(){return b(s),S(o.onCompositionStart())})("focus",function(a){return b(s),S(o.onInputFocus(a))})("input",function(){b(s);const a=Ve(7);return S(o.filter(a.value))}),u()()(),y(8,G2e,3,1)(9,W2e,2,1),d(10,"span",15),w(11,"span",16),u()(),y(12,aue,8,18,"ng-dropdown-panel",17)}2&i&&(Ce("ng-appearance-outline","outline"===o.appearance)("ng-has-value",o.hasValue),_(2),N(0===o.selectedItems.length&&!o.searchTerm||!0===o.fixedPlaceholder?2:-1),_(),N(o.multiLabelTemplate&&o.multiple||!(o.selectedItems.length>0)?-1:3),_(),N(o.multiple&&o.multiLabelTemplate&&o.selectedValues.length>0?4:-1),_(2),m("disabled",o.disabled)("readOnly",!o.searchable||o.itemsList.maxItemsSelected)("value",o.searchTerm?o.searchTerm:""),Un("aria-activedescendant",o.isOpen?null==o.itemsList||null==o.itemsList.markedItem?null:o.itemsList.markedItem.htmlId:null)("aria-controls",o.isOpen?o.dropdownId:null)("aria-expanded",o.isOpen)("aria-label",o.ariaLabel)("id",o.labelForId)("tabindex",o.tabIndex),_(2),N(o.loading?8:-1),_(),N(o.showClear()?9:-1),_(3),N(o.isOpen?12:-1))},dependencies:[Uo,hue,EF,Dr],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:unset;user-select:unset;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0})}}return t})(),up=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({providers:[{provide:OF,useValue:AF}]})}}return t})();var hp={d:(t,n)=>{for(var e in n)hp.o(n,e)&&!hp.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)},xn=globalThis.pdfjsLib={};hp.d(xn,{AbortException:()=>xd,AnnotationEditorLayer:()=>I_e,AnnotationEditorParamsType:()=>Pn,AnnotationEditorType:()=>Zn,AnnotationEditorUIManager:()=>vp,AnnotationLayer:()=>N_e,AnnotationMode:()=>oc,ColorPicker:()=>f1,DOMSVGFactory:()=>sT,DrawLayer:()=>hr,FeatureTest:()=>Fr,GlobalWorkerOptions:()=>Mp,ImageKind:()=>Y6,InvalidPDFException:()=>NF,MissingPDFException:()=>Id,OPS:()=>k1,OutputScale:()=>GM,PDFDataRangeTransport:()=>uk,PDFDateString:()=>LF,PDFWorker:()=>Hs,PasswordResponses:()=>xue,PermissionFlag:()=>Iue,PixelsPerInch:()=>Y2,RenderingCancelledException:()=>VM,TextLayer:()=>zr,UnexpectedResponseException:()=>t4,Util:()=>on,VerbosityLevel:()=>Q6,XfaLayer:()=>gk,build:()=>c_e,createValidAbsoluteUrl:()=>kue,fetchData:()=>i4,getDocument:()=>e_e,getFilenameFromUrl:()=>jue,getPdfFilenameFromUrl:()=>Xue,getXfaPageViewport:()=>Kue,isDataScheme:()=>o4,isPdfFile:()=>HM,noContextMenu:()=>p1,normalizeUnicode:()=>Uue,setLayerDimensions:()=>Ld,shadow:()=>fi,version:()=>l_e});const dr=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),yF=[1,0,0,1,0,0],IM=[.001,0,0,.001,0,0],oc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Zn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Pn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Iue={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Y6={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Q6={ERRORS:0,WARNINGS:1,INFOS:5},k1={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},xue={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let J6=Q6.WARNINGS;function Rue(){return J6}function e4(t){J6>=Q6.INFOS&&console.log(`Info: ${t}`)}function qn(t){J6>=Q6.WARNINGS&&console.log(`Warning: ${t}`)}function uo(t){throw new Error(t)}function ys(t,n){t||uo(n)}function kue(t,n=null,e=null){if(!t)return null;try{if(e&&"string"==typeof t&&(e.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),e.tryConvertEncoding))try{t=function Bue(t){return decodeURIComponent(escape(t))}(t)}catch{}const i=n?new URL(t,n):new URL(t);if(function Fue(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null}function fi(t,n,e,i=!1){return Object.defineProperty(t,n,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const sc=function(){function n(e,i){this.message=e,this.name=i}return n.prototype=new Error,n.constructor=n,n}();class xM extends sc{constructor(n,e){super(n,"PasswordException"),this.code=e}}class LM extends sc{constructor(n,e){super(n,"UnknownErrorException"),this.details=e}}class NF extends sc{constructor(n){super(n,"InvalidPDFException")}}class Id extends sc{constructor(n){super(n,"MissingPDFException")}}class t4 extends sc{constructor(n,e){super(n,"UnexpectedResponseException"),this.status=e}}class zue extends sc{constructor(n){super(n,"FormatError")}}class xd extends sc{constructor(n){super(n,"AbortException")}}function DF(t){("object"!=typeof t||void 0===t?.length)&&uo("Invalid argument for bytesToString");const n=t.length,e=8192;if(n<e)return String.fromCharCode.apply(null,t);const i=[];for(let o=0;o<n;o+=e){const s=Math.min(o+e,n),r=t.subarray(o,s);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function q2(t){"string"!=typeof t&&uo("Invalid argument for stringToBytes");const n=t.length,e=new Uint8Array(n);for(let i=0;i<n;++i)e[i]=255&t.charCodeAt(i);return e}function RM(t){const n=Object.create(null);for(const[e,i]of t)n[e]=i;return n}class Fr{static get isLittleEndian(){return fi(this,"isLittleEndian",function Hue(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return fi(this,"isEvalSupported",function $ue(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return fi(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&"string"==typeof navigator?.platform?fi(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:"string"==typeof navigator?.userAgent&&navigator.userAgent.includes("Firefox")}):fi(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return fi(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const n4=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class on{static makeHexColor(n,e,i){return`#${n4[n]}${n4[e]}${n4[i]}`}static scaleMinMax(n,e){let i;n[0]?(n[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=n[0],e[2]*=n[0],n[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=n[3],e[3]*=n[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,n[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=n[1],e[3]*=n[1],n[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=n[2],e[2]*=n[2]),e[0]+=n[4],e[1]+=n[5],e[2]+=n[4],e[3]+=n[5]}static transform(n,e){return[n[0]*e[0]+n[2]*e[1],n[1]*e[0]+n[3]*e[1],n[0]*e[2]+n[2]*e[3],n[1]*e[2]+n[3]*e[3],n[0]*e[4]+n[2]*e[5]+n[4],n[1]*e[4]+n[3]*e[5]+n[5]]}static applyTransform(n,e){return[n[0]*e[0]+n[1]*e[2]+e[4],n[0]*e[1]+n[1]*e[3]+e[5]]}static applyInverseTransform(n,e){const i=e[0]*e[3]-e[1]*e[2];return[(n[0]*e[3]-n[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,(-n[0]*e[1]+n[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i]}static getAxialAlignedBoundingBox(n,e){const i=this.applyTransform(n,e),o=this.applyTransform(n.slice(2,4),e),s=this.applyTransform([n[0],n[3]],e),r=this.applyTransform([n[2],n[1]],e);return[Math.min(i[0],o[0],s[0],r[0]),Math.min(i[1],o[1],s[1],r[1]),Math.max(i[0],o[0],s[0],r[0]),Math.max(i[1],o[1],s[1],r[1])]}static inverseTransform(n){const e=n[0]*n[3]-n[1]*n[2];return[n[3]/e,-n[1]/e,-n[2]/e,n[0]/e,(n[2]*n[5]-n[4]*n[3])/e,(n[4]*n[1]-n[5]*n[0])/e]}static singularValueDecompose2dScale(n){const e=[n[0],n[2],n[1],n[3]],i=n[0]*e[0]+n[1]*e[2],r=n[2]*e[1]+n[3]*e[3],a=(i+r)/2,l=Math.sqrt((i+r)**2-4*(i*r-(n[2]*e[0]+n[3]*e[2])*(n[0]*e[1]+n[1]*e[3])))/2,h=a-l||1;return[Math.sqrt(a+l||1),Math.sqrt(h)]}static normalizeRect(n){const e=n.slice(0);return n[0]>n[2]&&(e[0]=n[2],e[2]=n[0]),n[1]>n[3]&&(e[1]=n[3],e[3]=n[1]),e}static intersect(n,e){const i=Math.max(Math.min(n[0],n[2]),Math.min(e[0],e[2])),o=Math.min(Math.max(n[0],n[2]),Math.max(e[0],e[2]));if(i>o)return null;const s=Math.max(Math.min(n[1],n[3]),Math.min(e[1],e[3])),r=Math.min(Math.max(n[1],n[3]),Math.max(e[1],e[3]));return s>r?null:[i,s,o,r]}static#e(n,e,i,o,s,r,a,l,c,h){if(c<=0||c>=1)return;const p=1-c,f=c*c,v=f*c,C=p*(p*(p*n+3*c*e)+3*f*i)+v*o,E=p*(p*(p*s+3*c*r)+3*f*a)+v*l;h[0]=Math.min(h[0],C),h[1]=Math.min(h[1],E),h[2]=Math.max(h[2],C),h[3]=Math.max(h[3],E)}static#t(n,e,i,o,s,r,a,l,c,h,p,f){if(Math.abs(c)<1e-12)return void(Math.abs(h)>=1e-12&&this.#e(n,e,i,o,s,r,a,l,-p/h,f));const v=h**2-4*p*c;if(v<0)return;const C=Math.sqrt(v),E=2*c;this.#e(n,e,i,o,s,r,a,l,(-h+C)/E,f),this.#e(n,e,i,o,s,r,a,l,(-h-C)/E,f)}static bezierBoundingBox(n,e,i,o,s,r,a,l,c){return c?(c[0]=Math.min(c[0],n,a),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],n,a),c[3]=Math.max(c[3],e,l)):c=[Math.min(n,a),Math.min(e,l),Math.max(n,a),Math.max(e,l)],this.#t(n,i,s,a,e,o,r,l,3*(3*(i-s)-n+a),6*(n-2*i+s),3*(i-n),c),this.#t(n,i,s,a,e,o,r,l,3*(3*(o-r)-e+l),6*(e-2*o+r),3*(o-e),c),c}}let FM=null,PF=null;function Uue(t){return FM||(FM=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,PF=new Map([["\ufb05","\u017ft"]])),t.replaceAll(FM,(n,e,i)=>e?e.normalize("NFKC"):PF.get(i))}const kM="pdfjs_internal_id_",el="http://www.w3.org/2000/svg";class Y2{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}function i4(t){return zM.apply(this,arguments)}function zM(){return(zM=V(function*(t,n="text"){if(gp(t,document.baseURI)){const e=yield fetch(t);if(!e.ok)throw new Error(e.statusText);switch(n){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType=n,o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){switch(n){case"arraybuffer":case"blob":case"json":return void e(o.response)}return void e(o.responseText)}i(new Error(o.statusText))}},o.send(null)})})).apply(this,arguments)}class pp{constructor({viewBox:n,scale:e,rotation:i,offsetX:o=0,offsetY:s=0,dontFlip:r=!1}){this.viewBox=n,this.scale=e,this.rotation=i,this.offsetX=o,this.offsetY=s;const a=(n[2]+n[0])/2,l=(n[3]+n[1])/2;let c,h,p,f,v,C,E,D;switch((i%=360)<0&&(i+=360),i){case 180:c=-1,h=0,p=0,f=1;break;case 90:c=0,h=1,p=1,f=0;break;case 270:c=0,h=-1,p=-1,f=0;break;case 0:c=1,h=0,p=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}r&&(p=-p,f=-f),0===c?(v=Math.abs(l-n[1])*e+o,C=Math.abs(a-n[0])*e+s,E=(n[3]-n[1])*e,D=(n[2]-n[0])*e):(v=Math.abs(a-n[0])*e+o,C=Math.abs(l-n[1])*e+s,E=(n[2]-n[0])*e,D=(n[3]-n[1])*e),this.transform=[c*e,h*e,p*e,f*e,v-c*e*a-p*e*l,C-h*e*a-f*e*l],this.width=E,this.height=D}get rawDims(){const{viewBox:n}=this;return fi(this,"rawDims",{pageWidth:n[2]-n[0],pageHeight:n[3]-n[1],pageX:n[0],pageY:n[1]})}clone({scale:n=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:o=this.offsetY,dontFlip:s=!1}={}){return new pp({viewBox:this.viewBox.slice(),scale:n,rotation:e,offsetX:i,offsetY:o,dontFlip:s})}convertToViewportPoint(n,e){return on.applyTransform([n,e],this.transform)}convertToViewportRectangle(n){const e=on.applyTransform([n[0],n[1]],this.transform),i=on.applyTransform([n[2],n[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(n,e){return on.applyInverseTransform([n,e],this.transform)}}class VM extends sc{constructor(n,e=0){super(n,"RenderingCancelledException"),this.extraDelay=e}}function o4(t){const n=t.length;let e=0;for(;e<n&&""===t[e].trim();)e++;return"data:"===t.substring(e,e+5).toLowerCase()}function HM(t){return"string"==typeof t&&/\.pdf$/i.test(t)}function jue(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Xue(t,n="document.pdf"){if("string"!=typeof t)return n;if(o4(t))return qn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),n;const i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let s=i.exec(o[1])||i.exec(o[2])||i.exec(o[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||n}class IF{started=Object.create(null);times=[];time(n){n in this.started&&qn(`Timer is already running for ${n}`),this.started[n]=Date.now()}timeEnd(n){n in this.started||qn(`Timer has not been started for ${n}`),this.times.push({name:n,start:this.started[n],end:Date.now()}),delete this.started[n]}toString(){const n=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:o,end:s}of this.times)n.push(`${i.padEnd(e)} ${s-o}ms\n`);return n.join("")}}function gp(t,n){try{const{protocol:e}=n?new URL(t,n):new URL(t);return"http:"===e||"https:"===e}catch{return!1}}function p1(t){t.preventDefault()}function xF(t){console.log("Deprecated API usage: "+t)}class LF{static#e;static toDateObject(n){if(!n||"string"!=typeof n)return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#e.exec(n);if(!e)return null;const i=parseInt(e[1],10);let o=parseInt(e[2],10);o=o>=1&&o<=12?o-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let r=parseInt(e[4],10);r=r>=0&&r<=23?r:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,"-"===c?(r+=h,a+=p):"+"===c&&(r-=h,a-=p),new Date(Date.UTC(i,o,s,r,a,l))}}function Kue(t,{scale:n=1,rotation:e=0}){const{width:i,height:o}=t.attributes.style,s=[0,0,parseInt(i),parseInt(o)];return new pp({viewBox:s,scale:n,rotation:e})}function $M(t){if(t.startsWith("#")){const n=parseInt(t.slice(1),16);return[(16711680&n)>>16,(65280&n)>>8,255&n]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(n=>parseInt(n)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(n=>parseInt(n)).slice(0,3):(qn(`Not a valid color format: "${t}"`),[0,0,0])}function Io(t){const{a:n,b:e,c:i,d:o,e:s,f:r}=t.getTransform();return[n,e,i,o,s,r]}function tl(t){const{a:n,b:e,c:i,d:o,e:s,f:r}=t.getTransform().invertSelf();return[n,e,i,o,s,r]}function Ld(t,n,e=!1,i=!0){if(n instanceof pp){const{pageWidth:o,pageHeight:s}=n.rawDims,{style:r}=t,a=Fr.isCSSRoundSupported,l=`var(--scale-factor) * ${o}px`,c=`var(--scale-factor) * ${s}px`,h=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,p=a?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;e&&n.rotation%180!=0?(r.width=p,r.height=h):(r.width=h,r.height=p)}i&&t.setAttribute("data-main-rotation",n.rotation)}class GM{constructor(){const n=window.devicePixelRatio||1;this.sx=n,this.sy=n}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}}class fp{#e=null;#t=null;#n;#i=null;#o=null;static#s=null;constructor(n){this.#n=n,fp.#s||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){const n=this.#e=document.createElement("div");n.classList.add("editToolbar","hidden"),n.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;n.addEventListener("contextmenu",p1,{signal:e}),n.addEventListener("pointerdown",fp.#l,{signal:e});const i=this.#i=document.createElement("div");i.className="buttons",n.append(i);const o=this.#n.toolbarPosition;if(o){const{style:s}=n,r="ltr"===this.#n._uiManager.direction?1-o[0]:o[0];s.insetInlineEnd=100*r+"%",s.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),n}get div(){return this.#e}static#l(n){n.stopPropagation()}#c(n){this.#n._focusEventsAllowed=!1,n.preventDefault(),n.stopPropagation()}#d(n){this.#n._focusEventsAllowed=!0,n.preventDefault(),n.stopPropagation()}#a(n){const e=this.#n._uiManager._signal;n.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:e}),n.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:e}),n.addEventListener("contextmenu",p1,{signal:e})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#o?.shown()}#u(){const{editorType:n,_uiManager:e}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",fp.#s[n]),this.#a(i),i.addEventListener("click",o=>{e.delete()},{signal:e._signal}),this.#i.append(i)}get#r(){const n=document.createElement("div");return n.className="divider",n}addAltText(n){var e=this;return V(function*(){const i=yield n.render();e.#a(i),e.#i.prepend(i,e.#r),e.#o=n})()}addColorPicker(n){this.#t=n;const e=n.renderButton();this.#a(e),this.#i.prepend(e,this.#r)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class Yue{#e=null;#t=null;#n;constructor(n){this.#n=n}#i(){const n=this.#t=document.createElement("div");n.className="editToolbar",n.setAttribute("role","toolbar"),n.addEventListener("contextmenu",p1,{signal:this.#n._signal});const e=this.#e=document.createElement("div");return e.className="buttons",n.append(e),this.#s(),n}#o(n,e){let i=0,o=0;for(const s of n){const r=s.y+s.height;if(r<i)continue;const a=s.x+(e?s.width:0);r>i?(o=a,i=r):e?a>o&&(o=a):a<o&&(o=a)}return[e?1-o:o,i]}show(n,e,i){const[o,s]=this.#o(e,i),{style:r}=this.#t||=this.#i();n.append(this.#t),r.insetInlineEnd=100*o+"%",r.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(){const n=document.createElement("button");n.className="highlightButton",n.tabIndex=0,n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");n.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=this.#n._signal;n.addEventListener("contextmenu",p1,{signal:i}),n.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#e.append(n)}}function s4(t,n,e){for(const i of e)n.addEventListener(i,t[i].bind(t))}class Jue{#e=0;get id(){return"pdfjs_internal_editor_"+this.#e++}}class BM{#e=function Wue(){if(typeof crypto<"u"&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(t);else for(let n=0;n<32;n++)t[n]=Math.floor(255*Math.random());return DF(t)}();#t=0;#n=null;static get _isSVGFittingCanvas(){const i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),o=new Image;return o.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',fi(this,"_isSVGFittingCanvas",o.decode().then(()=>(i.drawImage(o,0,0,1,1,0,0,1,3),0===new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0])))}#i(n,e){var i=this;return V(function*(){i.#n||=new Map;let o=i.#n.get(n);if(null===o)return null;if(o?.bitmap)return o.refCounter+=1,o;try{let s;if(o||={bitmap:null,id:`image_${i.#e}_${i.#t++}`,refCounter:0,isSvg:!1},"string"==typeof e?(o.url=e,s=yield i4(e,"blob")):e instanceof File?s=o.file=e:e instanceof Blob&&(s=e),"image/svg+xml"===s.type){const r=BM._isSVGFittingCanvas,a=new FileReader,l=new Image,c=new Promise((h,p)=>{l.onload=()=>{o.bitmap=l,o.isSvg=!0,h()},a.onload=V(function*(){const f=o.svgUrl=a.result;l.src=(yield r)?`${f}#svgView(preserveAspectRatio(none))`:f}),l.onerror=a.onerror=p});a.readAsDataURL(s),yield c}else o.bitmap=yield createImageBitmap(s);o.refCounter=1}catch(s){console.error(s),o=null}return i.#n.set(n,o),o&&i.#n.set(o.id,o),o})()}getFromFile(n){var e=this;return V(function*(){const{lastModified:i,name:o,size:s,type:r}=n;return e.#i(`${i}_${o}_${s}_${r}`,n)})()}getFromUrl(n){var e=this;return V(function*(){return e.#i(n,n)})()}getFromBlob(n,e){var i=this;return V(function*(){const o=yield e;return i.#i(n,o)})()}getFromId(n){var e=this;return V(function*(){e.#n||=new Map;const i=e.#n.get(n);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return e.getFromFile(i.file);if(i.blobPromise){const{blobPromise:o}=i;return delete i.blobPromise,e.getFromBlob(i.id,o)}return e.getFromUrl(i.url)})()}getFromCanvas(n,e){this.#n||=new Map;let i=this.#n.get(n);if(i?.bitmap)return i.refCounter+=1,i;const o=new OffscreenCanvas(e.width,e.height);return o.getContext("2d").drawImage(e,0,0),i={bitmap:o.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(n,i),this.#n.set(i.id,i),i}getSvgUrl(n){const e=this.#n.get(n);return e?.isSvg?e.svgUrl:null}deleteId(n){this.#n||=new Map;const e=this.#n.get(n);if(!e||(e.refCounter-=1,0!==e.refCounter))return;const{bitmap:i}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(i.width,i.height);o.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=o.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(n){return n.startsWith(`image_${this.#e}_`)}}class ehe{#e=[];#t=!1;#n;#i=-1;constructor(n=128){this.#n=n}add({cmd:n,undo:e,post:i,mustExec:o,type:s=NaN,overwriteIfSameType:r=!1,keepUndo:a=!1}){if(o&&n(),this.#t)return;const l={cmd:n,undo:e,post:i,type:s};if(-1===this.#i)return this.#e.length>0&&(this.#e.length=0),this.#i=0,void this.#e.push(l);if(r&&this.#e[this.#i].type===s)return a&&(l.undo=this.#e[this.#i].undo),void(this.#e[this.#i]=l);const c=this.#i+1;c===this.#n?this.#e.splice(0,1):(this.#i=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(-1===this.#i)return;this.#t=!0;const{undo:n,post:e}=this.#e[this.#i];n(),e?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;const{cmd:n,post:e}=this.#e[this.#i];n(),e?.(),this.#t=!1}}hasSomethingToUndo(){return-1!==this.#i}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}class mp{constructor(n){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Fr.platform;for(const[i,o,s={}]of n)for(const r of i){const a=r.startsWith("mac+");e&&a?(this.callbacks.set(r.slice(4),{callback:o,options:s}),this.allKeys.add(r.split("+").at(-1))):!e&&!a&&(this.callbacks.set(r,{callback:o,options:s}),this.allKeys.add(r.split("+").at(-1)))}}#e(n){n.altKey&&this.buffer.push("alt"),n.ctrlKey&&this.buffer.push("ctrl"),n.metaKey&&this.buffer.push("meta"),n.shiftKey&&this.buffer.push("shift"),this.buffer.push(n.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(n,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#e(e));if(!i)return;const{callback:o,options:{bubbles:s=!1,args:r=[],checker:a=null}}=i;a&&!a(n,e)||(o.bind(n,...r,e)(),s||(e.stopPropagation(),e.preventDefault()))}}class UM{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const n=new Map([["CanvasText",null],["Canvas",null]]);return function que(t){const n=document.createElement("span");n.style.visibility="hidden",document.body.append(n);for(const e of t.keys()){n.style.color=e;const i=window.getComputedStyle(n).color;t.set(e,$M(i))}n.remove()}(n),fi(this,"_colors",n)}convert(n){const e=$M(n);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,o]of this._colors)if(o.every((s,r)=>s===e[r]))return UM._colorsMapping.get(i);return e}getHexCode(n){const e=this._colors.get(n);return e?on.makeHexColor(...e):n}}let vp=(()=>{class t{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#o=null;#s=null;#l=null;#c=new ehe;#d=null;#a=0;#u=new Set;#r=null;#h=null;#p=new Set;#_=!1;#g=!1;#m=!1;#f=null;#v=null;#M=null;#b=null;#T=!1;#w=null;#D=new Jue;#O=!1;#S=!1;#y=null;#A=null;#P=null;#x=null;#E=Zn.NONE;#C=new Set;#N=null;#I=null;#k=null;#$={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#F=null;#z=null;#V=null;#L=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=t.prototype,i=a=>a.#z.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&a.hasSomethingToControl(),o=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return"text"!==c&&"number"!==c}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return fi(this,"_keyboardManager",new mp([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:o}],[["ctrl+z","mac+meta+z"],e.undo,{checker:o}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:o}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:o}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#z.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#z.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:i}]]))}constructor(e,i,o,s,r,a,l,c,h,p,f){const v=this._signal=this.#e.signal;this.#z=e,this.#V=i,this.#o=o,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:v}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),s._on("setpreference",this.onSetPreference.bind(this),{signal:v}),s._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:v}),this.#ee(),this.#oe(),this.#j(),this.#s=r.annotationStorage,this.#f=r.filterFactory,this.#I=a,this.#b=l||null,this.#_=c,this.#g=h,this.#m=p,this.#x=f||null,this.viewParameters={realScale:Y2.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#L?.resolve(),this.#L=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#i.values())e.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#t=null,this.#C.clear(),this.#c.destroy(),this.#o?.destroy(),this.#w?.hide(),this.#w=null,this.#v&&(clearTimeout(this.#v),this.#v=null),this.#F&&(clearTimeout(this.#F),this.#F=null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#x}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#m}get hcmFilter(){return fi(this,"hcmFilter",this.#I?this.#f.addHCMFilter(this.#I.foreground,this.#I.background):"none")}get direction(){return fi(this,"direction",getComputedStyle(this.#z).direction)}get highlightColors(){return fi(this,"highlightColors",this.#b?new Map(this.#b.split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return fi(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){this.#P=e}editAltText(e,i=!1){this.#o?.editAltText(this,e,i)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){"enableNewAltTextWhenAddingImage"===e&&(this.#m=i)}onPageChanging({pageNumber:e}){this.#a=e-1}focusMainContainer(){this.#z.focus()}findParent(e,i){for(const o of this.#i.values()){const{x:s,y:r,width:a,height:l}=o.div.getBoundingClientRect();if(e>=s&&e<=s+a&&i>=r&&i<=r+l)return o}return null}disableUserSelect(e=!1){this.#V.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Y2.PDF_TO_CSS_UNITS;for(const i of this.#p)i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#U({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#Z(e){const{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(const o of this.#i.values())if(o.hasTextLayer(e))return o;return null}highlightSelection(e=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:o,anchorOffset:s,focusNode:r,focusOffset:a}=i,l=i.toString(),h=this.#U(i).closest(".textLayer"),p=this.getSelectionBoxes(h);if(!p)return;i.empty();const f=this.#Z(h),v=this.#E===Zn.NONE,C=()=>{f?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:o,anchorOffset:s,focusNode:r,focusOffset:a,text:l}),v&&this.showAllEditors("highlight",!0,!0)};v?this.switchToMode(Zn.HIGHLIGHT,C):C()}#Q(){const e=document.getSelection();if(!e||e.isCollapsed)return;const o=this.#U(e).closest(".textLayer"),s=this.getSelectionBoxes(o);s&&(this.#w||=new Yue(this),this.#w.show(o,s,"ltr"===this.direction))}addToAnnotationStorage(e){!e.isEmpty()&&this.#s&&!this.#s.has(e.id)&&this.#s.setValue(e.id,e)}#J(){const e=document.getSelection();if(!e||e.isCollapsed)return void(this.#N&&(this.#w?.hide(),this.#N=null,this.#R({hasSelectedText:!1})));const{anchorNode:i}=e;if(i===this.#N)return;const s=this.#U(e).closest(".textLayer");if(s){if(this.#w?.hide(),this.#N=i,this.#R({hasSelectedText:!0}),(this.#E===Zn.HIGHLIGHT||this.#E===Zn.NONE)&&(this.#E===Zn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#T=this.isShiftKeyDown,!this.isShiftKeyDown)){const r=this.#E===Zn.HIGHLIGHT?this.#Z(s):null;r?.toggleDrawing();const a=new AbortController,l=this.combinedSignal(a),c=h=>{"pointerup"===h.type&&0!==h.button||(a.abort(),r?.toggleDrawing(!0),"pointerup"===h.type&&this.#W("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}}else this.#N&&(this.#w?.hide(),this.#N=null,this.#R({hasSelectedText:!1}))}#W(e=""){this.#E===Zn.HIGHLIGHT?this.highlightSelection(e):this.#_&&this.#Q()}#ee(){document.addEventListener("selectionchange",this.#J.bind(this),{signal:this._signal})}#te(){if(this.#M)return;this.#M=new AbortController;const e=this.combinedSignal(this.#M);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ne(){this.#M?.abort(),this.#M=null}blur(){if(this.isShiftKeyDown=!1,this.#T&&(this.#T=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const i of this.#C)if(i.div.contains(e)){this.#A=[i,e],i._focusEventsAllowed=!1;break}}focus(){if(!this.#A)return;const[e,i]=this.#A;this.#A=null,i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}#j(){if(this.#y)return;this.#y=new AbortController;const e=this.combinedSignal(this.#y);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ie(){this.#y?.abort(),this.#y=null}#X(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#K(){this.#d?.abort(),this.#d=null}#oe(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#j(),this.#X()}removeEditListeners(){this.#ie(),this.#K()}dragOver(e){for(const{type:i}of e.dataTransfer.items)for(const o of this.#h)if(o.isHandlingMimeForPasting(i))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const i of e.dataTransfer.items)for(const o of this.#h)if(o.isHandlingMimeForPasting(i.type))return o.paste(i,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const i=[];for(const o of this.#C){const s=o.serialize(!0);s&&i.push(s)}0!==i.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}paste(e){var i=this;return V(function*(){e.preventDefault();const{clipboardData:o}=e;for(const a of o.items)for(const l of i.#h)if(l.isHandlingMimeForPasting(a.type))return void l.paste(a,i.currentLayer);let s=o.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(a){return void qn(`paste: "${a.message}".`)}if(!Array.isArray(s))return;i.unselectAll();const r=i.currentLayer;try{const a=[];for(const h of s){const p=yield r.deserialize(h);if(!p)return;a.push(p)}const l=()=>{for(const h of a)i.#q(h);i.#Y(a)};i.addCommands({cmd:l,undo:()=>{for(const h of a)h.remove()},mustExec:!0})}catch(a){qn(`paste: "${a.message}".`)}})()}keydown(e){!this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!0),this.#E!==Zn.NONE&&!this.isEditorHandlingKeyboard&&t._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#T&&(this.#T=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#R(e){Object.entries(e).some(([o,s])=>this.#$[o]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#$,e)}),this.#E===Zn.HIGHLIGHT&&!1===e.hasSelectedEditor&&this.#G([[Pn.HIGHLIGHT_FREE,!0]]))}#G(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#te(),this.#X(),this.#R({isEditing:this.#E!==Zn.NONE,isEmpty:this.#B(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ne(),this.#K(),this.#R({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#h){this.#h=e;for(const i of this.#h)this.#G(i.defaultPropertiesToUpdate)}}getId(){return this.#D.id}get currentLayer(){return this.#i.get(this.#a)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#a}addLayer(e){this.#i.set(e.pageIndex,e),this.#O?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}updateMode(e,i=null,o=!1){var s=this;return V(function*(){if(s.#E!==e&&(!s.#L||(yield s.#L.promise,s.#L))){if(s.#L=Promise.withResolvers(),s.#E=e,e===Zn.NONE)return s.setEditingState(!1),s.#re(),void s.#L.resolve();s.setEditingState(!0),yield s.#se(),s.unselectAll();for(const r of s.#i.values())r.updateMode(e);if(!i)return o&&s.addNewEditorFromKeyboard(),void s.#L.resolve();for(const r of s.#n.values())r.annotationElementId===i?(s.setSelected(r),r.enterInEditMode()):r.unselect();s.#L.resolve()}})()}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){if(this.#h){switch(e){case Pn.CREATE:return void this.currentLayer.addNewEditor();case Pn.HIGHLIGHT_DEFAULT_COLOR:this.#P?.updateColor(i);break;case Pn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#k||=new Map).set(e,i),this.showAllEditors("highlight",i)}for(const o of this.#C)o.updateParams(e,i);for(const o of this.#h)o.updateDefaultParams(e,i)}}showAllEditors(e,i,o=!1){for(const r of this.#n.values())r.editorType===e&&r.show(i);(this.#k?.get(Pn.HIGHLIGHT_SHOW_ALL)??!0)!==i&&this.#G([[Pn.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(this.#S!==e){this.#S=e;for(const i of this.#i.values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}#se(){var e=this;return V(function*(){if(!e.#O){e.#O=!0;const i=[];for(const o of e.#i.values())i.push(o.enable());yield Promise.all(i);for(const o of e.#n.values())o.enable()}})()}#re(){if(this.unselectAll(),this.#O){this.#O=!1;for(const e of this.#i.values())e.disable();for(const e of this.#n.values())e.disable()}}getEditors(e){const i=[];for(const o of this.#n.values())o.pageIndex===e&&i.push(o);return i}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.focusMainContainer(),this.#v=null},0)),this.#n.delete(e.id),this.unselect(e),(!e.annotationElementId||!this.#u.has(e.annotationElementId))&&this.#s?.remove(e.id)}addDeletedAnnotationElement(e){this.#u.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#u.has(e)}removeDeletedAnnotationElement(e){this.#u.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#q(e){const i=this.#i.get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#G(e.propertiesToUpdate))}get#ae(){let e=null;for(e of this.#C);return e}updateUI(e){this.#ae===e&&this.#G(e.propertiesToUpdate)}toggleSelected(e){if(this.#C.has(e))return this.#C.delete(e),e.unselect(),void this.#R({hasSelectedEditor:this.hasSelection});this.#C.add(e),e.select(),this.#G(e.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}setSelected(e){for(const i of this.#C)i!==e&&i.unselect();this.#C.clear(),this.#C.add(e),e.select(),this.#G(e.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}isSelected(e){return this.#C.has(e)}get firstSelectedEditor(){return this.#C.values().next().value}unselect(e){e.unselect(),this.#C.delete(e),this.#R({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#C.size}get isEnterHandled(){return 1===this.#C.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#R({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#B()})}redo(){this.#c.redo(),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#B()})}addCommands(e){this.#c.add(e),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#B()})}#B(){if(0===this.#n.size)return!0;if(1===this.#n.size)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#C];this.addCommands({cmd:()=>{for(const s of e)s.remove()},undo:()=>{for(const s of e)this.#q(s)},mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#Y(e){for(const i of this.#C)i.unselect();this.#C.clear();for(const i of e)i.isEmpty()||(this.#C.add(i),i.select());this.#R({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#C)e.commit();this.#Y(this.#n.values())}unselectAll(){if((!this.#t||(this.#t.commitOrRemove(),this.#E===Zn.NONE))&&this.hasSelection){for(const e of this.#C)e.unselect();this.#C.clear(),this.#R({hasSelectedEditor:!1})}}translateSelectedEditors(e,i,o=!1){if(o||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=e,this.#H[1]+=i;const[s,r]=this.#H,a=[...this.#C];this.#F&&clearTimeout(this.#F),this.#F=setTimeout(()=>{this.#F=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const c of a)this.#n.has(c.id)&&c.translateInPage(s,r)},undo:()=>{for(const c of a)this.#n.has(c.id)&&c.translateInPage(-s,-r)},mustExec:!1})},1e3);for(const c of a)c.translateInPage(e,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#r=new Map;for(const e of this.#C)this.#r.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#r)return!1;this.disableUserSelect(!1);const e=this.#r;this.#r=null;let i=!1;for(const[{x:s,y:r,pageIndex:a},l]of e)l.newX=s,l.newY=r,l.newPageIndex=a,i||=s!==l.savedX||r!==l.savedY||a!==l.savedPageIndex;if(!i)return!1;const o=(s,r,a,l)=>{if(this.#n.has(s.id)){const c=this.#i.get(l);c?s._setParentAndPosition(c,r,a):(s.pageIndex=l,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:l}]of e)o(s,r,a,l)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:l}]of e)o(s,r,a,l)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(this.#r)for(const o of this.#r.keys())o.drag(e,i)}rebuild(e){if(null===e.parent){const i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#C.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#E}get imageManager(){return fi(this,"imageManager",new BM)}getSelectionBoxes(e){if(!e)return null;const i=document.getSelection();for(let h=0,p=i.rangeCount;h<p;h++)if(!e.contains(i.getRangeAt(h).commonAncestorContainer))return null;const{x:o,y:s,width:r,height:a}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(h,p,f,v)=>({x:(p-s)/a,y:1-(h+f-o)/r,width:v/a,height:f/r});break;case"180":l=(h,p,f,v)=>({x:1-(h+f-o)/r,y:1-(p+v-s)/a,width:f/r,height:v/a});break;case"270":l=(h,p,f,v)=>({x:1-(p+v-s)/a,y:(h-o)/r,width:v/a,height:f/r});break;default:l=(h,p,f,v)=>({x:(h-o)/r,y:(p-s)/a,width:f/r,height:v/a})}const c=[];for(let h=0,p=i.rangeCount;h<p;h++){const f=i.getRangeAt(h);if(!f.collapsed)for(const{x:v,y:C,width:E,height:D}of f.getClientRects())0===E||0===D||c.push(l(v,C,E,D))}return 0===c.length?null:c}addChangedExistingAnnotation({annotationElementId:e,id:i}){(this.#l||=new Map).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){this.#l?.delete(e)}renderAnnotationElement(e){const i=this.#l?.get(e.data.id);if(!i)return;const o=this.#s.getRawValue(i);o&&(this.#E===Zn.NONE&&!o.hasBeenModified||o.renderAnnotationElement(e))}}return t})(),RF=(()=>{class t{#e=null;#t=!1;#n=null;#i=null;#o=null;#s=null;#l=!1;#c=null;#d=null;#a=null;#u=null;#r=!1;static#h=null;static _l10n=null;constructor(e){this.#d=e,this.#r=e._uiManager.useNewAltTextFlow,t.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){t._l10n??=e}render(){var e=this;return V(function*(){const i=e.#n=document.createElement("button");i.className="altText",i.tabIndex="0";const o=e.#i=document.createElement("span");i.append(o),e.#r?(i.classList.add("new"),i.setAttribute("data-l10n-id",t.#h.missing),o.setAttribute("data-l10n-id",t.#h["missing-label"])):(i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),o.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=e.#d._uiManager._signal;i.addEventListener("contextmenu",p1,{signal:s}),i.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:s});const r=a=>{a.preventDefault(),e.#d._uiManager.editAltText(e.#d),e.#r&&e.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:e.#p}})};return i.addEventListener("click",r,{capture:!0,signal:s}),i.addEventListener("keydown",a=>{a.target===i&&"Enter"===a.key&&(e.#l=!0,r(a))},{signal:s}),yield e.#_(),i})()}get#p(){return(this.#e?"added":null===this.#e&&this.guessedText&&"review")||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#r?null===this.#e:!this.#e&&!this.#t}hasData(){return this.#r?null!==this.#e||!!this.#a:this.isEmpty()}get guessedText(){return this.#a}setGuessedText(e){var i=this;return V(function*(){null===i.#e&&(i.#a=e,i.#u=yield t._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),i.#_())})()}toggleAltTextBadge(e=!1){if(!this.#r||this.#e)return this.#c?.remove(),void(this.#c=null);if(!this.#c){const i=this.#c=document.createElement("div");i.className="noAltTextBadge",this.#d.div.append(i)}this.#c.classList.toggle("hidden",!e)}serialize(e){let i=this.#e;return!e&&this.#a===i&&(i=this.#u),{altText:i,decorative:this.#t,guessedText:this.#a,textWithDisclaimer:this.#u}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:i,guessedText:o,textWithDisclaimer:s,cancel:r=!1}){o&&(this.#a=o,this.#u=s),(this.#e!==e||this.#t!==i)&&(r||(this.#e=e,this.#t=i),this.#_())}toggle(e=!1){this.#n&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!e)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#o=null,this.#c?.remove(),this.#c=null}#_(){var e=this;return V(function*(){const i=e.#n;if(!i)return;if(e.#r){if(i.classList.toggle("done",!!e.#e),i.setAttribute("data-l10n-id",t.#h[e.#p]),e.#i?.setAttribute("data-l10n-id",t.#h[`${e.#p}-label`]),!e.#e)return void e.#o?.remove()}else{if(!e.#e&&!e.#t)return i.classList.remove("done"),void e.#o?.remove();i.classList.add("done"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let o=e.#o;if(!o){e.#o=o=document.createElement("span"),o.className="tooltip",o.setAttribute("role","tooltip"),o.id=`alt-text-tooltip-${e.#d.id}`;const r=100,a=e.#d._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(e.#s),e.#s=null},{once:!0}),i.addEventListener("mouseenter",()=>{e.#s=setTimeout(()=>{e.#s=null,e.#o.classList.add("show"),e.#d._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:a}),i.addEventListener("mouseleave",()=>{e.#s&&(clearTimeout(e.#s),e.#s=null),e.#o?.classList.remove("show")},{signal:a})}e.#t?o.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(o.removeAttribute("data-l10n-id"),o.textContent=e.#e),o.parentNode||i.append(o),e.#d.getImageForAltText()?.setAttribute("aria-describedby",o.id)})()}}return t})();class In{#e=null;#t=null;#n=null;#i=!1;#o=!1;#s=null;#l=null;#c=null;#d="";#a=!1;#u=null;#r=!1;#h=!1;#p=!1;#_=null;#g=0;#m=0;#f=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#v=!1;#M=In._zIndex++;static _borderLineWidth=-1;static _colorManager=new UM;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const n=In.prototype._resizeWithKeyboard,e=vp.TRANSLATE_SMALL,i=vp.TRANSLATE_BIG;return fi(this,"_resizerKeyboardManager",new mp([[["ArrowLeft","mac+ArrowLeft"],n,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],n,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],n,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],n,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n,{args:[0,i]}],[["Escape","mac+Escape"],In.prototype._stopResizingWithKeyboard]]))}constructor(n){this.parent=n.parent,this.id=n.id,this.width=this.height=null,this.pageIndex=n.parent.pageIndex,this.name=n.name,this.div=null,this._uiManager=n.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=n.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:o,pageX:s,pageY:r}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,o],this.pageTranslation=[s,r];const[a,l]=this.parentDimensions;this.x=n.x/a,this.y=n.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return fi(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(n){const e=new the({id:n.parent.getNextId(),parent:n.parent,uiManager:n._uiManager});e.annotationElementId=n.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(n,e){if(In._l10n??=n,In._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),-1!==In._borderLineWidth)return;const i=getComputedStyle(document.documentElement);In._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(n,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(n){return!1}static paste(n,e){uo("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#v}set _isDraggable(n){this.#v=n,this.div?.classList.toggle("draggable",n)}get isEnterHandled(){return!0}center(){const[n,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*n),this.y+=this.width*n/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*n),this.y-=this.width*n/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(n){this._uiManager.addCommands(n)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#M}setParent(n){null!==n?(this.pageIndex=n.pageIndex,this.pageDimensions=n.pageDimensions):this.#k(),this.parent=n}focusin(n){this._focusEventsAllowed&&(this.#a?this.#a=!1:this.parent.setSelected(this))}focusout(n){!this._focusEventsAllowed||!this.isAttachedToDOM||n.relatedTarget?.closest(`#${this.id}`)||(n.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(n,e,i,o){const[s,r]=this.parentDimensions;[i,o]=this.screenToPageTranslation(i,o),this.x=(n+i)/s,this.y=(e+o)/r,this.fixAndSetPosition()}#b([n,e],i,o){[i,o]=this.screenToPageTranslation(i,o),this.x+=i/n,this.y+=o/e,this.fixAndSetPosition()}translate(n,e){this.#b(this.parentDimensions,n,e)}translateInPage(n,e){this.#u||=[this.x,this.y],this.#b(this.pageDimensions,n,e),this.div.scrollIntoView({block:"nearest"})}drag(n,e){this.#u||=[this.x,this.y];const[i,o]=this.parentDimensions;if(this.x+=n/i,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:r}=this;const[a,l]=this.getBaseTranslation();s+=a,r+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*r).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}getBaseTranslation(){const[n,e]=this.parentDimensions,{_borderLineWidth:i}=In,o=i/n,s=i/e;switch(this.rotation){case 90:return[-o,s];case 180:return[o,s];case 270:return[o,-s];default:return[-o,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(n=this.rotation){const[e,i]=this.pageDimensions;let{x:o,y:s,width:r,height:a}=this;if(r*=e,a*=i,o*=e,s*=i,this._mustFixPosition)switch(n){case 0:o=Math.max(0,Math.min(e-r,o)),s=Math.max(0,Math.min(i-a,s));break;case 90:o=Math.max(0,Math.min(e-a,o)),s=Math.min(i,Math.max(r,s));break;case 180:o=Math.min(e,Math.max(r,o)),s=Math.min(i,Math.max(a,s));break;case 270:o=Math.min(e,Math.max(a,o)),s=Math.max(0,Math.min(i-r,s))}this.x=o/=e,this.y=s/=i;const[l,c]=this.getBaseTranslation();o+=l,s+=c;const{style:h}=this.div;h.left=`${(100*o).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#T(n,e,i){switch(i){case 90:return[e,-n];case 180:return[-n,-e];case 270:return[-e,n];default:return[n,e]}}screenToPageTranslation(n,e){return In.#T(n,e,this.parentRotation)}pageTranslationToScreen(n,e){return In.#T(n,e,360-this.parentRotation)}#w(n){switch(n){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:n,pageDimensions:[e,i]}=this;return[e*n,i*n]}setDims(n,e){const[i,o]=this.parentDimensions;this.div.style.width=`${(100*n/i).toFixed(2)}%`,this.#o||(this.div.style.height=`${(100*e/o).toFixed(2)}%`)}fixDims(){const{style:n}=this.div,{height:e,width:i}=n,o=i.endsWith("%"),s=!this.#o&&e.endsWith("%");if(o&&s)return;const[r,a]=this.parentDimensions;o||(n.width=`${(100*parseFloat(i)/r).toFixed(2)}%`),!this.#o&&!s&&(n.height=`${(100*parseFloat(e)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#D(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const n=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of n){const o=document.createElement("div");this.#s.append(o),o.classList.add("resizer",i),o.setAttribute("data-resizer-name",i),o.addEventListener("pointerdown",this.#O.bind(this,i),{signal:e}),o.addEventListener("contextmenu",p1,{signal:e}),o.tabIndex=-1}this.div.prepend(this.#s)}#O(n,e){e.preventDefault();const{isMac:i}=Fr.platform;if(0!==e.button||e.ctrlKey&&i)return;this.#n?.toggle(!1);const o=this._isDraggable;this._isDraggable=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#y.bind(this,n),{passive:!0,capture:!0,signal:r}),window.addEventListener("contextmenu",p1,{signal:r});const a=this.x,l=this.y,c=this.width,h=this.height,p=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const v=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=o,this.parent.div.style.cursor=p,this.div.style.cursor=f,this.#S(a,l,c,h)};window.addEventListener("pointerup",v,{signal:r}),window.addEventListener("blur",v,{signal:r})}#S(n,e,i,o){const s=this.x,r=this.y,a=this.width,l=this.height;s===n&&r===e&&a===i&&l===o||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=r;const[c,h]=this.parentDimensions;this.setDims(c*a,h*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=o,this.x=n,this.y=e;const[c,h]=this.parentDimensions;this.setDims(c*i,h*o),this.fixAndSetPosition()},mustExec:!0})}#y(n,e){const[i,o]=this.parentDimensions,s=this.x,r=this.y,a=this.width,l=this.height,c=In.MIN_SIZE/i,h=In.MIN_SIZE/o,p=Ge=>Math.round(1e4*Ge)/1e4,f=this.#w(this.rotation),v=(Ge,Ft)=>[f[0]*Ge+f[2]*Ft,f[1]*Ge+f[3]*Ft],C=this.#w(360-this.rotation);let D,P,I=!1,k=!1;switch(n){case"topLeft":I=!0,D=(Ge,Ft)=>[0,0],P=(Ge,Ft)=>[Ge,Ft];break;case"topMiddle":D=(Ge,Ft)=>[Ge/2,0],P=(Ge,Ft)=>[Ge/2,Ft];break;case"topRight":I=!0,D=(Ge,Ft)=>[Ge,0],P=(Ge,Ft)=>[0,Ft];break;case"middleRight":k=!0,D=(Ge,Ft)=>[Ge,Ft/2],P=(Ge,Ft)=>[0,Ft/2];break;case"bottomRight":I=!0,D=(Ge,Ft)=>[Ge,Ft],P=(Ge,Ft)=>[0,0];break;case"bottomMiddle":D=(Ge,Ft)=>[Ge/2,Ft],P=(Ge,Ft)=>[Ge/2,0];break;case"bottomLeft":I=!0,D=(Ge,Ft)=>[0,Ft],P=(Ge,Ft)=>[Ge,0];break;case"middleLeft":k=!0,D=(Ge,Ft)=>[0,Ft/2],P=(Ge,Ft)=>[Ge,Ft/2]}const R=D(a,l),ee=P(a,l);let re=v(...ee);const fe=p(s+re[0]),pe=p(r+re[1]);let ue=1,me=1,[Fe,bt]=this.screenToPageTranslation(e.movementX,e.movementY);if([Fe,bt]=[C[0]*(Ge=Fe/i)+C[2]*(Ft=bt/o),C[1]*Ge+C[3]*Ft],I){const Ge=Math.hypot(a,l);ue=me=Math.max(Math.min(Math.hypot(ee[0]-R[0]-Fe,ee[1]-R[1]-bt)/Ge,1/a,1/l),c/a,h/l)}else k?ue=Math.max(c,Math.min(1,Math.abs(ee[0]-R[0]-Fe)))/a:me=Math.max(h,Math.min(1,Math.abs(ee[1]-R[1]-bt)))/l;var Ge,Ft;const nt=p(a*ue),Dt=p(l*me);re=v(...P(nt,Dt));const Bt=fe-re[0],Zt=pe-re[1];this.width=nt,this.height=Dt,this.x=Bt,this.y=Zt,this.setDims(i*nt,o*Dt),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}addEditToolbar(){var n=this;return V(function*(){return n._editToolbar||n.#h||(n._editToolbar=new fp(n),n.div.append(n._editToolbar.render()),n.#n&&(yield n._editToolbar.addAltText(n.#n))),n._editToolbar})()}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(n){const e=this._editToolbar?.div;e?e.before(n):this.div.append(n)}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){var n=this;return V(function*(){n.#n||(RF.initialize(In._l10n),n.#n=new RF(n),n.#e&&(n.#n.data=n.#e,n.#e=null),yield n.addEditToolbar())})()}get altTextData(){return this.#n?.data}set altTextData(n){this.#n&&(this.#n.data=n)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(n){var e=this;return V(function*(){yield e.#n?.setGuessedText(n)})()}serializeAltText(n){return this.#n?.serialize(n)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#i?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#x();const[n,e]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*e/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/e).toFixed(2)}%`);const[i,o]=this.getInitialTranslation();return this.translate(i,o),s4(this,this.div,["pointerdown"]),this.div}pointerdown(n){const{isMac:e}=Fr.platform;0!==n.button||n.ctrlKey&&e?n.preventDefault():(this.#a=!0,this._isDraggable?this.#P(n):this.#A(n))}get isSelected(){return this._uiManager.isSelected(this)}#A(n){const{isMac:e}=Fr.platform;n.ctrlKey&&!e||n.shiftKey||n.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#P(n){const{isSelected:e}=this;this._uiManager.setUpDragSession();const i=new AbortController,o=this._uiManager.combinedSignal(i);e&&(this.div.classList.add("moving"),this.#g=n.clientX,this.#m=n.clientY,window.addEventListener("pointermove",a=>{const{clientX:l,clientY:c}=a,[h,p]=this.screenToPageTranslation(l-this.#g,c-this.#m);this.#g=l,this.#m=c,this._uiManager.dragSelectedEditors(h,p)},{passive:!0,capture:!0,signal:o}));const s=()=>{i.abort(),e&&this.div.classList.remove("moving"),this.#a=!1,this._uiManager.endDragSession()||this.#A(n)};window.addEventListener("pointerup",s,{signal:o}),window.addEventListener("blur",s,{signal:o})}moveInDOM(){this.#_&&clearTimeout(this.#_),this.#_=setTimeout(()=>{this.#_=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(n,e,i){n.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition()}getRect(n,e,i=this.rotation){const o=this.parentScale,[s,r]=this.pageDimensions,[a,l]=this.pageTranslation,c=n/o,h=e/o,p=this.x*s,f=this.y*r,v=this.width*s,C=this.height*r;switch(i){case 0:return[p+c+a,r-f-h-C+l,p+c+v+a,r-f-h+l];case 90:return[p+h+a,r-f+c+l,p+h+C+a,r-f+c+v+l];case 180:return[p-c-v+a,r-f+h+l,p-c+a,r-f+h+C+l];case 270:return[p-h-C+a,r-f-c-v+l,p-h+a,r-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(n,e){const[i,o,s,r]=n,a=s-i,l=r-o;switch(this.rotation){case 0:return[i,e-r,a,l];case 90:return[i,e-o,l,a];case 180:return[s,e-o,a,l];case 270:return[s,e-r,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return this.#p}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#x(){if(this.#c||!this.div)return;this.#c=new AbortController;const n=this._uiManager.combinedSignal(this.#c);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:n}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:n})}rebuild(){this.#x()}rotate(n){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(n=!1,e=null){uo("An editor must be serializable")}static deserialize(n,e,i){var o=this;return V(function*(){const s=new o.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});s.rotation=n.rotation,s.#e=n.accessibilityData;const[r,a]=s.pageDimensions,[l,c,h,p]=s.getRectInCurrentCoords(n.rect,a);return s.x=l/r,s.y=c/a,s.width=h/r,s.height=p/a,s})()}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.#c?.abort(),this.#c=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#_&&(clearTimeout(this.#_),this.#_=null),this.#k(),this.removeEditToolbar(),this.#f){for(const n of this.#f.values())clearTimeout(n);this.#f=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#D(),this.#s.classList.remove("hidden"),s4(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(n){if(!this.isResizable||n.target!==this.div||"Enter"!==n.key)return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#s.children;if(!this.#t){this.#t=Array.from(e);const r=this.#E.bind(this),a=this.#C.bind(this),l=this._uiManager._signal;for(const c of this.#t){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",r,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",this.#N.bind(this,h),{signal:l}),c.setAttribute("data-l10n-id",In._l10nResizer[h])}}const i=this.#t[0];let o=0;for(const r of e){if(r===i)break;o++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==o){if(s<o)for(let a=0;a<o-s;a++)this.#s.append(this.#s.firstChild);else if(s>o)for(let a=0;a<s-o;a++)this.#s.firstChild.before(this.#s.lastChild);let r=0;for(const a of e){const c=this.#t[r++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",In._l10nResizer[c])}}this.#I(0),this.#p=!0,this.#s.firstChild.focus({focusVisible:!0}),n.preventDefault(),n.stopImmediatePropagation()}#E(n){In._resizerKeyboardManager.exec(this,n)}#C(n){this.#p&&n.relatedTarget?.parentNode!==this.#s&&this.#k()}#N(n){this.#d=this.#p?n:""}#I(n){if(this.#t)for(const e of this.#t)e.tabIndex=n}_resizeWithKeyboard(n,e){this.#p&&this.#y(this.#d,{movementX:n,movementY:e})}#k(){if(this.#p=!1,this.#I(-1),this.#l){const{savedX:n,savedY:e,savedWidth:i,savedHeight:o}=this.#l;this.#S(n,e,i,o),this.#l=null}}_stopResizingWithKeyboard(){this.#k(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this._editToolbar?(this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()})}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(n,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#r}set isEditing(n){this.#r=n,this.parent&&(n?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(n,e){this.#o=!0;const i=n/e,{style:o}=this.div;o.aspectRatio=i,o.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(n,e=!1){if(e){this.#f||=new Map;const{action:i}=n;let o=this.#f.get(i);return o&&clearTimeout(o),o=setTimeout(()=>{this._reportTelemetry(n),this.#f.delete(i),0===this.#f.size&&(this.#f=null)},In._telemetryTimeout),void this.#f.set(i,o)}n.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:n}})}show(n=this._isVisible){this.div.classList.toggle("hidden",!n),this._isVisible=n}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(n){let e=n.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.container.prepend(e);return e}resetAnnotationElement(n){const{firstChild:e}=n.container;"DIV"===e?.nodeName&&e.classList.contains("annotationContent")&&e.remove()}}class the extends In{constructor(n){super(n),this.annotationElementId=n.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const FF=3285377520,g1=4294901760,v0=65535;class kF{constructor(n){this.h1=n?4294967295&n:FF,this.h2=n?4294967295&n:FF}update(n){let e,i;if("string"==typeof n){e=new Uint8Array(2*n.length),i=0;for(let E=0,D=n.length;E<D;E++){const P=n.charCodeAt(E);P<=255?e[i++]=P:(e[i++]=P>>>8,e[i++]=255&P)}}else{if(!ArrayBuffer.isView(n))throw new Error("Invalid data format, must be a string or TypedArray.");e=n.slice(),i=e.byteLength}const o=i>>2,s=i-4*o,r=new Uint32Array(e.buffer,0,o);let a=0,l=0,c=this.h1,h=this.h2;const p=3432918353,f=461845907,v=p&v0,C=f&v0;for(let E=0;E<o;E++)1&E?(a=r[E],a=a*p&g1|a*v&v0,a=a<<15|a>>>17,a=a*f&g1|a*C&v0,c^=a,c=c<<13|c>>>19,c=5*c+3864292196):(l=r[E],l=l*p&g1|l*v&v0,l=l<<15|l>>>17,l=l*f&g1|l*C&v0,h^=l,h=h<<13|h>>>19,h=5*h+3864292196);switch(a=0,s){case 3:a^=e[4*o+2]<<16;case 2:a^=e[4*o+1]<<8;case 1:a^=e[4*o],a=a*p&g1|a*v&v0,a=a<<15|a>>>17,a=a*f&g1|a*C&v0,1&o?c^=a:h^=a}this.h1=c,this.h2=h}hexdigest(){let n=this.h1,e=this.h2;return n^=e>>>1,n=3981806797*n&g1|36045*n&v0,e=4283543511*e&g1|(2950163797*(e<<16|n>>>16)&g1)>>>16,n^=e>>>1,n=444984403*n&g1|60499*n&v0,e=3301882366*e&g1|(3120437893*(e<<16|n>>>16)&g1)>>>16,n^=e>>>1,(n>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const WM=Object.freeze({map:null,hash:"",transfer:void 0});class ZM{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(n,e){const i=this.#n.get(n);return void 0===i?e:Object.assign(e,i)}getRawValue(n){return this.#n.get(n)}remove(n){if(this.#n.delete(n),0===this.#n.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const e of this.#n.values())if(e instanceof In)return;this.onAnnotationEditor(null)}}setValue(n,e){const i=this.#n.get(n);let o=!1;if(void 0!==i)for(const[s,r]of Object.entries(e))i[s]!==r&&(o=!0,i[s]=r);else o=!0,this.#n.set(n,e);o&&this.#i(),e instanceof In&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(n){return this.#n.has(n)}getAll(){return this.#n.size>0?RM(this.#n):null}setAll(n){for(const[e,i]of Object.entries(n))this.setValue(e,i)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new zF(this)}get serializable(){if(0===this.#n.size)return WM;const n=new Map,e=new kF,i=[],o=Object.create(null);let s=!1;for(const[r,a]of this.#n){const l=a instanceof In?a.serialize(!1,o):a;l&&(n.set(r,l),e.update(`${r}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const r of n.values())r.bitmap&&i.push(r.bitmap);return n.size>0?{map:n,hash:e.hexdigest(),transfer:i}:WM}get editorStats(){let n=null;const e=new Map;for(const i of this.#n.values()){if(!(i instanceof In))continue;const o=i.telemetryFinalData;if(!o)continue;const{type:s}=o;e.has(s)||e.set(s,Object.getPrototypeOf(i).constructor),n||=Object.create(null);const r=n[s]||=new Map;for(const[a,l]of Object.entries(o)){if("type"===a)continue;let c=r.get(a);c||(c=new Map,r.set(a,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[i,o]of e)n[i]=o.computeTelemetryFinalData(n[i]);return n}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const n=[];for(const e of this.#n.values())!(e instanceof In)||!e.annotationElementId||!e.serialize()||n.push(e.annotationElementId);return this.#t={ids:new Set(n),hash:n.join(",")}}}class zF extends ZM{#e;constructor(n){super();const{map:e,hash:i,transfer:o}=n.serializable,s=structuredClone(e,o?{transfer:o}:null);this.#e={map:s,hash:i,transfer:o}}get print(){uo("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return fi(this,"modifiedIds",{ids:new Set,hash:""})}}class nhe{#e=new Set;constructor({ownerDocument:n=globalThis.document,styleElement:e=null}){this._document=n,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(n){this.nativeFontFaces.add(n),this._document.fonts.add(n)}removeNativeFontFace(n){this.nativeFontFaces.delete(n),this._document.fonts.delete(n)}insertRule(n){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(n,e.cssRules.length)}clear(){for(const n of this.nativeFontFaces)this._document.fonts.delete(n);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont({systemFontInfo:n,_inspectFont:e}){var i=this;return V(function*(){if(n&&!i.#e.has(n.loadedName)){if(ys(!i.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),i.isFontLoadingAPISupported){const{loadedName:o,src:s,style:r}=n,a=new FontFace(o,s,r);i.addNativeFontFace(a);try{yield a.load(),i.#e.add(o),e?.(n)}catch{qn(`Cannot load system font: ${n.baseFontName}, installing it could help to improve PDF rendering.`),i.removeNativeFontFace(a)}return}uo("Not implemented: loadSystemFont without the Font Loading API.")}})()}bind(n){var e=this;return V(function*(){if(n.attached||n.missingFile&&!n.systemFontInfo)return;if(n.attached=!0,n.systemFontInfo)return void(yield e.loadSystemFont(n));if(e.isFontLoadingAPISupported){const o=n.createNativeFontFace();if(o){e.addNativeFontFace(o);try{yield o.loaded}catch(s){throw qn(`Failed to load font '${o.family}': '${s}'.`),n.disableFontFace=!0,s}}return}const i=n.createFontFaceRule();if(i){if(e.insertRule(i),e.isSyncFontLoadingSupported)return;yield new Promise(o=>{const s=e._queueLoadingCallback(o);e._prepareFontLoadEvent(n,s)})}})()}get isFontLoadingAPISupported(){return fi(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let n=!1;return(dr||typeof navigator<"u"&&"string"==typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(n=!0),fi(this,"isSyncFontLoadingSupported",n)}_queueLoadingCallback(n){const{loadingRequests:i}=this,o={done:!1,complete:function e(){for(ys(!o.done,"completeRequest() cannot be called twice."),o.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}},callback:n};return i.push(o),o}get _loadTestFont(){return fi(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(n,e){function i(R,ee){return R.charCodeAt(ee)<<24|R.charCodeAt(ee+1)<<16|R.charCodeAt(ee+2)<<8|255&R.charCodeAt(ee+3)}function o(R,ee,re,fe){return R.substring(0,ee)+fe+R.substring(ee+re)}let s,r;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;const p=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=o(f,976,p.length,p);const E=1482184792;let D=i(f,16);for(s=0,r=p.length-3;s<r;s+=4)D=D-E+i(p,s)|0;s<p.length&&(D=D-E+i(p+"XXX",s)|0),f=o(f,16,4,function Vue(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}(D));const P=`url(data:font/opentype;base64,${btoa(f)});`;this.insertRule(`@font-face {font-family:"${p}";src:${P}}`);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const R of[n.loadedName,p]){const ee=this._document.createElement("span");ee.textContent="Hi",ee.style.fontFamily=R,k.append(ee)}this._document.body.append(k),function h(R,ee){if(++c>30)return qn("Load test font never loaded."),void ee();l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?ee():setTimeout(h.bind(null,R,ee))}(p,()=>{k.remove(),e.complete()})}}class ihe{constructor(n,{disableFontFace:e=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const o in n)this[o]=n[o];this.disableFontFace=!0===e,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let n;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),n=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else n=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),n}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const n=`url(data:${this.mimetype};base64,${function Zue(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(DF(t))}(this.data)});`;let e;if(this.cssFontInfo){let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${n}}`}else e=`@font-face {font-family:"${this.loadedName}";src:${n}}`;return this._inspectFont?.(this,n),e}getPathGenerator(n,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let i;try{i=n.get(this.loadedName+"_path_"+e)}catch(s){qn(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||0===i.length)return this.compiledGlyphs[e]=function(s,r){};const o=[];for(let s=0,r=i.length;s<r;)switch(i[s++]){case 0:{const[a,l,c,h,p,f]=i.slice(s,s+6);o.push(v=>v.bezierCurveTo(a,l,c,h,p,f)),s+=6}break;case 1:{const[a,l]=i.slice(s,s+2);o.push(c=>c.moveTo(a,l)),s+=2}break;case 2:{const[a,l]=i.slice(s,s+2);o.push(c=>c.lineTo(a,l)),s+=2}break;case 3:{const[a,l,c,h]=i.slice(s,s+4);o.push(p=>p.quadraticCurveTo(a,l,c,h)),s+=4}break;case 4:o.push(a=>a.restore());break;case 5:o.push(a=>a.save());break;case 6:ys(2===o.length,"Scale command is only valid at the third position.");break;case 7:{const[a,l,c,h,p,f]=i.slice(s,s+6);o.push(v=>v.transform(a,l,c,h,p,f)),s+=6}break;case 8:{const[a,l]=i.slice(s,s+2);o.push(c=>c.translate(a,l)),s+=2}}return this.compiledGlyphs[e]=function(r,a){o[0](r),o[1](r),r.scale(a,-a);for(let l=2,c=o.length;l<c;l++)o[l](r)}}}class VF{#e=!1;constructor({enableHWA:n=!1}){this.#e=n}create(n,e){if(n<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(n,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(n,e,i){if(!n.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");n.canvas.width=e,n.canvas.height=i}destroy(n){if(!n.canvas)throw new Error("Canvas is not specified");n.canvas.width=0,n.canvas.height=0,n.canvas=null,n.context=null}_createCanvas(n,e){uo("Abstract method `_createCanvas` called.")}}class HF{constructor({baseUrl:n=null,isCompressed:e=!0}){this.baseUrl=n,this.isCompressed=e}fetch({name:n}){var e=this;return V(function*(){if(!e.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!n)throw new Error("CMap name must be specified.");const i=e.baseUrl+n+(e.isCompressed?".bcmap":"");return e._fetch(i).then(o=>({cMapData:o,isCompressed:e.isCompressed})).catch(o=>{throw new Error(`Unable to load ${e.isCompressed?"binary ":""}CMap at: ${i}`)})})()}_fetch(n){return V(function*(){uo("Abstract method `_fetch` called.")})()}}class $F extends HF{_fetch(n){var e=this;return V(function*(){const i=yield i4(n,e.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):q2(i)})()}}class GF{addFilter(n){return"none"}addHCMFilter(n,e){return"none"}addAlphaFilter(n){return"none"}addLuminosityFilter(n){return"none"}addHighlightHCMFilter(n,e,i,o,s){return"none"}destroy(n=!1){}}class BF{constructor({baseUrl:n=null}){this.baseUrl=n}fetch({filename:n}){var e=this;return V(function*(){if(!e.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!n)throw new Error("Font filename must be specified.");const i=`${e.baseUrl}${n}`;return e._fetch(i).catch(o=>{throw new Error(`Unable to load font data at: ${i}`)})})()}_fetch(n){return V(function*(){uo("Abstract method `_fetch` called.")})()}}class UF extends BF{_fetch(n){return V(function*(){const e=yield i4(n,"arraybuffer");return new Uint8Array(e)})()}}if(dr){var jM=Promise.withResolvers(),XM=null;(function(){var n=V(function*(){const e=yield import("fs"),i=yield import("http"),o=yield import("https"),s=yield import("url");return new Map(Object.entries({fs:e,http:i,https:o,url:s,canvas:void 0,path2d:void 0}))});return function(){return n.apply(this,arguments)}})()().then(n=>{XM=n,jM.resolve()},n=>{qn(`loadPackages: ${n}`),XM=new Map,jM.resolve()})}class rc{static get promise(){return jM.promise}static get(n){return XM?.get(n)}}function WF(t){return KM.apply(this,arguments)}function KM(){return(KM=V(function*(t){const e=yield rc.get("fs").promises.readFile(t);return new Uint8Array(e)})).apply(this,arguments)}function qM(t,n){if(!n)return;const e=n[2]-n[0],i=n[3]-n[1],o=new Path2D;o.rect(n[0],n[1],e,i),t.clip(o)}class YM{getPattern(){uo("Abstract method `getPattern` called.")}}class dhe extends YM{constructor(n){super(),this._type=n[1],this._bbox=n[2],this._colorStops=n[3],this._p0=n[4],this._p1=n[5],this._r0=n[6],this._r1=n[7],this.matrix=null}_createGradient(n){let e;"axial"===this._type?e=n.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=n.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(n,e,i,o){let s;if("Stroke"===o||"Fill"===o){const r=e.current.getClippedPathBoundingBox(o,Io(n))||[0,0,0,0],a=Math.ceil(r[2]-r[0])||1,l=Math.ceil(r[3]-r[1])||1,c=e.cachedCanvases.getCanvas("pattern",a,l),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-r[0],-r[1]),i=on.transform(i,[1,0,0,1,r[0],r[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),qM(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=n.createPattern(c.canvas,"no-repeat");const p=new DOMMatrix(i);s.setTransform(p)}else qM(n,this._bbox),s=this._createGradient(n);return s}}function QM(t,n,e,i,o,s,r,a){const l=n.coords,c=n.colors,h=t.data,p=4*t.width;let f;l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=s,s=r,r=f),l[i+1]>l[o+1]&&(f=i,i=o,o=f,f=r,r=a,a=f),l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=s,s=r,r=f);const v=(l[e]+n.offsetX)*n.scaleX,C=(l[e+1]+n.offsetY)*n.scaleY,E=(l[i]+n.offsetX)*n.scaleX,D=(l[i+1]+n.offsetY)*n.scaleY,P=(l[o]+n.offsetX)*n.scaleX,I=(l[o+1]+n.offsetY)*n.scaleY;if(C>=I)return;const k=c[s],R=c[s+1],ee=c[s+2],re=c[r],fe=c[r+1],pe=c[r+2],ue=c[a],me=c[a+1],Fe=c[a+2],bt=Math.round(C),nt=Math.round(I);let Dt,Bt,Zt,Ge,Ft,It,yi,ci;for(let St=bt;St<=nt;St++){if(St<D){const Ln=St<C?0:(C-St)/(C-D);Dt=v-(v-E)*Ln,Bt=k-(k-re)*Ln,Zt=R-(R-fe)*Ln,Ge=ee-(ee-pe)*Ln}else{let Ln;Ln=St>I?1:D===I?0:(D-St)/(D-I),Dt=E-(E-P)*Ln,Bt=re-(re-ue)*Ln,Zt=fe-(fe-me)*Ln,Ge=pe-(pe-Fe)*Ln}let kn;kn=St<C?0:St>I?1:(C-St)/(C-I),Ft=v-(v-P)*kn,It=k-(k-ue)*kn,yi=R-(R-me)*kn,ci=ee-(ee-Fe)*kn;const zi=Math.round(Math.min(Dt,Ft)),Ni=Math.round(Math.max(Dt,Ft));let yt=p*St+4*zi;for(let Ln=zi;Ln<=Ni;Ln++)kn=(Dt-Ln)/(Dt-Ft),kn<0?kn=0:kn>1&&(kn=1),h[yt++]=Bt-(Bt-It)*kn|0,h[yt++]=Zt-(Zt-yi)*kn|0,h[yt++]=Ge-(Ge-ci)*kn|0,h[yt++]=255}}function uhe(t,n,e){const i=n.coords,o=n.colors;let s,r;switch(n.type){case"lattice":const a=n.verticesPerRow,l=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<l;s++){let h=s*a;for(let p=0;p<c;p++,h++)QM(t,e,i[h],i[h+1],i[h+a],o[h],o[h+1],o[h+a]),QM(t,e,i[h+a+1],i[h+1],i[h+a],o[h+a+1],o[h+1],o[h+a])}break;case"triangles":for(s=0,r=i.length;s<r;s+=3)QM(t,e,i[s],i[s+1],i[s+2],o[s],o[s+1],o[s+2]);break;default:throw new Error("illegal figure")}}class hhe extends YM{constructor(n){super(),this._coords=n[2],this._colors=n[3],this._figures=n[4],this._bounds=n[5],this._bbox=n[7],this._background=n[8],this.matrix=null}_createMeshCanvas(n,e,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,p=Math.min(Math.ceil(Math.abs(c*n[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*n[1]*1.1)),3e3),v=c/p,C=h/f,E={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/v,scaleY:1/C},I=i.getCanvas("mesh",p+4,f+4),k=I.context,R=k.createImageData(p,f);if(e){const re=R.data;for(let fe=0,pe=re.length;fe<pe;fe+=4)re[fe]=e[0],re[fe+1]=e[1],re[fe+2]=e[2],re[fe+3]=255}for(const re of this._figures)uhe(R,re,E);return k.putImageData(R,2,2),{canvas:I.canvas,offsetX:a-2*v,offsetY:l-2*C,scaleX:v,scaleY:C}}getPattern(n,e,i,o){let s;if(qM(n,this._bbox),"Shading"===o)s=on.singularValueDecompose2dScale(Io(n));else if(s=on.singularValueDecompose2dScale(e.baseTransform),this.matrix){const a=on.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const r=this._createMeshCanvas(s,"Shading"===o?null:this._background,e.cachedCanvases);return"Shading"!==o&&(n.setTransform(...e.baseTransform),this.matrix&&n.transform(...this.matrix)),n.translate(r.offsetX,r.offsetY),n.scale(r.scaleX,r.scaleY),n.createPattern(r.canvas,"no-repeat")}}class _he extends YM{getPattern(){return"hotpink"}}let ghe=(()=>{class t{static MAX_PATTERN_SIZE=3e3;constructor(e,i,o,s,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=i,this.ctx=o,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(e){const{bbox:i,operatorList:o,paintType:s,tilingType:r,color:a,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:h}=this;c=Math.abs(c),h=Math.abs(h),e4("TilingType: "+r);const p=i[0],f=i[1],v=i[2],C=i[3],E=v-p,D=C-f,P=on.singularValueDecompose2dScale(this.matrix),I=on.singularValueDecompose2dScale(this.baseTransform),k=P[0]*I[0],R=P[1]*I[1];let ee=E,re=D,fe=!1,pe=!1;const ue=Math.ceil(c*k),me=Math.ceil(h*R);ue>=Math.ceil(E*k)?ee=c:fe=!0,me>=Math.ceil(D*R)?re=h:pe=!0;const nt=this.getSizeAndScale(ee,this.ctx.canvas.width,k),Dt=this.getSizeAndScale(re,this.ctx.canvas.height,R),Bt=e.cachedCanvases.getCanvas("pattern",nt.size,Dt.size),Zt=Bt.context,Ge=l.createCanvasGraphics(Zt);if(Ge.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Ge,s,a),Zt.translate(-nt.scale*p,-Dt.scale*f),Ge.transform(nt.scale,0,0,Dt.scale,0,0),Zt.save(),this.clipBbox(Ge,p,f,v,C),Ge.baseTransform=Io(Ge.ctx),Ge.executeOperatorList(o),Ge.endDrawing(),Zt.restore(),fe||pe){const Ft=Bt.canvas;fe&&(ee=c),pe&&(re=h);const It=this.getSizeAndScale(ee,this.ctx.canvas.width,k),yi=this.getSizeAndScale(re,this.ctx.canvas.height,R),ci=It.size,St=yi.size,kn=e.cachedCanvases.getCanvas("pattern-workaround",ci,St),zi=kn.context,Ni=fe?Math.floor(E/c):0,yt=pe?Math.floor(D/h):0;for(let Ln=0;Ln<=Ni;Ln++)for(let Di=0;Di<=yt;Di++)zi.drawImage(Ft,ci*Ln,St*Di,ci,St,0,0,ci,St);return{canvas:kn.canvas,scaleX:It.scale,scaleY:yi.scale,offsetX:p,offsetY:f}}return{canvas:Bt.canvas,scaleX:nt.scale,scaleY:Dt.scale,offsetX:p,offsetY:f}}getSizeAndScale(e,i,o){const s=Math.max(t.MAX_PATTERN_SIZE,i);let r=Math.ceil(e*o);return r>=s?r=s:o=r/e,{scale:o,size:r}}clipBbox(e,i,o,s,r){e.ctx.rect(i,o,s-i,r-o),e.current.updateRectMinMax(Io(e.ctx),[i,o,s,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,o){const s=e.ctx,r=e.current;switch(i){case 1:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case 2:const l=on.makeHexColor(o[0],o[1],o[2]);s.fillStyle=l,s.strokeStyle=l,r.fillColor=l,r.strokeColor=l;break;default:throw new zue(`Unsupported paint type: ${i}`)}}getPattern(e,i,o,s){let r=o;"Shading"!==s&&(r=on.transform(r,i.baseTransform),this.matrix&&(r=on.transform(r,this.matrix)));const a=this.createPatternCanvas(i);let l=new DOMMatrix(r);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(l),c}}return t})();function jF({src:t,srcPos:n=0,dest:e,width:i,height:o,nonBlackColor:s=4294967295,inverseDecode:r=!1}){const a=Fr.isLittleEndian?4278190080:255,[l,c]=r?[s,a]:[a,s],h=i>>3,p=7&i,f=t.length;e=new Uint32Array(e.buffer);let v=0;for(let C=0;C<o;C++){for(const D=n+h;n<D;n++){const P=n<f?t[n]:255;e[v++]=128&P?c:l,e[v++]=64&P?c:l,e[v++]=32&P?c:l,e[v++]=16&P?c:l,e[v++]=8&P?c:l,e[v++]=4&P?c:l,e[v++]=2&P?c:l,e[v++]=1&P?c:l}if(0===p)continue;const E=n<f?t[n++]:255;for(let D=0;D<p;D++)e[v++]=E&1<<7-D?c:l}return{srcPos:n,destPos:v}}class Che{constructor(n){this.canvasFactory=n,this.cache=Object.create(null)}getCanvas(n,e,i){let o;return void 0!==this.cache[n]?(o=this.cache[n],this.canvasFactory.reset(o,e,i)):(o=this.canvasFactory.create(e,i),this.cache[n]=o),o}delete(n){delete this.cache[n]}clear(){for(const n in this.cache)this.canvasFactory.destroy(this.cache[n]),delete this.cache[n]}}function r4(t,n,e,i,o,s,r,a,l,c){const[h,p,f,v,C,E]=Io(t);if(0===p&&0===f){const k=Math.round(r*h+C),ee=Math.round(a*v+E),fe=Math.abs(Math.round((r+l)*h+C)-k)||1,ue=Math.abs(Math.round((a+c)*v+E)-ee)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(v),k,ee),t.drawImage(n,e,i,o,s,0,0,fe,ue),t.setTransform(h,p,f,v,C,E),[fe,ue]}if(0===h&&0===v){const k=Math.round(a*f+C),ee=Math.round(r*p+E),fe=Math.abs(Math.round((a+c)*f+C)-k)||1,ue=Math.abs(Math.round((r+l)*p+E)-ee)||1;return t.setTransform(0,Math.sign(p),Math.sign(f),0,k,ee),t.drawImage(n,e,i,o,s,0,0,ue,fe),t.setTransform(h,p,f,v,C,E),[ue,fe]}return t.drawImage(n,e,i,o,s,r,a,l,c),[Math.hypot(h,p)*l,Math.hypot(f,v)*c]}class QF{constructor(n,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=yF,this.textMatrixScale=1,this.fontMatrix=IM,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=0,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,n,e])}clone(){const n=Object.create(this);return n.clipBox=this.clipBox.slice(),n}setCurrentPoint(n,e){this.x=n,this.y=e}updatePathMinMax(n,e,i){[e,i]=on.applyTransform([e,i],n),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(n,e){const i=on.applyTransform(e,n),o=on.applyTransform(e.slice(2),n),s=on.applyTransform([e[0],e[3]],n),r=on.applyTransform([e[2],e[1]],n);this.minX=Math.min(this.minX,i[0],o[0],s[0],r[0]),this.minY=Math.min(this.minY,i[1],o[1],s[1],r[1]),this.maxX=Math.max(this.maxX,i[0],o[0],s[0],r[0]),this.maxY=Math.max(this.maxY,i[1],o[1],s[1],r[1])}updateScalingPathMinMax(n,e){on.scaleMinMax(n,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(n,e,i,o,s,r,a,l,c,h){const p=on.bezierBoundingBox(e,i,o,s,r,a,l,c,h);h||this.updateRectMinMax(n,p)}getPathBoundingBox(n="Fill",e=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if("Stroke"===n){e||uo("Stroke bounding box must include transform.");const o=on.singularValueDecompose2dScale(e),s=o[0]*this.lineWidth/2,r=o[1]*this.lineWidth/2;i[0]-=s,i[1]-=r,i[2]+=s,i[3]+=r}return i}updateClipFromPath(){const n=on.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(n||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(n){this.clipBox=n,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(n="Fill",e=null){return on.intersect(this.clipBox,this.getPathBoundingBox(n,e))}}function JF(t,n){if(typeof ImageData<"u"&&n instanceof ImageData)return void t.putImageData(n,0,0);const e=n.height,i=n.width,o=e%16,s=(e-o)/16,r=0===o?s:s+1,a=t.createImageData(i,16);let c,l=0;const h=n.data,p=a.data;let f,v,C,E;if(n.kind===Y6.GRAYSCALE_1BPP){const D=h.byteLength,P=new Uint32Array(p.buffer,0,p.byteLength>>2),I=P.length,k=i+7>>3,R=4294967295,ee=Fr.isLittleEndian?4278190080:255;for(f=0;f<r;f++){for(C=f<s?16:o,c=0,v=0;v<C;v++){const re=D-l;let fe=0;const pe=re>k?i:8*re-7,ue=-8&pe;let me=0,Fe=0;for(;fe<ue;fe+=8)Fe=h[l++],P[c++]=128&Fe?R:ee,P[c++]=64&Fe?R:ee,P[c++]=32&Fe?R:ee,P[c++]=16&Fe?R:ee,P[c++]=8&Fe?R:ee,P[c++]=4&Fe?R:ee,P[c++]=2&Fe?R:ee,P[c++]=1&Fe?R:ee;for(;fe<pe;fe++)0===me&&(Fe=h[l++],me=128),P[c++]=Fe&me?R:ee,me>>=1}for(;c<I;)P[c++]=0;t.putImageData(a,0,16*f)}}else if(n.kind===Y6.RGBA_32BPP){for(v=0,E=16*i*4,f=0;f<s;f++)p.set(h.subarray(l,l+E)),l+=E,t.putImageData(a,0,v),v+=16;f<r&&(E=i*o*4,p.set(h.subarray(l,l+E)),t.putImageData(a,0,v))}else{if(n.kind!==Y6.RGB_24BPP)throw new Error(`bad image kind: ${n.kind}`);for(C=16,E=i*C,f=0;f<r;f++){for(f>=s&&(C=o,E=i*C),c=0,v=E;v--;)p[c++]=h[l++],p[c++]=h[l++],p[c++]=h[l++],p[c++]=255;t.putImageData(a,0,16*f)}}}function ek(t,n){if(n.bitmap)return void t.drawImage(n.bitmap,0,0);const e=n.height,i=n.width,o=e%16,s=(e-o)/16,r=0===o?s:s+1,a=t.createImageData(i,16);let l=0;const c=n.data,h=a.data;for(let p=0;p<r;p++){const f=p<s?16:o;({srcPos:l}=jF({src:c,srcPos:l,dest:h,width:i,height:f,nonBlackColor:0})),t.putImageData(a,0,16*p)}}function Cp(t,n){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)void 0!==t[i]&&(n[i]=t[i]);void 0!==t.setLineDash&&(n.setLineDash(t.getLineDash()),n.lineDashOffset=t.lineDashOffset)}function a4(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0),!dr){const{filter:n}=t;"none"!==n&&""!==n&&(t.filter="none")}}function tk(t,n){if(n)return!0;const e=on.singularValueDecompose2dScale(t);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Y2.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}const The=["butt","round","square"],whe=["miter","round","bevel"],bhe={},nk={};class Q2{constructor(n,e,i,o,s,{optionalContentConfig:r,markedContentStack:a=null},l,c){this.ctx=n,this.current=new QF(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=o,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=r,this.cachedCanvases=new Che(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(n,e=null){return"string"==typeof n?n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n):e}beginDrawing({transform:n,viewport:e,transparency:i=!1,background:o=null}){const s=this.ctx.canvas.width,r=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,s,r),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,r);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Io(this.compositeCtx))}this.ctx.save(),a4(this.ctx),n&&(this.ctx.transform(...n),this.outputScaleX=n[0],this.outputScaleY=n[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Io(this.ctx)}executeOperatorList(n,e,i,o){const s=n.argsArray,r=n.fnArray;let a=e||0;const l=s.length;if(l===a)return a;const c=l-a>10&&"function"==typeof i,h=c?Date.now()+15:0;let p=0;const f=this.commonObjs,v=this.objs;let C;for(;;){if(void 0!==o&&a===o.nextBreakPoint)return o.breakIt(a,i),a;if(C=r[a],C!==k1.dependency)this[C].apply(this,s[a]);else for(const E of s[a]){const D=E.startsWith("g_")?f:v;if(!D.has(E))return D.get(E,i),a}if(a++,a===l)return a;if(c&&++p>10){if(Date.now()>h)return i(),a;p=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const n of this._cachedBitmapsMap.values()){for(const e of n.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);n.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const n=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==n){const e=this.ctx.filter;this.ctx.filter=n,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(n,e){const i=n.width??n.displayWidth,o=n.height??n.displayHeight;let h,p,s=Math.max(Math.hypot(e[0],e[1]),1),r=Math.max(Math.hypot(e[2],e[3]),1),a=i,l=o,c="prescale1";for(;s>2&&a>1||r>2&&l>1;){let f=a,v=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),r>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,r/=l/v),h=this.cachedCanvases.getCanvas(c,f,v),p=h.context,p.clearRect(0,0,f,v),p.drawImage(n,0,0,a,l,0,0,f,v),n=h.canvas,a=f,l=v,c="prescale1"===c?"prescale2":"prescale1"}return{img:n,paintWidth:a,paintHeight:l}}_createMaskCanvas(n){const e=this.ctx,{width:i,height:o}=n,s=this.current.fillColor,r=this.current.patternFill,a=Io(e);let l,c,h,p;if((n.bitmap||n.data)&&n.count>1){const pe=n.bitmap||n.data.buffer;c=JSON.stringify(r?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(pe),l||(l=new Map,this._cachedBitmapsMap.set(pe,l));const ue=l.get(c);if(ue&&!r)return{canvas:ue,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])};h=ue}h||(p=this.cachedCanvases.getCanvas("maskCanvas",i,o),ek(p.context,n));let f=on.transform(a,[1/i,0,0,-1/o,0,0]);f=on.transform(f,[1,0,0,1,0,-o]);const[v,C,E,D]=on.getAxialAlignedBoundingBox([0,0,i,o],f),P=Math.round(E-v)||1,I=Math.round(D-C)||1,k=this.cachedCanvases.getCanvas("fillCanvas",P,I),R=k.context,ee=v,re=C;R.translate(-ee,-re),R.transform(...f),h||(h=this._scaleImage(p.canvas,tl(R)),h=h.img,l&&r&&l.set(c,h)),R.imageSmoothingEnabled=tk(Io(R),n.interpolate),r4(R,h,0,0,h.width,h.height,0,0,i,o),R.globalCompositeOperation="source-in";const fe=on.transform(tl(R),[1,0,0,1,-ee,-re]);return R.fillStyle=r?s.getPattern(e,this,fe,"Fill"):s,R.fillRect(0,0,i,o),l&&!r&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,k.canvas)),{canvas:k.canvas,offsetX:Math.round(ee),offsetY:Math.round(re)}}setLineWidth(n){n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(n){this.ctx.lineCap=The[n]}setLineJoin(n){this.ctx.lineJoin=whe[n]}setMiterLimit(n){this.ctx.miterLimit=n}setDash(n,e){const i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(n),i.lineDashOffset=e)}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[e,i]of n)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const n=this.inSMaskMode;this.current.activeSMask&&!n?this.beginSMaskMode():!this.current.activeSMask&&n&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=o.context;const s=this.ctx;s.setTransform(...Io(this.suspendedCtx)),Cp(this.suspendedCtx,s),function vhe(t,n){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){n.save(),this.__originalSave()},t.restore=function(){n.restore(),this.__originalRestore()},t.translate=function(i,o){n.translate(i,o),this.__originalTranslate(i,o)},t.scale=function(i,o){n.scale(i,o),this.__originalScale(i,o)},t.transform=function(i,o,s,r,a,l){n.transform(i,o,s,r,a,l),this.__originalTransform(i,o,s,r,a,l)},t.setTransform=function(i,o,s,r,a,l){n.setTransform(i,o,s,r,a,l),this.__originalSetTransform(i,o,s,r,a,l)},t.resetTransform=function(){n.resetTransform(),this.__originalResetTransform()},t.rotate=function(i){n.rotate(i),this.__originalRotate(i)},t.clip=function(i){n.clip(i),this.__originalClip(i)},t.moveTo=function(e,i){n.moveTo(e,i),this.__originalMoveTo(e,i)},t.lineTo=function(e,i){n.lineTo(e,i),this.__originalLineTo(e,i)},t.bezierCurveTo=function(e,i,o,s,r,a){n.bezierCurveTo(e,i,o,s,r,a),this.__originalBezierCurveTo(e,i,o,s,r,a)},t.rect=function(e,i,o,s){n.rect(e,i,o,s),this.__originalRect(e,i,o,s)},t.closePath=function(){n.closePath(),this.__originalClosePath()},t.beginPath=function(){n.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Cp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(n){this.current.activeSMask&&(n?(n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.ceil(n[2]),n[3]=Math.ceil(n[3])):n=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],this.composeSMask(this.suspendedCtx,this.current.activeSMask,this.ctx,n),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}composeSMask(n,e,i,o){const s=o[0],r=o[1],a=o[2]-s,l=o[3]-r;0===a||0===l||(this.genericComposeSMask(e.context,i,a,l,e.subtype,e.backdrop,e.transferMap,s,r,e.offsetX,e.offsetY),n.save(),n.globalAlpha=1,n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0),n.drawImage(i.canvas,0,0),n.restore())}genericComposeSMask(n,e,i,o,s,r,a,l,c,h,p){let f=n.canvas,v=l-h,C=c-p;if(r){const D=on.makeHexColor(...r);if(v<0||C<0||v+i>f.width||C+o>f.height){const P=this.cachedCanvases.getCanvas("maskExtension",i,o),I=P.context;I.drawImage(f,-v,-C),I.globalCompositeOperation="destination-atop",I.fillStyle=D,I.fillRect(0,0,i,o),I.globalCompositeOperation="source-over",f=P.canvas,v=C=0}else{n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0);const P=new Path2D;P.rect(v,C,i,o),n.clip(P),n.globalCompositeOperation="destination-atop",n.fillStyle=D,n.fillRect(v,C,i,o),n.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===s&&a?e.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===s&&(e.filter=this.filterFactory.addLuminosityFilter(a));const E=new Path2D;E.rect(l,c,i,o),e.clip(E),e.globalCompositeOperation="destination-in",e.drawImage(f,v,C,i,o,l,c,i,o),e.restore()}save(){this.inSMaskMode?(Cp(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Cp(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(n,e,i,o,s,r){this.ctx.transform(n,e,i,o,s,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(n,e,i){const o=this.ctx,s=this.current;let l,c,r=s.x,a=s.y;const h=Io(o),p=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],f=p?i.slice(0):null;for(let v=0,C=0,E=n.length;v<E;v++)switch(0|n[v]){case k1.rectangle:r=e[C++],a=e[C++];const D=e[C++],P=e[C++],I=r+D,k=a+P;o.moveTo(r,a),0===D||0===P?o.lineTo(I,k):(o.lineTo(I,a),o.lineTo(I,k),o.lineTo(r,k)),p||s.updateRectMinMax(h,[r,a,I,k]),o.closePath();break;case k1.moveTo:r=e[C++],a=e[C++],o.moveTo(r,a),p||s.updatePathMinMax(h,r,a);break;case k1.lineTo:r=e[C++],a=e[C++],o.lineTo(r,a),p||s.updatePathMinMax(h,r,a);break;case k1.curveTo:l=r,c=a,r=e[C+4],a=e[C+5],o.bezierCurveTo(e[C],e[C+1],e[C+2],e[C+3],r,a),s.updateCurvePathMinMax(h,l,c,e[C],e[C+1],e[C+2],e[C+3],r,a,f),C+=6;break;case k1.curveTo2:l=r,c=a,o.bezierCurveTo(r,a,e[C],e[C+1],e[C+2],e[C+3]),s.updateCurvePathMinMax(h,l,c,r,a,e[C],e[C+1],e[C+2],e[C+3],f),r=e[C+2],a=e[C+3],C+=4;break;case k1.curveTo3:l=r,c=a,r=e[C+2],a=e[C+3],o.bezierCurveTo(e[C],e[C+1],r,a,r,a),s.updateCurvePathMinMax(h,l,c,e[C],e[C+1],r,a,r,a,f),C+=4;break;case k1.closePath:o.closePath()}p&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(r,a)}closePath(){this.ctx.closePath()}stroke(n=!0){const e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof i&&i?.getPattern?(e.save(),e.strokeStyle=i.getPattern(e,this,tl(e),"Stroke"),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),n&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(n=!0){const e=this.ctx,i=this.current.fillColor;let s=!1;this.current.patternFill&&(e.save(),e.fillStyle=i.getPattern(e,this,tl(e),"Fill"),s=!0);const r=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==r&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),s&&e.restore(),n&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=bhe}eoClip(){this.pendingClip=nk}beginText(){this.current.textMatrix=yF,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const n=this.pendingTextPaths,e=this.ctx;if(void 0!==n){e.save(),e.beginPath();for(const i of n)e.setTransform(...i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(n){this.current.charSpacing=n}setWordSpacing(n){this.current.wordSpacing=n}setHScale(n){this.current.textHScale=n/100}setLeading(n){this.current.leading=-n}setFont(n,e){const i=this.commonObjs.get(n),o=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(o.fontMatrix=i.fontMatrix||IM,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&qn("Invalid font matrix for font "+n),e<0?(e=-e,o.fontDirection=-1):o.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const s=i.loadedName||"sans-serif",r=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let c=e;e<16?c=16:e>100&&(c=100),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${a} ${c}px ${r}`}setTextRenderingMode(n){this.current.textRenderingMode=n}setTextRise(n){this.current.textRise=n}moveText(n,e){this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=e}setLeadingMoveText(n,e){this.setLeading(-e),this.moveText(n,e)}setTextMatrix(n,e,i,o,s,r){this.current.textMatrix=[n,e,i,o,s,r],this.current.textMatrixScale=Math.hypot(n,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(n,e,i,o){const s=this.ctx,r=this.current,a=r.font,l=r.textRenderingMode,c=r.fontSize/r.fontSizeScale,h=3&l,p=!!(4&l),f=r.patternFill&&!a.missingFile;let v;(a.disableFontFace||p||f)&&(v=a.getPathGenerator(this.commonObjs,n)),a.disableFontFace||f?(s.save(),s.translate(e,i),s.beginPath(),v(s,c),o&&s.setTransform(...o),(0===h||2===h)&&s.fill(),(1===h||2===h)&&s.stroke(),s.restore()):((0===h||2===h)&&s.fillText(n,e,i),(1===h||2===h)&&s.strokeText(n,e,i)),p&&(this.pendingTextPaths||=[]).push({transform:Io(s),x:e,y:i,fontSize:c,addToPath:v})}get isFontSubpixelAAEnabled(){const{context:n}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);n.scale(1.5,1),n.fillText("I",0,10);const e=n.getImageData(0,0,10,10).data;let i=!1;for(let o=3;o<e.length;o+=4)if(e[o]>0&&e[o]<255){i=!0;break}return fi(this,"isFontSubpixelAAEnabled",i)}showText(n){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(n);const o=e.fontSize;if(0===o)return;const s=this.ctx,r=e.fontSizeScale,a=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,h=e.textHScale*c,p=n.length,f=i.vertical,v=f?1:-1,C=i.defaultVMetrics,E=o*e.fontMatrix[0],D=0===e.textRenderingMode&&!i.disableFontFace&&!e.patternFill;let P;if(s.save(),s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),s.scale(h,c>0?-1:1),e.patternFill){s.save();const re=e.fillColor.getPattern(s,this,tl(s),"Fill");P=Io(s),s.restore(),s.fillStyle=re}let I=e.lineWidth;const k=e.textMatrixScale;if(0===k||0===I){const re=3&e.textRenderingMode;(1===re||2===re)&&(I=this.getSinglePixelWidth())}else I/=k;if(1!==r&&(s.scale(r,r),I/=r),s.lineWidth=I,i.isInvalidPDFjsFont){const re=[];let fe=0;for(const pe of n)re.push(pe.unicode),fe+=pe.width;return s.fillText(re.join(""),0,0),e.x+=fe*E*h,s.restore(),void this.compose()}let ee,R=0;for(ee=0;ee<p;++ee){const re=n[ee];if("number"==typeof re){R+=v*re*o/1e3;continue}let fe=!1;const pe=(re.isSpace?l:0)+a,ue=re.fontChar,me=re.accent;let Fe,bt,nt=re.width;if(f){const Bt=re.vmetric||C,Zt=-(re.vmetric?Bt[1]:.5*nt)*E;nt=Bt?-Bt[0]:nt,Fe=Zt/r,bt=(R+Bt[2]*E)/r}else Fe=R/r,bt=0;if(i.remeasure&&nt>0){const Bt=1e3*s.measureText(ue).width/o*r;if(nt<Bt&&this.isFontSubpixelAAEnabled){const Zt=nt/Bt;fe=!0,s.save(),s.scale(Zt,1),Fe/=Zt}else nt!==Bt&&(Fe+=(nt-Bt)/2e3*o/r)}this.contentVisible&&(re.isInFont||i.missingFile)&&(D&&!me?s.fillText(ue,Fe,bt):(this.paintChar(ue,Fe,bt,P),me&&this.paintChar(me.fontChar,Fe+o*me.offset.x/r,bt-o*me.offset.y/r,P))),R+=f?nt*E-pe*c:nt*E+pe*c,fe&&s.restore()}f?e.y-=R:e.x+=R*h,s.restore(),this.compose()}showType3Text(n){const e=this.ctx,i=this.current,o=i.font,s=i.fontSize,r=i.fontDirection,a=o.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,h=i.textHScale*r,p=i.fontMatrix||IM,f=n.length;let C,E,D,P;if(3!==i.textRenderingMode&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(h,r),C=0;C<f;++C){if(E=n[C],"number"==typeof E){P=a*E*s/1e3,this.ctx.translate(P,0),i.x+=P*h;continue}const I=(E.isSpace?c:0)+l,k=o.charProcOperatorList[E.operatorListId];k?(this.contentVisible&&(this.processingType3=E,this.save(),e.scale(s,s),e.transform(...p),this.executeOperatorList(k),this.restore()),D=on.applyTransform([E.width,0],p)[0]*s+I,e.translate(D,0),i.x+=D*h):qn(`Type3 character "${E.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(n,e){}setCharWidthAndBounds(n,e,i,o,s,r){this.ctx.rect(i,o,s-i,r-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(n){let e;if("TilingPattern"===n[0]){const i=n[1],o=this.baseTransform||Io(this.ctx);e=new ghe(n,i,this.ctx,{createCanvasGraphics:r=>new Q2(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},o)}else e=this._getPattern(n[1],n[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(n,e,i){this.ctx.strokeStyle=this.current.strokeColor=on.makeHexColor(n,e,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(n,e,i){this.ctx.fillStyle=this.current.fillColor=on.makeHexColor(n,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(n,e=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=function phe(t){switch(t[0]){case"RadialAxial":return new dhe(t);case"Mesh":return new hhe(t);case"Dummy":return new _he}throw new Error(`Unknown IR type: ${t[0]}`)}(this.getObject(n)),this.cachedPatterns.set(n,i)),e&&(i.matrix=e),i}shadingFill(n){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(n);e.fillStyle=i.getPattern(e,this,tl(e),"Shading");const o=tl(e);if(o){const{width:s,height:r}=e.canvas,[a,l,c,h]=on.getAxialAlignedBoundingBox([0,0,s,r],o);this.ctx.fillRect(a,l,c-a,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){uo("Should not call beginInlineImage")}beginImageData(){uo("Should not call beginImageData")}paintFormXObjectBegin(n,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),n&&this.transform(...n),this.baseTransform=Io(this.ctx),e)&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.current.updateRectMinMax(Io(this.ctx),e),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(n){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;n.isolated||e4("TODO: Support non-isolated groups."),n.knockout&&qn("Knockout groups not supported.");const i=Io(e);if(n.matrix&&e.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let o=on.getAxialAlignedBoundingBox(n.bbox,Io(e));o=on.intersect(o,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];const r=Math.floor(o[0]),a=Math.floor(o[1]),l=Math.max(Math.ceil(o[2])-r,1),c=Math.max(Math.ceil(o[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,l,c),f=p.context;f.translate(-r,-a),f.transform(...i),n.smask?this.smaskStack.push({canvas:p.canvas,context:f,offsetX:r,offsetY:a,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(r,a),e.save()),Cp(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(n){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,n.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=Io(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...o);const s=on.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],o);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(n,e,i,o,s){if(this.#e(),a4(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const r=e[2]-e[0],a=e[3]-e[1];if(s&&this.annotationCanvasMap){(i=i.slice())[4]-=e[0],i[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=r,e[3]=a;const[l,c]=on.singularValueDecompose2dScale(Io(this.ctx)),{viewportScale:h}=this,p=Math.ceil(r*this.outputScaleX*h),f=Math.ceil(a*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,f);const{canvas:v,context:C}=this.annotationCanvas;this.annotationCanvasMap.set(n,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=C,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),a4(this.ctx)}else a4(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],r,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new QF(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(n){if(!this.contentVisible)return;const e=n.count;(n=this.getObject(n.data,n)).count=e;const i=this.ctx,o=this.processingType3;if(o&&(void 0===o.compiled&&(o.compiled=function Mhe(t){const{width:n,height:e}=t;if(n>1e3||e>1e3)return null;const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=n+1;let a,l,c,r=new Uint8Array(s*(e+1));const h=n+7&-8;let p=new Uint8Array(h*e),f=0;for(const P of t.data){let I=128;for(;I>0;)p[f++]=P&I?0:255,I>>=1}let v=0;for(f=0,0!==p[f]&&(r[0]=1,++v),l=1;l<n;l++)p[f]!==p[f+1]&&(r[l]=p[f]?2:1,++v),f++;for(0!==p[f]&&(r[l]=2,++v),a=1;a<e;a++){f=a*h,c=a*s,p[f-h]!==p[f]&&(r[c]=p[f]?1:8,++v);let P=(p[f]?4:0)+(p[f-h]?8:0);for(l=1;l<n;l++)P=(P>>2)+(p[f+1]?4:0)+(p[f-h+1]?8:0),o[P]&&(r[c+l]=o[P],++v),f++;if(p[f-h]!==p[f]&&(r[c+l]=p[f]?2:4,++v),v>1e3)return null}for(f=h*(e-1),c=a*s,0!==p[f]&&(r[c]=8,++v),l=1;l<n;l++)p[f]!==p[f+1]&&(r[c+l]=p[f]?4:8,++v),f++;if(0!==p[f]&&(r[c+l]=4,++v),v>1e3)return null;const C=new Int32Array([0,s,-1,0,-s,0,0,0,1]),E=new Path2D;for(a=0;v&&a<=e;a++){let P=a*s;const I=P+n;for(;P<I&&!r[P];)P++;if(P===I)continue;E.moveTo(P%s,a);const k=P;let R=r[P];do{const ee=C[R];do{P+=ee}while(!r[P]);const re=r[P];5!==re&&10!==re?(R=re,r[P]=0):(R=re&51*R>>4,r[P]&=R>>2|R<<2),E.lineTo(P%s,P/s|0),r[P]||--v}while(k!==P);--a}return p=null,r=null,function(P){P.save(),P.scale(1/n,-1/e),P.translate(0,-e),P.fill(E),P.beginPath(),P.restore()}}(n)),o.compiled))return void o.compiled(i);const s=this._createMaskCanvas(n),r=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(n,e,i=0,o=0,s,r){if(!this.contentVisible)return;n=this.getObject(n.data,n);const a=this.ctx;a.save();const l=Io(a);a.transform(e,i,o,s,0,0);const c=this._createMaskCanvas(n);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,p=r.length;h<p;h+=2){const f=on.transform(l,[e,i,o,s,r[h],r[h+1]]),[v,C]=on.applyTransform([0,0],f);a.drawImage(c.canvas,v,C)}a.restore(),this.compose()}paintImageMaskXObjectGroup(n){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,o=this.current.patternFill;for(const s of n){const{data:r,width:a,height:l,transform:c}=s,h=this.cachedCanvases.getCanvas("maskCanvas",a,l),p=h.context;p.save(),ek(p,this.getObject(r,s)),p.globalCompositeOperation="source-in",p.fillStyle=o?i.getPattern(p,this,tl(e),"Fill"):i,p.fillRect(0,0,a,l),p.restore(),e.save(),e.transform(...c),e.scale(1,-1),r4(e,h.canvas,0,0,a,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(n){if(!this.contentVisible)return;const e=this.getObject(n);e?this.paintInlineImageXObject(e):qn("Dependent image isn't ready yet")}paintImageXObjectRepeat(n,e,i,o){if(!this.contentVisible)return;const s=this.getObject(n);if(!s)return void qn("Dependent image isn't ready yet");const r=s.width,a=s.height,l=[];for(let c=0,h=o.length;c<h;c+=2)l.push({transform:[e,0,0,i,o[c],o[c+1]],x:0,y:0,w:r,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(n){return"none"!==this.current.transferMaps&&(n.filter=this.current.transferMaps,n.drawImage(n.canvas,0,0),n.filter="none"),n.canvas}applyTransferMapsToBitmap(n){if("none"===this.current.transferMaps)return n.bitmap;const{bitmap:e,width:i,height:o}=n,s=this.cachedCanvases.getCanvas("inlineImage",i,o),r=s.context;return r.filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",s.canvas}paintInlineImageXObject(n){if(!this.contentVisible)return;const e=n.width,i=n.height,o=this.ctx;if(this.save(),!dr){const{filter:a}=o;"none"!==a&&""!==a&&(o.filter="none")}let s;if(o.scale(1/e,-1/i),n.bitmap)s=this.applyTransferMapsToBitmap(n);else if("function"==typeof HTMLElement&&n instanceof HTMLElement||!n.data)s=n;else{const l=this.cachedCanvases.getCanvas("inlineImage",e,i).context;JF(l,n),s=this.applyTransferMapsToCanvas(l)}const r=this._scaleImage(s,tl(o));o.imageSmoothingEnabled=tk(Io(o),n.interpolate),r4(o,r.img,0,0,r.paintWidth,r.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(n,e){if(!this.contentVisible)return;const i=this.ctx;let o;if(n.bitmap)o=n.bitmap;else{const l=this.cachedCanvases.getCanvas("inlineImage",n.width,n.height).context;JF(l,n),o=this.applyTransferMapsToCanvas(l)}for(const s of e)i.save(),i.transform(...s.transform),i.scale(1,-1),r4(i,o,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(n){}markPointProps(n,e){}beginMarkedContent(n){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(n,e){this.markedContentStack.push("OC"===n?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(n){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const i=this.ctx;this.pendingClip&&(e||(this.pendingClip===nk?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const n=Io(this.ctx);if(0===n[1]&&0===n[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(n[0]),Math.abs(n[3]));else{const e=Math.abs(n[0]*n[3]-n[2]*n[1]),i=Math.hypot(n[0],n[2]),o=Math.hypot(n[1],n[3]);this._cachedGetSinglePixelWidth=Math.max(i,o)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:n}=this.current,{a:e,b:i,c:o,d:s}=this.ctx.getTransform();let r,a;if(0===i&&0===o){const l=Math.abs(e),c=Math.abs(s);if(l===c)if(0===n)r=a=1/l;else{const h=l*n;r=a=h<1?1/h:1}else if(0===n)r=1/l,a=1/c;else{const h=l*n,p=c*n;r=h<1?1/h:1,a=p<1?1/p:1}}else{const l=Math.abs(e*s-i*o),c=Math.hypot(e,i),h=Math.hypot(o,s);if(0===n)r=h/l,a=c/l;else{const p=n*l;r=h>p?h/p:1,a=c>p?c/p:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(n){const{ctx:e}=this,{lineWidth:i}=this.current,[o,s]=this.getScaleForStroking();if(e.lineWidth=i||1,1===o&&1===s)return void e.stroke();const r=e.getLineDash();if(n&&e.save(),e.scale(o,s),r.length>0){const a=Math.max(o,s);e.setLineDash(r.map(l=>l/a)),e.lineDashOffset/=a}e.stroke(),n&&e.restore()}isContentVisible(){for(let n=this.markedContentStack.length-1;n>=0;n--)if(!this.markedContentStack[n].visible)return!1;return!0}}for(const t in k1)void 0!==Q2.prototype[t]&&(Q2.prototype[k1[t]]=Q2.prototype[t]);class Mp{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(n){if(!(typeof Worker<"u"&&n instanceof Worker)&&null!==n)throw new Error("Invalid `workerPort` type.");this.#e=n}static get workerSrc(){return this.#t}static set workerSrc(n){if("string"!=typeof n)throw new Error("Invalid `workerSrc` type.");this.#t=n}}function xa(t){switch(t instanceof Error||"object"==typeof t&&null!==t||uo('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new xd(t.message);case"MissingPDFException":return new Id(t.message);case"PasswordException":return new xM(t.message,t.code);case"UnexpectedResponseException":return new t4(t.message,t.status);case"UnknownErrorException":return new LM(t.message,t.details);default:return new LM(t.message,t.toString())}}class Tp{#e=new AbortController;constructor(n,e,i){this.sourceName=n,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:n}){if(n.targetName!==this.sourceName)return;if(n.stream)return void this.#i(n);if(n.callback){const i=n.callbackId,o=this.callbackCapabilities[i];if(!o)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],1===n.callback)o.resolve(n.data);else{if(2!==n.callback)throw new Error("Unexpected callback case");o.reject(xa(n.reason))}return}const e=this.actionHandler[n.action];if(!e)throw new Error(`Unknown action from worker: ${n.action}`);if(n.callbackId){const i=this.sourceName,o=n.sourceName,s=this.comObj;new Promise(function(r){r(e(n.data))}).then(function(r){s.postMessage({sourceName:i,targetName:o,callback:1,callbackId:n.callbackId,data:r})},function(r){s.postMessage({sourceName:i,targetName:o,callback:2,callbackId:n.callbackId,reason:xa(r)})})}else n.streamId?this.#n(n):e(n.data)}on(n,e){const i=this.actionHandler;if(i[n])throw new Error(`There is already an actionName called "${n}"`);i[n]=e}send(n,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:n,data:e},i)}sendWithPromise(n,e,i){const o=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[o]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:n,callbackId:o,data:e},i)}catch(r){s.reject(r)}return s.promise}sendWithStream(n,e,i,o){const s=this.streamId++,r=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:r,targetName:a,action:n,streamId:s,data:e,desiredSize:c.desiredSize},o),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:r,targetName:a,stream:6,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{ys(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:r,targetName:a,stream:1,streamId:s,reason:xa(c)}),h.promise}},i)}#n(n){const e=n.streamId,i=this.sourceName,o=n.sourceName,s=this.comObj,r=this,a=this.actionHandler[n.action],l={enqueue(c,h=1,p){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:o,stream:4,streamId:e,chunk:c},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:o,stream:3,streamId:e}),delete r.streamSinks[e])},error(c){ys(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:o,stream:5,streamId:e,reason:xa(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:n.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,new Promise(function(c){c(a(n.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:o,stream:8,streamId:e,success:!0})},function(c){s.postMessage({sourceName:i,targetName:o,stream:8,streamId:e,reason:xa(c)})})}#i(n){const e=n.streamId,i=this.sourceName,o=n.sourceName,s=this.comObj,r=this.streamControllers[e],a=this.streamSinks[e];switch(n.stream){case 8:n.success?r.startCall.resolve():r.startCall.reject(xa(n.reason));break;case 7:n.success?r.pullCall.resolve():r.pullCall.reject(xa(n.reason));break;case 6:if(!a){s.postMessage({sourceName:i,targetName:o,stream:7,streamId:e,success:!0});break}a.desiredSize<=0&&n.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=n.desiredSize,new Promise(function(l){l(a.onPull?.())}).then(function(){s.postMessage({sourceName:i,targetName:o,stream:7,streamId:e,success:!0})},function(l){s.postMessage({sourceName:i,targetName:o,stream:7,streamId:e,reason:xa(l)})});break;case 4:if(ys(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(n.chunk);break;case 3:if(ys(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),this.#o(r,e);break;case 5:ys(r,"error should have stream controller"),r.controller.error(xa(n.reason)),this.#o(r,e);break;case 2:n.success?r.cancelCall.resolve():r.cancelCall.reject(xa(n.reason)),this.#o(r,e);break;case 1:if(!a)break;new Promise(function(l){l(a.onCancel?.(xa(n.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:o,stream:2,streamId:e,success:!0})},function(l){s.postMessage({sourceName:i,targetName:o,stream:2,streamId:e,reason:xa(l)})}),a.sinkCapability.reject(xa(n.reason)),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}#o(n,e){var i=this;return V(function*(){yield Promise.allSettled([n.startCall?.promise,n.pullCall?.promise,n.cancelCall?.promise]),delete i.streamControllers[e]})()}destroy(){this.#e?.abort(),this.#e=null}}class She{#e;#t;constructor({parsedData:n,rawData:e}){this.#e=n,this.#t=e}getRaw(){return this.#t}get(n){return this.#e.get(n)??null}getAll(){return RM(this.#e)}has(n){return this.#e.has(n)}}const J2=Symbol("INTERNAL");class Ehe{#e=!1;#t=!1;#n=!1;#i=!0;constructor(n,{name:e,intent:i,usage:o,rbGroups:s}){this.#e=!!(2&n),this.#t=!!(4&n),this.name=e,this.intent=i,this.usage=o,this.rbGroups=s}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:n,view:e}=this.usage;return this.#e?"OFF"!==e?.viewState:!this.#t||"OFF"!==n?.printState}_setVisible(n,e,i=!1){n!==J2&&uo("Internal method `_setVisible` called."),this.#n=i,this.#i=e}}class Ahe{#e=null;#t=new Map;#n=null;#i=null;constructor(n,e=2){if(this.renderingIntent=e,this.name=null,this.creator=null,null!==n){this.name=n.name,this.creator=n.creator,this.#i=n.order;for(const i of n.groups)this.#t.set(i.id,new Ehe(e,i));if("OFF"===n.baseState)for(const i of this.#t.values())i._setVisible(J2,!1);for(const i of n.on)this.#t.get(i)._setVisible(J2,!0);for(const i of n.off)this.#t.get(i)._setVisible(J2,!1);this.#n=this.getHash()}}#o(n){const e=n.length;if(e<2)return!0;const i=n[0];for(let o=1;o<e;o++){const s=n[o];let r;if(Array.isArray(s))r=this.#o(s);else{if(!this.#t.has(s))return qn(`Optional content group not found: ${s}`),!0;r=this.#t.get(s).visible}switch(i){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===i}isVisible(n){if(0===this.#t.size)return!0;if(!n)return e4("Optional content group not defined."),!0;if("OCG"===n.type)return this.#t.has(n.id)?this.#t.get(n.id).visible:(qn(`Optional content group not found: ${n.id}`),!0);if("OCMD"===n.type){if(n.expression)return this.#o(n.expression);if(!n.policy||"AnyOn"===n.policy){for(const e of n.ids){if(!this.#t.has(e))return qn(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!0}return!1}if("AllOn"===n.policy){for(const e of n.ids){if(!this.#t.has(e))return qn(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!1}return!0}if("AnyOff"===n.policy){for(const e of n.ids){if(!this.#t.has(e))return qn(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!0}return!1}if("AllOff"===n.policy){for(const e of n.ids){if(!this.#t.has(e))return qn(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!1}return!0}return qn(`Unknown optional content policy ${n.policy}.`),!0}return qn(`Unknown group type ${n.type}.`),!0}setVisibility(n,e=!0,i=!0){const o=this.#t.get(n);if(o){if(i&&e&&o.rbGroups.length)for(const s of o.rbGroups)for(const r of s)r!==n&&this.#t.get(r)?._setVisible(J2,!1,!0);o._setVisible(J2,!!e,!0),this.#e=null}else qn(`Optional content group not found: ${n}`)}setOCGState({state:n,preserveRB:e}){let i;for(const o of n){switch(o){case"ON":case"OFF":case"Toggle":i=o;continue}const s=this.#t.get(o);if(s)switch(i){case"ON":this.setVisibility(o,!0,e);break;case"OFF":this.setVisibility(o,!1,e);break;case"Toggle":this.setVisibility(o,!s.visible,e)}}this.#e=null}get hasInitialVisibility(){return null===this.#n||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?RM(this.#t):null}getGroup(n){return this.#t.get(n)||null}getHash(){if(null!==this.#e)return this.#e;const n=new kF;for(const[e,i]of this.#t)n.update(`${e}:${i.visible}`);return this.#e=n.hexdigest()}}class Ohe{constructor(n,{disableRange:e=!1,disableStream:i=!1}){ys(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:o,initialData:s,progressiveDone:r,contentDispositionFilename:a}=n;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=a,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],n.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),n.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),n.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),n.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),n.transportReady()}_onReceiveData({begin:n,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;void 0===n?this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i):ys(this._rangeReaders.some(function(s){return s._begin===n&&(s._enqueue(i),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(n){void 0===n.total?this._rangeReaders[0]?.onProgress?.({loaded:n.loaded}):this._fullRequestReader?.onProgress?.({loaded:n.loaded,total:n.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(n){const e=this._rangeReaders.indexOf(n);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ys(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const n=this._queuedChunks;return this._queuedChunks=null,new yhe(this,n,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(n,e){if(e<=this._progressiveDataLength)return null;const i=new Nhe(this,n,e);return this._pdfDataRangeTransport.requestDataRange(n,e),this._rangeReaders.push(i),i}cancelAllRequests(n){this._fullRequestReader?.cancel(n);for(const e of this._rangeReaders.slice(0))e.cancel(n);this._pdfDataRangeTransport.abort()}}class yhe{constructor(n,e,i=!1,o=null){this._stream=n,this._done=i||!1,this._filename=HM(o)?o:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),n._fullRequestReader=this,this.onProgress=null}_enqueue(n){this._done||(this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunks.push(n),this._loaded+=n.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var n=this;return V(function*(){if(n._queuedChunks.length>0)return{value:n._queuedChunks.shift(),done:!1};if(n._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return n._requests.push(e),e.promise})()}cancel(n){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Nhe{constructor(n,e,i){this._stream=n,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(n){if(!this._done){if(0===this._requests.length)this._queuedChunk=n;else{this._requests.shift().resolve({value:n,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var n=this;return V(function*(){if(n._queuedChunk){const i=n._queuedChunk;return n._queuedChunk=null,{value:i,done:!1}}if(n._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return n._requests.push(e),e.promise})()}cancel(n){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function JM(t,n){const e=new Headers;if(!t||!n||"object"!=typeof n)return e;for(const i in n){const o=n[i];void 0!==o&&e.append(i,o)}return e}function eT({responseHeaders:t,isHttp:n,rangeChunkSize:e,disableRange:i}){const o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(o.suggestedLength=s,s<=2*e)||i||!n||"bytes"!==t.get("Accept-Ranges")||"identity"!==(t.get("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o}function tT(t){const n=t.get("Content-Disposition");if(n){let e=function Dhe(t){let n=!0,e=i("filename\\*","i").exec(t);if(e){e=e[1];let h=a(e);return h=unescape(h),h=l(h),h=c(h),s(h)}if(e=function r(h){const p=[];let f;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(f=v.exec(h));){let[,E,D,P]=f;if(E=parseInt(E,10),E in p){if(0===E)break}else p[E]=[D,P]}const C=[];for(let E=0;E<p.length&&E in p;++E){let[D,P]=p[E];P=a(P),D&&(P=unescape(P),0===E&&(P=l(P))),C.push(P)}return C.join("")}(t),e)return s(c(e));if(e=i("filename","i").exec(t),e){e=e[1];let h=a(e);return h=c(h),s(h)}function i(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function o(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const f=new TextDecoder(h,{fatal:!0}),v=q2(p);p=f.decode(v),n=!1}catch{}}return p}function s(h){return n&&/[\x80-\xff]/.test(h)&&(h=o("utf-8",h),n&&(h=o("iso-8859-1",h))),h}function a(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let f=0;f<p.length;++f){const v=p[f].indexOf('"');-1!==v&&(p[f]=p[f].slice(0,v),p.length=f+1),p[f]=p[f].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function l(h){const p=h.indexOf("'");return-1===p?h:o(h.slice(0,p),h.slice(p+1).replace(/^[^']*'/,""))}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,f,v,C){if("q"===v||"Q"===v)return o(f,C=(C=C.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(E,D){return String.fromCharCode(parseInt(D,16))}));try{C=atob(C)}catch{}return o(f,C)})}return""}(n);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(HM(e))return e}return null}function c4(t,n){return 404===t||0===t&&n.startsWith("file:")?new Id('Missing PDF "'+n+'".'):new t4(`Unexpected server response (${t}) while retrieving PDF "${n}".`,t)}function ik(t){return 200===t||206===t}function ok(t,n,e){return{method:"GET",headers:t,signal:e.signal,mode:"cors",credentials:n?"include":"same-origin",redirect:"follow"}}function sk(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(qn(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class rk{constructor(n){this.source=n,this.isHttp=/^https?:/i.test(n.url),this.headers=JM(this.isHttp,n.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ys(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Phe(this),this._fullRequestReader}getRangeReader(n,e){if(e<=this._progressiveDataLength)return null;const i=new Ihe(this,n,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(n){this._fullRequestReader?.cancel(n);for(const e of this._rangeRequestReaders.slice(0))e.cancel(n)}}class Phe{constructor(n){this._stream=n,this._reader=null,this._loaded=0,this._filename=null;const e=n.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(n.headers),o=e.url;fetch(o,ok(i,this._withCredentials,this._abortController)).then(s=>{if(!ik(s.status))throw c4(s.status,o);this._reader=s.body.getReader(),this._headersCapability.resolve();const r=s.headers,{allowRangeRequests:a,suggestedLength:l}=eT({responseHeaders:r,isHttp:n.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=tT(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new xd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var n=this;return V(function*(){yield n._headersCapability.promise;const{value:e,done:i}=yield n._reader.read();return i?{value:e,done:i}:(n._loaded+=e.byteLength,n.onProgress?.({loaded:n._loaded,total:n._contentLength}),{value:sk(e),done:!1})})()}cancel(n){this._reader?.cancel(n),this._abortController.abort()}}class Ihe{constructor(n,e,i){this._stream=n,this._reader=null,this._loaded=0;const o=n.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController;const s=new Headers(n.headers);s.append("Range",`bytes=${e}-${i-1}`);const r=o.url;fetch(r,ok(s,this._withCredentials,this._abortController)).then(a=>{if(!ik(a.status))throw c4(a.status,r);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var n=this;return V(function*(){yield n._readCapability.promise;const{value:e,done:i}=yield n._reader.read();return i?{value:e,done:i}:(n._loaded+=e.byteLength,n.onProgress?.({loaded:n._loaded}),{value:sk(e),done:!1})})()}cancel(n){this._reader?.cancel(n),this._abortController.abort()}}class Lhe{constructor({url:n,httpHeaders:e,withCredentials:i}){this.url=n,this.isHttp=/^https?:/i.test(n),this.headers=JM(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(n,e,i){const o={begin:n,end:e};for(const s in i)o[s]=i[s];return this.request(o)}requestFull(n){return this.request(n)}request(n){const e=new XMLHttpRequest,i=this.currXhrId++,o=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,r]of this.headers)e.setRequestHeader(s,r);return this.isHttp&&"begin"in n&&"end"in n?(e.setRequestHeader("Range",`bytes=${n.begin}-${n.end-1}`),o.expectedStatus=206):o.expectedStatus=200,e.responseType="arraybuffer",n.onError&&(e.onerror=function(s){n.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),o.onHeadersReceived=n.onHeadersReceived,o.onDone=n.onDone,o.onError=n.onError,o.onProgress=n.onProgress,e.send(null),i}onProgress(n,e){const i=this.pendingRequests[n];i&&i.onProgress?.(e)}onStateChange(n,e){const i=this.pendingRequests[n];if(!i)return;const o=i.xhr;if(o.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==o.readyState||!(n in this.pendingRequests))return;if(delete this.pendingRequests[n],0===o.status&&this.isHttp)return void i.onError?.(o.status);const s=o.status||200;if((200!==s||206!==i.expectedStatus)&&s!==i.expectedStatus)return void i.onError?.(o.status);const a=function xhe(t){const n=t.response;return"string"!=typeof n?n:q2(n).buffer}(o);if(206===s){const l=o.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);i.onDone({begin:parseInt(c[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):i.onError?.(o.status)}getRequestXhr(n){return this.pendingRequests[n].xhr}isPendingRequest(n){return n in this.pendingRequests}abortRequest(n){const e=this.pendingRequests[n].xhr;delete this.pendingRequests[n],e.abort()}}class Rhe{constructor(n){this._source=n,this._manager=new Lhe(n),this._rangeChunkSize=n.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(n){const e=this._rangeRequestReaders.indexOf(n);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ys(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Fhe(this._manager,this._source),this._fullRequestReader}getRangeReader(n,e){const i=new khe(this._manager,n,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(n){this._fullRequestReader?.cancel(n);for(const e of this._rangeRequestReaders.slice(0))e.cancel(n)}}class Fhe{constructor(n,e){this._manager=n;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=n.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const n=this._fullRequestId,e=this._manager.getRequestXhr(n),i=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(r=>{const[a,...l]=r.split(": ");return[a,l.join(": ")]})),{allowRangeRequests:o,suggestedLength:s}=eT({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=tT(i),this._isRangeSupported&&this._manager.abortRequest(n),this._headersCapability.resolve()}_onDone(n){if(n&&(this._requests.length>0?this._requests.shift().resolve({value:n.chunk,done:!1}):this._cachedChunks.push(n.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(n){this._storedError=c4(n,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(n){this.onProgress?.({loaded:n.loaded,total:n.lengthComputable?n.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}read(){var n=this;return V(function*(){if(n._storedError)throw n._storedError;if(n._cachedChunks.length>0)return{value:n._cachedChunks.shift(),done:!1};if(n._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return n._requests.push(e),e.promise})()}cancel(n){this._done=!0,this._headersCapability.reject(n);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class khe{constructor(n,e,i){this._manager=n;const o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._requestId=n.requestRange(e,i,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(n){const e=n.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(n){this._storedError=c4(n,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(n){this.isStreamingSupported||this.onProgress?.({loaded:n.loaded})}get isStreamingSupported(){return!1}read(){var n=this;return V(function*(){if(n._storedError)throw n._storedError;if(null!==n._queuedChunk){const i=n._queuedChunk;return n._queuedChunk=null,{value:i,done:!1}}if(n._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return n._requests.push(e),e.promise})()}cancel(n){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const zhe=/^[a-z][a-z0-9\-+.]+:/i;function ak(t,n,e){return"http:"===t.protocol?rc.get("http").request(t,{headers:n},e):rc.get("https").request(t,{headers:n},e)}class Hhe{constructor(n){this.source=n,this.url=function Vhe(t){if(zhe.test(t))return new URL(t);const n=rc.get("url");return new URL(n.pathToFileURL(t))}(n.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.headers=JM(this.isHttp,n.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ys(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Bhe(this):new $he(this),this._fullRequestReader}getRangeReader(n,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new Uhe(this,n,e):new Ghe(this,n,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(n){this._fullRequestReader?.cancel(n);for(const e of this._rangeRequestReaders.slice(0))e.cancel(n)}}class lk{constructor(n){this._url=n.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=n.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var n=this;return V(function*(){if(yield n._readCapability.promise,n._done)return{value:void 0,done:!0};if(n._storedError)throw n._storedError;const e=n._readableStream.read();return null===e?(n._readCapability=Promise.withResolvers(),n.read()):(n._loaded+=e.length,n.onProgress?.({loaded:n._loaded,total:n._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(n){this._readableStream?this._readableStream.destroy(n):this._error(n)}_error(n){this._storedError=n,this._readCapability.resolve()}_setReadableStream(n){this._readableStream=n,n.on("readable",()=>{this._readCapability.resolve()}),n.on("end",()=>{n.destroy(),this._done=!0,this._readCapability.resolve()}),n.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new xd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ck{constructor(n){this._url=n.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!n.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var n=this;return V(function*(){if(yield n._readCapability.promise,n._done)return{value:void 0,done:!0};if(n._storedError)throw n._storedError;const e=n._readableStream.read();return null===e?(n._readCapability=Promise.withResolvers(),n.read()):(n._loaded+=e.length,n.onProgress?.({loaded:n._loaded}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(n){this._readableStream?this._readableStream.destroy(n):this._error(n)}_error(n){this._storedError=n,this._readCapability.resolve()}_setReadableStream(n){this._readableStream=n,n.on("readable",()=>{this._readCapability.resolve()}),n.on("end",()=>{n.destroy(),this._done=!0,this._readCapability.resolve()}),n.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class $he extends lk{constructor(n){super(n);const e=Object.fromEntries(n.headers);this._request=ak(this._url,e,o=>{if(404===o.statusCode){const l=new Id(`Missing PDF "${this._url}".`);return this._storedError=l,void this._headersCapability.reject(l)}this._headersCapability.resolve(),this._setReadableStream(o);const s=new Headers(this._readableStream.headers),{allowRangeRequests:r,suggestedLength:a}=eT({responseHeaders:s,isHttp:n.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=tT(s)}),this._request.on("error",o=>{this._storedError=o,this._headersCapability.reject(o)}),this._request.end()}}class Ghe extends ck{constructor(n,e,i){super(n);const o=Object.fromEntries(n.headers);o.Range=`bytes=${e}-${i-1}`,this._request=ak(this._url,o,r=>{if(404!==r.statusCode)this._setReadableStream(r);else{const a=new Id(`Missing PDF "${this._url}".`);this._storedError=a}}),this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class Bhe extends lk{constructor(n){super(n);const e=rc.get("fs");e.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},i=>{"ENOENT"===i.code&&(i=new Id(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class Uhe extends ck{constructor(n,e,i){super(n);const o=rc.get("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:i-1}))}}class zr{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#o=null;#s=null;#l=0;#c=0;#d=null;#a=null;#u=0;#r=0;#h=Object.create(null);#p=[];#_=null;#g=[];#m=new WeakMap;#f=null;static#v=new Map;static#M=new Map;static#b=new WeakMap;static#T=null;static#w=new Set;constructor({textContentSource:n,container:e,viewport:i}){if(n instanceof ReadableStream)this.#_=n;else{if("object"!=typeof n)throw new Error('No "textContentSource" parameter specified.');this.#_=new ReadableStream({start(l){l.enqueue(n),l.close()}})}this.#t=this.#a=e,this.#r=i.scale*(globalThis.devicePixelRatio||1),this.#u=i.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:o,pageHeight:s,pageX:r,pageY:a}=i.rawDims;this.#f=[1,0,0,-1,-r,a+s],this.#c=o,this.#l=s,zr.#P(),Ld(e,i),this.#e.promise.finally(()=>{zr.#w.delete(this),this.#s=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:n,isFirefox:e}=Fr.platform;return fi(this,"fontFamilyMap",new Map([["sans-serif",(n&&e?"Calibri, ":"")+"sans-serif"],["monospace",(n&&e?"Lucida Console, ":"")+"monospace"]]))}render(){const n=()=>{this.#d.read().then(({value:e,done:i})=>{i?this.#e.resolve():(this.#o??=e.lang,Object.assign(this.#h,e.styles),this.#D(e.items),n())},this.#e.reject)};return this.#d=this.#_.getReader(),zr.#w.add(this),n(),this.#e.promise}update({viewport:n,onBefore:e=null}){const i=n.scale*(globalThis.devicePixelRatio||1),o=n.rotation;if(o!==this.#u&&(e?.(),this.#u=o,Ld(this.#a,{rotation:o})),i!==this.#r){e?.(),this.#r=i;const s={div:null,properties:null,ctx:zr.#y(this.#o)};for(const r of this.#g)s.properties=this.#m.get(r),s.div=r,this.#S(s)}}cancel(){const n=new xd("TextLayer task cancelled.");this.#d?.cancel(n).catch(()=>{}),this.#d=null,this.#e.reject(n)}get textDivs(){return this.#g}get textContentItemsStr(){return this.#p}#D(n){if(this.#n)return;this.#s.ctx??=zr.#y(this.#o);const e=this.#g,i=this.#p;for(const o of n){if(e.length>1e5)return qn("Ignoring additional textDivs for performance reasons."),void(this.#n=!0);if(void 0!==o.str)i.push(o.str),this.#O(o);else if("beginMarkedContentProps"===o.type||"beginMarkedContent"===o.type){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),null!==o.id&&this.#t.setAttribute("id",`${o.id}`),s.append(this.#t)}else"endMarkedContent"===o.type&&(this.#t=this.#t.parentNode)}}#O(n){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:""!==n.str,hasEOL:n.hasEOL,fontSize:0};this.#g.push(e);const o=on.transform(this.#f,n.transform);let s=Math.atan2(o[1],o[0]);const r=this.#h[n.fontName];r.vertical&&(s+=Math.PI/2);let a=this.#i&&r.fontSubstitution||r.fontFamily;a=zr.fontFamilyMap.get(a)||a;const l=Math.hypot(o[2],o[3]),c=l*zr.#x(a,this.#o);let h,p;0===s?(h=o[4],p=o[5]-c):(h=o[4]+c*Math.sin(s),p=o[5]-c*Math.cos(s));const f="calc(var(--scale-factor)*",v=e.style;this.#t===this.#a?(v.left=`${(100*h/this.#c).toFixed(2)}%`,v.top=`${(100*p/this.#l).toFixed(2)}%`):(v.left=`${f}${h.toFixed(2)}px)`,v.top=`${f}${p.toFixed(2)}px)`),v.fontSize=`${f}${(zr.#T*l).toFixed(2)}px)`,v.fontFamily=a,i.fontSize=l,e.setAttribute("role","presentation"),e.textContent=n.str,e.dir=n.dir,this.#i&&(e.dataset.fontName=r.fontSubstitutionLoadedName||n.fontName),0!==s&&(i.angle=s*(180/Math.PI));let C=!1;if(n.str.length>1)C=!0;else if(" "!==n.str&&n.transform[0]!==n.transform[3]){const E=Math.abs(n.transform[0]),D=Math.abs(n.transform[3]);E!==D&&Math.max(E,D)/Math.min(E,D)>1.5&&(C=!0)}if(C&&(i.canvasWidth=r.vertical?n.height:n.width),this.#m.set(e,i),this.#s.div=e,this.#s.properties=i,this.#S(this.#s),i.hasText&&this.#t.append(e),i.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),this.#t.append(E)}}#S(n){const{div:e,properties:i,ctx:o}=n,{style:s}=e;let r="";if(zr.#T>1&&(r=`scale(${1/zr.#T})`),0!==i.canvasWidth&&i.hasText){const{fontFamily:a}=s,{canvasWidth:l,fontSize:c}=i;zr.#A(o,c*this.#r,a);const{width:h}=o.measureText(e.textContent);h>0&&(r=`scaleX(${l*this.#r/h}) ${r}`)}0!==i.angle&&(r=`rotate(${i.angle}deg) ${r}`),r.length>0&&(s.transform=r)}static cleanup(){if(!(this.#w.size>0)){this.#v.clear();for(const{canvas:n}of this.#M.values())n.remove();this.#M.clear()}}static#y(n=null){let e=this.#M.get(n||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=n,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#M.set(n,e),this.#b.set(e,{size:0,family:""})}return e}static#A(n,e,i){const o=this.#b.get(n);e===o.size&&i===o.family||(n.font=`${e}px ${i}`,o.size=e,o.family=i)}static#P(){if(null!==this.#T)return;const n=document.createElement("div");n.style.opacity=0,n.style.lineHeight=1,n.style.fontSize="1px",n.style.position="absolute",n.textContent="X",document.body.append(n),this.#T=n.getBoundingClientRect().height,n.remove()}static#x(n,e){const i=this.#v.get(n);if(i)return i;const o=this.#y(e);o.canvas.width=o.canvas.height=30,this.#A(o,30,n);const s=o.measureText("");let r=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(r){const h=r/(r+a);return this.#v.set(n,h),o.canvas.width=o.canvas.height=0,h}o.strokeStyle="red",o.clearRect(0,0,30,30),o.strokeText("g",0,0);let l=o.getImageData(0,0,30,30).data;a=0;for(let h=l.length-1-3;h>=0;h-=4)if(l[h]>0){a=Math.ceil(h/4/30);break}o.clearRect(0,0,30,30),o.strokeText("A",0,30),l=o.getImageData(0,0,30,30).data,r=0;for(let h=0,p=l.length;h<p;h+=4)if(l[h]>0){r=30-Math.floor(h/4/30);break}o.canvas.width=o.canvas.height=0;const c=r?r/(r+a):.8;return this.#v.set(n,c),c}}class wp{static textContent(n){const e=[],i={items:e,styles:Object.create(null)};return function o(s){if(!s)return;let r=null;const a=s.name;if("#text"===a)r=s.value;else{if(!wp.shouldBuildText(a))return;s?.attributes?.textContent?r=s.attributes.textContent:s.value&&(r=s.value)}if(null!==r&&e.push({str:r}),s.children)for(const l of s.children)o(l)}(n),i}static shouldBuildText(n){return!("textarea"===n||"input"===n||"option"===n||"select"===n)}}const jhe=65536,qhe=dr?class ahe extends VF{_createCanvas(n,e){return rc.get("canvas").createCanvas(n,e)}}:class ohe extends VF{constructor({ownerDocument:n=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=n}_createCanvas(n,e){const i=this._document.createElement("canvas");return i.width=n,i.height=e,i}},Yhe=dr?class lhe extends HF{_fetch(n){return V(function*(){return WF(n)})()}}:$F,Qhe=dr?class rhe extends GF{}:class she extends GF{#e;#t;#n;#i;#o;#s;#l=0;constructor({docId:n,ownerDocument:e=globalThis.document}){super(),this.#i=n,this.#o=e}get#c(){return this.#t||=new Map}get#d(){return this.#s||=new Map}get#a(){if(!this.#n){const n=this.#o.createElement("div"),{style:e}=n;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#o.createElementNS(el,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#o.createElementNS(el,"defs"),n.append(i),i.append(this.#n),this.#o.body.append(n)}return this.#n}#u(n){if(1===n.length){const l=n[0],c=new Array(256);for(let p=0;p<256;p++)c[p]=l[p]/255;const h=c.join(",");return[h,h,h]}const[e,i,o]=n,s=new Array(256),r=new Array(256),a=new Array(256);for(let l=0;l<256;l++)s[l]=e[l]/255,r[l]=i[l]/255,a[l]=o[l]/255;return[s.join(","),r.join(","),a.join(",")]}#r(n){if(void 0===this.#e){this.#e="";const e=this.#o.URL;e!==this.#o.baseURI&&(o4(e)?qn('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=e.split("#",1)[0])}return`url(${this.#e}#${n})`}addFilter(n){if(!n)return"none";let e=this.#c.get(n);if(e)return e;const[i,o,s]=this.#u(n),r=1===n.length?i:`${i}${o}${s}`;if(e=this.#c.get(r),e)return this.#c.set(n,e),e;const a=`g_${this.#i}_transfer_map_${this.#l++}`,l=this.#r(a);this.#c.set(n,l),this.#c.set(r,l);const c=this.#_(a);return this.#m(i,o,s,c),l}addHCMFilter(n,e){const i=`${n}-${e}`,o="base";let s=this.#d.get(o);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#d.set(o,s)),!n||!e))return s.url;const r=this.#v(n);n=on.makeHexColor(...r);const a=this.#v(e);if(e=on.makeHexColor(...a),this.#a.style.color="","#000000"===n&&"#ffffff"===e||n===e)return s.url;const l=new Array(256);for(let v=0;v<=255;v++){const C=v/255;l[v]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const c=l.join(","),h=`g_${this.#i}_hcm_filter`,p=s.filter=this.#_(h);this.#m(c,c,c,p),this.#p(p);const f=(v,C)=>{const E=r[v]/255,D=a[v]/255,P=new Array(C+1);for(let I=0;I<=C;I++)P[I]=E+I/C*(D-E);return P.join(",")};return this.#m(f(0,5),f(1,5),f(2,5),p),s.url=this.#r(h),s.url}addAlphaFilter(n){let e=this.#c.get(n);if(e)return e;const[i]=this.#u([n]),o=`alpha_${i}`;if(e=this.#c.get(o),e)return this.#c.set(n,e),e;const s=`g_${this.#i}_alpha_map_${this.#l++}`,r=this.#r(s);this.#c.set(n,r),this.#c.set(o,r);const a=this.#_(s);return this.#f(i,a),r}addLuminosityFilter(n){let i,o,e=this.#c.get(n||"luminosity");if(e)return e;if(n?([i]=this.#u([n]),o=`luminosity_${i}`):o="luminosity",e=this.#c.get(o),e)return this.#c.set(n,e),e;const s=`g_${this.#i}_luminosity_map_${this.#l++}`,r=this.#r(s);this.#c.set(n,r),this.#c.set(o,r);const a=this.#_(s);return this.#h(a),n&&this.#f(i,a),r}addHighlightHCMFilter(n,e,i,o,s){const r=`${e}-${i}-${o}-${s}`;let a=this.#d.get(n);if(a?.key===r||(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#d.set(n,a)),!e||!i))return a.url;const[l,c]=[e,i].map(this.#v.bind(this));let h=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),p=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[f,v]=[o,s].map(this.#v.bind(this));p<h&&([h,p,f,v]=[p,h,v,f]),this.#a.style.color="";const C=(P,I,k)=>{const R=new Array(256),ee=(p-h)/k,re=P/255,fe=(I-P)/(255*k);let pe=0;for(let ue=0;ue<=k;ue++){const me=Math.round(h+ue*ee),Fe=re+ue*fe;for(let bt=pe;bt<=me;bt++)R[bt]=Fe;pe=me+1}for(let ue=pe;ue<256;ue++)R[ue]=R[pe-1];return R.join(",")},E=`g_${this.#i}_hcm_${n}_filter`,D=a.filter=this.#_(E);return this.#p(D),this.#m(C(f[0],v[0],5),C(f[1],v[1],5),C(f[2],v[2],5),D),a.url=this.#r(E),a.url}destroy(n=!1){n&&0!==this.#d.size||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#t&&(this.#t.clear(),this.#t=null),this.#l=0)}#h(n){const e=this.#o.createElementNS(el,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(e)}#p(n){const e=this.#o.createElementNS(el,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(e)}#_(n){const e=this.#o.createElementNS(el,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",n),this.#a.append(e),e}#g(n,e,i){const o=this.#o.createElementNS(el,e);o.setAttribute("type","discrete"),o.setAttribute("tableValues",i),n.append(o)}#m(n,e,i,o){const s=this.#o.createElementNS(el,"feComponentTransfer");o.append(s),this.#g(s,"feFuncR",n),this.#g(s,"feFuncG",e),this.#g(s,"feFuncB",i)}#f(n,e){const i=this.#o.createElementNS(el,"feComponentTransfer");e.append(i),this.#g(i,"feFuncA",n)}#v(n){return this.#a.style.color=n,$M(getComputedStyle(this.#a).getPropertyValue("color"))}},Jhe=dr?class che extends BF{_fetch(n){return V(function*(){return WF(n)})()}}:UF;function e_e(t={}){"string"==typeof t||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const n=new oT,{docId:e}=n,i=t.url?function t_e(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(dr&&"string"==typeof t)return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(t.url):null,o=t.data?function n_e(t){if(dr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"==typeof t)return q2(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"==typeof t&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(t.data):null,s=t.httpHeaders||null,r=!0===t.withCredentials,a=t.password??null,l=t.range instanceof uk?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:jhe;let h=t.worker instanceof Hs?t.worker:null;const p=t.verbosity,f="string"!=typeof t.docBaseUrl||o4(t.docBaseUrl)?null:t.docBaseUrl,v="string"==typeof t.cMapUrl?t.cMapUrl:null,C=!1!==t.cMapPacked,E=t.CMapReaderFactory||Yhe,D="string"==typeof t.standardFontDataUrl?t.standardFontDataUrl:null,P=t.StandardFontDataFactory||Jhe,I=!0!==t.stopAtErrors,k=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,R=!1!==t.isEvalSupported,ee="boolean"==typeof t.isOffscreenCanvasSupported?t.isOffscreenCanvasSupported:!dr,re="boolean"==typeof t.isChrome?t.isChrome:!Fr.platform.isFirefox&&typeof window<"u"&&!!window?.chrome,fe=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,pe="boolean"==typeof t.disableFontFace?t.disableFontFace:dr,ue=!0===t.fontExtraProperties,me=!0===t.enableXfa,Fe=t.ownerDocument||globalThis.document,bt=!0===t.disableRange,nt=!0===t.disableStream,Dt=!0===t.disableAutoFetch,Bt=!0===t.pdfBug,Zt=t.CanvasFactory||qhe,Ge=t.FilterFactory||Qhe,Ft=!0===t.enableHWA,It=l?l.length:t.length??NaN,yi="boolean"==typeof t.useSystemFonts?t.useSystemFonts:!dr&&!pe,ci="boolean"==typeof t.useWorkerFetch?t.useWorkerFetch:E===$F&&P===UF&&v&&D&&gp(v,document.baseURI)&&gp(D,document.baseURI);t.canvasFactory&&xF("`canvasFactory`-instance option, please use `CanvasFactory` instead."),t.filterFactory&&xF("`filterFactory`-instance option, please use `FilterFactory` instead."),function Lue(t){Number.isInteger(t)&&(J6=t)}(p);const kn={canvasFactory:new Zt({ownerDocument:Fe,enableHWA:Ft}),filterFactory:new Ge({docId:e,ownerDocument:Fe}),cMapReaderFactory:ci?null:new E({baseUrl:v,isCompressed:C}),standardFontDataFactory:ci?null:new P({baseUrl:D})};if(!h){const yt={verbosity:p,port:Mp.workerPort};h=yt.port?Hs.fromPort(yt):new Hs(yt),n._worker=h}const zi={docId:e,apiVersion:"4.8.69",data:o,password:a,disableAutoFetch:Dt,rangeChunkSize:c,length:It,docBaseUrl:f,enableXfa:me,evaluatorOptions:{maxImageSize:k,disableFontFace:pe,ignoreErrors:I,isEvalSupported:R,isOffscreenCanvasSupported:ee,isChrome:re,canvasMaxAreaInBytes:fe,fontExtraProperties:ue,useSystemFonts:yi,cMapUrl:ci?v:null,standardFontDataUrl:ci?D:null}},Ni={disableFontFace:pe,fontExtraProperties:ue,ownerDocument:Fe,pdfBug:Bt,styleElement:null,loadingParams:{disableAutoFetch:Dt,enableXfa:me}};return h.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const yt=h.messageHandler.sendWithPromise("GetDocRequest",zi,o?[o.buffer]:null);let Ln;if(l)Ln=new Ohe(l,{disableRange:bt,disableStream:nt});else if(!o){if(!i)throw new Error("getDocument - no `url` parameter provided.");let Di;Di=dr?typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&gp(i)?rk:Hhe:gp(i)?rk:Rhe,Ln=new Di({url:i,length:It,httpHeaders:s,withCredentials:r,rangeChunkSize:c,disableRange:bt,disableStream:nt})}return yt.then(Di=>{if(n.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Fo=new Tp(e,Di,h.port),Ps=new r_e(Fo,n,Ln,Ni,kn);n._transport=Ps,Fo.send("Ready",null)})}).catch(n._capability.reject),n}function dk(t){return"object"==typeof t&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0}class oT{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+oT.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){var n=this;return V(function*(){n.destroyed=!0;try{n._worker?.port&&(n._worker._pendingDestroy=!0),yield n._transport?.destroy()}catch(e){throw n._worker?.port&&delete n._worker._pendingDestroy,e}n._transport=null,n._worker&&(n._worker.destroy(),n._worker=null)})()}}class uk{constructor(n,e,i=!1,o=null){this.length=n,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(n){this._rangeListeners.push(n)}addProgressListener(n){this._progressListeners.push(n)}addProgressiveReadListener(n){this._progressiveReadListeners.push(n)}addProgressiveDoneListener(n){this._progressiveDoneListeners.push(n)}onDataRange(n,e){for(const i of this._rangeListeners)i(n,e)}onDataProgress(n,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(n,e)})}onDataProgressiveRead(n){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(n)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const n of this._progressiveDoneListeners)n()})}transportReady(){this._readyCapability.resolve()}requestDataRange(n,e){uo("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class i_e{constructor(n,e){this._pdfInfo=n,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return fi(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(n){return this._transport.getPage(n)}getPageIndex(n){return this._transport.getPageIndex(n)}getDestinations(){return this._transport.getDestinations()}getDestination(n){return this._transport.getDestination(n)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:n="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(n);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(n=!1){return this._transport.startCleanup(n||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(n){return this._transport.cachedPageNumber(n)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class o_e{#e=null;#t=!1;constructor(n,e,i,o=!1){this._pageIndex=n,this._pageInfo=e,this._transport=i,this._stats=o?new IF:null,this._pdfBug=o,this.commonObjs=i.commonObjs,this.objs=new hk,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:n,rotation:e=this.rotate,offsetX:i=0,offsetY:o=0,dontFlip:s=!1}={}){return new pp({viewBox:this.view,scale:n,rotation:e,offsetX:i,offsetY:o,dontFlip:s})}getAnnotations({intent:n="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(n);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return fi(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var n=this;return V(function*(){return n._transport._htmlForXfa?.children[n._pageIndex]||null})()}render({canvasContext:n,viewport:e,intent:i="display",annotationMode:o=oc.ENABLE,transform:s=null,background:r=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null,isEditing:p=!1}){this._stats?.time("Overall");const f=this._transport.getRenderingIntent(i,o,h,p),{renderingIntent:v,cacheKey:C}=f;this.#t=!1,this.#i(),a||=this._transport.getOptionalContentConfig(v);let E=this._intentStates.get(C);E||(E=Object.create(null),this._intentStates.set(C,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const D=!!(4&v);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(f));const P=R=>{E.renderTasks.delete(I),(this._maybeCleanupAfterRender||D)&&(this.#t=!0),this.#n(!D),R?(I.capability.reject(R),this._abortOperatorList({intentState:E,reason:R instanceof Error?R:new Error(R)})):I.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},I=new eu({callback:P,params:{canvasContext:n,viewport:e,transform:s,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:c});(E.renderTasks||=new Set).add(I);const k=I.task;return Promise.all([E.displayReadyCapability.promise,a]).then(([R,ee])=>{if(this.destroyed)P();else{if(this._stats?.time("Rendering"),!(ee.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");I.initializeGraphics({transparency:R,optionalContentConfig:ee}),I.operatorListChanged()}}).catch(P),k}getOperatorList({intent:n="display",annotationMode:e=oc.ENABLE,printAnnotationStorage:i=null,isEditing:o=!1}={}){const r=this._transport.getRenderingIntent(n,e,i,o,!0);let l,a=this._intentStates.get(r.cacheKey);return a||(a=Object.create(null),this._intentStates.set(r.cacheKey,a)),a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))},a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:n=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===n,disableNormalization:!0===e},{highWaterMark:100,size:o=>o.items.length})}getTextContent(n={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>wp.textContent(i));const e=this.streamTextContent(n);return new Promise(function(i,o){const r=e.getReader(),a={items:[],styles:Object.create(null),lang:null};!function s(){r.read().then(function({value:l,done:c}){c?i(a):(a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),s())},o)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const n=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)n.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(n)}cleanup(n=!1){this.#t=!0;const e=this.#n(!1);return n&&e&&(this._stats&&=new IF),e}#n(n=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(n)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},5e3),!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(n,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(n))}_renderPageChunk(n,e){for(let i=0,o=n.length;i<o;i++)e.operatorList.fnArray.push(n.fnArray[i]),e.operatorList.argsArray.push(n.argsArray[i]);e.operatorList.lastChunk=n.lastChunk,e.operatorList.separateAnnots=n.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();n.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:n,cacheKey:e,annotationStorageSerializable:i,modifiedIds:o}){const{map:s,transfer:r}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:e,annotationStorage:s,modifiedIds:o},r).getReader(),c=this._intentStates.get(e);c.streamReader=l;const h=()=>{l.read().then(({value:p,done:f})=>{f?c.streamReader=null:this._transport.destroyed||(this._renderPageChunk(p,c),h())},p=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();this.#n(!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(p);else{if(!c.opListReadCapability)throw p;c.opListReadCapability.reject(p)}}})};h()}_abortOperatorList({intentState:n,reason:e,force:i=!1}){if(n.streamReader){if(n.streamReaderCancelTimeout&&(clearTimeout(n.streamReaderCancelTimeout),n.streamReaderCancelTimeout=null),!i){if(n.renderTasks.size>0)return;if(e instanceof VM){let o=100;return e.extraDelay>0&&e.extraDelay<1e3&&(o+=e.extraDelay),void(n.streamReaderCancelTimeout=setTimeout(()=>{n.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:n,reason:e,force:!0})},o))}}if(n.streamReader.cancel(new xd(e.message)).catch(()=>{}),n.streamReader=null,!this._transport.destroyed){for(const[o,s]of this._intentStates)if(s===n){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}class s_e{#e=new Map;#t=Promise.resolve();postMessage(n,e){const i={data:structuredClone(n,e?{transfer:e}:null)};this.#t.then(()=>{for(const[o]of this.#e)o.call(this,i)})}addEventListener(n,e,i=null){let o=null;if(i?.signal instanceof AbortSignal){const{signal:s}=i;if(s.aborted)return void qn("LoopbackPort - cannot use an `aborted` signal.");const r=()=>this.removeEventListener(n,e);o=()=>s.removeEventListener("abort",r),s.addEventListener("abort",r)}this.#e.set(e,o)}removeEventListener(n,e){this.#e.get(e)?.(),this.#e.delete(e)}terminate(){for(const[,n]of this.#e)n?.();this.#e.clear()}}class Hs{static#e=0;static#t=!1;static#n;static{dr&&(this.#t=!0,Mp.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(n,e)=>{let i;try{if(i=new URL(n),!i.origin||"null"===i.origin)return!1}catch{return!1}const o=new URL(e,i);return i.origin===o.origin},this._createCDNWrapper=n=>URL.createObjectURL(new Blob([`await import("${n}");`],{type:"text/javascript"}))}constructor({name:n=null,port:e=null,verbosity:i=Rue()}={}){if(this.name=n,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if(Hs.#n?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");return(Hs.#n||=new WeakMap).set(e,this),void this._initializeFromPort(e)}this._initialize()}get promise(){return dr?Promise.all([rc.promise,this._readyCapability.promise]):this._readyCapability.promise}#i(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(n){this._port=n,this._messageHandler=new Tp("main","worker",n),this._messageHandler.on("ready",function(){}),this.#i()}_initialize(){if(Hs.#t||Hs.#o)return void this._setupFakeWorker();let{workerSrc:n}=Hs;try{Hs._isSameOrigin(window.location.href,n)||(n=Hs._createCDNWrapper(new URL(n,window.location).href));const e=new Worker(n,{type:"module"}),i=new Tp("main","worker",e),o=()=>{s.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;e.addEventListener("error",()=>{this._webWorker||o()},{signal:s.signal}),i.on("test",a=>{s.abort(),!this.destroyed&&a?(this._messageHandler=i,this._port=e,this._webWorker=e,this.#i()):o()}),i.on("ready",a=>{if(s.abort(),this.destroyed)o();else try{r()}catch{this._setupFakeWorker()}});const r=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};return void r()}catch{e4("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Hs.#t||(qn("Setting up fake worker."),Hs.#t=!0),Hs._setupFakeWorkerGlobal.then(n=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new s_e;this._port=e;const i="fake"+Hs.#e++,o=new Tp(i+"_worker",i,e);n.setup(o,e),this._messageHandler=new Tp(i,i+"_worker",e),this.#i()}).catch(n=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${n.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Hs.#n?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(n){if(!n?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const e=this.#n?.get(n.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Hs(n)}static get workerSrc(){if(Mp.workerSrc)return Mp.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#o(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var n=this;return fi(this,"_setupFakeWorkerGlobal",function(){var i=V(function*(){return n.#o?n.#o:(yield import(n.workerSrc)).WorkerMessageHandler});return function(){return i.apply(this,arguments)}}()())}}class r_e{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#o=null;constructor(n,e,i,o,s){this.messageHandler=n,this.loadingTask=e,this.commonObjs=new hk,this.fontLoader=new nhe({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(n,e=null){const i=this.#e.get(n);if(i)return i;const o=this.messageHandler.sendWithPromise(n,e);return this.#e.set(n,o),o}get annotationStorage(){return fi(this,"annotationStorage",new ZM)}getRenderingIntent(n,e=oc.ENABLE,i=null,o=!1,s=!1){let r=2,a=WM;switch(n){case"any":r=1;break;case"display":break;case"print":r=4;break;default:qn(`getRenderingIntent - invalid intent: ${n}`)}const l=4&r&&i instanceof zF?i:this.annotationStorage;switch(e){case oc.DISABLE:r+=64;break;case oc.ENABLE:break;case oc.ENABLE_FORMS:r+=16;break;case oc.ENABLE_STORAGE:r+=32,a=l.serializable;break;default:qn(`getRenderingIntent - invalid annotationMode: ${e}`)}o&&(r+=128),s&&(r+=256);const{ids:c,hash:h}=l.modifiedIds;return{renderingIntent:r,cacheKey:[r,a.hash,h].join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#o?.reject(new Error("Worker was destroyed during onPassword callback"));const n=[];for(const i of this.#t.values())n.push(i._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return n.push(e),Promise.all(n).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),zr.cleanup(),this._networkStream?.cancelAllRequests(new xd("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){var n=this;const{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(o,s)=>{ys(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){a?s.close():(ys(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r]))}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",function(){var o=V(function*(s){yield n._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:a,contentLength:l}=n._fullReader;return(!r||!a)&&(n._lastProgress&&i.onProgress?.(n._lastProgress),n._fullReader.onProgress=c=>{i.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:a,contentLength:l}});return function(s){return o.apply(this,arguments)}}()),e.on("GetRangeReader",(o,s)=>{ys(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(o.begin,o.end);r?(s.onPull=()=>{r.read().then(function({value:a,done:l}){l?s.close():(ys(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a]))}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}):s.close()}),e.on("GetDoc",({pdfInfo:o})=>{this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,i._capability.resolve(new i_e(o,this))}),e.on("DocException",function(o){let s;switch(o.name){case"PasswordException":s=new xM(o.message,o.code);break;case"InvalidPDFException":s=new NF(o.message);break;case"MissingPDFException":s=new Id(o.message);break;case"UnexpectedResponseException":s=new t4(o.message,o.status);break;case"UnknownErrorException":s=new LM(o.message,o.details);break;default:uo("DocException - expected a valid Error.")}i._capability.reject(s)}),e.on("PasswordRequest",o=>{if(this.#o=Promise.withResolvers(),i.onPassword){const s=r=>{r instanceof Error?this.#o.reject(r):this.#o.resolve({password:r})};try{i.onPassword(s,o.code)}catch(r){this.#o.reject(r)}}else this.#o.reject(new xM(o.message,o.code));return this.#o.promise}),e.on("DataLoaded",o=>{i.onProgress?.({loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),e.on("StartRenderPage",o=>{this.destroyed||this.#t.get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),e.on("commonobj",([o,s,r])=>{if(this.destroyed||this.commonObjs.has(o))return null;switch(s){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in r){const v=r.error;qn(`Error during font loading: ${v}`),this.commonObjs.resolve(o,v);break}const h=c&&globalThis.FontInspector?.enabled?(v,C)=>globalThis.FontInspector.fontAdded(v,C):null,p=new ihe(r,{disableFontFace:a,inspectFont:h});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:o})).finally(()=>{!l&&p.data&&(p.data=null),this.commonObjs.resolve(o,p)});break;case"CopyLocalImage":const{imageRef:f}=r;ys(f,"The imageRef must be defined.");for(const v of this.#t.values())for(const[,C]of v.objs)if(C?.ref===f)return C.dataLen?(this.commonObjs.resolve(o,structuredClone(C)),C.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(o,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([o,s,r,a])=>{if(this.destroyed)return;const l=this.#t.get(s);if(!l.objs.has(o)){if(0===l._intentStates.size)return void a?.bitmap?.close();switch(r){case"Image":l.objs.resolve(o,a),a?.dataLen>1e7&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(o,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",o=>{this.destroyed||i.onProgress?.({loaded:o.loaded,total:o.total})}),e.on("FetchBuiltInCMap",function(){var o=V(function*(s){if(n.destroyed)throw new Error("Worker was destroyed.");if(!n.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return n.cMapReaderFactory.fetch(s)});return function(s){return o.apply(this,arguments)}}()),e.on("FetchStandardFontData",function(){var o=V(function*(s){if(n.destroyed)throw new Error("Worker was destroyed.");if(!n.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return n.standardFontDataFactory.fetch(s)});return function(s){return o.apply(this,arguments)}}())}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&qn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(n){if(!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=n-1,i=this.#n.get(e);if(i)return i;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#i.set(s.refStr,n);const r=new o_e(e,s,this,this._params.pdfBug);return this.#t.set(e,r),r});return this.#n.set(e,o),o}getPageIndex(n){return dk(n)?this.messageHandler.sendWithPromise("GetPageIndex",{num:n.num,gen:n.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(n,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:n,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(n){return"string"!=typeof n?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:n})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(n){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:n})}getStructTree(n){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:n})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(n){return this.#s("GetOptionalContentConfig").then(e=>new Ahe(e,n))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const n="GetMetadata",e=this.#e.get(n);if(e)return e;const i=this.messageHandler.sendWithPromise(n,null).then(o=>({info:o[0],metadata:o[1]?new She(o[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(n,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(n=!1){var e=this;return V(function*(){if(!e.destroyed){yield e.messageHandler.sendWithPromise("Cleanup",null);for(const i of e.#t.values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);e.commonObjs.clear(),n||e.fontLoader.clear(),e.#e.clear(),e.filterFactory.destroy(!0),zr.cleanup()}})()}cachedPageNumber(n){return dk(n)?this.#i.get(0===n.gen?`${n.num}R`:`${n.num}R${n.gen}`)??null:null}}const d4=Symbol("INITIAL_DATA");class hk{#e=Object.create(null);#t(n){return this.#e[n]||={...Promise.withResolvers(),data:d4}}get(n,e=null){if(e){const o=this.#t(n);return o.promise.then(()=>e(o.data)),null}const i=this.#e[n];if(!i||i.data===d4)throw new Error(`Requesting object that isn't resolved yet ${n}.`);return i.data}has(n){const e=this.#e[n];return!!e&&e.data!==d4}resolve(n,e=null){const i=this.#t(n);i.data=e,i.resolve()}clear(){for(const n in this.#e){const{data:e}=this.#e[n];e?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const n in this.#e){const{data:e}=this.#e[n];e!==d4&&(yield[n,e])}}}class a_e{#e=null;constructor(n){this.#e=n,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(n=0){this.#e.cancel(null,n)}get separateAnnots(){const{separateAnnots:n}=this.#e.operatorList;if(!n)return!1;const{annotationCanvasMap:e}=this.#e;return n.form||n.canvas&&e?.size>0}}class eu{#e=null;static#t=new WeakSet;constructor({callback:n,params:e,objs:i,commonObjs:o,annotationCanvasMap:s,operatorList:r,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:f=null}){this.callback=n,this.params=e,this.objs=i,this.commonObjs=o,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=p,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new a_e(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:n=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(eu.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");eu.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:o,transform:s,background:r}=this.params;this.gfx=new Q2(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:o,transparency:n,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(n=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),eu.#t.delete(this._canvas),this.callback(n||new VM(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var n=this;return V(function*(){n.cancelled||(n.operatorListIdx=n.gfx.executeOperatorList(n.operatorList,n.operatorListIdx,n._continueBound,n.stepper),n.operatorListIdx===n.operatorList.argsArray.length&&(n.running=!1,n.operatorList.lastChunk&&(n.gfx.endDrawing(),eu.#t.delete(n._canvas),n.callback())))})()}}const l_e="4.8.69",c_e="3634dab10";function _k(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function bp(t){return Math.max(0,Math.min(255,255*t))}class pk{static CMYK_G([n,e,i,o]){return["G",1-Math.min(1,.3*n+.59*i+.11*e+o)]}static G_CMYK([n]){return["CMYK",0,0,0,1-n]}static G_RGB([n]){return["RGB",n,n,n]}static G_rgb([n]){return[n=bp(n),n,n]}static G_HTML([n]){const e=_k(n);return`#${e}${e}${e}`}static RGB_G([n,e,i]){return["G",.3*n+.59*e+.11*i]}static RGB_rgb(n){return n.map(bp)}static RGB_HTML(n){return`#${n.map(_k).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([n,e,i,o]){return["RGB",1-Math.min(1,n+o),1-Math.min(1,i+o),1-Math.min(1,e+o)]}static CMYK_rgb([n,e,i,o]){return[bp(1-Math.min(1,n+o)),bp(1-Math.min(1,i+o)),bp(1-Math.min(1,e+o))]}static CMYK_HTML(n){const e=this.CMYK_RGB(n).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([n,e,i]){const o=1-n,s=1-e,r=1-i;return["CMYK",o,s,r,Math.min(o,s,r)]}}class d_e{create(n,e,i=!1){if(n<=0||e<=0)throw new Error("Invalid SVG dimensions");const o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),i||(o.setAttribute("width",`${n}px`),o.setAttribute("height",`${e}px`)),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${n} ${e}`),o}createElement(n){if("string"!=typeof n)throw new Error("Invalid SVG element type");return this._createSVG(n)}_createSVG(n){uo("Abstract method `_createSVG` called.")}}class sT extends d_e{_createSVG(n){return document.createElementNS(el,n)}}class gk{static setupStorage(n,e,i,o,s){const r=o.getValue(e,{value:null});switch(i.name){case"textarea":if(null!==r.value&&(n.textContent=r.value),"print"===s)break;n.addEventListener("input",a=>{o.setValue(e,{value:a.target.value})});break;case"input":if("radio"===i.attributes.type||"checkbox"===i.attributes.type){if(r.value===i.attributes.xfaOn?n.setAttribute("checked",!0):r.value===i.attributes.xfaOff&&n.removeAttribute("checked"),"print"===s)break;n.addEventListener("change",a=>{o.setValue(e,{value:a.target.getAttribute(a.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==r.value&&n.setAttribute("value",r.value),"print"===s)break;n.addEventListener("input",a=>{o.setValue(e,{value:a.target.value})})}break;case"select":if(null!==r.value){n.setAttribute("value",r.value);for(const a of i.children)a.attributes.value===r.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}n.addEventListener("input",a=>{const l=a.target.options;o.setValue(e,{value:-1===l.selectedIndex?"":l[l.selectedIndex].value})})}}static setAttributes({html:n,element:e,storage:i=null,intent:o,linkService:s}){const{attributes:r}=e,a=n instanceof HTMLAnchorElement;"radio"===r.type&&(r.name=`${r.name}-${o}`);for(const[l,c]of Object.entries(r))if(null!=c)switch(l){case"class":c.length&&n.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":n.setAttribute("data-element-id",c);break;case"style":Object.assign(n.style,c);break;case"textContent":n.textContent=c;break;default:(!a||"href"!==l&&"newWindow"!==l)&&n.setAttribute(l,c)}a&&s.addLinkAttributes(n,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(n,r.dataId,e,i)}static render(n){const e=n.annotationStorage,i=n.linkService,o=n.xfaHtml,s=n.intent||"display",r=document.createElement(o.name);o.attributes&&this.setAttributes({html:r,element:o,intent:s,linkService:i});const a="richText"!==s,l=n.div;if(l.append(r),n.viewport){const p=`matrix(${n.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(0===o.children.length){if(o.value){const p=document.createTextNode(o.value);r.append(p),a&&wp.shouldBuildText(o.name)&&c.push(p)}return{textDivs:c}}const h=[[o,-1,r]];for(;h.length>0;){const[p,f,v]=h.at(-1);if(f+1===p.children.length){h.pop();continue}const C=p.children[++h.at(-1)[1]];if(null===C)continue;const{name:E}=C;if("#text"===E){const P=document.createTextNode(C.value);c.push(P),v.append(P);continue}const D=C?.attributes?.xmlns?document.createElementNS(C.attributes.xmlns,E):document.createElement(E);if(v.append(D),C.attributes&&this.setAttributes({html:D,element:C,storage:e,intent:s,linkService:i}),C.children?.length>0)h.push([C,-1,D]);else if(C.value){const P=document.createTextNode(C.value);a&&wp.shouldBuildText(E)&&c.push(P),D.append(P)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(n){const e=`matrix(${n.viewport.transform.join(",")})`;n.div.style.transform=e,n.div.hidden=!1}}const Sp=1e3,Rd=new WeakSet;function nl(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class h_e{static create(n){switch(n.data.annotationType){case 2:return new fk(n);case 1:return new __e(n);case 20:switch(n.data.fieldType){case"Tx":return new p_e(n);case"Btn":return n.data.radioButton?new mk(n):n.data.checkBox?new f_e(n):new m_e(n);case"Ch":return new v_e(n);case"Sig":return new g_e(n)}return new Fd(n);case 16:return new rT(n);case 3:return new vk(n);case 4:return new M_e(n);case 5:return new T_e(n);case 6:return new w_e(n);case 8:return new Ck(n);case 14:return new S_e(n);case 15:return new aT(n);case 7:return new b_e(n);case 9:return new Mk(n);case 10:return new E_e(n);case 11:return new A_e(n);case 12:return new O_e(n);case 13:return new Tk(n);case 17:return new y_e(n);default:return new es(n)}}}class es{#e=null;#t=!1;#n=null;constructor(n,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:o=!1}={}){this.isRenderable=e,this.data=n.data,this.layer=n.layer,this.linkService=n.linkService,this.downloadManager=n.downloadManager,this.imageResourcesPath=n.imageResourcesPath,this.renderForms=n.renderForms,this.svgFactory=n.svgFactory,this.annotationStorage=n.annotationStorage,this.enableScripting=n.enableScripting,this.hasJSActions=n.hasJSActions,this._fieldObjects=n.fieldObjects,this.parent=n.parent,e&&(this.container=this._createContainer(i)),o&&this._createQuadrilaterals()}static _hasPopupData({titleObj:n,contentsObj:e,richText:i}){return!!(n?.str||e?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return es._hasPopupData(this.data)}updateEdited(n){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:e}=n;e&&this.#i(e),this.#n?.popup.updateEdited(n)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(n){const{container:{style:e},data:{rect:i,rotation:o},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:a,pageY:l}}}}=this;i?.splice(0,4,...n);const{width:c,height:h}=nl(n);e.left=100*(n[0]-a)/s+"%",e.top=100*(r-n[3]+l)/r+"%",0===o?(e.width=100*c/s+"%",e.height=100*h/r+"%"):this.setRotation(o)}_createContainer(n){const{data:e,parent:{page:i,viewport:o}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof Fd||(s.tabIndex=Sp);const{style:r}=s;if(r.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof rT){const{rotation:E}=e;return!e.hasOwnCanvas&&0!==E&&this.setRotation(E,s),s}const{width:a,height:l}=nl(e.rect);if(!n&&e.borderStyle.width>0){r.borderWidth=`${e.borderStyle.width}px`;const E=e.borderStyle.horizontalCornerRadius,D=e.borderStyle.verticalCornerRadius;switch(E>0||D>0?r.borderRadius=`calc(${E}px * var(--scale-factor)) / calc(${D}px * var(--scale-factor))`:this instanceof mk&&(r.borderRadius=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`),e.borderStyle.style){case 1:r.borderStyle="solid";break;case 2:r.borderStyle="dashed";break;case 3:qn("Unimplemented border style: beveled");break;case 4:qn("Unimplemented border style: inset");break;case 5:r.borderBottomStyle="solid"}const P=e.borderColor||null;P?(this.#t=!0,r.borderColor=on.makeHexColor(0|P[0],0|P[1],0|P[2])):r.borderWidth=0}const c=on.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:p,pageX:f,pageY:v}=o.rawDims;r.left=100*(c[0]-f)/h+"%",r.top=100*(c[1]-v)/p+"%";const{rotation:C}=e;return e.hasOwnCanvas||0===C?(r.width=100*a/h+"%",r.height=100*l/p+"%"):this.setRotation(C,s),s}setRotation(n,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:o}=this.parent.viewport.rawDims,{width:s,height:r}=nl(this.data.rect);let a,l;n%180==0?(a=100*s/i,l=100*r/o):(a=100*r/i,l=100*s/o),e.style.width=`${a}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-n)%360)}get _commonActions(){const n=(e,i,o)=>{const s=o.detail[e],r=s[0],a=s.slice(1);o.target.style[i]=pk[`${r}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:pk[`${r}_rgb`](a)})};return fi(this,"_commonActions",{display:e=>{const{display:i}=e.detail,o=i%2==1;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:o,noPrint:1===i||2===i})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{n("bgColor","backgroundColor",e)},fillColor:e=>{n("fillColor","backgroundColor",e)},fgColor:e=>{n("fgColor","color",e)},textColor:e=>{n("textColor","color",e)},borderColor:e=>{n("borderColor","borderColor",e)},strokeColor:e=>{n("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(n,e){const i=this._commonActions;for(const o of Object.keys(e.detail))(n[o]||i[o])?.(e)}_setDefaultPropertiesFromJS(n){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[o,s]of Object.entries(e)){const r=i[o];r&&(r({detail:{[o]:s},target:n}),delete e[o])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:n}=this.data;if(!n)return;const[e,i,o,s]=this.data.rect.map(E=>Math.fround(E));if(8===n.length){const[E,D,P,I]=n.subarray(2,6);if(o===E&&s===D&&e===P&&i===I)return}const{style:r}=this.container;let a;if(this.#t){const{borderColor:E,borderWidth:D}=r;r.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${D}">`],this.container.classList.add("hasBorder")}const l=o-e,c=s-i,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const f=h.createElement("defs");p.append(f);const v=h.createElement("clipPath"),C=`clippath_${this.data.id}`;v.setAttribute("id",C),v.setAttribute("clipPathUnits","objectBoundingBox"),f.append(v);for(let E=2,D=n.length;E<D;E+=8){const P=n[E],I=n[E+1],k=n[E+2],R=n[E+3],ee=h.createElement("rect"),re=(k-e)/l,fe=(s-I)/c,pe=(P-k)/l,ue=(I-R)/c;ee.setAttribute("x",re),ee.setAttribute("y",fe),ee.setAttribute("width",pe),ee.setAttribute("height",ue),v.append(ee),a?.push(`<rect vector-effect="non-scaling-stroke" x="${re}" y="${fe}" width="${pe}" height="${ue}"/>`)}this.#t&&(a.push("</g></svg>')"),r.backgroundImage=a.join("")),this.container.append(p),this.container.style.clipPath=`url(#${C})`}_createPopup(){const{data:n}=this,e=this.#n=new rT({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){uo("Abstract method `AnnotationElement.render` called")}_getElementsByName(n,e=null){const i=[];if(this._fieldObjects){const o=this._fieldObjects[n];if(o)for(const{page:s,id:r,exportValues:a}of o){if(-1===s||r===e)continue;const l="string"==typeof a?a:null,c=document.querySelector(`[data-element-id="${r}"]`);!c||Rd.has(c)?i.push({id:r,exportValue:l,domElement:c}):qn(`_getElementsByName - element not allowed: ${r}`)}return i}for(const o of document.getElementsByName(n)){const{exportValue:s}=o,r=o.getAttribute("data-element-id");r!==e&&Rd.has(o)&&i.push({id:r,exportValue:s,domElement:o})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const n=this.getElementsToTriggerPopup();if(Array.isArray(n))for(const e of n)e.classList.add("highlightArea");else n.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:n,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:n,editId:e})})}}class fk extends es{constructor(n,e=null){super(n,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let o=!1;return n.url?(e.addLinkAttributes(i,n.url,n.newWindow),o=!0):n.action?(this._bindNamedAction(i,n.action),o=!0):n.attachment?(this.#t(i,n.attachment,n.attachmentDest),o=!0):n.setOCGState?(this.#n(i,n.setOCGState),o=!0):n.dest?(this._bindLink(i,n.dest),o=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),o=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(i,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(n,e){n.href=this.linkService.getDestinationHash(e),n.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&this.#e()}_bindNamedAction(n,e){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#e()}#t(n,e,i=null){n.href=this.linkService.getAnchorUrl(""),e.description&&(n.title=e.description),n.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,i),!1),this.#e()}#n(n,e){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#e()}_bindJSAction(n,e){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(e.actions)){const s=i.get(o);s&&(n[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:o}}),!1))}n.onclick||(n.onclick=()=>!1),this.#e()}_bindResetFormAction(n,e){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects)return qn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(i||(n.onclick=()=>!1));n.onclick=()=>{i?.();const{fields:o,refs:s,include:r}=e,a=[];if(0!==o.length||0!==s.length){const h=new Set(s);for(const p of o){const f=this._fieldObjects[p]||[];for(const{id:v}of f)h.add(v)}for(const p of Object.values(this._fieldObjects))for(const f of p)h.has(f.id)===r&&a.push(f)}else for(const h of Object.values(this._fieldObjects))a.push(...h);const l=this.annotationStorage,c=[];for(const h of a){const{id:p}=h;switch(c.push(p),h.type){case"text":case"combobox":case"listbox":l.setValue(p,{value:h.defaultValue||""});break;case"checkbox":case"radiobutton":l.setValue(p,{value:h.defaultValue===h.exportValues});break;default:continue}const f=document.querySelector(`[data-element-id="${p}"]`);f&&(Rd.has(f)?f.dispatchEvent(new Event("resetform")):qn(`_bindResetFormAction - element not allowed: ${p}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class __e extends es{constructor(n){super(n,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const n=document.createElement("img");return n.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",n.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),n.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(n),this.container}}class Fd extends es{render(){return this.container}showElementAndHideCanvas(n){this.data.hasOwnCanvas&&("CANVAS"===n.previousSibling?.nodeName&&(n.previousSibling.hidden=!0),n.hidden=!1)}_getKeyModifier(n){return Fr.platform.isMac?n.metaKey:n.ctrlKey}_setEventListener(n,e,i,o,s){i.includes("mouse")?n.addEventListener(i,r=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:s(r),shift:r.shiftKey,modifier:this._getKeyModifier(r)}})}):n.addEventListener(i,r=>{if("blur"===i){if(!e.focused||!r.relatedTarget)return;e.focused=!1}else if("focus"===i){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:s(r)}})})}_setEventListeners(n,e,i,o){for(const[s,r]of i)("Action"===r||this.data.actions?.[r])&&(("Focus"===r||"Blur"===r)&&(e||={focused:!1}),this._setEventListener(n,e,s,r,o),"Focus"!==r||this.data.actions?.Blur?"Blur"===r&&!this.data.actions?.Focus&&this._setEventListener(n,e,"focus","Focus",null):this._setEventListener(n,e,"blur","Blur",null))}_setBackgroundColor(n){const e=this.data.backgroundColor||null;n.style.backgroundColor=null===e?"transparent":on.makeHexColor(e[0],e[1],e[2])}_setTextStyle(n){const{fontColor:i}=this.data.defaultAppearanceData,o=this.data.defaultAppearanceData.fontSize||9,s=n.style;let r;const l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-2),h=Math.round(c/(1.35*o))||1;r=Math.min(o,l(c/h/1.35))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(o,l(c/1.35))}s.fontSize=`calc(${r}px * var(--scale-factor))`,s.color=on.makeHexColor(i[0],i[1],i[2]),null!==this.data.textAlignment&&(s.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(n,e){e?n.setAttribute("required",!0):n.removeAttribute("required"),n.setAttribute("aria-required",e)}}class p_e extends Fd{constructor(n){super(n,{isRenderable:n.renderForms||n.data.hasOwnCanvas||!n.data.hasAppearance&&!!n.data.fieldValue})}setPropertyOnSiblings(n,e,i,o){const s=this.annotationStorage;for(const r of this._getElementsByName(n.name,n.id))r.domElement&&(r.domElement[e]=i),s.setValue(r.id,{[o]:i})}render(){const n=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=n.getValue(e,{value:this.data.fieldValue});let s=o.value||"";const r=n.getValue(e,{charLimit:this.data.maxLen}).charLimit;r&&s.length>r&&(s=s.slice(0,r));let a=o.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=a??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",a??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Rd.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Sp,this._setRequired(i,this.data.required),r&&(i.maxLength=r),i.addEventListener("input",h=>{n.setValue(e,{value:h.target.value}),this.setPropertyOnSiblings(i,"value",h.target.value,"value"),l.formattedValue=null}),i.addEventListener("resetform",h=>{i.value=l.userValue=this.data.defaultFieldValue??"",l.formattedValue=null});let c=h=>{const{formattedValue:p}=l;null!=p&&(h.target.value=p),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{if(l.focused)return;const{target:f}=p;l.userValue&&(f.value=l.userValue),l.lastCommittedValue=f.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target),this._dispatchEventFromSandbox({value(v){l.userValue=v.detail.value??"",n.setValue(e,{value:l.userValue.toString()}),v.target.value=l.userValue},formattedValue(v){const{formattedValue:C}=v.detail;l.formattedValue=C,null!=C&&v.target!==document.activeElement&&(v.target.value=C),n.setValue(e,{formattedValue:C})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{const{charLimit:C}=v.detail,{target:E}=v;if(0===C)return void E.removeAttribute("maxLength");E.setAttribute("maxLength",C);let D=l.userValue;!D||D.length<=C||(D=D.slice(0,C),E.value=l.userValue=D,n.setValue(e,{value:D}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}},p)}),i.addEventListener("keydown",p=>{l.commitKey=1;let f=-1;if("Escape"===p.key?f=0:"Enter"!==p.key||this.data.multiLine?"Tab"===p.key&&(l.commitKey=3):f=2,-1===f)return;const{value:v}=p.target;l.lastCommittedValue!==v&&(l.lastCommittedValue=v,l.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:f,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const h=c;c=null,i.addEventListener("blur",p=>{if(!l.focused||!p.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{value:f}=p.target;l.userValue=f,l.lastCommittedValue!==f&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,willCommit:!0,commitKey:l.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}),h(p)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",p=>{l.lastCommittedValue=null;const{data:f,target:v}=p,{value:C,selectionStart:E,selectionEnd:D}=v;let P=E,I=D;switch(p.inputType){case"deleteWordBackward":{const k=C.substring(0,E).match(/\w*[^\w]*$/);k&&(P-=k[0].length);break}case"deleteWordForward":{const k=C.substring(E).match(/^[^\w]*\w*/);k&&(I+=k[0].length);break}case"deleteContentBackward":E===D&&(P-=1);break;case"deleteContentForward":E===D&&(I+=1)}p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:f||"",willCommit:!1,selStart:P,selEnd:I}})}),this._setEventListeners(i,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(c&&i.addEventListener("blur",c),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/r;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class g_e extends Fd{constructor(n){super(n,{isRenderable:!!n.data.hasOwnCanvas})}}class f_e extends Fd{constructor(n){super(n,{isRenderable:n.renderForms})}render(){const n=this.annotationStorage,e=this.data,i=e.id;let o=n.getValue(i,{value:e.exportValue===e.fieldValue}).value;"string"==typeof o&&(o="Off"!==o,n.setValue(i,{value:o})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Rd.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,o&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=Sp,s.addEventListener("change",r=>{const{name:a,checked:l}=r.target;for(const c of this._getElementsByName(a,i)){const h=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=h),n.setValue(c.id,{value:h})}n.setValue(i,{value:l})}),s.addEventListener("resetform",r=>{r.target.checked=(e.defaultFieldValue||"Off")===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({value(l){l.target.checked="Off"!==l.detail.value,n.setValue(i,{value:l.target.checked})}},r)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],r=>r.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class mk extends Fd{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const n=this.annotationStorage,e=this.data,i=e.id;let o=n.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if("string"==typeof o&&(o=o!==e.buttonValue,n.setValue(i,{value:o})),o)for(const r of this._getElementsByName(e.fieldName,i))n.setValue(r.id,{value:!1});const s=document.createElement("input");if(Rd.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,o&&s.setAttribute("checked",!0),s.tabIndex=Sp,s.addEventListener("change",r=>{const{name:a,checked:l}=r.target;for(const c of this._getElementsByName(a,i))n.setValue(c.id,{value:!1});n.setValue(i,{value:l})}),s.addEventListener("resetform",r=>{const a=e.defaultFieldValue;r.target.checked=null!=a&&a===e.buttonValue}),this.enableScripting&&this.hasJSActions){const r=e.buttonValue;s.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({value:c=>{const h=r===c.detail.value;for(const p of this._getElementsByName(c.target.name)){const f=h&&p.id===i;p.domElement&&(p.domElement.checked=f),n.setValue(p.id,{value:f})}}},a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class m_e extends fk{constructor(n){super(n,{ignoreBorder:n.data.hasAppearance})}render(){const n=super.render();n.classList.add("buttonWidgetAnnotation","pushButton");const e=n.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),n}}class v_e extends Fd{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const n=this.annotationStorage,e=this.data.id,i=n.getValue(e,{value:this.data.fieldValue}),o=document.createElement("select");Rd.add(o),o.setAttribute("data-element-id",e),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=Sp;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const f of o.options)f.selected=f.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,i.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),s=!1),o.append(p)}let r=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),o.prepend(h),r=()=>{h.remove(),o.removeEventListener("input",r),r=null},o.addEventListener("input",r)}const a=h=>{const p=h?"value":"textContent",{options:f,multiple:v}=o;return v?Array.prototype.filter.call(f,C=>C.selected).map(C=>C[p]):-1===f.selectedIndex?null:f[f.selectedIndex][p]};let l=a(!1);const c=h=>Array.prototype.map.call(h.target.options,f=>({displayValue:f.textContent,exportValue:f.value}));return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",h=>{this._dispatchEventFromSandbox({value(f){r?.();const v=f.detail.value,C=new Set(Array.isArray(v)?v:[v]);for(const E of o.options)E.selected=C.has(E.value);n.setValue(e,{value:a(!0)}),l=a(!1)},multipleSelection(f){o.multiple=!0},remove(f){const v=o.options,C=f.detail.remove;v[C].selected=!1,o.remove(C),v.length>0&&-1===Array.prototype.findIndex.call(v,D=>D.selected)&&(v[0].selected=!0),n.setValue(e,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;0!==o.length;)o.remove(0);n.setValue(e,{value:null,items:[]}),l=a(!1)},insert(f){const{index:v,displayValue:C,exportValue:E}=f.detail.insert,D=o.children[v],P=document.createElement("option");P.textContent=C,P.value=E,D?D.before(P):o.append(P),n.setValue(e,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:v}=f.detail;for(;0!==o.length;)o.remove(0);for(const C of v){const{displayValue:E,exportValue:D}=C,P=document.createElement("option");P.textContent=E,P.value=D,o.append(P)}o.options.length>0&&(o.options[0].selected=!0),n.setValue(e,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const v=new Set(f.detail.indices);for(const C of f.target.options)C.selected=v.has(C.index);n.setValue(e,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}},h)}),o.addEventListener("input",h=>{const p=a(!0),f=a(!1);n.setValue(e,{value:p}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:f,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):o.addEventListener("input",function(h){n.setValue(e,{value:a(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class rT extends es{constructor(n){const{data:e,elements:i}=n;super(n,{isRenderable:es._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const n=this.popup=new C_e({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${kM}${i}`).join(",")),this.container}}class C_e{#e=this.#D.bind(this);#t=this.#A.bind(this);#n=this.#y.bind(this);#i=this.#S.bind(this);#o=null;#s=null;#l=null;#c=null;#d=null;#a=null;#u=null;#r=!1;#h=null;#p=null;#_=null;#g=null;#m=null;#f=null;#v=!1;constructor({container:n,color:e,elements:i,titleObj:o,modificationDate:s,contentsObj:r,richText:a,parent:l,rect:c,parentRect:h,open:p}){this.#s=n,this.#m=o,this.#l=r,this.#g=a,this.#a=l,this.#o=e,this.#_=c,this.#u=h,this.#d=i,this.#c=LF.toDateObject(s),this.trigger=i.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",this.#i),f.addEventListener("mouseenter",this.#n),f.addEventListener("mouseleave",this.#t),f.classList.add("popupTriggerArea");for(const f of i)f.container?.addEventListener("keydown",this.#e);this.#s.hidden=!0,p&&this.#S()}render(){if(this.#h)return;const n=this.#h=document.createElement("div");if(n.className="popup",this.#o){const s=n.style.outlineColor=on.makeHexColor(...this.#o);n.style.backgroundColor=CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?`color-mix(in srgb, ${s} 30%, white)`:on.makeHexColor(...this.#o.map(a=>Math.floor(.7*(255-a)+a)))}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),({dir:i.dir,str:i.textContent}=this.#m),n.append(e),this.#c){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),e.append(s)}const o=this.#M;if(o)gk.render({xfaHtml:o,intent:"richText",div:n}),n.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(this.#l);n.append(s)}this.#s.append(n)}get#M(){const n=this.#g,e=this.#l;return n?.str&&(!e?.str||e.str===n.str)&&this.#g.html||null}get#b(){return this.#M?.attributes?.style?.fontSize||0}get#T(){return this.#M?.attributes?.style?.color||null}#w(n){const e=[],i={str:n,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},o={style:{color:this.#T,fontSize:this.#b?`calc(${this.#b}px * var(--scale-factor))`:""}};for(const s of n.split("\n"))e.push({name:"span",value:s,attributes:o});return i}_formatContents({str:n,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const o=n.split(/(?:\r\n?|\n)/);for(let s=0,r=o.length;s<r;++s)i.append(document.createTextNode(o[s])),s<r-1&&i.append(document.createElement("br"));return i}#D(n){n.altKey||n.shiftKey||n.ctrlKey||n.metaKey||("Enter"===n.key||"Escape"===n.key&&this.#r)&&this.#S()}updateEdited({rect:n,popupContent:e}){this.#f||={contentsObj:this.#l,richText:this.#g},n&&(this.#p=null),e&&(this.#g=this.#w(e),this.#l=null),this.#h?.remove(),this.#h=null}resetEdited(){this.#f&&(({contentsObj:this.#l,richText:this.#g}=this.#f),this.#f=null,this.#h?.remove(),this.#h=null,this.#p=null)}#O(){if(null!==this.#p)return;const{page:{view:n},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:o,pageY:s}}}=this.#a;let r=!!this.#u,a=r?this.#u:this.#_;for(const C of this.#d)if(!a||null!==on.intersect(C.data.rect,a)){a=C.data.rect,r=!0;break}const l=on.normalizeRect([a[0],n[3]-a[1]+n[1],a[2],n[3]-a[3]+n[1]]);this.#p=[100*(l[0]+(r?a[2]-a[0]+5:0)-o)/e,100*(l[1]-s)/i];const{style:v}=this.#s;v.left=`${this.#p[0]}%`,v.top=`${this.#p[1]}%`}#S(){this.#r=!this.#r,this.#r?(this.#y(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#e)):(this.#A(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#e))}#y(){this.#h||this.render(),this.isVisible?this.#r&&this.#s.classList.add("focused"):(this.#O(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#A(){this.#s.classList.remove("focused"),!this.#r&&this.isVisible&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#s.hidden=!0)}maybeShow(){this.#v&&(this.#h||this.#y(),this.#v=!1,this.#s.hidden=!1)}get isVisible(){return!1===this.#s.hidden}}class vk extends es{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0}),this.textContent=n.data.textContent,this.textPosition=n.data.textPosition,this.annotationEditorType=Zn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const n=document.createElement("div");n.classList.add("annotationTextContent"),n.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,n.append(i)}this.container.append(n)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class M_e extends es{#e=null;constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:e,height:i}=nl(n.rect),o=this.svgFactory.create(e,i,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class T_e extends es{#e=null;constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:e,height:i}=nl(n.rect),o=this.svgFactory.create(e,i,!0),s=n.borderStyle.width,r=this.#e=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",s/2),r.setAttribute("y",s/2),r.setAttribute("width",e-s),r.setAttribute("height",i-s),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),o.append(r),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class w_e extends es{#e=null;constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:e,height:i}=nl(n.rect),o=this.svgFactory.create(e,i,!0),s=n.borderStyle.width,r=this.#e=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",e/2),r.setAttribute("cy",i/2),r.setAttribute("rx",e/2-s/2),r.setAttribute("ry",i/2-s/2),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),o.append(r),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ck extends es{#e=null;constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:e,borderStyle:i,popupRef:o}}=this;if(!e)return this.container;const{width:s,height:r}=nl(n),a=this.svgFactory.create(s,r,!0);let l=[];for(let h=0,p=e.length;h<p;h+=2)l.push(`${e[h]-n[0]},${n[3]-e[h+1]}`);l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class b_e extends Ck{constructor(n){super(n),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class S_e extends es{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class aT extends es{#e=[];constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?Zn.HIGHLIGHT:Zn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:e,borderStyle:i,popupRef:o}}=this,{width:s,height:r}=nl(n),a=this.svgFactory.create(s,r,!0);for(const l of e){let c=[];for(let p=0,f=l.length;p<f;p+=2)c.push(`${l[p]-n[0]},${n[3]-l[p+1]}`);c=c.join(" ");const h=this.svgFactory.createElement(this.svgElementName);this.#e.push(h),h.setAttribute("points",c),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),a.append(h)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(a),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Mk extends es{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Zn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class E_e extends es{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class A_e extends es{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class O_e extends es{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Tk extends es{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Zn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class y_e extends es{#e=null;constructor(n){super(n,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:e}=this;let i;e.hasAppearance||0===e.fillAlpha?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(100*e.fillAlpha)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;const{isMac:o}=Fr.platform;return n.addEventListener("keydown",s=>{"Enter"===s.key&&(o?s.metaKey:s.ctrlKey)&&this.#t()}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class N_e{#e=null;#t=null;#n=new Map;#i=null;constructor({div:n,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:o,page:s,viewport:r,structTreeLayer:a}){this.div=n,this.#e=e,this.#t=i,this.#i=a||null,this.page=s,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=o}hasEditableAnnotations(){return this.#n.size>0}#o(n,e){var i=this;return V(function*(){const o=n.firstChild||n,s=o.id=`${kM}${e}`,r=yield i.#i?.getAriaAttributes(s);if(r)for(const[a,l]of r)o.setAttribute(a,l);i.div.append(n),i.#e?.moveElementInDOM(i.div,n,o,!1)})()}render(n){var e=this;return V(function*(){const{annotations:i}=n,o=e.div;Ld(o,e.viewport);const s=new Map,r={data:null,layer:o,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:!1!==n.renderForms,svgFactory:new sT,annotationStorage:n.annotationStorage||new ZM,enableScripting:!0===n.enableScripting,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,parent:e,elements:null};for(const a of i){if(a.noHTML)continue;const l=16===a.annotationType;if(l){const p=s.get(a.id);if(!p)continue;r.elements=p}else{const{width:p,height:f}=nl(a.rect);if(p<=0||f<=0)continue}r.data=a;const c=h_e.create(r);if(!c.isRenderable)continue;if(!l&&a.popupRef){const p=s.get(a.popupRef);p?p.push(c):s.set(a.popupRef,[c])}const h=c.render();a.hidden&&(h.style.visibility="hidden"),yield e.#o(h,a.id),c._isEditable&&(e.#n.set(c.data.id,c),e._annotationEditorUIManager?.renderAnnotationElement(c))}e.#s()})()}update({viewport:n}){const e=this.div;this.viewport=n,Ld(e,{rotation:n.rotation}),this.#s(),e.hidden=!1}#s(){if(!this.#t)return;const n=this.div;for(const[e,i]of this.#t){const o=n.querySelector(`[data-annotation-id="${e}"]`);if(!o)continue;i.className="annotationContent";const{firstChild:s}=o;s?"CANVAS"===s.nodeName?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):o.append(i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(n){return this.#n.get(n)}}const u4=/\r\n?|\n/g;class Ns extends In{#e;#t="";#n=`${this.id}-editor`;#i=null;#o;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const n=Ns.prototype,e=s=>s.isEmpty(),i=vp.TRANSLATE_SMALL,o=vp.TRANSLATE_BIG;return fi(this,"_keyboardManager",new mp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,o],checker:e}]]))}static _type="freetext";static _editorType=Zn.FREETEXT;constructor(n){super({...n,name:"freeTextEditor"}),this.#e=n.color||Ns._defaultColor||In._defaultLineColor,this.#o=n.fontSize||Ns._defaultFontSize}static initialize(n,e){In.initialize(n,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,e){switch(n){case Pn.FREETEXT_SIZE:Ns._defaultFontSize=e;break;case Pn.FREETEXT_COLOR:Ns._defaultColor=e}}updateParams(n,e){switch(n){case Pn.FREETEXT_SIZE:this.#s(e);break;case Pn.FREETEXT_COLOR:this.#l(e)}}static get defaultPropertiesToUpdate(){return[[Pn.FREETEXT_SIZE,Ns._defaultFontSize],[Pn.FREETEXT_COLOR,Ns._defaultColor||In._defaultLineColor]]}get propertiesToUpdate(){return[[Pn.FREETEXT_SIZE,this.#o],[Pn.FREETEXT_COLOR,this.#e]]}#s(n){const e=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-this.#o)*this.parentScale),this.#o=o,this.#d()},i=this.#o;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(n){const e=o=>{this.#e=this.editorDiv.style.color=o},i=this.#e;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(n,e){this._uiManager.translateSelectedEditors(n,e,!0)}getInitialTranslation(){const n=this.parentScale;return[-Ns._internalPadding*n,-(Ns._internalPadding+this.#o)*n]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Zn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const n=this._uiManager.combinedSignal(this.#i);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#c(){const n=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&"BR"===i.nodeName||(n.push(Ns.#a(i)),e=i);return n.join("\n")}#d(){const[n,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:o,div:s}=this,r=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",o.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=r,s.classList.toggle("hidden",a)}this.rotation%180==this.parentRotation%180?(this.width=i.width/n,this.height=i.height/e):(this.width=i.height/n,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=this.#t,e=this.#t=this.#c().trimEnd();if(n===e)return;const i=o=>{this.#t=o,o?(this.#u(),this._uiManager.rebuild(this),this.#d()):this.remove()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(n)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&"Enter"===n.key&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){Ns._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,e;this.width&&(n=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#o}px * var(--scale-factor))`,i.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),s4(this,this.div,["dblclick","keydown"]),this.width){const[o,s]=this.parentDimensions;if(this.annotationElementId){const{position:r}=this._initialData;let[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);const[c,h]=this.pageDimensions,[p,f]=this.pageTranslation;let v,C;switch(this.rotation){case 0:v=n+(r[0]-p)/c,C=e+this.height-(r[1]-f)/h;break;case 90:v=n+(r[0]-p)/c,C=e-(r[1]-f)/h,[a,l]=[l,-a];break;case 180:v=n-this.width+(r[0]-p)/c,C=e-(r[1]-f)/h,[a,l]=[-a,-l];break;case 270:v=n+(r[0]-p-this.height*h)/c,C=e+(r[1]-f-this.width*c)/h,[a,l]=[-l,a]}this.setAt(v*o,C*s,a,l)}else this.setAt(n*o,e*s,this.width*o,this.height*s);this.#u(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#a(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(u4,"")}editorDivPaste(n){const e=n.clipboardData||window.clipboardData,{types:i}=e;if(1===i.length&&"text/plain"===i[0])return;n.preventDefault();const o=Ns.#h(e.getData("text")||"").replaceAll(u4,"\n");if(!o)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const r=s.getRangeAt(0);if(!o.includes("\n"))return r.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:a,startOffset:l}=r,c=[],h=[];if(a.nodeType===Node.TEXT_NODE){const v=a.parentElement;if(h.push(a.nodeValue.slice(l).replaceAll(u4,"")),v!==this.editorDiv){let C=c;for(const E of this.editorDiv.childNodes)E!==v?C.push(Ns.#a(E)):C=h}c.push(a.nodeValue.slice(0,l).replaceAll(u4,""))}else if(a===this.editorDiv){let v=c,C=0;for(const E of this.editorDiv.childNodes)C++===l&&(v=h),v.push(Ns.#a(E))}this.#t=`${c.join("\n")}${o}${h.join("\n")}`,this.#u();const p=new Range;let f=c.reduce((v,C)=>v+C.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const C=v.nodeValue.length;if(f<=C){p.setStart(v,f),p.setEnd(v,f);break}f-=C}s.removeAllRanges(),s.addRange(p)}#u(){if(this.editorDiv.replaceChildren(),this.#t)for(const n of this.#t.split("\n")){const e=document.createElement("div");e.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(e)}}#r(){return this.#t.replaceAll("\xa0"," ")}static#h(n){return n.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static deserialize(n,e,i){var o=()=>super.deserialize,s=this;return V(function*(){let r=null;if(n instanceof vk){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:p,id:f,popupRef:v},textContent:C,textPosition:E,parent:{page:{pageNumber:D}}}=n;if(!C||0===C.length)return null;r=n={annotationType:Zn.FREETEXT,color:Array.from(c),fontSize:l,value:C.join("\n"),position:E,pageIndex:D-1,rect:h.slice(0),rotation:p,id:f,deleted:!1,popupRef:v}}const a=yield o().call(s,n,e,i);return a.#o=n.fontSize,a.#e=on.makeHexColor(...n.color),a.#t=Ns.#h(n.value),a.annotationElementId=n.id||null,a._initialData=r,a})()}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Ns._internalPadding*this.parentScale,i=this.getRect(e,e),o=In._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),s={annotationType:Zn.FREETEXT,color:o,fontSize:this.#o,value:this.#r(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?s:this.annotationElementId&&!this.#p(s)?null:(s.id=this.annotationElementId,s)}#p(n){const{value:e,fontSize:i,color:o,pageIndex:s}=this._initialData;return this._hasBeenMoved||n.value!==e||n.fontSize!==i||n.color.some((r,a)=>r!==o[a])||n.pageIndex!==s}renderAnnotationElement(n){const e=super.renderAnnotationElement(n);if(this.deleted)return e;const{style:i}=e;i.fontSize=`calc(${this.#o}px * var(--scale-factor))`,i.color=this.#e,e.replaceChildren();for(const s of this.#t.split("\n")){const r=document.createElement("div");r.append(s?document.createTextNode(s):document.createElement("br")),e.append(r)}const o=Ns._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(o,o),popupContent:this.#t}),e}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}}class wk{toSVGPath(){uo("Abstract method `toSVGPath` must be implemented.")}get box(){uo("Abstract getter `box` must be implemented.")}serialize(n,e){uo("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){uo("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){uo("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}class kd{#e;#t=[];#n;#i;#o=[];#s=new Float64Array(18);#l;#c;#d;#a;#u;#r;#h=[];static#p=8;static#_=2;static#g=kd.#p+kd.#_;constructor({x:n,y:e},i,o,s,r,a=0){this.#e=i,this.#r=s*o,this.#i=r,this.#s.set([NaN,NaN,NaN,NaN,n,e],6),this.#n=a,this.#a=kd.#p*o,this.#d=kd.#g*o,this.#u=o,this.#h.push(n,e)}isEmpty(){return isNaN(this.#s[8])}#m(){const n=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[i,o,s,r]=this.#e;return[(this.#l+(n[0]-e[0])/2-i)/s,(this.#c+(n[1]-e[1])/2-o)/r,(this.#l+(e[0]-n[0])/2-i)/s,(this.#c+(e[1]-n[1])/2-o)/r]}add({x:n,y:e}){this.#l=n,this.#c=e;const[i,o,s,r]=this.#e;let[a,l,c,h]=this.#s.subarray(8,12);const p=n-c,f=e-h,v=Math.hypot(p,f);if(v<this.#d)return!1;const C=v-this.#a,E=C/v,D=E*p,P=E*f;let I=a,k=l;a=c,l=h,c+=D,h+=P,this.#h?.push(n,e);const re=-P/C*this.#r,fe=D/C*this.#r;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([c+re,h+fe],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([c-re,h-fe],16),isNaN(this.#s[6])?(0===this.#o.length&&(this.#s.set([a+re,l+fe],2),this.#o.push(NaN,NaN,NaN,NaN,(a+re-i)/s,(l+fe-o)/r),this.#s.set([a-re,l-fe],14),this.#t.push(NaN,NaN,NaN,NaN,(a-re-i)/s,(l-fe-o)/r)),this.#s.set([I,k,a,l,c,h],6),!this.isEmpty()):(this.#s.set([I,k,a,l,c,h],6),Math.abs(Math.atan2(k-l,I-a)-Math.atan2(P,D))<Math.PI/2?([a,l,c,h]=this.#s.subarray(2,6),this.#o.push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((l+h)/2-o)/r),[a,l,I,k]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((I+a)/2-i)/s,((k+l)/2-o)/r),!0):([I,k,a,l,c,h]=this.#s.subarray(0,6),this.#o.push(((I+5*a)/6-i)/s,((k+5*l)/6-o)/r,((5*a+c)/6-i)/s,((5*l+h)/6-o)/r,((a+c)/2-i)/s,((l+h)/2-o)/r),[c,h,a,l,I,k]=this.#s.subarray(12,18),this.#t.push(((I+5*a)/6-i)/s,((k+5*l)/6-o)/r,((5*a+c)/6-i)/s,((5*l+h)/6-o)/r,((a+c)/2-i)/s,((l+h)/2-o)/r),!0))}toSVGPath(){if(this.isEmpty())return"";const n=this.#o,e=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#f();const i=[];i.push(`M${n[4]} ${n[5]}`);for(let o=6;o<n.length;o+=6)isNaN(n[o])?i.push(`L${n[o+4]} ${n[o+5]}`):i.push(`C${n[o]} ${n[o+1]} ${n[o+2]} ${n[o+3]} ${n[o+4]} ${n[o+5]}`);this.#M(i);for(let o=e.length-6;o>=6;o-=6)isNaN(e[o])?i.push(`L${e[o+4]} ${e[o+5]}`):i.push(`C${e[o]} ${e[o+1]} ${e[o+2]} ${e[o+3]} ${e[o+4]} ${e[o+5]}`);return this.#v(i),i.join(" ")}#f(){const[n,e,i,o]=this.#e,[s,r,a,l]=this.#m();return`M${(this.#s[2]-n)/i} ${(this.#s[3]-e)/o} L${(this.#s[4]-n)/i} ${(this.#s[5]-e)/o} L${s} ${r} L${a} ${l} L${(this.#s[16]-n)/i} ${(this.#s[17]-e)/o} L${(this.#s[14]-n)/i} ${(this.#s[15]-e)/o} Z`}#v(n){const e=this.#t;n.push(`L${e[4]} ${e[5]} Z`)}#M(n){const[e,i,o,s]=this.#e,r=this.#s.subarray(4,6),a=this.#s.subarray(16,18),[l,c,h,p]=this.#m();n.push(`L${(r[0]-e)/o} ${(r[1]-i)/s} L${l} ${c} L${h} ${p} L${(a[0]-e)/o} ${(a[1]-i)/s}`)}newFreeDrawOutline(n,e,i,o,s,r){return new bk(n,e,i,o,s,r)}getOutlines(){const n=this.#o,e=this.#t,i=this.#s,[o,s,r,a]=this.#e,l=new Float64Array((this.#h?.length??0)+2);for(let p=0,f=l.length-2;p<f;p+=2)l[p]=(this.#h[p]-o)/r,l[p+1]=(this.#h[p+1]-s)/a;if(l[l.length-2]=(this.#l-o)/r,l[l.length-1]=(this.#c-s)/a,isNaN(i[6])&&!this.isEmpty())return this.#b(l);const c=new Float64Array(this.#o.length+24+this.#t.length);let h=n.length;for(let p=0;p<h;p+=2)isNaN(n[p])?c[p]=c[p+1]=NaN:(c[p]=n[p],c[p+1]=n[p+1]);h=this.#w(c,h);for(let p=e.length-6;p>=6;p-=6)for(let f=0;f<6;f+=2)isNaN(e[p+f])?(c[h]=c[h+1]=NaN,h+=2):(c[h]=e[p+f],c[h+1]=e[p+f+1],h+=2);return this.#T(c,h),this.newFreeDrawOutline(c,l,this.#e,this.#u,this.#n,this.#i)}#b(n){const e=this.#s,[i,o,s,r]=this.#e,[a,l,c,h]=this.#m(),p=new Float64Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-i)/s,(e[3]-o)/r,NaN,NaN,NaN,NaN,(e[4]-i)/s,(e[5]-o)/r,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(e[16]-i)/s,(e[17]-o)/r,NaN,NaN,NaN,NaN,(e[14]-i)/s,(e[15]-o)/r],0),this.newFreeDrawOutline(p,n,this.#e,this.#u,this.#n,this.#i)}#T(n,e){const i=this.#t;return n.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+6}#w(n,e){const i=this.#s.subarray(4,6),o=this.#s.subarray(16,18),[s,r,a,l]=this.#e,[c,h,p,f]=this.#m();return n.set([NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-r)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,p,f,NaN,NaN,NaN,NaN,(o[0]-s)/a,(o[1]-r)/l],e),e+24}}class bk extends wk{#e;#t=null;#n;#i;#o;#s;#l;constructor(n,e,i,o,s,r){super(),this.#l=n,this.#o=e,this.#e=i,this.#s=o,this.#n=s,this.#i=r,this.#a(r);const{x:a,y:l,width:c,height:h}=this.#t;for(let p=0,f=n.length;p<f;p+=2)n[p]=(n[p]-a)/c,n[p+1]=(n[p+1]-l)/h;for(let p=0,f=e.length;p<f;p+=2)e[p]=(e[p]-a)/c,e[p+1]=(e[p+1]-l)/h}toSVGPath(){const n=[`M${this.#l[4]} ${this.#l[5]}`];for(let e=6,i=this.#l.length;e<i;e+=6)isNaN(this.#l[e])?n.push(`L${this.#l[e+4]} ${this.#l[e+5]}`):n.push(`C${this.#l[e]} ${this.#l[e+1]} ${this.#l[e+2]} ${this.#l[e+3]} ${this.#l[e+4]} ${this.#l[e+5]}`);return n.push("Z"),n.join(" ")}serialize([n,e,i,o],s){const r=i-n,a=o-e;let l,c;switch(s){case 0:l=this.#c(this.#l,n,o,r,-a),c=this.#c(this.#o,n,o,r,-a);break;case 90:l=this.#d(this.#l,n,e,r,a),c=this.#d(this.#o,n,e,r,a);break;case 180:l=this.#c(this.#l,i,e,-r,a),c=this.#c(this.#o,i,e,-r,a);break;case 270:l=this.#d(this.#l,i,o,-r,-a),c=this.#d(this.#o,i,o,-r,-a)}return{outline:Array.from(l),points:[Array.from(c)]}}#c(n,e,i,o,s){const r=new Float64Array(n.length);for(let a=0,l=n.length;a<l;a+=2)r[a]=e+n[a]*o,r[a+1]=i+n[a+1]*s;return r}#d(n,e,i,o,s){const r=new Float64Array(n.length);for(let a=0,l=n.length;a<l;a+=2)r[a]=e+n[a+1]*o,r[a+1]=i+n[a]*s;return r}#a(n){const e=this.#l;let i=e[4],o=e[5],s=i,r=o,a=i,l=o,c=i,h=o;const p=n?Math.max:Math.min;for(let D=6,P=e.length;D<P;D+=6){if(isNaN(e[D]))s=Math.min(s,e[D+4]),r=Math.min(r,e[D+5]),a=Math.max(a,e[D+4]),l=Math.max(l,e[D+5]),h<e[D+5]?(c=e[D+4],h=e[D+5]):h===e[D+5]&&(c=p(c,e[D+4]));else{const I=on.bezierBoundingBox(i,o,...e.slice(D,D+6));s=Math.min(s,I[0]),r=Math.min(r,I[1]),a=Math.max(a,I[2]),l=Math.max(l,I[3]),h<I[3]?(c=I[2],h=I[3]):h===I[3]&&(c=p(c,I[2]))}i=e[D+4],o=e[D+5]}const f=s-this.#n,v=r-this.#n,C=a-s+2*this.#n,E=l-r+2*this.#n;this.#t={x:f,y:v,width:C,height:E,lastPoint:[c,h]}}get box(){return this.#t}newOutliner(n,e,i,o,s,r=0){return new kd(n,e,i,o,s,r)}getNewOutline(n,e){const{x:i,y:o,width:s,height:r}=this.#t,[a,l,c,h]=this.#e,p=s*c,f=r*h,v=i*c+a,C=o*h+l,E=this.newOutliner({x:this.#o[0]*p+v,y:this.#o[1]*f+C},this.#e,this.#s,n,this.#i,e??this.#n);for(let D=2;D<this.#o.length;D+=2)E.add({x:this.#o[D]*p+v,y:this.#o[D+1]*f+C});return E.getOutlines()}get mustRemoveSelfIntersections(){return!0}}class Sk{#e;#t=[];#n=[];constructor(n,e=0,i=0,o=!0){let s=1/0,r=-1/0,a=1/0,l=-1/0;const h=10**-4;for(const{x:P,y:I,width:k,height:R}of n){const ee=Math.floor((P-e)/h)*h,re=Math.ceil((P+k+e)/h)*h,fe=Math.floor((I-e)/h)*h,pe=Math.ceil((I+R+e)/h)*h;this.#t.push([ee,fe,pe,!0],[re,fe,pe,!1]),s=Math.min(s,ee),r=Math.max(r,re),a=Math.min(a,fe),l=Math.max(l,pe)}const p=r-s+2*i,f=l-a+2*i,v=s-i,C=a-i,E=this.#t.at(o?-1:-2),D=[E[0],E[2]];for(const P of this.#t){const[I,k,R]=P;P[0]=(I-v)/p,P[1]=(k-C)/f,P[2]=(R-C)/f}this.#e={x:v,y:C,width:p,height:f,lastPoint:D}}getOutlines(){this.#t.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const n=[];for(const e of this.#t)e[3]?(n.push(...this.#c(e)),this.#s(e)):(this.#l(e),n.push(...this.#c(e)));return this.#i(n)}#i(n){const e=[],i=new Set;for(const r of n){const[a,l,c]=r;e.push([a,l,r],[a,c,r])}e.sort((r,a)=>r[1]-a[1]||r[0]-a[0]);for(let r=0,a=e.length;r<a;r+=2){const l=e[r][2],c=e[r+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const o=[];let s;for(;i.size>0;){const r=i.values().next().value;let[a,l,c,h,p]=r;i.delete(r);let f=a,v=l;for(s=[a,c],o.push(s);;){let C;if(i.has(h))C=h;else{if(!i.has(p))break;C=p}i.delete(C),[a,l,c,h,p]=C,f!==a&&(s.push(f,v,a,v===l?l:c),f=a),v=v===l?c:l}s.push(f,v)}return new D_e(o,this.#e)}#o(n){const e=this.#n;let i=0,o=e.length-1;for(;i<=o;){const s=i+o>>1,r=e[s][0];if(r===n)return s;r<n?i=s+1:o=s-1}return o+1}#s([,n,e]){const i=this.#o(n);this.#n.splice(i,0,[n,e])}#l([,n,e]){const i=this.#o(n);for(let o=i;o<this.#n.length;o++){const[s,r]=this.#n[o];if(s!==n)break;if(s===n&&r===e)return void this.#n.splice(o,1)}for(let o=i-1;o>=0;o--){const[s,r]=this.#n[o];if(s!==n)break;if(s===n&&r===e)return void this.#n.splice(o,1)}}#c(n){const[e,i,o]=n,s=[[e,i,o]],r=this.#o(o);for(let a=0;a<r;a++){const[l,c]=this.#n[a];for(let h=0,p=s.length;h<p;h++){const[,f,v]=s[h];if(!(c<=f||v<=l)){if(f>=l){if(v>c)s[h][1]=c;else{if(1===p)return[];s.splice(h,1),h--,p--}continue}s[h][2]=l,v>c&&s.push([e,c,v])}}}return s}}class D_e extends wk{#e;#t;constructor(n,e){super(),this.#t=n,this.#e=e}toSVGPath(){const n=[];for(const e of this.#t){let[i,o]=e;n.push(`M${i} ${o}`);for(let s=2;s<e.length;s+=2){const r=e[s],a=e[s+1];r===i?(n.push(`V${a}`),o=a):a===o&&(n.push(`H${r}`),i=r)}n.push("Z")}return n.join(" ")}serialize([n,e,i,o],s){const r=[],a=i-n,l=o-e;for(const c of this.#t){const h=new Array(c.length);for(let p=0;p<c.length;p+=2)h[p]=n+c[p]*a,h[p+1]=o-c[p+1]*l;r.push(h)}return r}get box(){return this.#e}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}class lT extends kd{newFreeDrawOutline(n,e,i,o,s,r){return new P_e(n,e,i,o,s,r)}get classNamesForDrawing(){return["highlight","free"]}}class P_e extends bk{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(n,e,i,o,s,r=0){return new lT(n,e,i,o,s,r)}}class f1{#e=null;#t=null;#n;#i=null;#o=!1;#s=!1;#l=null;#c;#d=null;#a=null;#u;static#r=null;static get _keyboardManager(){return fi(this,"_keyboardManager",new mp([[["Escape","mac+Escape"],f1.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],f1.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],f1.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],f1.prototype._moveToPrevious],[["Home","mac+Home"],f1.prototype._moveToBeginning],[["End","mac+End"],f1.prototype._moveToEnd]]))}constructor({editor:n=null,uiManager:e=null}){n?(this.#s=!1,this.#u=Pn.HIGHLIGHT_COLOR,this.#l=n):(this.#s=!0,this.#u=Pn.HIGHLIGHT_DEFAULT_COLOR),this.#a=n?._uiManager||e,this.#c=this.#a._eventBus,this.#n=n?.color||this.#a?.highlightColors.values().next().value||"#FFFF98",f1.#r||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const n=this.#e=document.createElement("button");n.className="colorPicker",n.tabIndex="0",n.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),n.setAttribute("aria-haspopup",!0);const e=this.#a._signal;n.addEventListener("click",this.#g.bind(this),{signal:e}),n.addEventListener("keydown",this.#_.bind(this),{signal:e});const i=this.#t=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#n,n.append(i),n}renderMainDropdown(){const n=this.#i=this.#h();return n.setAttribute("aria-orientation","horizontal"),n.setAttribute("aria-labelledby","highlightColorPickerLabel"),n}#h(){const n=document.createElement("div"),e=this.#a._signal;n.addEventListener("contextmenu",p1,{signal:e}),n.className="dropdown",n.role="listbox",n.setAttribute("aria-multiselectable",!1),n.setAttribute("aria-orientation","vertical"),n.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,o]of this.#a.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",o),s.title=i,s.setAttribute("data-l10n-id",f1.#r[i]);const r=document.createElement("span");s.append(r),r.className="swatch",r.style.backgroundColor=o,s.setAttribute("aria-selected",o===this.#n),s.addEventListener("click",this.#p.bind(this,o),{signal:e}),n.append(s)}return n.addEventListener("keydown",this.#_.bind(this),{signal:e}),n}#p(n,e){e.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:this.#u,value:n})}_colorSelectFromKeyboard(n){if(n.target===this.#e)return void this.#g(n);const e=n.target.getAttribute("data-color");e&&this.#p(e,n)}_moveToNext(n){this.#f?n.target!==this.#e?n.target.nextSibling?.focus():this.#i.firstChild?.focus():this.#g(n)}_moveToPrevious(n){n.target!==this.#i?.firstChild&&n.target!==this.#e?(this.#f||this.#g(n),n.target.previousSibling?.focus()):this.#f&&this._hideDropdownFromKeyboard()}_moveToBeginning(n){this.#f?this.#i.firstChild?.focus():this.#g(n)}_moveToEnd(n){this.#f?this.#i.lastChild?.focus():this.#g(n)}#_(n){f1._keyboardManager.exec(this,n)}#g(n){if(this.#f)return void this.hideDropdown();if(this.#o=0===n.detail,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#a.combinedSignal(this.#d)})),this.#i)return void this.#i.classList.remove("hidden");const e=this.#i=this.#h();this.#e.append(e)}#m(n){this.#i?.contains(n.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#d?.abort(),this.#d=null}get#f(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#f)return void this.#l?.unselect();this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#o})}}updateColor(n){if(this.#t&&(this.#t.style.backgroundColor=n),!this.#i)return;const e=this.#a.highlightColors.values();for(const i of this.#i.children)i.setAttribute("aria-selected",e.next().value===n)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#i?.remove(),this.#i=null}}class ts extends In{#e=null;#t=0;#n;#i=null;#o=null;#s=null;#l=null;#c=0;#d=null;#a=null;#u=null;#r=!1;#h=null;#p;#_=null;#g="";#m;#f="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Zn.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const n=ts.prototype;return fi(this,"_keyboardManager",new mp([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}constructor(n){super({...n,name:"highlightEditor"}),this.color=n.color||ts._defaultColor,this.#m=n.thickness||ts._defaultThickness,this.#p=n.opacity||ts._defaultOpacity,this.#n=n.boxes||null,this.#f=n.methodOfCreation||"",this.#g=n.text||"",this._isDraggable=!1,n.highlightId>-1?(this.#r=!0,this.#M(n),this.#O()):this.#n&&(this.#e=n.anchorNode,this.#t=n.anchorOffset,this.#l=n.focusNode,this.#c=n.focusOffset,this.#v(),this.#O(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#r?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#f}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}#v(){const n=new Sk(this.#n,.001);this.#a=n.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#a.box);const e=new Sk(this.#n,.0025,.001,"ltr"===this._uiManager.direction);this.#s=e.getOutlines();const{lastPoint:i}=this.#s.box;this.#h=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#M({highlightOutlines:n,highlightId:e,clipPathId:i}){if(this.#a=n,this.#s=n.getNewOutline(this.#m/2+1.5,.0025),e>=0)this.#u=e,this.#i=i,this.parent.drawLayer.finalizeLine(e,n),this.#_=this.parent.drawLayer.drawOutline(this.#s);else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#u,n),this.parent.drawLayer.updateBox(this.#u,ts.#S(this.#a.box,(h-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#_,this.#s),this.parent.drawLayer.updateBox(this.#_,ts.#S(this.#s.box,h))}const{x:s,y:r,width:a,height:l}=n.box;switch(this.rotation){case 0:this.x=s,this.y=r,this.width=a,this.height=l;break;case 90:{const[h,p]=this.parentDimensions;this.x=r,this.y=1-s,this.width=a*p/h,this.height=l*h/p;break}case 180:this.x=1-s,this.y=1-r,this.width=a,this.height=l;break;case 270:{const[h,p]=this.parentDimensions;this.x=1-r,this.y=s,this.width=a*p/h,this.height=l*h/p;break}}const{lastPoint:c}=this.#s.box;this.#h=[(c[0]-s)/a,(c[1]-r)/l]}static initialize(n,e){In.initialize(n,e),ts._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(n,e){switch(n){case Pn.HIGHLIGHT_DEFAULT_COLOR:ts._defaultColor=e;break;case Pn.HIGHLIGHT_THICKNESS:ts._defaultThickness=e}}translateInPage(n,e){}get toolbarPosition(){return this.#h}updateParams(n,e){switch(n){case Pn.HIGHLIGHT_COLOR:this.#b(e);break;case Pn.HIGHLIGHT_THICKNESS:this.#T(e)}}static get defaultPropertiesToUpdate(){return[[Pn.HIGHLIGHT_DEFAULT_COLOR,ts._defaultColor],[Pn.HIGHLIGHT_THICKNESS,ts._defaultThickness]]}get propertiesToUpdate(){return[[Pn.HIGHLIGHT_COLOR,this.color||ts._defaultColor],[Pn.HIGHLIGHT_THICKNESS,this.#m||ts._defaultThickness],[Pn.HIGHLIGHT_FREE,this.#r]]}#b(n){const e=(s,r)=>{this.color=s,this.parent?.drawLayer.changeColor(this.#u,s),this.#o?.updateColor(s),this.#p=r,this.parent?.drawLayer.changeOpacity(this.#u,r)},i=this.color,o=this.#p;this.addCommands({cmd:e.bind(this,n,ts._defaultOpacity),undo:e.bind(this,i,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)}#T(n){const e=this.#m,i=o=>{this.#m=o,this.#w(o)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)}addEditToolbar(){var n=()=>super.addEditToolbar,e=this;return V(function*(){const i=yield n().call(e);return i?(e._uiManager.highlightColors&&(e.#o=new f1({editor:e}),i.addColorPicker(e.#o)),i):null})()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#P())}getBaseTranslation(){return[0,0]}getRect(n,e){return super.getRect(n,e,this.#P())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#D(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#O(),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){let e=!1;this.parent&&!n?this.#D():n&&(this.#O(n),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(n),this.show(this._isVisible),e&&this.select()}#w(n){if(!this.#r)return;this.#M({highlightOutlines:this.#a.getNewOutline(n/2)}),this.fixAndSetPosition();const[e,i]=this.parentDimensions;this.setDims(this.width*e,this.height*i)}#D(){null===this.#u||!this.parent||(this.parent.drawLayer.remove(this.#u),this.#u=null,this.parent.drawLayer.remove(this.#_),this.#_=null)}#O(n=this.parent){null===this.#u&&(({id:this.#u,clipPathId:this.#i}=n.drawLayer.draw(this.#a,this.color,this.#p)),this.#_=n.drawLayer.drawOutline(this.#s),this.#d&&(this.#d.style.clipPath=this.#i))}static#S({x:n,y:e,width:i,height:o},s){switch(s){case 90:return{x:1-e-o,y:n,width:o,height:i};case 180:return{x:1-n-i,y:1-e-o,width:i,height:o};case 270:return{x:e,y:1-n-i,width:o,height:i}}return{x:n,y:e,width:i,height:o}}rotate(n){const{drawLayer:e}=this.parent;let i;i=this.#r?ts.#S(this.#a.box,n=(n-this.rotation+360)%360):ts.#S(this,n),e.rotate(this.#u,n),e.rotate(this.#_,n),e.updateBox(this.#u,i),e.updateBox(this.#_,ts.#S(this.#s.box,n))}render(){if(this.div)return this.div;const n=super.render();this.#g&&(n.setAttribute("aria-label",this.#g),n.setAttribute("role","mark")),this.#r?n.classList.add("free"):this.div.addEventListener("keydown",this.#y.bind(this),{signal:this._uiManager._signal});const e=this.#d=document.createElement("div");n.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[i,o]=this.parentDimensions;return this.setDims(this.width*i,this.height*o),s4(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#_,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#_,"hovered")}#y(n){ts._keyboardManager.exec(this,n)}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:this.#A(!0);break;case 1:case 3:this.#A(!1)}}#A(n){if(!this.#e)return;const e=window.getSelection();n?e.setPosition(this.#e,this.#t):e.setPosition(this.#l,this.#c)}select(){super.select(),this.#_&&(this.parent?.drawLayer.removeClass(this.#_,"hovered"),this.parent?.drawLayer.addClass(this.#_,"selected"))}unselect(){super.unselect(),this.#_&&(this.parent?.drawLayer.removeClass(this.#_,"selected"),this.#r||this.#A(!1))}get _mustFixPosition(){return!this.#r}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(this.#u,n),this.parent.drawLayer.show(this.#_,n))}#P(){return this.#r?this.rotation:0}#x(){if(this.#r)return null;const[n,e]=this.pageDimensions,[i,o]=this.pageTranslation,s=this.#n,r=new Float32Array(8*s.length);let a=0;for(const{x:l,y:c,width:h,height:p}of s){const f=l*n+i,v=(1-c-p)*e+o;r[a]=r[a+4]=f,r[a+1]=r[a+3]=v,r[a+2]=r[a+6]=f+h*n,r[a+5]=r[a+7]=v+p*e,a+=8}return r}#E(n){return this.#a.serialize(n,this.#P())}static startHighlighting(n,e,{target:i,x:o,y:s}){const{x:r,y:a,width:l,height:c}=i.getBoundingClientRect(),h=new AbortController,p=n.combinedSignal(h),v=C=>{h.abort(),this.#N(n,C)};window.addEventListener("blur",v,{signal:p}),window.addEventListener("pointerup",v,{signal:p}),window.addEventListener("pointerdown",C=>{C.preventDefault(),C.stopPropagation()},{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",p1,{signal:p}),i.addEventListener("pointermove",this.#C.bind(this,n),{signal:p}),this._freeHighlight=new lT({x:o,y:s},[r,a,l,c],n.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#C(n,e){this._freeHighlight.add(e)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#N(n,e){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(n,e,i){var o=()=>super.deserialize,s=this;return V(function*(){let r=null;if(n instanceof Mk){const{data:{quadPoints:D,rect:P,rotation:I,id:k,color:R,opacity:ee,popupRef:re},parent:{page:{pageNumber:fe}}}=n;r=n={annotationType:Zn.HIGHLIGHT,color:Array.from(R),opacity:ee,quadPoints:D,boxes:null,pageIndex:fe-1,rect:P.slice(0),rotation:I,id:k,deleted:!1,popupRef:re}}else if(n instanceof aT){const{data:{inkLists:D,rect:P,rotation:I,id:k,color:R,borderStyle:{rawWidth:ee},popupRef:re},parent:{page:{pageNumber:fe}}}=n;r=n={annotationType:Zn.HIGHLIGHT,color:Array.from(R),thickness:ee,inkLists:D,boxes:null,pageIndex:fe-1,rect:P.slice(0),rotation:I,id:k,deleted:!1,popupRef:re}}const{color:a,quadPoints:l,inkLists:c,opacity:h}=n,p=yield o().call(s,n,e,i);p.color=on.makeHexColor(...a),p.#p=h||1,c&&(p.#m=n.thickness),p.annotationElementId=n.id||null,p._initialData=r;const[f,v]=p.pageDimensions,[C,E]=p.pageTranslation;if(l){const D=p.#n=[];for(let P=0;P<l.length;P+=8)D.push({x:(l[P]-C)/f,y:1-(l[P+1]-E)/v,width:(l[P+2]-l[P])/f,height:(l[P+1]-l[P+5])/v});p.#v(),p.#O(),p.rotate(p.rotation)}else if(c){p.#r=!0;const D=c[0],P={x:D[0]-C,y:v-(D[1]-E)},I=new lT(P,[0,0,f,v],1,p.#m/2,!0,.001);for(let ee=0,re=D.length;ee<re;ee+=2)P.x=D[ee]-C,P.y=v-(D[ee+1]-E),I.add(P);const{id:k,clipPathId:R}=e.drawLayer.draw(I,p.color,p._defaultOpacity,!0);p.#M({highlightOutlines:I.getOutlines(),highlightId:k,clipPathId:R}),p.#O()}return p})()}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),i=In._colorManager.convert(this.color),o={annotationType:Zn.HIGHLIGHT,color:i,opacity:this.#p,thickness:this.#m,quadPoints:this.#x(),outlines:this.#E(e),pageIndex:this.pageIndex,rect:e,rotation:this.#P(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#I(o)?null:(o.id=this.annotationElementId,o)}#I(n){const{color:e}=this._initialData;return n.color.some((i,o)=>i!==e[o])}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class tr extends In{#e=0;#t=0;#n=null;#i=new Path2D;#o=!1;#s=null;#l=!1;#c=!1;#d=null;#a=null;#u=0;#r=0;#h=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=Zn.INK;constructor(n){super({...n,name:"inkEditor"}),this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,e){In.initialize(n,e)}static updateDefaultParams(n,e){switch(n){case Pn.INK_THICKNESS:tr._defaultThickness=e;break;case Pn.INK_COLOR:tr._defaultColor=e;break;case Pn.INK_OPACITY:tr._defaultOpacity=e/100}}updateParams(n,e){switch(n){case Pn.INK_THICKNESS:this.#p(e);break;case Pn.INK_COLOR:this.#_(e);break;case Pn.INK_OPACITY:this.#g(e)}}static get defaultPropertiesToUpdate(){return[[Pn.INK_THICKNESS,tr._defaultThickness],[Pn.INK_COLOR,tr._defaultColor||In._defaultLineColor],[Pn.INK_OPACITY,Math.round(100*tr._defaultOpacity)]]}get propertiesToUpdate(){return[[Pn.INK_THICKNESS,this.thickness||tr._defaultThickness],[Pn.INK_COLOR,this.color||tr._defaultColor||In._defaultLineColor],[Pn.INK_OPACITY,Math.round(100*(this.opacity??tr._defaultOpacity))]]}#p(n){const e=o=>{this.thickness=o,this.#L()},i=this.thickness;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#_(n){const e=o=>{this.color=o,this.#S()},i=this.color;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pn.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(n){const e=o=>{this.opacity=o,this.#S()},i=this.opacity;this.addCommands({cmd:e.bind(this,n/=100),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pn.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#x(),this.#E()),this.isAttachedToDOM||(this.parent.add(this),this.#C()),this.#L()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#n&&(clearTimeout(this.#n),this.#n=null),this.#d?.disconnect(),this.#d=null,super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&null===n&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,e]=this.parentDimensions;this.setDimensions(this.width*n,this.height*e)}enableEditMode(){this.#o||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.#y())}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#A())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#m(){const{parentRotation:n,parentDimensions:[e,i]}=this;switch(n){case 90:return[0,i,i,e];case 180:return[e,i,e,i];case 270:return[e,0,i,e];default:return[0,0,e,i]}}#f(){const{ctx:n,color:e,opacity:i,thickness:o,parentScale:s,scaleFactor:r}=this;n.lineWidth=o*s/r,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${e}${function Que(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}(i)}`}#v(n,e){this.canvas.addEventListener("contextmenu",p1,{signal:this._uiManager._signal}),this.#A(),this.#s=new AbortController;const i=this._uiManager.combinedSignal(this.#s);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,this.#c||(this.#c=!0,this.#C(),this.thickness||=tr._defaultThickness,this.color||=tr._defaultColor||In._defaultLineColor,this.opacity??=tr._defaultOpacity),this.currentPath.push([n,e]),this.#l=!1,this.#f(),this.#h=()=>{this.#w(),this.#h&&window.requestAnimationFrame(this.#h)},window.requestAnimationFrame(this.#h)}#M(n,e){const[i,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===i&&e===o)return;const s=this.currentPath;let r=this.#i;if(s.push([n,e]),this.#l=!0,s.length<=2)return r.moveTo(...s[0]),void r.lineTo(n,e);3===s.length&&(this.#i=r=new Path2D,r.moveTo(...s[0])),this.#D(r,...s.at(-3),...s.at(-2),n,e)}#b(){if(0===this.currentPath.length)return;const n=this.currentPath.at(-1);this.#i.lineTo(...n)}#T(n,e){let i;if(this.#h=null,n=Math.min(Math.max(n,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),this.#M(n,e),this.#b(),1!==this.currentPath.length)i=this.#O();else{const l=[n,e];i=[[l,l.slice(),l.slice(),l]]}const o=this.#i,s=this.currentPath;this.currentPath=[],this.#i=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#x(),this.#E()),this.#L())},mustExec:!0})}#w(){if(!this.#l)return;this.#l=!1;Math.ceil(this.thickness*this.parentScale);const e=this.currentPath.slice(-3),i=e.map(h=>h[0]),o=e.map(h=>h[1]),{ctx:c}=(Math.min(...i),Math.max(...i),Math.min(...o),Math.max(...o),this);c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(this.#i),c.restore()}#D(n,e,i,o,s,r,a){const l=(e+o)/2,c=(i+s)/2,h=(o+r)/2,p=(s+a)/2;n.bezierCurveTo(l+2*(o-l)/3,c+2*(s-c)/3,h+2*(o-h)/3,p+2*(s-p)/3,h,p)}#O(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const e=[];let i,[o,s]=n[0];for(i=1;i<n.length-2;i++){const[f,v]=n[i],[C,E]=n[i+1],D=(f+C)/2,P=(v+E)/2;e.push([[o,s],[o+2*(f-o)/3,s+2*(v-s)/3],[D+2*(f-D)/3,P+2*(v-P)/3],[D,P]]),[o,s]=[D,P]}const[r,a]=n[i],[l,c]=n[i+1];return e.push([[o,s],[o+2*(r-o)/3,s+2*(a-s)/3],[l+2*(r-l)/3,c+2*(a-c)/3],[l,c]]),e}#S(){if(this.isEmpty())return void this.#I();this.#f();const{canvas:n,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n.width,n.height),this.#I();for(const i of this.bezierPath2D)e.stroke(i)}commit(){this.#o||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#o=!0,this.div.classList.add("disabled"),this.#L(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}#y(){if(this.#a)return;this.#a=new AbortController;const n=this._uiManager.combinedSignal(this.#a);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:n})}#A(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(n){0!==n.button||!this.isInEditMode()||this.#o||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#v(n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),this.#M(n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),this.#P(n)}canvasPointerleave(n){this.#P(n)}#P(n){this.#s?.abort(),this.#s=null,this.#y(),this.#n&&clearTimeout(this.#n),this.#n=setTimeout(()=>{this.#n=null,this.canvas.removeEventListener("contextmenu",p1)},10),this.#T(n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#x(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#E(){this.#d=new ResizeObserver(n=>{const e=n[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)}),this.#d.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#d?.disconnect(),this.#d=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#o}render(){if(this.div)return this.div;let n,e;this.width&&(n=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,o,s,r]=this.#m();if(this.setAt(i,o,0,0),this.setDims(s,r),this.#x(),this.width){const[a,l]=this.parentDimensions;this.setAspectRatio(this.width*a,this.height*l),this.setAt(n*a,e*l,this.width*a,this.height*l),this.#c=!0,this.#C(),this.setDims(this.width*a,this.height*l),this.#S(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#E(),this.div}#C(){if(!this.#c)return;const[n,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*e),this.#I()}setDimensions(n,e){const i=Math.round(n),o=Math.round(e);if(this.#u===i&&this.#r===o)return;this.#u=i,this.#r=o,this.canvas.style.visibility="hidden";const[s,r]=this.parentDimensions;this.width=n/s,this.height=e/r,this.fixAndSetPosition(),this.#o&&this.#N(n,e),this.#C(),this.#S(),this.canvas.style.visibility="visible",this.fixDims()}#N(n,e){const i=this.#V(),o=(n-i)/this.#t,s=(e-i)/this.#e;this.scaleFactor=Math.min(o,s)}#I(){const n=this.#V()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)}static#k(n){const e=new Path2D;for(let i=0,o=n.length;i<o;i++){const[s,r,a,l]=n[i];0===i&&e.moveTo(...s),e.bezierCurveTo(r[0],r[1],a[0],a[1],l[0],l[1])}return e}static#$(n,e,i){const[o,s,r,a]=e;switch(i){case 0:for(let l=0,c=n.length;l<c;l+=2)n[l]+=o,n[l+1]=a-n[l+1];break;case 90:for(let l=0,c=n.length;l<c;l+=2){const h=n[l];n[l]=n[l+1]+o,n[l+1]=h+s}break;case 180:for(let l=0,c=n.length;l<c;l+=2)n[l]=r-n[l],n[l+1]+=s;break;case 270:for(let l=0,c=n.length;l<c;l+=2){const h=n[l];n[l]=r-n[l+1],n[l+1]=a-h}break;default:throw new Error("Invalid rotation")}return n}static#H(n,e,i){const[o,s,r,a]=e;switch(i){case 0:for(let l=0,c=n.length;l<c;l+=2)n[l]-=o,n[l+1]=a-n[l+1];break;case 90:for(let l=0,c=n.length;l<c;l+=2){const h=n[l];n[l]=n[l+1]-s,n[l+1]=h-o}break;case 180:for(let l=0,c=n.length;l<c;l+=2)n[l]=r-n[l],n[l+1]-=s;break;case 270:for(let l=0,c=n.length;l<c;l+=2){const h=n[l];n[l]=a-n[l+1],n[l+1]=r-h}break;default:throw new Error("Invalid rotation")}return n}#F(n,e,i,o){const s=[],r=this.thickness/2,a=n*e+r,l=n*i+r;for(const c of this.paths){const h=[],p=[];for(let f=0,v=c.length;f<v;f++){const[C,E,D,P]=c[f];if(C[0]===P[0]&&C[1]===P[1]&&1===v){const me=n*C[0]+a,Fe=n*C[1]+l;h.push(me,Fe),p.push(me,Fe);break}const I=n*C[0]+a,k=n*C[1]+l,R=n*E[0]+a,ee=n*E[1]+l,re=n*D[0]+a,fe=n*D[1]+l,pe=n*P[0]+a,ue=n*P[1]+l;0===f&&(h.push(I,k),p.push(I,k)),h.push(R,ee,re,fe,pe,ue),p.push(R,ee),f===v-1&&p.push(pe,ue)}s.push({bezier:tr.#$(h,o,this.rotation),points:tr.#$(p,o,this.rotation)})}return s}#z(){let n=1/0,e=-1/0,i=1/0,o=-1/0;for(const s of this.paths)for(const[r,a,l,c]of s){const h=on.bezierBoundingBox(...r,...a,...l,...c);n=Math.min(n,h[0]),i=Math.min(i,h[1]),e=Math.max(e,h[2]),o=Math.max(o,h[3])}return[n,i,e,o]}#V(){return this.#o?Math.ceil(this.thickness*this.parentScale):0}#L(n=!1){if(this.isEmpty())return;if(!this.#o)return void this.#S();const e=this.#z(),i=this.#V();this.#t=Math.max(In.MIN_SIZE,e[2]-e[0]),this.#e=Math.max(In.MIN_SIZE,e[3]-e[1]);const o=Math.ceil(i+this.#t*this.scaleFactor),s=Math.ceil(i+this.#e*this.scaleFactor),[r,a]=this.parentDimensions;this.width=o/r,this.height=s/a,this.setAspectRatio(o,s);const l=this.translationX,c=this.translationY;this.translationX=-e[0],this.translationY=-e[1],this.#C(),this.#S(),this.#u=o,this.#r=s,this.setDims(o,s);const h=n?i/this.scaleFactor/2:0;this.translate(l-this.translationX-h,c-this.translationY-h)}static deserialize(n,e,i){var o=()=>super.deserialize,s=this;return V(function*(){if(n instanceof aT)return null;const r=yield o().call(s,n,e,i);r.thickness=n.thickness,r.color=on.makeHexColor(...n.color),r.opacity=n.opacity;const[a,l]=r.pageDimensions,c=r.width*a,h=r.height*l,p=r.parentScale,f=n.thickness/2;r.#o=!0,r.#u=Math.round(c),r.#r=Math.round(h);const{paths:v,rect:C,rotation:E}=n;for(let{bezier:P}of v){P=tr.#H(P,C,E);const I=[];r.paths.push(I);let k=p*(P[0]-f),R=p*(P[1]-f);for(let re=2,fe=P.length;re<fe;re+=6){const bt=p*(P[re+4]-f),nt=p*(P[re+5]-f);I.push([[k,R],[p*(P[re]-f),p*(P[re+1]-f)],[p*(P[re+2]-f),p*(P[re+3]-f)],[bt,nt]]),k=bt,R=nt}const ee=s.#k(I);r.bezierPath2D.push(ee)}const D=r.#z();return r.#t=Math.max(In.MIN_SIZE,D[2]-D[0]),r.#e=Math.max(In.MIN_SIZE,D[3]-D[1]),r.#N(c,h),r})()}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),e=In._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Zn.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:this.#F(this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class cT extends In{#e=null;#t=null;#n=null;#i=null;#o=null;#s="";#l=null;#c=null;#d=null;#a=!1;#u=!1;static _type="stamp";static _editorType=Zn.STAMP;constructor(n){super({...n,name:"stampEditor"}),this.#i=n.bitmapUrl,this.#o=n.bitmapFile}static initialize(n,e){In.initialize(n,e)}static get supportedTypes(){return fi(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>`image/${e}`))}static get supportedTypesStr(){return fi(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,e){e.pasteEditor(Zn.STAMP,{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(n){const e=n.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#r(n,e=!1){n?(this.#e=n.bitmap,e||(this.#t=n.id,this.#a=n.isSvg),n.file&&(this.#s=n.file.name),this.#_()):this.remove()}#h(){if(this.#n=null,this._uiManager.enableWaiting(!1),this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e)return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(n=null,e=!0){var i=this;return V(function*(){if(i.hasAltTextData())return null;const{mlManager:o}=i._uiManager;if(!o)throw new Error("No ML.");if(!(yield o.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");const{data:s,width:r,height:a}=n||i.copyCanvas(null,null,!0).imageData,l=yield o.guess({name:"altText",request:{data:s,width:r,height:a,channels:s.length/(r*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return yield i.setGuessedAltText(c),e&&!i.hasAltTextData()&&(i.altTextData={alt:c,decorative:!1}),c})()}#p(){var n=this;if(this.#t)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#t).then(o=>this.#r(o,!0)).finally(()=>this.#h());if(this.#i){const o=this.#i;return this.#i=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromUrl(o).then(s=>this.#r(s)).finally(()=>this.#h()))}if(this.#o){const o=this.#o;return this.#o=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromFile(o).then(s=>this.#r(s)).finally(()=>this.#h()))}const e=document.createElement("input");e.type="file",e.accept=cT.supportedTypesStr;const i=this._uiManager._signal;this.#n=new Promise(o=>{e.addEventListener("change",V(function*(){if(e.files&&0!==e.files.length){n._uiManager.enableWaiting(!0);const s=yield n._uiManager.imageManager.getFromFile(e.files[0]);n._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:n._uiManager.useNewAltTextFlow}}),n.#r(s)}else n.remove();o()}),{signal:i}),e.addEventListener("cancel",()=>{this.remove(),o()},{signal:i})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#l?.remove(),this.#l=null,this.#c?.disconnect(),this.#c=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#t&&null===this.#l&&this.#p(),this.isAttachedToDOM||this.parent.add(this))):this.#t&&this.#p()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#o||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let n,e;if(this.width&&(n=this.x,e=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#e?this.#_():this.#p(),this.width&&!this.annotationElementId){const[i,o]=this.parentDimensions;this.setAt(n*i,e*o,this.width*i,this.height*o)}return this.div}#_(){const{div:n}=this;let{width:e,height:i}=this.#e;const[o,s]=this.pageDimensions,r=.75;if(this.width)e=this.width*o,i=this.height*s;else if(e>r*o||i>r*s){const h=Math.min(r*o/e,r*s/i);e*=h,i*=h}const[a,l]=this.parentDimensions;this.setDims(e*a/o,i*l/s),this._uiManager.enableWaiting(!1);const c=this.#l=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),this.#f(e,i),this.#M(),this.#u||(this.parent.addUndoableEditor(this),this.#u=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&c.setAttribute("aria-label",this.#s)}copyCanvas(n,e,i=!1){n||(n=224);const{width:o,height:s}=this.#e,r=new GM;let a=this.#e,l=o,c=s,h=null;if(e){if(o>e||s>e){const re=Math.min(e/o,e/s);l=Math.floor(o*re),c=Math.floor(s*re)}h=document.createElement("canvas");const f=h.width=Math.ceil(l*r.sx),v=h.height=Math.ceil(c*r.sy);this.#a||(a=this.#m(f,v));const C=h.getContext("2d");C.filter=this._uiManager.hcmFilter;let E="white",D="#cfcfd8";"none"!==this._uiManager.hcmFilter?D="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(E="#8f8f9d",D="#42414d");const P=15,I=P*r.sx,k=P*r.sy,R=new OffscreenCanvas(2*I,2*k),ee=R.getContext("2d");ee.fillStyle=E,ee.fillRect(0,0,2*I,2*k),ee.fillStyle=D,ee.fillRect(0,0,I,k),ee.fillRect(I,k,I,k),C.fillStyle=C.createPattern(R,"repeat"),C.fillRect(0,0,f,v),C.drawImage(a,0,0,a.width,a.height,0,0,f,v)}let p=null;if(i){let f,v;if(r.symmetric&&a.width<n&&a.height<n)f=a.width,v=a.height;else if(a=this.#e,o>n||s>n){const D=Math.min(n/o,n/s);f=Math.floor(o*D),v=Math.floor(s*D),this.#a||(a=this.#m(f,v))}const E=new OffscreenCanvas(f,v).getContext("2d",{willReadFrequently:!0});E.drawImage(a,0,0,a.width,a.height,0,0,f,v),p={width:f,height:v,data:E.getImageData(0,0,f,v).data}}return{canvas:h,width:l,height:c,imageData:p}}#g(n,e){const[i,o]=this.parentDimensions;this.width=n/i,this.height=e/o,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#d&&clearTimeout(this.#d),this.#d=setTimeout(()=>{this.#d=null,this.#f(n,e)},200)}#m(n,e){const{width:i,height:o}=this.#e;let s=i,r=o,a=this.#e;for(;s>2*n||r>2*e;){const l=s,c=r;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const h=new OffscreenCanvas(s,r);h.getContext("2d").drawImage(a,0,0,l,c,0,0,s,r),a=h.transferToImageBitmap()}return a}#f(n,e){const i=new GM,o=Math.ceil(n*i.sx),s=Math.ceil(e*i.sy),r=this.#l;if(!r||r.width===o&&r.height===s)return;r.width=o,r.height=s;const a=this.#a?this.#e:this.#m(o,s),l=r.getContext("2d");l.filter=this._uiManager.hcmFilter,l.drawImage(a,0,0,a.width,a.height,0,0,o,s)}getImageForAltText(){return this.#l}#v(n){if(n){if(this.#a){const o=this._uiManager.imageManager.getSvgUrl(this.#t);if(o)return o}const e=document.createElement("canvas");return({width:e.width,height:e.height}=this.#e),e.getContext("2d").drawImage(this.#e,0,0),e.toDataURL()}if(this.#a){const[e,i]=this.pageDimensions,o=Math.round(this.width*e*Y2.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Y2.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(o,s);return r.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,o,s),r.transferToImageBitmap()}return structuredClone(this.#e)}#M(){this._uiManager._signal&&(this.#c=new ResizeObserver(n=>{const e=n[0].contentRect;e.width&&e.height&&this.#g(e.width,e.height)}),this.#c.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#c?.disconnect(),this.#c=null},{once:!0}))}static deserialize(n,e,i){var o=()=>super.deserialize,s=this;return V(function*(){let r=null;if(n instanceof Tk){const{data:{rect:D,rotation:P,id:I,structParent:k,popupRef:R},container:ee,parent:{page:{pageNumber:re}}}=n,fe=ee.querySelector("canvas"),pe=i.imageManager.getFromCanvas(ee.id,fe);fe.remove();const ue=(yield e._structTree.getAriaAttributes(`${kM}${I}`))?.get("aria-label")||"";r=n={annotationType:Zn.STAMP,bitmapId:pe.id,bitmap:pe.bitmap,pageIndex:re-1,rect:D.slice(0),rotation:P,id:I,deleted:!1,accessibilityData:{decorative:!1,altText:ue},isSvg:!1,structParent:k,popupRef:R}}const a=yield o().call(s,n,e,i),{rect:l,bitmap:c,bitmapUrl:h,bitmapId:p,isSvg:f,accessibilityData:v}=n;p&&i.imageManager.isValidId(p)?(a.#t=p,c&&(a.#e=c)):a.#i=h,a.#a=f;const[C,E]=a.pageDimensions;return a.width=(l[2]-l[0])/C,a.height=(l[3]-l[1])/E,a.annotationElementId=n.id||null,v&&(a.altTextData=v),a._initialData=r,a.#u=!!r,a})()}serialize(n=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Zn.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#a,structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=this.#v(!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:o,altText:s}=this.serializeAltText(!1);if(!o&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const a=this.#b(i);if(a.isSame)return null;a.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,null===e)return i;e.stamps||=new Map;const r=this.#a?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(e.stamps.has(this.#t)){if(this.#a){const a=e.stamps.get(this.#t);r>a.area&&(a.area=r,a.serialized.bitmap.close(),a.serialized.bitmap=this.#v(!1))}}else e.stamps.set(this.#t,{area:r,serialized:i}),i.bitmap=this.#v(!1);return i}#b(n){const{rect:e,pageIndex:i,accessibilityData:{altText:o}}=this._initialData,s=n.rect.every((l,c)=>Math.abs(l-e[c])<1),r=n.pageIndex===i,a=(n.accessibilityData?.alt||"")===o;return{isSame:s&&r&&a,isSameAltText:a}}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}}let I_e=(()=>{class t{#e;#t=!1;#n=null;#i=null;#o=null;#s=new Map;#l=!1;#c=!1;#d=!1;#a=null;#u=null;#r;static _initialized=!1;static#h=new Map([Ns,tr,cT,ts].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:i,div:o,structTreeLayer:s,accessibilityManager:r,annotationLayer:a,drawLayer:l,textLayer:c,viewport:h,l10n:p}){const f=[...t.#h.values()];if(!t._initialized){t._initialized=!0;for(const v of f)v.initialize(p,e)}e.registerEditorTypes(f),this.#r=e,this.pageIndex=i,this.div=o,this.#e=r,this.#n=a,this.viewport=h,this.#a=c,this.drawLayer=l,this._structTree=s,this.#r.addLayer(this)}get isEmpty(){return 0===this.#s.size}get isInvisible(){return this.isEmpty&&this.#r.getMode()===Zn.NONE}updateToolbar(e){this.#r.updateToolbar(e)}updateMode(e=this.#r.getMode()){switch(this.#f(),e){case Zn.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Zn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Zn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const o of t.#h.values())i.toggle(`${o._type}Editing`,e===o._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#a?.div}addInkEditorIfNeeded(e){if(this.#r.getMode()===Zn.INK){if(!e)for(const o of this.#s.values())if(o.isEmpty())return void o.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(e){this.#r.setEditingState(e)}addCommands(e){this.#r.addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}enable(){var e=this;return V(function*(){e.div.tabIndex=0,e.togglePointerEvents(!0);const i=new Set;for(const s of e.#s.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(e.#r.removeChangedExistingAnnotation(s),i.add(s.annotationElementId));if(!e.#n)return;const o=e.#n.getEditableAnnotations();for(const s of o){if(s.hide(),e.#r.isDeletedAnnotationElement(s.data.id)||i.has(s.data.id))continue;const r=yield e.deserialize(s);r&&(e.addOrRebuild(r),r.enableEditing())}})()}disable(){this.#d=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const s of this.#s.values())if(s.disableEditing(),s.annotationElementId){if(null!==s.serialize()){e.set(s.annotationElementId,s);continue}i.set(s.annotationElementId,s),this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#n){const s=this.#n.getEditableAnnotations();for(const r of s){const{id:a}=r.data;if(this.#r.isDeletedAnnotationElement(a))continue;let l=i.get(a);l?(l.resetAnnotationElement(r),l.show(!1),r.show()):(l=e.get(a),l&&(this.#r.addChangedExistingAnnotation(l),l.renderAnnotationElement(r)&&l.show(!1)),r.show())}}this.#f(),this.isEmpty&&(this.div.hidden=!0);const{classList:o}=this.div;for(const s of t.#h.values())o.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#d=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#r.getActive()!==e&&this.#r.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#a?.div&&!this.#u){this.#u=new AbortController;const e=this.#r.combinedSignal(this.#u);this.#a.div.addEventListener("pointerdown",this.#p.bind(this),{signal:e}),this.#a.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#a?.div&&this.#u&&(this.#u.abort(),this.#u=null,this.#a.div.classList.remove("highlighting"))}#p(e){this.#r.unselectAll();const{target:i}=e;if(i===this.#a.div||("img"===i.getAttribute("role")||i.classList.contains("endOfContent"))&&this.#a.div.contains(i)){const{isMac:o}=Fr.platform;if(0!==e.button||e.ctrlKey&&o)return;this.#r.showAllEditors("highlight",!0,!0),this.#a.div.classList.add("free"),this.toggleDrawing(),ts.startHighlighting(this,"ltr"===this.#r.direction,{target:this.#a.div,x:e.x,y:e.y}),this.#a.div.addEventListener("pointerup",()=>{this.#a.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),e.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const e=this.#r.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){this.#i?.abort(),this.#i=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:i}=e;i&&this.#r.isDeletedAnnotationElement(i)&&this.#r.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#d&&e.annotationElementId&&this.#r.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#r.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#r.addDeletedAnnotationElement(e.annotationElementId),In.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),this.#r.addEditor(e),this.attach(e),!e.isAttachedToDOM){const i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#r.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!this.#o&&(e._focusEventsAllowed=!1,this.#o=setTimeout(()=>{this.#o=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),i.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#r.getId()}get#_(){return t.#h.get(this.#r.getMode())}combinedSignal(e){return this.#r.combinedSignal(e)}#g(e){const i=this.#_;return i?new i.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#_?.canCreateNewEmptyEditor()}pasteEditor(e,i){this.#r.updateToolbar(e),this.#r.updateMode(e);const{offsetX:o,offsetY:s}=this.#m(),r=this.getNextId(),a=this.#g({parent:this,id:r,x:o,y:s,uiManager:this.#r,isCentered:!0,...i});a&&this.add(a)}deserialize(e){var i=this;return V(function*(){return(yield t.#h.get(e.annotationType??e.annotationEditorType)?.deserialize(e,i,i.#r))||null})()}createAndAddNewEditor(e,i,o={}){const s=this.getNextId(),r=this.#g({parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:this.#r,isCentered:i,...o});return r&&this.add(r),r}#m(){const{x:e,y:i,width:o,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,e),a=Math.max(0,i),h=(r+Math.min(window.innerWidth,e+o))/2-e,p=(a+Math.min(window.innerHeight,i+s))/2-i,[f,v]=this.viewport.rotation%180==0?[h,p]:[p,h];return{offsetX:f,offsetY:v}}addNewEditor(){this.createAndAddNewEditor(this.#m(),!0)}setSelected(e){this.#r.setSelected(e)}toggleSelected(e){this.#r.toggleSelected(e)}unselect(e){this.#r.unselect(e)}pointerup(e){const{isMac:i}=Fr.platform;if(!(0!==e.button||e.ctrlKey&&i)&&e.target===this.div&&this.#l){if(this.#l=!1,!this.#t)return void(this.#t=!0);if(this.#r.getMode()===Zn.STAMP)return void this.#r.unselectAll();this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(this.#r.getMode()===Zn.HIGHLIGHT&&this.enableTextSelection(),this.#l)return void(this.#l=!1);const{isMac:i}=Fr.platform;if(0!==e.button||e.ctrlKey&&i||e.target!==this.div)return;this.#l=!0;const o=this.#r.getActive();this.#t=!o||o.isEmpty()}findNewParent(e,i,o){const s=this.#r.findParent(i,o);return null!==s&&s!==this&&(s.changeParent(e),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#o&&(clearTimeout(this.#o),this.#o=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#r.removeLayer(this)}#f(){this.#c=!0;for(const e of this.#s.values())e.isEmpty()&&e.remove();this.#c=!1}render({viewport:e}){this.viewport=e,Ld(this.div,e);for(const i of this.#r.getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){this.#r.commitOrRemove(),this.#f();const i=this.viewport.rotation,o=e.rotation;if(this.viewport=e,Ld(this.div,{rotation:o}),i!==o)for(const s of this.#s.values())s.rotate(o);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return this.#r.viewParameters.realScale}}return t})();class hr{#e=null;#t=0;#n=new Map;#i=new Map;constructor({pageIndex:n}){this.pageIndex=n}setParent(n){if(this.#e){if(this.#e!==n){if(this.#n.size>0)for(const e of this.#n.values())e.remove(),n.append(e);this.#e=n}}else this.#e=n}static get _svgFactory(){return fi(this,"_svgFactory",new sT)}static#o(n,{x:e=0,y:i=0,width:o=1,height:s=1}={}){const{style:r}=n;r.top=100*i+"%",r.left=100*e+"%",r.width=100*o+"%",r.height=100*s+"%"}#s(n){const e=hr._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),hr.#o(e,n),e}#l(n,e){const i=hr._svgFactory.createElement("clipPath");n.append(i);const o=`clip_${e}`;i.setAttribute("id",o),i.setAttribute("clipPathUnits","objectBoundingBox");const s=hr._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),o}draw(n,e,i,o=!1){const s=this.#t++,r=this.#s(n.box);r.classList.add(...n.classNamesForDrawing);const a=hr._svgFactory.createElement("defs");r.append(a);const l=hr._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",n.toSVGPath()),o&&this.#i.set(s,l);const h=this.#l(a,c),p=hr._svgFactory.createElement("use");return r.append(p),r.setAttribute("fill",e),r.setAttribute("fill-opacity",i),p.setAttribute("href",`#${c}`),this.#n.set(s,r),{id:s,clipPathId:`url(#${h})`}}drawOutline(n){const e=this.#t++,i=this.#s(n.box);i.classList.add(...n.classNamesForOutlining);const o=hr._svgFactory.createElement("defs");i.append(o);const s=hr._svgFactory.createElement("path");o.append(s);const r=`path_p${this.pageIndex}_${e}`;let a;if(s.setAttribute("id",r),s.setAttribute("d",n.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke"),n.mustRemoveSelfIntersections){const h=hr._svgFactory.createElement("mask");o.append(h),a=`mask_p${this.pageIndex}_${e}`,h.setAttribute("id",a),h.setAttribute("maskUnits","objectBoundingBox");const p=hr._svgFactory.createElement("rect");h.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const f=hr._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${r}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=hr._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${r}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.#n.set(e,i),e}finalizeLine(n,e){const i=this.#i.get(n);this.#i.delete(n),this.updateBox(n,e.box),i.setAttribute("d",e.toSVGPath())}updateLine(n,e){this.#n.get(n).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(n,e){this.#i.get(n).setAttribute("d",e.toSVGPath())}updateBox(n,e){hr.#o(this.#n.get(n),e)}show(n,e){this.#n.get(n).classList.toggle("hidden",!e)}rotate(n,e){this.#n.get(n).setAttribute("data-main-rotation",e)}changeColor(n,e){this.#n.get(n).setAttribute("fill",e)}changeOpacity(n,e){this.#n.get(n).setAttribute("fill-opacity",e)}addClass(n,e){this.#n.get(n).classList.add(e)}removeClass(n,e){this.#n.get(n).classList.remove(e)}getSVGRoot(n){return this.#n.get(n)}remove(n){this.#i.delete(n),null!==this.#e&&(this.#n.get(n).remove(),this.#n.delete(n))}destroy(){this.#e=null;for(const n of this.#n.values())n.remove();this.#n.clear(),this.#i.clear()}}var x_e=xn.AbortException,L_e=xn.AnnotationEditorLayer,R_e=xn.AnnotationEditorParamsType,Ek=xn.AnnotationEditorType,F_e=xn.AnnotationEditorUIManager,k_e=xn.AnnotationLayer,z_e=xn.AnnotationMode,V_e=xn.ColorPicker,H_e=xn.DOMSVGFactory,$_e=xn.DrawLayer,G_e=xn.FeatureTest,Ak=xn.GlobalWorkerOptions,B_e=xn.ImageKind,U_e=xn.InvalidPDFException,W_e=xn.MissingPDFException,Z_e=xn.OPS,j_e=xn.OutputScale,X_e=xn.PDFDataRangeTransport,K_e=xn.PDFDateString,q_e=xn.PDFWorker,Y_e=xn.PasswordResponses,Q_e=xn.PermissionFlag,J_e=xn.PixelsPerInch,epe=xn.RenderingCancelledException,tpe=xn.TextLayer,npe=xn.UnexpectedResponseException,ipe=xn.Util,Ok=xn.VerbosityLevel,ope=xn.XfaLayer,spe=xn.build,rpe=xn.createValidAbsoluteUrl,ape=xn.fetchData,yk=xn.getDocument,lpe=xn.getFilenameFromUrl,cpe=xn.getPdfFilenameFromUrl,dpe=xn.getXfaPageViewport,upe=xn.isDataScheme,hpe=xn.isPdfFile,_pe=xn.noContextMenu,ppe=xn.normalizeUnicode,gpe=xn.setLayerDimensions,fpe=xn.shadow,h4=xn.version;function Nk(t,n){this.v=t,this.k=n}function Dk(t){return new Nk(t,0)}function Pk(t){return function(){return new Ep(t.apply(this,arguments))}}function Ep(t){var n,e;function i(s,r){try{var a=t[s](r),l=a.value,c=l instanceof Nk;Promise.resolve(c?l.v:l).then(function(h){if(c){var p="return"===s?"return":"next";if(!l.k||h.done)return i(p,h);h=t[p](h).value}o(a.done?"return":"normal",h)},function(h){i("throw",h)})}catch(h){o("throw",h)}}function o(s,r){switch(s){case"return":n.resolve({value:r,done:!0});break;case"throw":n.reject(r);break;default:n.resolve({value:r,done:!1})}(n=n.next)?i(n.key,n.arg):e=null}this._invoke=function(s,r){return new Promise(function(a,l){var c={key:s,arg:r,resolve:a,reject:l,next:null};e?e=e.next=c:(n=e=c,i(s,r))})},"function"!=typeof t.return&&(this.return=void 0)}function _4(t){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var i=e.done;return Promise.resolve(e.value).then(function(o){return{value:o,done:i}})}return(_4=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(i){var o=this.s.return;return void 0===o?Promise.resolve({value:i,done:!0}):n(o.apply(this.s,arguments))},throw:function(i){var o=this.s.return;return void 0===o?Promise.reject(i):n(o.apply(this.s,arguments))}},new _4(t)}Ep.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ep.prototype.next=function(t){return this._invoke("next",t)},Ep.prototype.throw=function(t){return this._invoke("throw",t)},Ep.prototype.return=function(t){return this._invoke("return",t)};var Ap={d:(t,n)=>{for(var e in n)Ap.o(n,e)&&!Ap.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)},xo=globalThis.pdfjsViewer={};Ap.d(xo,{AnnotationLayerBuilder:()=>Kk,DownloadManager:()=>_ge,EventBus:()=>vT,FindState:()=>ac,GenericL10n:()=>rl,LinkTarget:()=>zd,PDFFindController:()=>Jpe,PDFHistory:()=>afe,PDFLinkService:()=>v4,PDFPageView:()=>Mz,PDFScriptingManager:()=>Mfe,PDFSinglePageViewer:()=>Sfe,PDFViewer:()=>bz,ProgressBar:()=>Dpe,RenderingStates:()=>jo,ScrollMode:()=>wi,SimpleLinkService:()=>pT,SpreadMode:()=>_r,StructTreeLayerBuilder:()=>vz,TextLayerBuilder:()=>ou,XfaLayerBuilder:()=>Cz,parseQueryString:()=>p4});const jo={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},wi={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},_r={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function Fk(t,n,e=!1){let i=t.offsetParent;if(!i)return void console.error("offsetParent is not set -- cannot scroll");let o=t.offsetTop+t.clientTop,s=t.offsetLeft+t.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||e&&(i.classList.contains("markedContent")||"hidden"===getComputedStyle(i).overflow);)if(o+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;n&&(void 0!==n.top&&(o+=n.top),void 0!==n.left&&(s+=n.left,i.scrollLeft=s)),i.scrollTop=o}function p4(t){const n=new Map;for(const[e,i]of new URLSearchParams(t))n.set(e.toLowerCase(),i);return n}const kk=/[\x00-\x1F]/g;function Op(t,n=!1){return kk.test(t)?n?t.replaceAll(kk,e=>"\0"===e?"":" "):t.replaceAll("\0",""):t}function yp(t,n,e=0){let i=e,o=t.length-1;if(o<0||!n(t[o]))return t.length;if(n(t[i]))return i;for(;i<o;){const s=i+o>>1;n(t[s])?o=s:i=s+1}return i}function zk(t){if(Math.floor(t)===t)return[t,1];const n=1/t;if(n>8)return[1,8];if(Math.floor(n)===n)return[1,n];const i=t>1?n:t;let l,o=0,s=1,r=1,a=1;for(;;){const c=o+r,h=s+a;if(h>8)break;i<=c/h?(r=c,a=h):(o=c,s=h)}return l=i-o/s<r/a-i?i===t?[o,s]:[s,o]:i===t?[r,a]:[a,r],l}function g4(t,n){return t-t%n}function Vk(t){return Number.isInteger(t)&&t%90==0}function Hk(t){return t.width<=t.height}new Promise(function(t){window.requestAnimationFrame(t)});const ype=document.documentElement.style;class Dpe{#e=null;#t=null;#n=0;#i=null;#o=!0;constructor(n){this.#e=n.classList,this.#i=n.style}get percent(){return this.#n}set percent(n){this.#n=function Npe(t,n,e){return Math.min(Math.max(t,n),e)}(n,0,100),isNaN(n)?this.#e.add("indeterminate"):(this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`))}setWidth(n){if(!n)return;const i=n.parentNode.offsetWidth-n.offsetWidth;i>0&&this.#i.setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(n=5e3){100===this.#n||isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},n))}hide(){this.#o&&(this.#o=!1,this.#e.add("hidden"))}show(){this.#o||(this.#o=!0,this.#e.remove("hidden"))}}const f4=function(){const t=document.createElement("div");return t.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)","calc(1320px)"===t.style.width?Math.fround:n=>n}();function m4(t){return function Ipe(t){return t<11904}(t)?function xpe(t){return!(65408&t)}(t)?function Fpe(t){return 32===t||9===t||13===t||10===t}(t)?0:function Lpe(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||function Rpe(t){return t>=48&&t<=57}(t)||95===t?1:2:function $pe(t){return 3584==(65408&t)}(t)?7:160===t?0:1:function kpe(t){return t>=13312&&t<=40959||t>=63744&&t<=64255}(t)?3:function zpe(t){return t>=12448&&t<=12543}(t)?4:function Vpe(t){return t>=12352&&t<=12447}(t)?5:function Hpe(t){return t>=65376&&t<=65439}(t)?6:1}let $k;const ac={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},Gk={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},Bk=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let Uk;const Zpe=new RegExp("\\p{M}+","gu"),jpe=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),Xpe=new RegExp("([^\\p{M}])\\p{M}*$","u"),Kpe=new RegExp("^\\p{M}*([^\\p{M}])","u"),qpe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Wk=new Map,Zk=new Map;let uT=null,hT=null;function _T(t){const n=[];let e,i;for(;null!==(e=qpe.exec(t));){let{index:v}=e;for(const C of e[0]){let E=Wk.get(C);E||(E=C.normalize("NFD").length,Wk.set(C,E)),n.push([E,v++])}}if(0===n.length&&uT)i=uT;else if(n.length>0&&hT)i=hT;else{const I=`([${Object.keys(Gk).join("")}])|([${function Gpe(){return $k||="\xa0\xa8\xaa\xaf\xb2-\xb5\xb8-\xba\xbc-\xbe\u0132-\u0133\u013f-\u0140\u0149\u017f\u01c4-\u01cc\u01f1-\u01f3\u02b0-\u02b8\u02d8-\u02dd\u02e0-\u02e4\u0374\u037a\u037e\u0384-\u0385\u0387\u03d0-\u03d6\u03f0-\u03f2\u03f4-\u03f5\u03f9\u0587\u0675-\u0678\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e33\u0eb3\u0edc-\u0edd\u0f0c\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u10fc\u1d2c-\u1d2e\u1d30-\u1d3a\u1d3c-\u1d4d\u1d4f-\u1d6a\u1d78\u1d9b-\u1dbf\u1e9a-\u1e9b\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbd-\u1fc1\u1fc9\u1fcb\u1fcd-\u1fcf\u1fd3\u1fdb\u1fdd-\u1fdf\u1fe3\u1feb\u1fed-\u1fef\u1ff9\u1ffb\u1ffd-\u1ffe\u2000-\u200a\u2011\u2017\u2024-\u2026\u202f\u2033-\u2034\u2036-\u2037\u203c\u203e\u2047-\u2049\u2057\u205f\u2070-\u2071\u2074-\u208e\u2090-\u209c\u20a8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211d\u2120-\u2122\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213b-\u2140\u2145-\u2149\u2150-\u217f\u2189\u222c-\u222d\u222f-\u2230\u2329-\u232a\u2460-\u24ea\u2a0c\u2a74-\u2a76\u2adc\u2c7c-\u2c7d\u2d6f\u2e9f\u2ef3\u2f00-\u2fd5\u3000\u3036\u3038-\u303a\u309b-\u309c\u309f\u30ff\u3131-\u318e\u3192-\u319f\u3200-\u321e\u3220-\u3247\u3250-\u327e\u3280-\u33ff\ua69c-\ua69d\ua770\ua7f2-\ua7f4\ua7f8-\ua7f9\uab5c-\uab5f\uab69\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfc\ufe10-\ufe19\ufe30-\ufe44\ufe47-\ufe52\ufe54-\ufe66\ufe68-\ufe6b\ufe70-\ufe72\ufe74\ufe76-\ufefc\uff01-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\uffe0-\uffe6",$k}()}])|((?:\u3099|\u309a)\\n)|(\\p{M}+(?:-\\n)?)|(\\p{Ll}-\\n\\p{Lu})|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30ff])\\n)|(\\n)`;i=0===n.length?uT=new RegExp(I+"|(\\u0000)","gum"):hT=new RegExp(I+"|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])","gum")}const o=[];for(;null!==(e=Zpe.exec(t));)o.push([e[0].length,e.index]);let s=t.normalize("NFD");const r=[[0,0]];let a=0,l=0,c=0,h=0,p=0,f=!1;return s=s.replace(i,(v,C,E,D,P,I,k,R,ee,re,fe)=>{if(fe-=h,C){const pe=Gk[C],ue=pe.length;for(let me=1;me<ue;me++)r.push([fe-c+me,c-me]);return c-=ue-1,pe}if(E){let pe=Zk.get(E);pe||(pe=E.normalize("NFKC"),Zk.set(E,pe));const ue=pe.length;for(let me=1;me<ue;me++)r.push([fe-c+me,c-me]);return c-=ue-1,pe}if(D)return f=!0,fe+p===o[a]?.[1]?++a:(r.push([fe-1-c+1,c-1]),c-=1,h+=1),r.push([fe-c+1,c]),h+=1,p+=1,D.charAt(0);if(P){const pe=P.endsWith("\n"),ue=pe?P.length-2:P.length;f=!0;let me=ue;fe+p===o[a]?.[1]&&(me-=o[a][0],++a);for(let Fe=1;Fe<=me;Fe++)r.push([fe-1-c+Fe,c-Fe]);return c-=me,h+=me,pe?(r.push([(fe+=ue-1)-c+1,1+c]),c+=1,h+=1,p+=1,P.slice(0,ue)):P}if(I)return r.push([fe-c+3,1+c]),c+=1,h+=1,p+=1,I.replace("\n","");if(k)return r.push([fe-c+(k.length-2),1+c]),c+=1,h+=1,p+=1,k.slice(0,-2);if(R)return r.push([fe-c+(R.length-1),c]),h+=1,p+=1,R.slice(0,-1);if(ee)return r.push([fe-c+1,c-1]),c-=1,h+=1,p+=1," ";if(fe+p===n[l]?.[1]){const pe=n[l][0]-1;++l;for(let ue=1;ue<=pe;ue++)r.push([fe-(c-ue),c-ue]);c-=pe,h+=pe}return re}),r.push([s.length,c]),[s,r,f]}class Jpe{#e=null;#t=!0;#n=0;constructor({linkService:n,eventBus:e,updateMatchesCountOnProgress:i=!0}){this._linkService=n,this._eventBus=e,this.#t=i,this.onIsPageVisible=null,this.#o(),e._on("find",this.#i.bind(this)),e._on("findbarclose",this.#v.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(n){this._pdfDocument&&this.#o(),n&&(this._pdfDocument=n,this._firstPageCapability.resolve())}#i(n){if(!n)return;const e=this._pdfDocument,{type:i}=n;(null===this.#e||this.#l(n))&&(this._dirtyMatch=!0),this.#e=n,"highlightallchange"!==i&&this.#T(ac.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||e&&this._pdfDocument!==e)return;this.#u();const o=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?this.#p():"again"===i?(this.#p(),o&&this.#e.highlightAll&&this.#h()):"highlightallchange"===i?(s?this.#p():this._highlightMatches=!0,this.#h()):this.#p():this._findTimeout=setTimeout(()=>{this.#p(),this._findTimeout=null},250)})}scrollMatchIntoView({element:n=null,selectedLeft:e=0,pageIndex:i=-1,matchIndex:o=-1}){this._scrollMatches&&n&&-1!==o&&o===this._selected.matchIdx&&-1!==i&&i===this._selected.pageIdx&&(this._scrollMatches=!1,Fk(n,{top:-50,left:e+-400},!0))}#o(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#s(){const{query:n}=this.#e;return"string"==typeof n?(n!==this._rawQuery&&(this._rawQuery=n,[this._normalizedQuery]=_T(n)),this._normalizedQuery):(n||[]).filter(e=>!!e).map(e=>_T(e)[0])}#l(n){const e=n.query,i=this.#e.query,o=typeof e;if(o!==typeof i)return!0;if("string"===o){if(e!==i)return!0}else if(JSON.stringify(e)!==JSON.stringify(i))return!0;switch(n.type){case"again":const r=this._selected.pageIdx+1,a=this._linkService;return r>=1&&r<=a.pagesCount&&r!==a.page&&!(this.onIsPageVisible?.(r)??1);case"highlightallchange":return!1}return!0}#c(n,e,i){let o=n.slice(0,e).match(Xpe);if(o){const s=n.charCodeAt(e),r=o[1].charCodeAt(0);if(m4(s)===m4(r))return!1}if(o=n.slice(e+i).match(Kpe),o){const s=n.charCodeAt(e+i-1),r=o[1].charCodeAt(0);if(m4(s)===m4(r))return!1}return!0}#d(n,e){const{matchDiacritics:i}=this.#e;let o=!1;return(n=n.replaceAll(jpe,(r,a,l,c,h,p)=>a?`[ ]*\\${a}[ ]*`:l?`[ ]*${l}[ ]*`:c?"[ ]+":i?h||p:h?Bk.has(h.charCodeAt(0))?h:"":e?(o=!0,`${p}\\p{M}*`):p)).endsWith("[ ]*")&&(n=n.slice(0,n.length-4)),i&&e&&(Uk||=String.fromCharCode(...Bk),o=!0,n=`${n}(?=[${Uk}]|[^\\p{M}]|$)`),[o,n]}#a(n){const e=this.#s;if(0===e.length)return;const o=this.match(e,this._pageContents[n],n),s=this._pageMatches[n]=[],r=this._pageMatchesLength[n]=[],a=this._pageDiffs[n];o?.forEach(({index:c,length:h})=>{const[p,f]=function Qpe(t,n,e){if(!t)return[n,e];const i=n,o=n+e-1;let s=yp(t,h=>h[0]>=i);t[s][0]>i&&--s;let r=yp(t,h=>h[0]>=o,s);t[r][0]>o&&--r;const a=i+t[s][1];return[a,o+t[r][1]+1-a]}(a,c,h);f&&(s.push(p),r.push(f))}),this.#e.highlightAll&&this.#r(n),this._resumePageIdx===n&&(this._resumePageIdx=null,this.#g());const l=s.length;this._matchesCountTotal+=l,this.#t?l>0&&this.#b():++this.#n===this._linkService.pagesCount&&this.#b()}match(n,e,i){const o=this._hasDiacritics[i];let s=!1;if("string"==typeof n?[s,n]=this.#d(n,o):n=n.sort().reverse().map(p=>{const[f,v]=this.#d(p,o);return s||=f,`(${v})`}).join("|"),!n)return;const{caseSensitive:r,entireWord:a}=this.#e;n=new RegExp(n,`g${s?"u":""}${r?"":"i"}`);const c=[];let h;for(;null!==(h=n.exec(e));)a&&!this.#c(e,h.index,h[0].length)||c.push({index:h.index,length:h[0].length});return c}#u(){if(this._extractTextPromises.length>0)return;let n=Promise.resolve();const e={disableNormalization:!0};for(let i=0,o=this._linkService.pagesCount;i<o;i++){const{promise:s,resolve:r}=Promise.withResolvers();this._extractTextPromises[i]=s,n=n.then(()=>this._pdfDocument.getPage(i+1).then(a=>a.getTextContent(e)).then(a=>{const l=[];for(const c of a.items)l.push(c.str),c.hasEOL&&l.push("\n");[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=_T(l.join("")),r()},a=>{console.error(`Unable to get text content for page ${i+1}`,a),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,r()}))}}#r(n){this._scrollMatches&&this._selected.pageIdx===n&&(this._linkService.page=n+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:n})}#h(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#p(){const n=this.#e.findPrevious,e=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=e,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#h();for(let r=0;r<i;r++)this._pendingFindMatches.has(r)||(this._pendingFindMatches.add(r),this._extractTextPromises[r].then(()=>{this._pendingFindMatches.delete(r),this.#a(r)}))}if(0===this.#s.length)return void this.#T(ac.FOUND);if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,null!==s.matchIdx){if(!n&&s.matchIdx+1<this._pageMatches[s.pageIdx].length||n&&s.matchIdx>0)return s.matchIdx=n?s.matchIdx-1:s.matchIdx+1,void this.#f(!0);this.#m(n)}this.#g()}#_(n){const e=this._offset,i=n.length,o=this.#e.findPrevious;return i?(e.matchIdx=o?i-1:0,this.#f(!0),!0):(this.#m(o),!!(e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0))&&(this.#f(!1),!0))}#g(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let n=null;do{const e=this._offset.pageIdx;if(n=this._pageMatches[e],!n){this._resumePageIdx=e;break}}while(!this.#_(n))}#m(n){const e=this._offset,i=this._linkService.pagesCount;e.pageIdx=n?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=i||e.pageIdx<0)&&(e.pageIdx=n?i-1:0,e.wrapped=!0)}#f(n=!1){let e=ac.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,n){const o=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=i?ac.WRAPPED:ac.FOUND,-1!==o&&o!==this._selected.pageIdx&&this.#r(o)}this.#T(e,this.#e.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#r(this._selected.pageIdx))}#v(n){const e=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||e&&this._pdfDocument!==e||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#T(ac.FOUND),this._highlightMatches=!1,this.#h())})}#M(){const{pageIdx:n,matchIdx:e}=this._selected;let i=0,o=this._matchesCountTotal;if(-1!==e){for(let s=0;s<n;s++)i+=this._pageMatches[s]?.length||0;i+=e+1}return(i<1||i>o)&&(i=o=0),{current:i,total:o}}#b(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#M()})}#T(n,e=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||n===ac.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:n,previous:e,entireWord:this.#e?.entireWord??null,matchesCount:this.#M(),rawQuery:this.#e?.query??null})}}const zd={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class v4{externalLinkEnabled=!0;constructor({eventBus:n,externalLinkTarget:e=null,externalLinkRel:i=null,ignoreDestinationZoom:o=!1}={}){this.eventBus=n,this.externalLinkTarget=e,this.externalLinkRel=i,this._ignoreDestinationZoom=o,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(n,e=null){this.baseUrl=e,this.pdfDocument=n}setViewer(n){this.pdfViewer=n}setHistory(n){this.pdfHistory=n}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(n){this.pdfDocument&&(this.pdfViewer.currentPageNumber=n)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(n){this.pdfDocument&&(this.pdfViewer.pagesRotation=n)}get isInPresentationMode(){return!!this.pdfDocument&&this.pdfViewer.isInPresentationMode}goToDestination(n){var e=this;return V(function*(){if(!e.pdfDocument)return;let i,o,s;if("string"==typeof n?(i=n,o=yield e.pdfDocument.getDestination(n)):(i=null,o=yield n),!Array.isArray(o))return void console.error(`goToDestination: "${o}" is not a valid destination array, for dest="${n}".`);const[r]=o;if(r&&"object"==typeof r){if(s=e.pdfDocument.cachedPageNumber(r),!s)try{s=(yield e.pdfDocument.getPageIndex(r))+1}catch{return void console.error(`goToDestination: "${r}" is not a valid page reference, for dest="${n}".`)}}else Number.isInteger(r)&&(s=r+1);!s||s<1||s>e.pagesCount?console.error(`goToDestination: "${s}" is not a valid page number, for dest="${n}".`):(e.pdfHistory&&(e.pdfHistory.pushCurrentPosition(),e.pdfHistory.push({namedDest:i,explicitDest:o,pageNumber:s})),e.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:o,ignoreDestinationZoom:e._ignoreDestinationZoom}))})()}goToPage(n){if(!this.pdfDocument)return;const e="string"==typeof n&&this.pdfViewer.pageLabelToPageNumber(n)||0|n;Number.isInteger(e)&&e>0&&e<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(e)),this.pdfViewer.scrollPageIntoView({pageNumber:e})):console.error(`PDFLinkService.goToPage: "${n}" is not a valid page.`)}addLinkAttributes(n,e,i=!1){if(!e||"string"!=typeof e)throw new Error('A valid "url" parameter must provided.');const o=i?zd.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?n.href=n.title=e:(n.href="",n.title=`Disabled: ${e}`,n.onclick=()=>!1);let r="";switch(o){case zd.NONE:break;case zd.SELF:r="_self";break;case zd.BLANK:r="_blank";break;case zd.PARENT:r="_parent";break;case zd.TOP:r="_top"}n.target=r,n.rel="string"==typeof s?s:"noopener noreferrer nofollow"}getDestinationHash(n){if("string"==typeof n){if(n.length>0)return this.getAnchorUrl("#"+escape(n))}else if(Array.isArray(n)){const e=JSON.stringify(n);if(e.length>0)return this.getAnchorUrl("#"+escape(e))}return this.getAnchorUrl("")}getAnchorUrl(n){return this.baseUrl?this.baseUrl+n:n}setHash(n){if(!this.pdfDocument)return;let e,i;if(n.includes("=")){const o=p4(n);if(o.has("search")){const s=o.get("search").replaceAll('"',""),r="true"===o.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:r?s:s.match(/\S+/g)})}if(o.has("page")&&(e=0|o.get("page")||1),o.has("zoom")){const s=o.get("zoom").split(","),r=s[0],a=parseFloat(r);r.includes("Fit")?"Fit"===r||"FitB"===r?i=[null,{name:r}]:"FitH"===r||"FitBH"===r||"FitV"===r||"FitBV"===r?i=[null,{name:r},s.length>1?0|s[1]:null]:"FitR"===r?5!==s.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:r},0|s[1],0|s[2],0|s[3],0|s[4]]:console.error(`PDFLinkService.setHash: "${r}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?0|s[1]:null,s.length>2?0|s[2]:null,a?a/100:r]}return i?this.pdfViewer.scrollPageIntoView({pageNumber:e||this.page,destArray:i,allowNegativeOffset:!0}):e&&(this.page=e),o.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:o.get("pagemode")}),void(o.has("nameddest")&&this.goToDestination(o.get("nameddest")))}i=unescape(n);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}"string"==typeof i||v4.#e(i)?this.goToDestination(i):console.error(`PDFLinkService.setHash: "${unescape(n)}" is not a valid destination.`)}executeNamedAction(n){if(this.pdfDocument){switch(n){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:n})}}executeSetOCGState(n){var e=this;return V(function*(){if(!e.pdfDocument)return;const i=e.pdfDocument,o=yield e.pdfViewer.optionalContentConfigPromise;i===e.pdfDocument&&(o.setOCGState(n),e.pdfViewer.optionalContentConfigPromise=Promise.resolve(o))})()}static#e(n){if(!Array.isArray(n)||n.length<2)return!1;const[e,i,...o]=n;if(("object"!=typeof e||!Number.isInteger(e?.num)||!Number.isInteger(e?.gen))&&!Number.isInteger(e)||"object"!=typeof i||"string"!=typeof i?.name)return!1;const s=o.length;let r=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;r=!1;break;default:return!1}for(const a of o)if(!("number"==typeof a||r&&null===a))return!1;return!0}}class pT extends v4{setDocument(n,e=null){}}const{AbortException:tge,AnnotationEditorLayer:nge,AnnotationEditorType:La,AnnotationEditorUIManager:ige,AnnotationLayer:oge,AnnotationMode:il,createValidAbsoluteUrl:sge,DrawLayer:rge,fetchData:jk,getPdfFilenameFromUrl:age,isPdfFile:lge,normalizeUnicode:cge,OutputScale:dge,PermissionFlag:C4,PixelsPerInch:ol,RenderingCancelledException:gT,setLayerDimensions:uge,shadow:M4,TextLayer:hge,version:Xk,XfaLayer:fT}=globalThis.pdfjsLib;class Kk{#e=null;#t=null;constructor({pdfPage:n,linkService:e,downloadManager:i,annotationStorage:o=null,imageResourcesPath:s="",renderForms:r=!0,enableScripting:a=!1,hasJSActionsPromise:l=null,fieldObjectsPromise:c=null,annotationCanvasMap:h=null,accessibilityManager:p=null,annotationEditorUIManager:f=null,onAppend:v=null}){this.pdfPage=n,this.linkService=e,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=r,this.annotationStorage=o,this.enableScripting=a,this._hasJSActionsPromise=l||Promise.resolve(!1),this._fieldObjectsPromise=c||Promise.resolve(null),this._annotationCanvasMap=h,this._accessibilityManager=p,this._annotationEditorUIManager=f,this.#e=v,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=e.eventBus}render(n,e,i="display"){var o=this;return V(function*(){if(o.div){if(o._cancelled||!o.annotationLayer)return;return void o.annotationLayer.update({viewport:n.clone({dontFlip:!0})})}const[s,r,a]=yield Promise.all([o.pdfPage.getAnnotations({intent:i}),o._hasJSActionsPromise,o._fieldObjectsPromise]);if(o._cancelled)return;const l=o.div=document.createElement("div");l.className="annotationLayer",o.#e?.(l),0!==s.length?(o.annotationLayer=new oge({div:l,accessibilityManager:o._accessibilityManager,annotationCanvasMap:o._annotationCanvasMap,annotationEditorUIManager:o._annotationEditorUIManager,page:o.pdfPage,viewport:n.clone({dontFlip:!0}),structTreeLayer:e?.structTreeLayer||null}),yield o.annotationLayer.render({annotations:s,imageResourcesPath:o.imageResourcesPath,renderForms:o.renderForms,linkService:o.linkService,downloadManager:o.downloadManager,annotationStorage:o.annotationStorage,enableScripting:o.enableScripting,hasJSActions:r,fieldObjects:a}),o.linkService.isInPresentationMode&&o.#n(3),o.#t||(o.#t=new AbortController,o._eventBus?._on("presentationmodechanged",c=>{o.#n(c.state)},{signal:o.#t.signal}))):o.hide()})()}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#n(n){if(!this.div)return;let e=!1;switch(n){case 3:e=!0;break;case 1:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=e)}}function qk(t,n){const e=document.createElement("a");if(!e.click)throw new Error('DownloadManager: "a.click()" is not supported.');e.href=t,e.target="_parent","download"in e&&(e.download=n),(document.body||document.documentElement).append(e),e.click(),e.remove()}class _ge{#e=new WeakMap;downloadData(n,e,i){qk(URL.createObjectURL(new Blob([n],{type:i})),e)}openOrDownloadData(n,e,i=null){const s=lge(e)?"application/pdf":"";return this.downloadData(n,e,s),!1}download(n,e,i){let o;if(n)o=URL.createObjectURL(new Blob([n],{type:"application/pdf"}));else{if(!sge(e,"http://example.com"))return void console.error(`download - not a valid URL: ${e}`);o=e+"#pdfjs.action=download"}qk(o,i)}}function mT(){return(mT=V(function*({target:t,name:n,delay:e=0}){if("object"!=typeof t||!n||"string"!=typeof n||!(Number.isInteger(e)&&e>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:o}=Promise.withResolvers(),s=new AbortController;function r(c){s.abort(),clearTimeout(l),o(c)}t[t instanceof vT?"_on":"addEventListener"](n,r.bind(null,"event"),{signal:s.signal});const l=setTimeout(r.bind(null,"timeout"),e);return i})).apply(this,arguments)}class vT{#e=Object.create(null);on(n,e,i=null){this._on(n,e,{external:!0,once:i?.once,signal:i?.signal})}off(n,e,i=null){this._off(n,e)}dispatch(n,e){const i=this.#e[n];if(!i||0===i.length)return;let o;for(const{listener:s,external:r,once:a}of i.slice(0))a&&this._off(n,s),r?(o||=[]).push(s):s(e);if(o){for(const s of o)s(e);o=null}}_on(n,e,i=null){let o=null;if(i?.signal instanceof AbortSignal){const{signal:r}=i;if(r.aborted)return void console.error("Cannot use an `aborted` signal.");const a=()=>this._off(n,e);o=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}(this.#e[n]||=[]).push({listener:e,external:!0===i?.external,once:!0===i?.once,rmAbort:o})}_off(n,e,i=null){const o=this.#e[n];if(o)for(let s=0,r=o.length;s<r;s++){const a=o[s];if(a.listener===e)return a.rmAbort?.(),void o.splice(s,1)}}}class T4{constructor(n){this.value=n}valueOf(){return this.value}}class ps extends T4{constructor(n="???"){super(n)}toString(n){return`{${this.value}}`}}class sl extends T4{constructor(n,e={}){super(n),this.opts=e}toString(n){try{return n.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(e){return n.reportError(e),this.value.toString(10)}}}class Np extends T4{constructor(n,e={}){super(n),this.opts=e}toString(n){try{return n.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(e){return n.reportError(e),new Date(this.value).toISOString()}}}function mge(t,n,e){return e===n||e instanceof sl&&n instanceof sl&&e.value===n.value||n instanceof sl&&"string"==typeof e&&e===t.memoizeIntlObject(Intl.PluralRules,n.opts).select(n.value)}function Jk(t,n,e){return n[e]?iu(t,n[e].value):(t.reportError(new RangeError("No default")),new ps)}function CT(t,n){const e=[],i=Object.create(null);for(const o of n)"narg"===o.type?i[o.name]=Dp(t,o.value):e.push(Dp(t,o));return{positional:e,named:i}}function Dp(t,n){switch(n.type){case"str":return n.value;case"num":return new sl(n.value,{minimumFractionDigits:n.precision});case"var":return function vge(t,{name:n}){let e;if(t.params){if(!Object.prototype.hasOwnProperty.call(t.params,n))return new ps(`$${n}`);e=t.params[n]}else{if(!t.args||!Object.prototype.hasOwnProperty.call(t.args,n))return t.reportError(new ReferenceError(`Unknown variable: $${n}`)),new ps(`$${n}`);e=t.args[n]}if(e instanceof T4)return e;switch(typeof e){case"string":return e;case"number":return new sl(e);case"object":if(e instanceof Date)return new Np(e.getTime());default:return t.reportError(new TypeError(`Variable type not supported: $${n}, ${typeof e}`)),new ps(`$${n}`)}}(t,n);case"mesg":return function Cge(t,{name:n,attr:e}){const i=t.bundle._messages.get(n);if(!i)return t.reportError(new ReferenceError(`Unknown message: ${n}`)),new ps(n);if(e){const o=i.attributes[e];return o?iu(t,o):(t.reportError(new ReferenceError(`Unknown attribute: ${e}`)),new ps(`${n}.${e}`))}return i.value?iu(t,i.value):(t.reportError(new ReferenceError(`No value: ${n}`)),new ps(n))}(t,n);case"term":return function Mge(t,{name:n,attr:e,args:i}){const o=`-${n}`,s=t.bundle._terms.get(o);if(!s)return t.reportError(new ReferenceError(`Unknown term: ${o}`)),new ps(o);if(e){const a=s.attributes[e];if(a){t.params=CT(t,i).named;const l=iu(t,a);return t.params=null,l}return t.reportError(new ReferenceError(`Unknown attribute: ${e}`)),new ps(`${o}.${e}`)}t.params=CT(t,i).named;const r=iu(t,s.value);return t.params=null,r}(t,n);case"func":return function Tge(t,{name:n,args:e}){let i=t.bundle._functions[n];if(!i)return t.reportError(new ReferenceError(`Unknown function: ${n}()`)),new ps(`${n}()`);if("function"!=typeof i)return t.reportError(new TypeError(`Function ${n}() is not callable`)),new ps(`${n}()`);try{let o=CT(t,e);return i(o.positional,o.named)}catch(o){return t.reportError(o),new ps(`${n}()`)}}(t,n);case"select":return function wge(t,{selector:n,variants:e,star:i}){let o=Dp(t,n);if(o instanceof ps)return Jk(t,e,i);for(const s of e)if(mge(t,o,Dp(t,s.key)))return iu(t,s.value);return Jk(t,e,i)}(t,n);default:return new ps}}function ez(t,n){if(t.dirty.has(n))return t.reportError(new RangeError("Cyclic reference")),new ps;t.dirty.add(n);const e=[],i=t.bundle._useIsolating&&n.length>1;for(const o of n)if("string"!=typeof o){if(t.placeables++,t.placeables>100)throw t.dirty.delete(n),new RangeError(`Too many placeables expanded: ${t.placeables}, max allowed is 100`);i&&e.push("\u2068"),e.push(Dp(t,o).toString(t)),i&&e.push("\u2069")}else e.push(t.bundle._transform(o));return t.dirty.delete(n),e.join("")}function iu(t,n){return"string"==typeof n?t.bundle._transform(n):ez(t,n)}class bge{constructor(n,e,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=n,this.errors=e,this.args=i}reportError(n){if(!(this.errors&&n instanceof Error))throw n;this.errors.push(n)}memoizeIntlObject(n,e){let i=this.bundle._intls.get(n);i||(i={},this.bundle._intls.set(n,i));let o=JSON.stringify(e);return i[o]||(i[o]=new n(this.bundle.locales,e)),i[o]}}function w4(t,n){const e=Object.create(null);for(const[i,o]of Object.entries(t))n.includes(i)&&(e[i]=o.valueOf());return e}const tz=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Sge(t,n){let e=t[0];if(e instanceof ps)return new ps(`NUMBER(${e.valueOf()})`);if(e instanceof sl)return new sl(e.valueOf(),{...e.opts,...w4(n,tz)});if(e instanceof Np)return new sl(e.valueOf(),{...w4(n,tz)});throw new TypeError("Invalid argument to NUMBER")}const nz=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Ege(t,n){let e=t[0];if(e instanceof ps)return new ps(`DATETIME(${e.valueOf()})`);if(e instanceof Np)return new Np(e.valueOf(),{...e.opts,...w4(n,nz)});if(e instanceof sl)return new Np(e.valueOf(),{...w4(n,nz)});throw new TypeError("Invalid argument to DATETIME")}const iz=new Map;class Oge{constructor(n,{functions:e,useIsolating:i=!0,transform:o=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(n)?n:[n],this._functions={NUMBER:Sge,DATETIME:Ege,...e},this._useIsolating=i,this._transform=o,this._intls=function Age(t){const n=Array.isArray(t)?t.join(" "):t;let e=iz.get(n);return void 0===e&&(e=new Map,iz.set(n,e)),e}(n)}hasMessage(n){return this._messages.has(n)}getMessage(n){return this._messages.get(n)}addResource(n,{allowOverrides:e=!1}={}){const i=[];for(let o=0;o<n.body.length;o++){let s=n.body[o];if(s.id.startsWith("-")){if(!1===e&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(!1===e&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(n,e=null,i=null){if("string"==typeof n)return this._transform(n);let o=new bge(this,i,e);try{return ez(o,n).toString(o)}catch(s){if(o.errors&&s instanceof Error)return o.errors.push(s),(new ps).toString(o);throw s}}}const MT=/^(-?[a-zA-Z][\w-]*) *= */gm,oz=/\.([a-zA-Z][\w-]*) *= */y,yge=/\*?\[/y,TT=/(-?[0-9]+(?:\.([0-9]+))?)/y,Nge=/([a-zA-Z][\w-]*)/y,sz=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,Dge=/^[A-Z][A-Z0-9_-]*$/,b4=/([^{}\n\r]+)/y,Pge=/([^\\"\n\r]*)/y,rz=/\\([\\"])/y,az=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,Ige=/^\n+/,lz=/ +$/,xge=/ *\r?\n/g,Lge=/( *)$/,Rge=/{\s*/y,cz=/\s*}/y,Fge=/\[\s*/y,kge=/\s*] */y,zge=/\s*\(\s*/y,Vge=/\s*->\s*/y,Hge=/\s*:\s*/y,$ge=/\s*,?\s*/y,Gge=/\s+/y;class Bge{constructor(n){this.body=[],MT.lastIndex=0;let e=0;for(;;){let ue=MT.exec(n);if(null===ue)break;e=MT.lastIndex;try{this.body.push(l(ue[1]))}catch(me){if(me instanceof SyntaxError)continue;throw me}}function i(ue){return ue.lastIndex=e,ue.test(n)}function o(ue,me){if(n[e]===ue)return e++,!0;if(me)throw new me(`Expected ${ue}`);return!1}function s(ue,me){if(i(ue))return e=ue.lastIndex,!0;if(me)throw new me(`Expected ${ue.toString()}`);return!1}function r(ue){ue.lastIndex=e;let me=ue.exec(n);if(null===me)throw new SyntaxError(`Expected ${ue.toString()}`);return e=ue.lastIndex,me}function a(ue){return r(ue)[1]}function l(ue){let me=h(),Fe=function c(){let ue=Object.create(null);for(;i(oz);){let me=a(oz),Fe=h();if(null===Fe)throw new SyntaxError("Expected attribute value");ue[me]=Fe}return ue}();if(null===me&&0===Object.keys(Fe).length)throw new SyntaxError("Expected message value or attributes");return{id:ue,value:me,attributes:Fe}}function h(){let ue;if(i(b4)&&(ue=a(b4)),"{"===n[e]||"}"===n[e])return p(ue?[ue]:[],1/0);let me=re();return me?ue?p([ue,me],me.length):(me.value=fe(me.value,Ige),p([me],me.length)):ue?fe(ue,lz):null}function p(ue=[],me){for(;;){if(i(b4)){ue.push(a(b4));continue}if("{"===n[e]){ue.push(f());continue}if("}"===n[e])throw new SyntaxError("Unbalanced closing brace");let Dt=re();if(!Dt)break;ue.push(Dt),me=Math.min(me,Dt.length)}let Fe=ue.length-1,bt=ue[Fe];"string"==typeof bt&&(ue[Fe]=fe(bt,lz));let nt=[];for(let Dt of ue)Dt instanceof dz&&(Dt=Dt.value.slice(0,Dt.value.length-me)),Dt&&nt.push(Dt);return nt}function f(){s(Rge,SyntaxError);let ue=v();if(s(cz))return ue;if(s(Vge)){let me=function D(){let Fe,ue=[],me=0;for(;i(yge);){o("*")&&(Fe=me);let bt=P(),nt=h();if(null===nt)throw new SyntaxError("Expected variant value");ue[me++]={key:bt,value:nt}}if(0===me)return null;if(void 0===Fe)throw new SyntaxError("Expected default variant");return{variants:ue,star:Fe}}();return s(cz,SyntaxError),{type:"select",selector:ue,...me}}throw new SyntaxError("Unclosed placeable")}function v(){if("{"===n[e])return f();if(i(sz)){let[,ue,me,Fe=null]=r(sz);if("$"===ue)return{type:"var",name:me};if(s(zge)){let bt=function C(){let ue=[];for(;;){switch(n[e]){case")":return e++,ue;case void 0:throw new SyntaxError("Unclosed argument list")}ue.push(E()),s($ge)}}();if("-"===ue)return{type:"term",name:me,attr:Fe,args:bt};if(Dge.test(me))return{type:"func",name:me,args:bt};throw new SyntaxError("Function names must be all upper-case")}return"-"===ue?{type:"term",name:me,attr:Fe,args:[]}:{type:"mesg",name:me,attr:Fe}}return I()}function E(){let ue=v();return"mesg"!==ue.type?ue:s(Hge)?{type:"narg",name:ue.name,value:I()}:ue}function P(){let ue;return s(Fge,SyntaxError),ue=i(TT)?k():{type:"str",value:a(Nge)},s(kge,SyntaxError),ue}function I(){if(i(TT))return k();if('"'===n[e])return function R(){o('"',SyntaxError);let ue="";for(;;){if(ue+=a(Pge),"\\"!==n[e]){if(o('"'))return{type:"str",value:ue};throw new SyntaxError("Unclosed string literal")}ue+=ee()}}();throw new SyntaxError("Invalid expression")}function k(){let[,ue,me=""]=r(TT),Fe=me.length;return{type:"num",value:parseFloat(ue),precision:Fe}}function ee(){if(i(rz))return a(rz);if(i(az)){let[,ue,me]=r(az),Fe=parseInt(ue||me,16);return Fe<=55295||57344<=Fe?String.fromCodePoint(Fe):"\ufffd"}throw new SyntaxError("Unknown escape sequence")}function re(){let ue=e;switch(s(Gge),n[e]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return pe(n.slice(ue,e))}return" "===n[e-1]&&pe(n.slice(ue,e))}function fe(ue,me){return ue.replace(me,"")}function pe(ue){let me=ue.replace(xge,"\n"),Fe=Lge.exec(ue)[1].length;return new dz(me,Fe)}}}class dz{constructor(n,e){this.value=n,this.length=e}}const Uge=/<|&#?\w+;/,Wge={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},Zge={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function jge(t,n){const{value:e}=n;if("string"==typeof e)if("title"===t.localName&&"http://www.w3.org/1999/xhtml"===t.namespaceURI)t.textContent=e;else if(Uge.test(e)){const i=t.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=e,function Xge(t,n){for(const e of t.childNodes)if(e.nodeType!==e.TEXT_NODE){if(e.hasAttribute("data-l10n-name")){const i=qge(n,e);t.replaceChild(i,e);continue}if(Qge(e)){const i=Yge(e);t.replaceChild(i,e);continue}console.warn(`An element of forbidden type "${e.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),t.replaceChild(wT(e),e)}n.textContent="",n.appendChild(t)}(i.content,t)}else t.textContent=e;uz(n,t)}function Kge(t,n){if(!t)return!1;for(let e of t)if(e.name===n)return!0;return!1}function uz(t,n){const e=n.hasAttribute("data-l10n-attrs")?n.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(n.attributes))hz(i.name,n,e)&&!Kge(t.attributes,i.name)&&n.removeAttribute(i.name);if(t.attributes)for(const i of Array.from(t.attributes))hz(i.name,n,e)&&n.getAttribute(i.name)!==i.value&&n.setAttribute(i.name,i.value)}function qge(t,n){const e=n.getAttribute("data-l10n-name"),i=t.querySelector(`[data-l10n-name="${e}"]`);return i?i.localName!==n.localName?(console.warn(`An element named "${e}" was found in the translation but its type ${n.localName} didn't match the element found in the source (${i.localName}).`),wT(n)):(t.removeChild(i),_z(n,i.cloneNode(!1))):(console.warn(`An element named "${e}" wasn't found in the source.`),wT(n))}function Yge(t){const n=t.ownerDocument.createElement(t.localName);return _z(t,n)}function wT(t){return t.ownerDocument.createTextNode(t.textContent)}function Qge(t){const n=Wge[t.namespaceURI];return n&&n.includes(t.localName)}function hz(t,n,e=null){if(e&&e.includes(t))return!0;const i=Zge[n.namespaceURI];if(!i)return!1;const o=t.toLowerCase(),s=n.localName;if(i.global.includes(o))return!0;if(!i[s])return!1;if(i[s].includes(o))return!0;if("http://www.w3.org/1999/xhtml"===n.namespaceURI&&"input"===s&&"value"===o){const r=n.type.toLowerCase();if("submit"===r||"button"===r||"reset"===r)return!0}return!1}function _z(t,n){return n.textContent=t.textContent,uz(t,n),n}class pz extends Array{static from(n){return n instanceof this?n:new this(n)}}Symbol;class Jge extends pz{constructor(n){if(super(),Symbol.asyncIterator in Object(n))this.iterator=n[Symbol.asyncIterator]();else{if(!(Symbol.iterator in Object(n)))throw new TypeError("Argument must implement the iteration protocol.");this.iterator=n[Symbol.iterator]()}}[Symbol.asyncIterator](){const n=this;let e=0;return{next:()=>V(function*(){return n.length<=e&&n.push(n.iterator.next()),n[e++]})()}}touchNext(n=1){var e=this;return V(function*(){let i=0;for(;i++<n;){const o=e[e.length-1];if(o&&(yield o).done)break;e.push(e.iterator.next())}return e[e.length-1]})()}}class efe{constructor(n=[],e){this.resourceIds=n,this.generateBundles=e,this.onChange(!0)}addResourceIds(n,e=!1){return this.resourceIds.push(...n),this.onChange(e),this.resourceIds.length}removeResourceIds(n){return this.resourceIds=this.resourceIds.filter(e=>!n.includes(e)),this.onChange(),this.resourceIds.length}formatWithFallback(n,e){var i=this;return V(function*(){const o=[];let s=!1;var l,r=!1,a=!1;try{for(var h,c=function mpe(t){var n,e,i,o=2;for(typeof Symbol<"u"&&(e=Symbol.asyncIterator,i=Symbol.iterator);o--;){if(e&&null!=(n=t[e]))return n.call(t);if(i&&null!=(n=t[i]))return new _4(n.call(t));e="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}(i.bundles);r=!(h=yield c.next()).done;r=!1){const p=h.value;{s=!0;const f=ife(e,p,n,o);if(0===f.size)break;if(typeof console<"u"){const v=p.locales[0],C=Array.from(f).join(", ");console.warn(`[fluent] Missing translations in ${v}: ${C}`)}}}}catch(p){a=!0,l=p}finally{try{r&&null!=c.return&&(yield c.return())}finally{if(a)throw l}}return!s&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(n)}.\n  resourceIds: ${JSON.stringify(i.resourceIds)}.`),o})()}formatMessages(n){return this.formatWithFallback(n,nfe)}formatValues(n){return this.formatWithFallback(n,tfe)}formatValue(n,e){var i=this;return V(function*(){const[o]=yield i.formatValues([{id:n,args:e}]);return o})()}handleEvent(){this.onChange()}onChange(n=!1){this.bundles=Jge.from(this.generateBundles(this.resourceIds)),n&&this.bundles.touchNext(2)}}function tfe(t,n,e,i){return e.value?t.formatPattern(e.value,i,n):null}function nfe(t,n,e,i){const o={value:null,attributes:null};e.value&&(o.value=t.formatPattern(e.value,i,n));let s=Object.keys(e.attributes);if(s.length>0){o.attributes=new Array(s.length);for(let[r,a]of s.entries()){let l=t.formatPattern(e.attributes[a],i,n);o.attributes[r]={name:a,value:l}}}return o}function ife(t,n,e,i){const o=[],s=new Set;return e.forEach(({id:r,args:a},l)=>{if(void 0!==i[l])return;let c=n.getMessage(r);if(c){if(o.length=0,i[l]=t(n,o,c,a),o.length>0&&typeof console<"u"){const h=n.locales[0],p=o.join(", ");console.warn(`[fluent][resolver] errors in ${h}/${r}: ${p}.`)}}else s.add(r)}),s}const Vd="data-l10n-id",Pp="data-l10n-args",ofe=`[${Vd}]`;class sfe extends efe{constructor(n,e){super(n,e),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Vd,Pp]}}onChange(n=!1){super.onChange(n),this.roots&&this.translateRoots()}setAttributes(n,e,i){return n.setAttribute(Vd,e),i?n.setAttribute(Pp,JSON.stringify(i)):n.removeAttribute(Pp),n}getAttributes(n){return{id:n.getAttribute(Vd),args:JSON.parse(n.getAttribute(Pp)||null)}}connectRoot(n){for(const e of this.roots)if(e===n||e.contains(n)||n.contains(e))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==n.ownerDocument.defaultView)throw new Error("Cannot connect a root:\n          DOMLocalization already has a root from a different window.")}else this.windowElement=n.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(e=>this.translateMutations(e));this.roots.add(n),this.mutationObserver.observe(n,this.observerConfig)}disconnectRoot(n){return this.roots.delete(n),this.pauseObserving(),0===this.roots.size?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const n=Array.from(this.roots);return Promise.all(n.map(e=>this.translateFragment(e)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const n of this.roots)this.mutationObserver.observe(n,this.observerConfig)}translateMutations(n){for(const e of n)switch(e.type){case"attributes":e.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(e.target);break;case"childList":for(const i of e.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const o of this.getTranslatables(i))this.pendingElements.add(o);else i.hasAttribute(Vd)&&this.pendingElements.add(i)}this.pendingElements.size>0&&null===this.pendingrAF&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(n){return this.translateElements(this.getTranslatables(n))}translateElements(n){var e=this;return V(function*(){if(!n.length)return;const i=n.map(e.getKeysForElement),o=yield e.formatMessages(i);return e.applyTranslations(n,o)})()}applyTranslations(n,e){this.pauseObserving();for(let i=0;i<n.length;i++)void 0!==e[i]&&jge(n[i],e[i]);this.resumeObserving()}getTranslatables(n){const e=Array.from(n.querySelectorAll(ofe));return"function"==typeof n.hasAttribute&&n.hasAttribute(Vd)&&e.push(n),e}getKeysForElement(n){return{id:n.getAttribute(Vd),args:JSON.parse(n.getAttribute(Pp)||null)}}}class S4{#e;#t;#n;#i;constructor({lang:n,isRTL:e},i=null){this.#n=S4.#o(n),this.#i=i,this.#e=e??S4.#s(this.#n)?"rtl":"ltr"}_setL10n(n){this.#i=n}getLanguage(){return this.#n}getDirection(){return this.#e}get(n,e=null,i){var o=this;return V(function*(){return Array.isArray(n)?(n=n.map(a=>({id:a})),(yield o.#i.formatMessages(n)).map(a=>a.value)):(yield o.#i.formatMessages([{id:n,args:e}]))[0]?.value||i})()}translate(n){var e=this;return V(function*(){(e.#t||=new Set).add(n);try{e.#i.connectRoot(n),yield e.#i.translateRoots()}catch{}})()}translateOnce(n){var e=this;return V(function*(){try{yield e.#i.translateElements([n])}catch(i){console.error(`translateOnce: "${i}".`)}})()}destroy(){var n=this;return V(function*(){if(n.#t){for(const e of n.#t)n.#i.disconnectRoot(e);n.#t.clear(),n.#t=null}n.#i.pauseObserving()})()}pause(){this.#i.pauseObserving()}resume(){this.#i.resumeObserving()}static#o(n){return{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[n=n?.toLowerCase()||"en-us"]||n}static#s(n){const e=n.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(e)}}function gz(t,n){const e=new Bge(n),i=new Oge(t),o=i.addResource(e);return o.length&&console.error("L10n errors",o),i}class rl extends S4{constructor(n){super({lang:n});const e=n?rl.#e.bind(rl,"en-us",this.getLanguage()):rl.#i.bind(rl,this.getLanguage());this._setL10n(new sfe([],e))}static#e(n,e){var i=this;return Pk(function*(){const{baseURL:o,paths:s}=yield Dk(i.#n()),r=[e];if(n!==e){const a=e.split("-",1)[0];a!==e&&r.push(a),r.push(n)}for(const a of r){const l=yield Dk(i.#t(a,o,s));l?yield l:"en-us"===a&&(yield i.#o(a))}})()}static#t(n,e,i){return V(function*(){const o=i[n];if(!o)return null;const s=new URL(o,e),r=yield jk(s,"text");return gz(n,r)})()}static#n(){return V(function*(){try{const{href:n}=document.querySelector('link[type="application/l10n"]'),e=yield jk(n,"json");return{baseURL:n.replace(/[^/]*$/,"")||"./",paths:e}}catch{}return{baseURL:"./",paths:Object.create(null)}})()}static#i(n){var e=this;return Pk(function*(){yield e.#o(n)})()}static#o(n){return V(function*(){return gz(n,'pdfjs-previous-button =\n    .title = Previous Page\npdfjs-previous-button-label = Previous\npdfjs-next-button =\n    .title = Next Page\npdfjs-next-button-label = Next\npdfjs-page-input =\n    .title = Page\npdfjs-of-pages = of { $pagesCount }\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\npdfjs-zoom-out-button =\n    .title = Zoom Out\npdfjs-zoom-out-button-label = Zoom Out\npdfjs-zoom-in-button =\n    .title = Zoom In\npdfjs-zoom-in-button-label = Zoom In\npdfjs-zoom-select =\n    .title = Zoom\npdfjs-presentation-mode-button =\n    .title = Switch to Presentation Mode\npdfjs-presentation-mode-button-label = Presentation Mode\npdfjs-open-file-button =\n    .title = Open File\npdfjs-open-file-button-label = Open\npdfjs-print-button =\n    .title = Print\npdfjs-print-button-label = Print\npdfjs-save-button =\n    .title = Save\npdfjs-save-button-label = Save\npdfjs-download-button =\n    .title = Download\npdfjs-download-button-label = Download\npdfjs-bookmark-button =\n    .title = Current Page (View URL from Current Page)\npdfjs-bookmark-button-label = Current Page\npdfjs-tools-button =\n    .title = Tools\npdfjs-tools-button-label = Tools\npdfjs-first-page-button =\n    .title = Go to First Page\npdfjs-first-page-button-label = Go to First Page\npdfjs-last-page-button =\n    .title = Go to Last Page\npdfjs-last-page-button-label = Go to Last Page\npdfjs-page-rotate-cw-button =\n    .title = Rotate Clockwise\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\npdfjs-page-rotate-ccw-button =\n    .title = Rotate Counterclockwise\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\npdfjs-cursor-text-select-tool-button =\n    .title = Enable Text Selection Tool\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\npdfjs-cursor-hand-tool-button =\n    .title = Enable Hand Tool\npdfjs-cursor-hand-tool-button-label = Hand Tool\npdfjs-scroll-page-button =\n    .title = Use Page Scrolling\npdfjs-scroll-page-button-label = Page Scrolling\npdfjs-scroll-vertical-button =\n    .title = Use Vertical Scrolling\npdfjs-scroll-vertical-button-label = Vertical Scrolling\npdfjs-scroll-horizontal-button =\n    .title = Use Horizontal Scrolling\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\npdfjs-scroll-wrapped-button =\n    .title = Use Wrapped Scrolling\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\npdfjs-spread-none-button =\n    .title = Do not join page spreads\npdfjs-spread-none-button-label = No Spreads\npdfjs-spread-odd-button =\n    .title = Join page spreads starting with odd-numbered pages\npdfjs-spread-odd-button-label = Odd Spreads\npdfjs-spread-even-button =\n    .title = Join page spreads starting with even-numbered pages\npdfjs-spread-even-button-label = Even Spreads\npdfjs-document-properties-button =\n    .title = Document Properties\u2026\npdfjs-document-properties-button-label = Document Properties\u2026\npdfjs-document-properties-file-name = File name:\npdfjs-document-properties-file-size = File size:\npdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)\npdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)\npdfjs-document-properties-title = Title:\npdfjs-document-properties-author = Author:\npdfjs-document-properties-subject = Subject:\npdfjs-document-properties-keywords = Keywords:\npdfjs-document-properties-creation-date = Creation Date:\npdfjs-document-properties-modification-date = Modification Date:\npdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }\npdfjs-document-properties-creator = Creator:\npdfjs-document-properties-producer = PDF Producer:\npdfjs-document-properties-version = PDF Version:\npdfjs-document-properties-page-count = Page Count:\npdfjs-document-properties-page-size = Page Size:\npdfjs-document-properties-page-size-unit-inches = in\npdfjs-document-properties-page-size-unit-millimeters = mm\npdfjs-document-properties-page-size-orientation-portrait = portrait\npdfjs-document-properties-page-size-orientation-landscape = landscape\npdfjs-document-properties-page-size-name-a-three = A3\npdfjs-document-properties-page-size-name-a-four = A4\npdfjs-document-properties-page-size-name-letter = Letter\npdfjs-document-properties-page-size-name-legal = Legal\npdfjs-document-properties-page-size-dimension-string = { $width } \xd7 { $height } { $unit } ({ $orientation })\npdfjs-document-properties-page-size-dimension-name-string = { $width } \xd7 { $height } { $unit } ({ $name }, { $orientation })\npdfjs-document-properties-linearized = Fast Web View:\npdfjs-document-properties-linearized-yes = Yes\npdfjs-document-properties-linearized-no = No\npdfjs-document-properties-close-button = Close\npdfjs-print-progress-message = Preparing document for printing\u2026\npdfjs-print-progress-percent = { $progress }%\npdfjs-print-progress-close-button = Cancel\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\npdfjs-toggle-sidebar-button =\n    .title = Toggle Sidebar\npdfjs-toggle-sidebar-notification-button =\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\npdfjs-document-outline-button =\n    .title = Show Document Outline (double-click to expand/collapse all items)\npdfjs-document-outline-button-label = Document Outline\npdfjs-attachments-button =\n    .title = Show Attachments\npdfjs-attachments-button-label = Attachments\npdfjs-layers-button =\n    .title = Show Layers (double-click to reset all layers to the default state)\npdfjs-layers-button-label = Layers\npdfjs-thumbs-button =\n    .title = Show Thumbnails\npdfjs-thumbs-button-label = Thumbnails\npdfjs-current-outline-item-button =\n    .title = Find Current Outline Item\npdfjs-current-outline-item-button-label = Current Outline Item\npdfjs-findbar-button =\n    .title = Find in Document\npdfjs-findbar-button-label = Find\npdfjs-additional-layers = Additional Layers\npdfjs-thumb-page-title =\n    .title = Page { $page }\npdfjs-thumb-page-canvas =\n    .aria-label = Thumbnail of Page { $page }\npdfjs-find-input =\n    .title = Find\n    .placeholder = Find in document\u2026\npdfjs-find-previous-button =\n    .title = Find the previous occurrence of the phrase\npdfjs-find-previous-button-label = Previous\npdfjs-find-next-button =\n    .title = Find the next occurrence of the phrase\npdfjs-find-next-button-label = Next\npdfjs-find-highlight-checkbox = Highlight All\npdfjs-find-match-case-checkbox-label = Match Case\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\npdfjs-find-entire-word-checkbox-label = Whole Words\npdfjs-find-reached-top = Reached top of document, continued from bottom\npdfjs-find-reached-bottom = Reached end of document, continued from top\npdfjs-find-match-count =\n    { $total ->\n        [one] { $current } of { $total } match\n       *[other] { $current } of { $total } matches\n    }\npdfjs-find-match-count-limit =\n    { $limit ->\n        [one] More than { $limit } match\n       *[other] More than { $limit } matches\n    }\npdfjs-find-not-found = Phrase not found\npdfjs-page-scale-width = Page Width\npdfjs-page-scale-fit = Page Fit\npdfjs-page-scale-auto = Automatic Zoom\npdfjs-page-scale-actual = Actual Size\npdfjs-page-scale-percent = { $scale }%\npdfjs-page-landmark =\n    .aria-label = Page { $page }\npdfjs-loading-error = An error occurred while loading the PDF.\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\npdfjs-missing-file-error = Missing PDF file.\npdfjs-unexpected-response-error = Unexpected server response.\npdfjs-rendering-error = An error occurred while rendering the page.\npdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }\npdfjs-text-annotation-type =\n    .alt = [{ $type } Annotation]\npdfjs-password-label = Enter the password to open this PDF file.\npdfjs-password-invalid = Invalid password. Please try again.\npdfjs-password-ok-button = OK\npdfjs-password-cancel-button = Cancel\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\npdfjs-editor-free-text-button =\n    .title = Text\npdfjs-editor-free-text-button-label = Text\npdfjs-editor-ink-button =\n    .title = Draw\npdfjs-editor-ink-button-label = Draw\npdfjs-editor-stamp-button =\n    .title = Add or edit images\npdfjs-editor-stamp-button-label = Add or edit images\npdfjs-editor-highlight-button =\n    .title = Highlight\npdfjs-editor-highlight-button-label = Highlight\npdfjs-highlight-floating-button1 =\n    .title = Highlight\n    .aria-label = Highlight\npdfjs-highlight-floating-button-label = Highlight\npdfjs-editor-remove-ink-button =\n    .title = Remove drawing\npdfjs-editor-remove-freetext-button =\n    .title = Remove text\npdfjs-editor-remove-stamp-button =\n    .title = Remove image\npdfjs-editor-remove-highlight-button =\n    .title = Remove highlight\npdfjs-editor-free-text-color-input = Color\npdfjs-editor-free-text-size-input = Size\npdfjs-editor-ink-color-input = Color\npdfjs-editor-ink-thickness-input = Thickness\npdfjs-editor-ink-opacity-input = Opacity\npdfjs-editor-stamp-add-image-button =\n    .title = Add image\npdfjs-editor-stamp-add-image-button-label = Add image\npdfjs-editor-free-highlight-thickness-input = Thickness\npdfjs-editor-free-highlight-thickness-title =\n    .title = Change thickness when highlighting items other than text\npdfjs-free-text2 =\n    .aria-label = Text Editor\n    .default-content = Start typing\u2026\npdfjs-ink =\n    .aria-label = Draw Editor\npdfjs-ink-canvas =\n    .aria-label = User-created image\npdfjs-editor-alt-text-button =\n    .aria-label = Alt text\npdfjs-editor-alt-text-button-label = Alt text\npdfjs-editor-alt-text-edit-button =\n    .aria-label = Edit alt text\npdfjs-editor-alt-text-dialog-label = Choose an option\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.\npdfjs-editor-alt-text-add-description-label = Add a description\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\npdfjs-editor-alt-text-cancel-button = Cancel\npdfjs-editor-alt-text-save-button = Save\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\npdfjs-editor-alt-text-textarea =\n    .placeholder = For example, \u201cA young man sits down at a table to eat a meal\u201d\npdfjs-editor-resizer-top-left =\n    .aria-label = Top left corner \u2014 resize\npdfjs-editor-resizer-top-middle =\n    .aria-label = Top middle \u2014 resize\npdfjs-editor-resizer-top-right =\n    .aria-label = Top right corner \u2014 resize\npdfjs-editor-resizer-middle-right =\n    .aria-label = Middle right \u2014 resize\npdfjs-editor-resizer-bottom-right =\n    .aria-label = Bottom right corner \u2014 resize\npdfjs-editor-resizer-bottom-middle =\n    .aria-label = Bottom middle \u2014 resize\npdfjs-editor-resizer-bottom-left =\n    .aria-label = Bottom left corner \u2014 resize\npdfjs-editor-resizer-middle-left =\n    .aria-label = Middle left \u2014 resize\npdfjs-editor-highlight-colorpicker-label = Highlight color\npdfjs-editor-colorpicker-button =\n    .title = Change color\npdfjs-editor-colorpicker-dropdown =\n    .aria-label = Color choices\npdfjs-editor-colorpicker-yellow =\n    .title = Yellow\npdfjs-editor-colorpicker-green =\n    .title = Green\npdfjs-editor-colorpicker-blue =\n    .title = Blue\npdfjs-editor-colorpicker-pink =\n    .title = Pink\npdfjs-editor-colorpicker-red =\n    .title = Red\npdfjs-editor-highlight-show-all-button-label = Show all\npdfjs-editor-highlight-show-all-button =\n    .title = Show all\npdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)\npdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)\npdfjs-editor-new-alt-text-textarea =\n    .placeholder = Write your description here\u2026\npdfjs-editor-new-alt-text-description = Short description for people who can\u2019t see the image or when the image doesn\u2019t load.\npdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.\npdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more\npdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically\npdfjs-editor-new-alt-text-not-now-button = Not now\npdfjs-editor-new-alt-text-error-title = Couldn\u2019t create alt text automatically\npdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.\npdfjs-editor-new-alt-text-error-close-button = Close\npdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\n    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\npdfjs-editor-new-alt-text-added-button =\n    .aria-label = Alt text added\npdfjs-editor-new-alt-text-added-button-label = Alt text added\npdfjs-editor-new-alt-text-missing-button =\n    .aria-label = Missing alt text\npdfjs-editor-new-alt-text-missing-button-label = Missing alt text\npdfjs-editor-new-alt-text-to-review-button =\n    .aria-label = Review alt text\npdfjs-editor-new-alt-text-to-review-button-label = Review alt text\npdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }\npdfjs-image-alt-text-settings-button =\n    .title = Image alt text settings\npdfjs-image-alt-text-settings-button-label = Image alt text settings\npdfjs-editor-alt-text-settings-dialog-label = Image alt text settings\npdfjs-editor-alt-text-settings-automatic-title = Automatic alt text\npdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically\npdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\u2019t see the image or when the image doesn\u2019t load.\npdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)\npdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.\npdfjs-editor-alt-text-settings-delete-model-button = Delete\npdfjs-editor-alt-text-settings-download-model-button = Download\npdfjs-editor-alt-text-settings-downloading-model-button = Downloading\u2026\npdfjs-editor-alt-text-settings-editor-title = Alt text editor\npdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image\npdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.\npdfjs-editor-alt-text-settings-close-button = Close')})()}}function ST(){return document.location.hash}class afe{#e=null;constructor({linkService:n,eventBus:e}){this.linkService=n,this.eventBus=e,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:n,resetHistory:e=!1,updateUrl:i=!1}){if(!n||"string"!=typeof n)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const o=""!==this._fingerprint&&this._fingerprint!==n;this._fingerprint=n,this._updateUrl=!0===i,this._initialized=!0,this.#u();const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=ST(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#o(s,!0)||e){const{hash:a,page:l,rotation:c}=this.#l(!0);return!a||o||e?void this.#t(null,!0):void this.#t({hash:a,page:l,rotation:c},!0)}const r=s.destination;this.#s(r,s.uid,!0),void 0!==r.rotation&&(this._initialRotation=r.rotation),r.dest?(this._initialBookmark=JSON.stringify(r.dest),this._destination.page=null):r.hash?this._initialBookmark=r.hash:r.page&&(this._initialBookmark=`page=${r.page}`)}reset(){this._initialized&&(this.#a(),this._initialized=!1,this.#r()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:n=null,explicitDest:e,pageNumber:i}){if(!this._initialized)return;if(n&&"string"!=typeof n)return void console.error(`PDFHistory.push: "${n}" is not a valid namedDest parameter.`);if(!Array.isArray(e))return void console.error(`PDFHistory.push: "${e}" is not a valid explicitDest parameter.`);if(!this.#i(i)&&(null!==i||this._destination))return void console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);const o=n||JSON.stringify(e);if(!o)return;let s=!1;if(this._destination&&(function lfe(t,n){return"string"==typeof t&&"string"==typeof n&&(t===n||p4(t).get("nameddest")===n)}(this._destination.hash,o)||function cfe(t,n){function e(i,o){if(typeof i!=typeof o||Array.isArray(i)||Array.isArray(o))return!1;if(null!==i&&"object"==typeof i&&null!==o){if(Object.keys(i).length!==Object.keys(o).length)return!1;for(const s in i)if(!e(i[s],o[s]))return!1;return!0}return i===o||Number.isNaN(i)&&Number.isNaN(o)}if(!Array.isArray(t)||!Array.isArray(n)||t.length!==n.length)return!1;for(let i=0,o=t.length;i<o;i++)if(!e(t[i],n[i]))return!1;return!0}(this._destination.dest,e))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this.#t({dest:e,hash:o,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(n){if(this._initialized){if(!this.#i(n))return void console.error(`PDFHistory.pushPage: "${n}" is not a valid page number.`);this._destination?.page!==n&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${n}`,page:n,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#n()}back(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this.#o(n)&&n.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this.#o(n)&&n.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(n,e=!1){const i=e||!this._destination,o={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:n};let s;if(this.#s(n,o.uid),this._updateUrl&&n?.hash){const r=document.location.href.split("#",1)[0];r.startsWith("file://")||(s=`${r}#${n.hash}`)}i?window.history.replaceState(o,"",s):window.history.pushState(o,"",s)}#n(n=!1){if(!this._position)return;let e=this._position;if(n&&(e=Object.assign(Object.create(null),this._position),e.temporary=!0),!this._destination)return void this.#t(e);if(this._destination.temporary)return void this.#t(e,!0);if(this._destination.hash===e.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let i=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(void 0!==this._destination.dest||!this._destination.first)return;i=!0}this.#t(e,i)}#i(n){return Number.isInteger(n)&&n>0&&n<=this.linkService.pagesCount}#o(n,e=!1){if(!n)return!1;if(n.fingerprint!==this._fingerprint){if(!e)return!1;{if("string"!=typeof n.fingerprint||n.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if("reload"!==i?.type)return!1}}return!(!Number.isInteger(n.uid)||n.uid<0||null===n.destination||"object"!=typeof n.destination)}#s(n,e,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&n?.temporary&&delete n.temporary,this._destination=n,this._uid=e,this._maxUid=Math.max(this._maxUid,e),this._numPositionUpdates=0}#l(n=!1){const e=unescape(ST()).substring(1),i=p4(e),o=i.get("nameddest")||"";let s=0|i.get("page");return(!this.#i(s)||n&&o.length>0)&&(s=null),{hash:e,page:s,rotation:this.linkService.rotation}}#c({location:n}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#n(!0),this._updateViewareaTimeout=null},1e3))}#d({state:n}){const e=ST(),i=this._currentHash!==e;if(this._currentHash=e,!n){this._uid++;const{hash:s,page:r,rotation:a}=this.#l();return void this.#t({hash:s,page:r,rotation:a},!0)}if(!this.#o(n))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,function pge(t){return mT.apply(this,arguments)}({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const o=n.destination;this.#s(o,n.uid,!0),Vk(o.rotation)&&(this.linkService.rotation=o.rotation),o.dest?this.linkService.goToDestination(o.dest):o.hash?this.linkService.setHash(o.hash):o.page&&(this.linkService.page=o.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#a(){(!this._destination||this._destination.temporary)&&this.#n()}#u(){if(this.#e)return;this.#e=new AbortController;const{signal:n}=this.#e;this.eventBus._on("updateviewarea",this.#c.bind(this),{signal:n}),window.addEventListener("popstate",this.#d.bind(this),{signal:n}),window.addEventListener("pagehide",this.#a.bind(this),{signal:n})}#r(){this.#e?.abort(),this.#e=null}}class dfe{#e=null;#t=null;#n=null;#i=null;#o=null;#s;constructor(n){this.pdfPage=n.pdfPage,this.accessibilityManager=n.accessibilityManager,this.l10n=n.l10n,this.l10n||=new rl,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#s=n.uiManager,this.#e=n.annotationLayer||null,this.#o=n.textLayer||null,this.#t=n.drawLayer||null,this.#n=n.onAppend||null,this.#i=n.structTreeLayer||null}render(n,e="display"){var i=this;return V(function*(){if("display"!==e||i._cancelled)return;const o=n.clone({dontFlip:!0});if(i.div)return i.annotationEditorLayer.update({viewport:o}),void i.show();const s=i.div=document.createElement("div");s.className="annotationEditorLayer",s.hidden=!0,s.dir=i.#s.direction,i.#n?.(s),i.annotationEditorLayer=new nge({uiManager:i.#s,div:s,structTreeLayer:i.#i,accessibilityManager:i.accessibilityManager,pageIndex:i.pdfPage.pageNumber-1,l10n:i.l10n,viewport:o,annotationLayer:i.#e,textLayer:i.#o,drawLayer:i.#t}),i.annotationEditorLayer.render({viewport:o,div:s,annotations:null,intent:e}),i.show()})()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}}{var ET=new Map;const t=navigator.userAgent||"",n=navigator.platform||"",e=navigator.maxTouchPoints||1,i=/Android/.test(t);(/\b(iPad|iPhone|iPod)(?=;)/.test(t)||"MacIntel"===n&&e>1||i)&&ET.set("maxCanvasPixels",5242880),i&&ET.set("useSystemFonts",!1)}const AT={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},M0={allowedGlobalEvents:{value:null,kind:1},canvasMaxAreaInBytes:{value:-1,kind:5},isInAutomation:{value:!1,kind:1},localeProperties:{value:{lang:navigator.language||"en-US"},kind:1},nimbusDataStr:{value:"",kind:1},supportsCaretBrowsingMode:{value:!1,kind:1},supportsDocumentFonts:{value:!0,kind:1},supportsIntegratedFind:{value:!1,kind:1},supportsMouseWheelZoomCtrlKey:{value:!0,kind:1},supportsMouseWheelZoomMetaKey:{value:!0,kind:1},supportsPinchToZoom:{value:!0,kind:1},toolbarDensity:{value:0,kind:17},altTextLearnMoreUrl:{value:"",kind:130},annotationEditorMode:{value:0,kind:130},annotationMode:{value:2,kind:130},cursorToolOnLoad:{value:0,kind:130},debuggerSrc:{value:"./debugger.mjs",kind:2},defaultZoomDelay:{value:400,kind:130},defaultZoomValue:{value:"",kind:130},disableHistory:{value:!1,kind:2},disablePageLabels:{value:!1,kind:130},enableAltText:{value:!1,kind:130},enableAltTextModelDownload:{value:!0,kind:146},enableGuessAltText:{value:!0,kind:146},enableHighlightFloatingButton:{value:!1,kind:130},enableNewAltTextWhenAddingImage:{value:!0,kind:130},enablePermissions:{value:!1,kind:130},enablePrintAutoRotate:{value:!0,kind:130},enableScripting:{value:!0,kind:130},enableUpdatedAddImage:{value:!1,kind:130},externalLinkRel:{value:"noopener noreferrer nofollow",kind:2},externalLinkTarget:{value:0,kind:130},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:130},historyUpdateUrl:{value:!1,kind:130},ignoreDestinationZoom:{value:!1,kind:130},imageResourcesPath:{value:"./images/",kind:2},maxCanvasPixels:{value:2**25,kind:2},forcePageColors:{value:!1,kind:130},pageColorsBackground:{value:"Canvas",kind:130},pageColorsForeground:{value:"CanvasText",kind:130},pdfBugEnabled:{value:!1,kind:130},printResolution:{value:150,kind:2},sidebarViewOnLoad:{value:-1,kind:130},scrollModeOnLoad:{value:-1,kind:130},spreadModeOnLoad:{value:-1,kind:130},textLayerMode:{value:1,kind:130},viewOnLoad:{value:0,kind:130},cMapPacked:{value:!0,kind:4},cMapUrl:{value:"../web/cmaps/",kind:4},disableAutoFetch:{value:!1,kind:132},disableFontFace:{value:!1,kind:132},disableRange:{value:!1,kind:132},disableStream:{value:!1,kind:132},docBaseUrl:{value:"",kind:4},enableHWA:{value:!0,kind:134},enableXfa:{value:!0,kind:132},fontExtraProperties:{value:!1,kind:4},isEvalSupported:{value:!0,kind:4},isOffscreenCanvasSupported:{value:!0,kind:4},maxImageSize:{value:-1,kind:4},pdfBug:{value:!1,kind:4},standardFontDataUrl:{value:"../web/standard_fonts/",kind:4},useSystemFonts:{value:void 0,kind:4,type:AT.BOOLEAN+AT.UNDEFINED},verbosity:{value:1,kind:4},workerPort:{value:null,kind:8},workerSrc:{value:"../build/pdf.worker.mjs",kind:8},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:2},sandboxBundleSrc:{value:"../build/pdf.sandbox.mjs",kind:2},viewerCssTheme:{value:0,kind:130},enableFakeMLManager:{value:!0,kind:2},disablePreferences:{value:!1,kind:2}};class ufe{static eventBus;static#e=new Map;static{for(const n in M0)this.#e.set(n,M0[n].value);for(const[n,e]of ET)this.#e.set(n,e);this._hasInvokedSet=!1,this._checkDisablePreferences=()=>!!this.get("disablePreferences")||(this._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)}static get(n){return this.#e.get(n)}static getAll(n=null,e=!1){const i=Object.create(null);for(const o in M0){const s=M0[o];n&&!(n&s.kind)||(i[o]=e?s.value:this.#e.get(o))}return i}static set(n,e){this.setAll({[n]:e})}static setAll(n,e=!1){let i;this._hasInvokedSet||=!0;for(const o in n){const s=M0[o],r=n[o];if(!s||!(typeof r==typeof s.value||AT[(typeof r).toUpperCase()]&s.type))continue;const{kind:a}=s;e&&!(1&a||128&a)||(this.eventBus&&16&a&&(i||=new Map).set(o,r),this.#e.set(o,r))}if(i)for(const[o,s]of i)this.eventBus.dispatch(o.toLowerCase(),{source:this,value:s})}}class hfe{#e=null;constructor(n){this.pageIndex=n.pageIndex}render(n="display"){var e=this;return V(function*(){"display"!==n||e.#e||e._cancelled||(e.#e=new rge({pageIndex:e.pageIndex}))})()}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(n){this.#e?.setParent(n)}getDrawLayer(){return this.#e}}const mz={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},_fe=/^H(\d+)$/;class vz{#e;#t=null;#n;#i=new Map;#o;#s=null;constructor(n,e){this.#e=n.getStructTree(),this.#o=e}render(){var n=this;return V(function*(){if(n.#n)return n.#n;const{promise:e,resolve:i,reject:o}=Promise.withResolvers();n.#n=e;try{n.#t=n.#d(yield n.#e)}catch(s){o(s)}return n.#e=null,n.#t?.classList.add("structTree"),i(n.#t),e})()}getAriaAttributes(n){var e=this;return V(function*(){try{return yield e.render(),e.#i.get(n)}catch{}return null})()}hide(){this.#t&&!this.#t.hidden&&(this.#t.hidden=!0)}show(){this.#t?.hidden&&(this.#t.hidden=!1)}#l(n,e){const{alt:i,id:o,lang:s}=n;if(void 0!==i){let r=!1;const a=Op(i);for(const l of n.children)if("annotation"===l.type){let c=this.#i.get(l.id);c||(c=new Map,this.#i.set(l.id,c)),c.set("aria-label",a),r=!0}r||e.setAttribute("aria-label",a)}void 0!==o&&e.setAttribute("aria-owns",o),void 0!==s&&e.setAttribute("lang",Op(s,!0))}#c(n,e){const{alt:i,bbox:o,children:s}=n,r=s?.[0];if(!this.#o||!i||!o||"content"!==r?.type)return!1;const{id:a}=r;if(!a)return!1;e.setAttribute("aria-owns",a);const l=document.createElement("span");(this.#s||=new Map).set(a,l),l.setAttribute("role","img"),l.setAttribute("aria-label",Op(i));const{pageHeight:c,pageX:h,pageY:p}=this.#o,f="calc(var(--scale-factor)*",{style:v}=l;return v.width=`${f}${o[2]-o[0]}px)`,v.height=`${f}${o[3]-o[1]}px)`,v.left=`${f}${o[0]-h}px)`,v.top=`${f}${c-o[3]+p}px)`,!0}addElementsToTextLayer(){if(this.#s){for(const[n,e]of this.#s)document.getElementById(n)?.append(e);this.#s.clear(),this.#s=null}}#d(n){if(!n)return null;const e=document.createElement("span");if("role"in n){const{role:i}=n,o=i.match(_fe);if(o?(e.setAttribute("role","heading"),e.setAttribute("aria-level",o[1])):mz[i]&&e.setAttribute("role",mz[i]),"Figure"===i&&this.#c(n,e))return e}if(this.#l(n,e),n.children)if(1===n.children.length&&"id"in n.children[0])this.#l(n.children[0],e);else for(const i of n.children)e.append(this.#d(i));return e}}class Ip{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(n){this.#t=n}static#o(n,e){const i=n.getBoundingClientRect(),o=e.getBoundingClientRect();if(0===i.width&&0===i.height)return 1;if(0===o.width&&0===o.height)return-1;const a=i.y+i.height/2,h=o.y+o.height/2;return a<=o.y&&h>=i.y+i.height?-1:h<=i.y&&a>=o.y+o.height?1:i.x+i.width/2-(o.x+o.width/2)}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(Ip.#o),this.#n.size>0){const n=this.#t;for(const[e,i]of this.#n)document.getElementById(e)?this.#s(e,n[i]):this.#n.delete(e)}for(const[n,e]of this.#i)this.addPointerInTextLayer(n,e);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(n){if(!this.#e)return void this.#i.delete(n);const e=this.#t;if(!e||0===e.length)return;const{id:i}=n,o=this.#n.get(i);if(void 0===o)return;const s=e[o];this.#n.delete(i);let r=s.getAttribute("aria-owns");r?.includes(i)&&(r=r.split(" ").filter(a=>a!==i).join(" "),r?s.setAttribute("aria-owns",r):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}#s(n,e){const i=e.getAttribute("aria-owns");i?.includes(n)||e.setAttribute("aria-owns",i?`${i} ${n}`:n),e.removeAttribute("role")}addPointerInTextLayer(n,e){const{id:i}=n;if(!i)return null;if(!this.#e)return this.#i.set(n,e),null;e&&this.removePointerInTextLayer(n);const o=this.#t;if(!o||0===o.length)return null;const s=yp(o,c=>Ip.#o(n,c)<0),r=Math.max(0,s-1),a=o[r];this.#s(i,a),this.#n.set(i,r);const l=a.parentNode;return l?.classList.contains("markedContent")?l.id:null}moveElementInDOM(n,e,i,o){const s=this.addPointerInTextLayer(i,o);if(!n.hasChildNodes())return n.append(e),s;const r=Array.from(n.childNodes).filter(c=>c!==e);if(0===r.length)return s;const a=i||e,l=yp(r,c=>Ip.#o(a,c)<0);return 0===l?r[0].before(e):r[l-1].after(e),s}}class pfe{#e=null;constructor({findController:n,eventBus:e,pageIndex:i}){this.findController=n,this.matches=[],this.eventBus=e,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(n,e){this.textDivs=n,this.textContentItemsStr=e}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",n=>{(n.pageIndex===this.pageIdx||-1===n.pageIndex)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(n,e){if(!n)return[];const{textContentItemsStr:i}=this;let o=0,s=0;const r=i.length-1,a=[];for(let l=0,c=n.length;l<c;l++){let h=n[l];for(;o!==r&&h>=s+i[o].length;)s+=i[o].length,o++;o===i.length&&console.error("Could not find a matching mapping");const p={begin:{divIdx:o,offset:h-s}};for(h+=e[l];o!==r&&h>s+i[o].length;)s+=i[o].length,o++;p.end={divIdx:o,offset:h-s},a.push(p)}return a}_renderMatches(n){if(0===n.length)return;const{findController:e,pageIdx:i}=this,{textContentItemsStr:o,textDivs:s}=this,r=i===e.selected.pageIdx,a=e.selected.matchIdx;let c=null;function p(P,I){const k=P.divIdx;return s[k].textContent="",f(k,0,P.offset,I)}function f(P,I,k,R){let ee=s[P];if(ee.nodeType===Node.TEXT_NODE){const pe=document.createElement("span");ee.before(pe),pe.append(ee),s[P]=pe,ee=pe}const re=o[P].substring(I,k),fe=document.createTextNode(re);if(R){const pe=document.createElement("span");return pe.className=`${R} appended`,pe.append(fe),ee.append(pe),R.includes("selected")?pe.offsetLeft:0}return ee.append(fe),0}let v=a,C=v+1;if(e.state.highlightAll)v=0,C=n.length;else if(!r)return;let E=-1,D=-1;for(let P=v;P<C;P++){const I=n[P],k=I.begin;if(k.divIdx===E&&k.offset===D)continue;E=k.divIdx,D=k.offset;const R=I.end,ee=r&&P===a,re=ee?" selected":"";let fe=0;if(c&&k.divIdx===c.divIdx?f(c.divIdx,c.offset,k.offset):(null!==c&&f(c.divIdx,c.offset,undefined),p(k)),k.divIdx===R.divIdx)fe=f(k.divIdx,k.offset,R.offset,"highlight"+re);else{fe=f(k.divIdx,k.offset,undefined,"highlight begin"+re);for(let pe=k.divIdx+1,ue=R.divIdx;pe<ue;pe++)s[pe].className="highlight middle"+re;p(R,"highlight end"+re)}c=R,ee&&e.scrollMatchIntoView({element:s[k.divIdx],selectedLeft:fe,pageIndex:i,matchIndex:a})}c&&f(c.divIdx,c.offset,undefined)}_updateMatches(n=!1){if(!this.enabled&&!n)return;const{findController:e,matches:i,pageIdx:o}=this,{textContentItemsStr:s,textDivs:r}=this;let a=-1;for(const h of i){for(let f=Math.max(a,h.begin.divIdx),v=h.end.divIdx;f<=v;f++){const C=r[f];C.textContent=s[f],C.className=""}a=h.end.divIdx+1}e?.highlightMatches&&!n&&(this.matches=this._convertMatches(e.pageMatches[o]||null,e.pageMatchesLength[o]||null),this._renderMatches(this.matches))}}class ou{#e=!1;#t=null;#n=!1;#i=null;static#o=new Map;static#s=null;constructor({pdfPage:n,highlighter:e=null,accessibilityManager:i=null,enablePermissions:o=!1,onAppend:s=null}){this.pdfPage=n,this.highlighter=e,this.accessibilityManager=i,this.#e=!0===o,this.#t=s,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(n,e=null){var i=this;return V(function*(){if(i.#n&&i.#i)return i.#i.update({viewport:n,onBefore:i.hide.bind(i)}),void i.show();i.cancel(),i.#i=new hge({textContentSource:i.pdfPage.streamTextContent(e||{includeMarkedContent:!0,disableNormalization:!0}),container:i.div,viewport:n});const{textDivs:o,textContentItemsStr:s}=i.#i;i.highlighter?.setTextMapping(o,s),i.accessibilityManager?.setTextMapping(o),yield i.#i.render(),i.#n=!0;const r=document.createElement("div");r.className="endOfContent",i.div.append(r),i.#l(r),i.#t?.(i.div),i.highlighter?.enable(),i.accessibilityManager?.enable()})()}hide(){!this.div.hidden&&this.#n&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#n&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#i?.cancel(),this.#i=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),ou.#c(this.div)}#l(n){const{div:e}=this;e.addEventListener("mousedown",()=>{e.classList.add("selecting")}),e.addEventListener("copy",i=>{if(!this.#e){const o=document.getSelection();i.clipboardData.setData("text/plain",Op(cge(o.toString())))}i.preventDefault(),i.stopPropagation()}),ou.#o.set(e,n),ou.#d()}static#c(n){this.#o.delete(n),0===this.#o.size&&(this.#s?.abort(),this.#s=null)}static#d(){if(this.#s)return;this.#s=new AbortController;const{signal:n}=this.#s,e=(r,a)=>{a.append(r),r.style.width="",r.style.height="",a.classList.remove("selecting")};let i=!1;var o,s;document.addEventListener("pointerdown",()=>{i=!0},{signal:n}),document.addEventListener("pointerup",()=>{i=!1,this.#o.forEach(e)},{signal:n}),window.addEventListener("blur",()=>{i=!1,this.#o.forEach(e)},{signal:n}),document.addEventListener("keyup",()=>{i||this.#o.forEach(e)},{signal:n}),document.addEventListener("selectionchange",()=>{const r=document.getSelection();if(0===r.rangeCount)return void this.#o.forEach(e);const a=new Set;for(let v=0;v<r.rangeCount;v++){const C=r.getRangeAt(v);for(const E of this.#o.keys())!a.has(E)&&C.intersectsNode(E)&&a.add(E)}for(const[v,C]of this.#o)a.has(v)?v.classList.add("selecting"):e(C,v);if(o??="none"===getComputedStyle(this.#o.values().next().value).getPropertyValue("-moz-user-select"),o)return;const l=r.getRangeAt(0),c=s&&(0===l.compareBoundaryPoints(Range.END_TO_END,s)||0===l.compareBoundaryPoints(Range.START_TO_END,s));let h=c?l.startContainer:l.endContainer;h.nodeType===Node.TEXT_NODE&&(h=h.parentNode);const p=h.parentElement?.closest(".textLayer"),f=this.#o.get(p);f&&(f.style.width=p.style.width,f.style.height=p.style.height,h.parentElement.insertBefore(f,c?h:h.nextSibling)),s=l.cloneRange()},{signal:n})}}class Cz{constructor({pdfPage:n,annotationStorage:e=null,linkService:i,xfaHtml:o=null}){this.pdfPage=n,this.annotationStorage=e,this.linkService=i,this.xfaHtml=o,this.div=null,this._cancelled=!1}render(n,e="display"){var i=this;return V(function*(){if("print"===e){const r={viewport:n.clone({dontFlip:!0}),div:i.div,xfaHtml:i.xfaHtml,annotationStorage:i.annotationStorage,linkService:i.linkService,intent:e};return i.div=document.createElement("div"),r.div=i.div,fT.render(r)}const o=yield i.pdfPage.getXfa();if(i._cancelled||!o)return{textDivs:[]};const s={viewport:n.clone({dontFlip:!0}),div:i.div,xfaHtml:o,annotationStorage:i.annotationStorage,linkService:i.linkService,intent:e};return i.div?fT.update(s):(i.div=document.createElement("div"),s.div=i.div,fT.render(s))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const gfe={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new pT}},ffe=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);class Mz{#e=il.ENABLE_FORMS;#t=!1;#n=!1;#i=!1;#o=null;#s=null;#l=null;#c=1;#d=1;#a=null;#u=jo.INITIAL;#r=1;#h={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#p=new WeakMap;#_=[null,null,null,null];constructor(n){const e=n.container,i=n.defaultViewport;this.id=n.id,this.renderingId="page"+this.id,this.#o=n.layerProperties||gfe,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=n.scale||1,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=n.optionalContentConfigPromise||null,this.#r=n.textLayerMode??1,this.#e=n.annotationMode??il.ENABLE_FORMS,this.imageResourcesPath=n.imageResourcesPath||"",this.maxCanvasPixels=n.maxCanvasPixels??ufe.get("maxCanvasPixels"),this.pageColors=n.pageColors||null,this.#t=n.enableHWA||!1,this.eventBus=n.eventBus,this.renderingQueue=n.renderingQueue,this.l10n=n.l10n,this.l10n||=new rl,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=e,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;const o=document.createElement("div");if(o.className="page",o.setAttribute("data-page-number",this.id),o.setAttribute("role","region"),o.setAttribute("data-l10n-id","pdfjs-page-landmark"),o.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=o,this.#m(),e?.append(o),this._isStandalone){e?.style.setProperty("--scale-factor",this.scale*ol.PDF_TO_CSS_UNITS),this.pageColors?.background&&e?.style.setProperty("--page-bg-color",this.pageColors.background);const{optionalContentConfigPromise:s}=n;s&&s.then(r=>{s===this._optionalContentConfigPromise&&(this.#h.initialOptionalContent=r.hasInitialVisibility)}),n.l10n||this.l10n.translate(this.div)}}#g(n,e){const i=ffe.get(e),o=this.#_[i];if(this.#_[i]=n,o)o.replaceWith(n);else{for(let s=i-1;s>=0;s--){const r=this.#_[s];if(r)return void r.after(n)}this.div.prepend(n)}}get renderingState(){return this.#u}set renderingState(n){if(n!==this.#u)switch(this.#u=n,this.#s&&(clearTimeout(this.#s),this.#s=null),n){case jo.PAUSED:this.div.classList.remove("loading");break;case jo.RUNNING:this.div.classList.add("loadingIcon"),this.#s=setTimeout(()=>{this.div.classList.add("loading"),this.#s=null},0);break;case jo.INITIAL:case jo.FINISHED:this.div.classList.remove("loadingIcon","loading")}}#m(){const{viewport:n}=this;if(this.pdfPage){if(this.#l===n.rotation)return;this.#l=n.rotation}uge(this.div,n,!0,!1)}setPdfPage(n){this._isStandalone&&("CanvasText"===this.pageColors?.foreground||"Canvas"===this.pageColors?.background)&&(this._container?.style.setProperty("--hcm-highlight-filter",n.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",n.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=n,this.pdfPageRotate=n.rotate,this.viewport=n.getViewport({scale:this.scale*ol.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#m(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return M4(this,"_textHighlighter",new pfe({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#o.findController}))}#f(n,e){this.eventBus.dispatch(n,{source:this,pageNumber:this.id,error:e})}#v(){var n=this;return V(function*(){let e=null;try{yield n.annotationLayer.render(n.viewport,{structTreeLayer:n.structTreeLayer},"display")}catch(i){console.error(`#renderAnnotationLayer: "${i}".`),e=i}finally{n.#f("annotationlayerrendered",e)}})()}#M(){var n=this;return V(function*(){let e=null;try{yield n.annotationEditorLayer.render(n.viewport,"display")}catch(i){console.error(`#renderAnnotationEditorLayer: "${i}".`),e=i}finally{n.#f("annotationeditorlayerrendered",e)}})()}#b(){var n=this;return V(function*(){try{yield n.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}})()}#T(){var n=this;return V(function*(){let e=null;try{const i=yield n.xfaLayer.render(n.viewport,"display");i?.textDivs&&n._textHighlighter&&n.#O(i.textDivs)}catch(i){console.error(`#renderXfaLayer: "${i}".`),e=i}finally{n.xfaLayer?.div&&(n.l10n.pause(),n.#g(n.xfaLayer.div,"xfaLayer"),n.l10n.resume()),n.#f("xfalayerrendered",e)}})()}#w(){var n=this;return V(function*(){if(!n.textLayer)return;let e=null;try{yield n.textLayer.render(n.viewport)}catch(i){if(i instanceof tge)return;console.error(`#renderTextLayer: "${i}".`),e=i}n.#f("textlayerrendered",e),n.#D()})()}#D(){var n=this;return V(function*(){if(!n.textLayer)return;const e=yield n.structTreeLayer?.render();e&&(n.l10n.pause(),n.structTreeLayer?.addElementsToTextLayer(),n.canvas&&e.parentNode!==n.canvas&&n.canvas.append(e),n.l10n.resume()),n.structTreeLayer?.show()})()}#O(n){var e=this;return V(function*(){const i=yield e.pdfPage.getTextContent(),o=[];for(const s of i.items)o.push(s.str);e._textHighlighter.setTextMapping(n,o),e._textHighlighter.enable()})()}_resetZoomLayer(n=!1){if(!this.zoomLayer)return;const e=this.zoomLayer.firstChild;this.#p.delete(e),e.width=0,e.height=0,n&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:n=!1,keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:o=!1,keepTextLayer:s=!1}={}){this.cancelRendering({keepAnnotationLayer:e,keepAnnotationEditorLayer:i,keepXfaLayer:o,keepTextLayer:s}),this.renderingState=jo.INITIAL;const r=this.div,a=r.childNodes,l=n&&this.zoomLayer||null,c=e&&this.annotationLayer?.div||null,h=i&&this.annotationEditorLayer?.div||null,p=o&&this.xfaLayer?.div||null,f=s&&this.textLayer?.div||null;for(let v=a.length-1;v>=0;v--){const C=a[v];switch(C){case l:case c:case h:case p:case f:continue}C.remove();const E=this.#_.indexOf(C);E>=0&&(this.#_[E]=null)}r.removeAttribute("data-loaded"),c&&this.annotationLayer.hide(),h&&this.annotationEditorLayer.hide(),p&&this.xfaLayer.hide(),f&&this.textLayer.hide(),this.structTreeLayer?.hide(),l||(this.canvas&&(this.#p.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(n){this.hasEditableAnnotations()&&(this.#i=n,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:n=0,rotation:e=null,optionalContentConfigPromise:i=null,drawingDelay:o=-1}){if(this.scale=n||this.scale,"number"==typeof e&&(this.rotation=e),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(r=>{i===this._optionalContentConfigPromise&&(this.#h.initialOptionalContent=r.hasInitialVisibility)})),this.#h.directDrawing=!0,this.viewport=this.viewport.clone({scale:this.scale*ol.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#m(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let r=!1;if(this.#n)if(0===this.maxCanvasPixels)r=!0;else if(this.maxCanvasPixels>0){const{width:l,height:c}=this.viewport,{sx:h,sy:p}=this.outputScale;r=(Math.floor(l)*h|0)*(Math.floor(c)*p|0)>this.maxCanvasPixels}const a=o>=0&&o<1e3;if(a||r){if(a&&!r&&this.renderingState!==jo.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:o}),this.renderingState=jo.FINISHED,this.#h.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!a,hideTextLayer:a}),a)return;return void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#a})}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:n=!1,keepAnnotationEditorLayer:e=!1,keepXfaLayer:i=!1,keepTextLayer:o=!1,cancelExtraDelay:s=0}={}){this.renderTask&&(this.renderTask.cancel(s),this.renderTask=null),this.resume=null,this.textLayer&&(!o||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!n||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!e||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:n,redrawAnnotationLayer:e=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:o=!1,redrawTextLayer:s=!1,hideTextLayer:r=!1}){if(!n.hasAttribute("zooming")){n.setAttribute("zooming",!0);const{style:l}=n;l.width=l.height=""}const a=this.#p.get(n);if(this.viewport!==a){const l=this.viewport.rotation-a.rotation,c=Math.abs(l);let h=1,p=1;if(90===c||270===c){const{width:f,height:v}=this.viewport;h=v/f,p=f/v}n.style.transform=`rotate(${l}deg) scale(${h}, ${p})`}e&&this.annotationLayer&&this.#v(),i&&this.annotationEditorLayer&&(this.drawLayer&&this.#b(),this.#M()),o&&this.xfaLayer&&this.#T(),this.textLayer&&(r?(this.textLayer.hide(),this.structTreeLayer?.hide()):s&&this.#w())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(n,e){return this.viewport.convertToPdfPoint(n,e)}#S(n,e=null){var i=this;return V(function*(){if(n===i.renderTask&&(i.renderTask=null),e instanceof gT)i.#a=null;else if(i.#a=e,i.renderingState=jo.FINISHED,i._resetZoomLayer(!0),i.#h.regularAnnotations=!n.separateAnnots,i.eventBus.dispatch("pagerendered",{source:i,pageNumber:i.id,cssTransform:!1,timestamp:performance.now(),error:i.#a}),e)throw e})()}draw(){var n=this;return V(function*(){n.renderingState!==jo.INITIAL&&(console.error("Must be in new state before drawing"),n.reset());const{div:e,l10n:i,pageColors:o,pdfPage:s,viewport:r}=n;if(!s)throw n.renderingState=jo.FINISHED,new Error("pdfPage is not loaded");n.renderingState=jo.RUNNING;const a=document.createElement("div");if(a.classList.add("canvasWrapper"),n.#g(a,"canvasWrapper"),!n.textLayer&&0!==n.#r&&!s.isPureXfa&&(n._accessibilityManager||=new Ip,n.textLayer=new ou({pdfPage:s,highlighter:n._textHighlighter,accessibilityManager:n._accessibilityManager,enablePermissions:2===n.#r,onAppend:me=>{n.l10n.pause(),n.#g(me,"textLayer"),n.l10n.resume()}})),!n.annotationLayer&&n.#e!==il.DISABLE){const{annotationStorage:me,annotationEditorUIManager:Fe,downloadManager:bt,enableScripting:nt,fieldObjectsPromise:Dt,hasJSActionsPromise:Bt,linkService:Zt}=n.#o;n._annotationCanvasMap||=new Map,n.annotationLayer=new Kk({pdfPage:s,annotationStorage:me,imageResourcesPath:n.imageResourcesPath,renderForms:n.#e===il.ENABLE_FORMS,linkService:Zt,downloadManager:bt,enableScripting:nt,hasJSActionsPromise:Bt,fieldObjectsPromise:Dt,annotationCanvasMap:n._annotationCanvasMap,accessibilityManager:n._accessibilityManager,annotationEditorUIManager:Fe,onAppend:Ge=>{n.#g(Ge,"annotationLayer")}})}const{width:c,height:h}=r,p=document.createElement("canvas");p.setAttribute("role","presentation"),p.hidden=!0;const f=!(!o?.background||!o?.foreground);let v=me=>{(!f||me)&&(p.hidden=!1,v=null)};a.append(p),n.canvas=p;const C=p.getContext("2d",{alpha:!1,willReadFrequently:!n.#t}),E=n.outputScale=new dge;if(0===n.maxCanvasPixels){const me=1/n.scale;E.sx*=me,E.sy*=me,n.#n=!0}else if(n.maxCanvasPixels>0){const Fe=Math.sqrt(n.maxCanvasPixels/(c*h));E.sx>Fe||E.sy>Fe?(E.sx=Fe,E.sy=Fe,n.#n=!0):n.#n=!1}const D=zk(E.sx),P=zk(E.sy),I=p.width=g4(f4(c*E.sx),D[0]),k=p.height=g4(f4(h*E.sy),P[0]),R=g4(f4(c),D[1]),ee=g4(f4(h),P[1]);E.sx=I/R,E.sy=k/ee,n.#c!==D[1]&&(e.style.setProperty("--scale-round-x",`${D[1]}px`),n.#c=D[1]),n.#d!==P[1]&&(e.style.setProperty("--scale-round-y",`${P[1]}px`),n.#d=P[1]),n.#p.set(p,r);const fe={canvasContext:C,transform:E.scaled?[E.sx,0,0,E.sy,0,0]:null,viewport:r,annotationMode:n.#e,optionalContentConfigPromise:n._optionalContentConfigPromise,annotationCanvasMap:n._annotationCanvasMap,pageColors:o,isEditing:n.#i},pe=n.renderTask=s.render(fe);pe.onContinue=me=>{if(v?.(!1),n.renderingQueue&&!n.renderingQueue.isHighestPriority(n))return n.renderingState=jo.PAUSED,void(n.resume=()=>{n.renderingState=jo.RUNNING,me()});me()};const ue=pe.promise.then(V(function*(){v?.(!0),yield n.#S(pe),n.structTreeLayer||=new vz(s,r.rawDims),n.#w(),n.annotationLayer&&(yield n.#v());const{annotationEditorUIManager:me}=n.#o;me&&(n.drawLayer||=new hfe({pageIndex:n.id}),yield n.#b(),n.drawLayer.setParent(a),n.annotationEditorLayer||=new dfe({uiManager:me,pdfPage:s,l10n:i,structTreeLayer:n.structTreeLayer,accessibilityManager:n._accessibilityManager,annotationLayer:n.annotationLayer?.annotationLayer,textLayer:n.textLayer,drawLayer:n.drawLayer.getDrawLayer(),onAppend:Fe=>{n.#g(Fe,"annotationEditorLayer")}}),n.#M())}),me=>(me instanceof gT||v?.(!0),n.#S(pe,me)));if(s.isPureXfa){if(!n.xfaLayer){const{annotationStorage:me,linkService:Fe}=n.#o;n.xfaLayer=new Cz({pdfPage:s,annotationStorage:me,linkService:Fe})}n.#T()}return e.setAttribute("data-loaded",!0),n.eventBus.dispatch("pagerender",{source:n,pageNumber:n.id}),ue})()}setPageLabel(n){this.pageLabel="string"==typeof n?n:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:n,initialOptionalContent:e,regularAnnotations:i}=this.#h;return n&&e&&i?this.canvas:null}}function OT(){return(OT=V(function*(t){const e="".split("#",1)[0];let{info:i,metadata:o,contentDispositionFilename:s,contentLength:r}=yield t.getMetadata();if(!r){const{length:a}=yield t.getDownloadInfo();r=a}return{...i,baseURL:e,filesize:r,filename:s||age(""),metadata:o?.getRaw(),authors:o?.get("dc:creator"),numPages:t.numPages,URL:""}})).apply(this,arguments)}class vfe{constructor(n){this._ready=new Promise((e,i)=>{import(n).then(s=>{e(s.QuickJSSandbox())}).catch(i)})}createSandbox(n){var e=this;return V(function*(){(yield e._ready).create(n)})()}dispatchEventInSandbox(n){var e=this;return V(function*(){const i=yield e._ready;setTimeout(()=>i.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return V(function*(){(yield n._ready).nukeSandbox()})()}}class Cfe{#e=null;#t=null;#n=null;#i=null;#o=null;#s=null;#l=null;#c=null;#d=!1;#a=null;#u=null;constructor({eventBus:n,externalServices:e=null,docProperties:i=null}){this.#o=n,this.#s=e,this.#n=i}setViewer(n){this.#c=n}setDocument(n){var e=this;return V(function*(){if(e.#l&&(yield e.#g()),e.#l=n,!n)return;const[i,o,s]=yield Promise.all([n.getFieldObjects(),n.getCalculationOrderIds(),n.getJSActions()]);if(!i&&!s)return void(yield e.#g());if(n!==e.#l)return;try{e.#a=e.#_()}catch(l){return console.error(`setDocument: "${l.message}".`),void(yield e.#g())}const r=e.#o;e.#i=new AbortController;const{signal:a}=e.#i;r._on("updatefromsandbox",l=>{l?.source===window&&e.#r(l.detail)},{signal:a}),r._on("dispatcheventinsandbox",l=>{e.#a?.dispatchEventInSandbox(l.detail)},{signal:a}),r._on("pagechanging",({pageNumber:l,previous:c})=>{l!==c&&(e.#p(c),e.#h(l))},{signal:a}),r._on("pagerendered",({pageNumber:l})=>{e._pageOpenPending.has(l)&&l===e.#c.currentPageNumber&&e.#h(l)},{signal:a}),r._on("pagesdestroy",V(function*(){yield e.#p(e.#c.currentPageNumber),yield e.#a?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),e.#e?.resolve()}),{signal:a});try{const l=yield e.#n(n);if(n!==e.#l)return;yield e.#a.createSandbox({objects:i,calculationOrder:o,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:s}}),r.dispatch("sandboxcreated",{source:e})}catch(l){return console.error(`setDocument: "${l.message}".`),void(yield e.#g())}yield e.#a?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield e.#h(e.#c.currentPageNumber,!0),Promise.resolve().then(()=>{n===e.#l&&(e.#d=!0)})})()}dispatchWillSave(){var n=this;return V(function*(){return n.#a?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(){var n=this;return V(function*(){return n.#a?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(){var n=this;return V(function*(){if(n.#a){yield n.#u?.promise,n.#u=Promise.withResolvers();try{yield n.#a.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(e){throw n.#u.resolve(),n.#u=null,e}yield n.#u.promise}})()}dispatchDidPrint(){var n=this;return V(function*(){return n.#a?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#d}get _pageOpenPending(){return M4(this,"_pageOpenPending",new Set)}get _visitedPages(){return M4(this,"_visitedPages",new Map)}#r(n){var e=this;return V(function*(){const i=e.#c,o=i.isInPresentationMode||i.isChangingPresentationMode,{id:s,siblings:r,command:a,value:l}=n;if(!s){switch(a){case"clear":console.clear();break;case"error":console.error(l);break;case"layout":if(!o){const h=function Ppe(t){let n=wi.VERTICAL,e=_r.NONE;switch(t){case"SinglePage":n=wi.PAGE;break;case"OneColumn":break;case"TwoPageLeft":n=wi.PAGE;case"TwoColumnLeft":e=_r.ODD;break;case"TwoPageRight":n=wi.PAGE;case"TwoColumnRight":e=_r.EVEN}return{scrollMode:n,spreadMode:e}}(l);i.spreadMode=h.spreadMode}break;case"page-num":i.currentPageNumber=l+1;break;case"print":yield i.pagesPromise,e.#o.dispatch("print",{source:e});break;case"println":console.log(l);break;case"zoom":o||(i.currentScaleValue=l);break;case"SaveAs":e.#o.dispatch("download",{source:e});break;case"FirstPage":i.currentPageNumber=1;break;case"LastPage":i.currentPageNumber=i.pagesCount;break;case"NextPage":i.nextPage();break;case"PrevPage":i.previousPage();break;case"ZoomViewIn":o||i.increaseScale();break;case"ZoomViewOut":o||i.decreaseScale();break;case"WillPrintFinished":e.#u?.resolve(),e.#u=null}return}if(o&&n.focus)return;delete n.id,delete n.siblings;const c=r?[s,...r]:[s];for(const h of c){const p=document.querySelector(`[data-element-id="${h}"]`);p?p.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:n})):e.#l?.annotationStorage.setValue(h,n)}})()}#h(n,e=!1){var i=this;return V(function*(){const o=i.#l,s=i._visitedPages;if(e&&(i.#e=Promise.withResolvers()),!i.#e)return;const r=i.#c.getPageView(n-1);if(r?.renderingState!==jo.FINISHED)return void i._pageOpenPending.add(n);i._pageOpenPending.delete(n);const a=V(function*(){const l=yield s.has(n)?null:r.pdfPage?.getJSActions();o===i.#l&&(yield i.#a?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:n,actions:l}))})();s.set(n,a)})()}#p(n){var e=this;return V(function*(){const i=e.#l,o=e._visitedPages;if(!e.#e||e._pageOpenPending.has(n))return;const s=o.get(n);s&&(o.set(n,null),yield s,i===e.#l&&(yield e.#a?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:n})))})()}#_(){if(this.#t=Promise.withResolvers(),this.#a)throw new Error("#initScripting: Scripting already exists.");return this.#s.createScripting()}#g(){var n=this;return V(function*(){if(!n.#a)return n.#l=null,void n.#t?.resolve();n.#e&&(yield Promise.race([n.#e.promise,new Promise(e=>{setTimeout(e,1e3)})]).catch(()=>{}),n.#e=null),n.#l=null;try{yield n.#a.destroySandbox()}catch{}n.#u?.reject(new Error("Scripting destroyed.")),n.#u=null,n.#i?.abort(),n.#i=null,n._pageOpenPending.clear(),n._visitedPages.clear(),n.#a=null,n.#d=!1,n.#t?.resolve()})()}}class Mfe extends Cfe{constructor(n){n.externalServices||window.addEventListener("updatefromsandbox",e=>{n.eventBus.dispatch("updatefromsandbox",{source:window,detail:e.detail})}),n.externalServices||={createScripting:()=>new vfe(n.sandboxBundleSrc)},n.docProperties||=e=>function mfe(t){return OT.apply(this,arguments)}(e),super(n)}}class wfe{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}renderHighestPriority(n){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,e,i,o=!1){const s=n.views,r=s.length;if(0===r)return null;for(let p=0;p<r;p++){const f=s[p].view;if(!this.isViewFinished(f))return f}const a=n.first.id,l=n.last.id;if(l-a+1>r){const p=n.ids;for(let f=1,v=l-a;f<v;f++){const C=i?a+f:l-f;if(p.has(C))continue;const E=e[C-1];if(!this.isViewFinished(E))return E}}let c=i?l:a-2,h=e[c];return h&&!this.isViewFinished(h)||o&&(c+=i?1:-1,h=e[c],h&&!this.isViewFinished(h))?h:null}isViewFinished(n){return n.renderingState===jo.FINISHED}renderView(n){switch(n.renderingState){case jo.FINISHED:return!1;case jo.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case jo.RUNNING:this.highestPriorityPage=n.renderingId;break;case jo.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(e=>{e instanceof gT||console.error(`renderView: "${e}"`)})}return!0}}function wz(t){return Object.values(La).includes(t)&&t!==La.DISABLE}class bfe{#e=new Set;#t=0;constructor(n){this.#t=n}push(n){const e=this.#e;e.has(n)&&e.delete(n),e.add(n),e.size>this.#t&&this.#n()}resize(n,e=null){this.#t=n;const i=this.#e;if(e){const o=i.size;let s=1;for(const r of i)if(e.has(r.id)&&(i.delete(r),i.add(r)),++s>o)break}for(;i.size>this.#t;)this.#n()}has(n){return this.#e.has(n)}[Symbol.iterator](){return this.#e.keys()}#n(){const n=this.#e.keys().next().value;n?.destroy(),this.#e.delete(n)}}class bz{#e=null;#t=null;#n=null;#i=La.NONE;#o=null;#s=il.ENABLE_FORMS;#l=null;#c=!1;#d=!1;#a=!1;#u=!1;#r=!1;#h=null;#p=null;#_=null;#g=null;#m=!1;#f=null;#v=!1;#M=0;#b=new ResizeObserver(this.#z.bind(this));#T=null;#w=null;#D=1;constructor(n){const e="4.8.69";if(Xk!==e)throw new Error(`The API version "${Xk}" does not match the Viewer version "${e}".`);if(this.container=n.container,this.viewer=n.viewer||n.container.firstElementChild,"DIV"!==this.container?.tagName||"DIV"!==this.viewer?.tagName)throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.#b.observe(this.container),this.eventBus=n.eventBus,this.linkService=n.linkService||new pT,this.downloadManager=n.downloadManager||null,this.findController=n.findController||null,this.#t=n.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=o=>this._getVisiblePages().ids.has(o)),this._scriptingManager=n.scriptingManager||null,this.#D=n.textLayerMode??1,this.#s=n.annotationMode??il.ENABLE_FORMS,this.#i=n.annotationEditorMode??La.NONE,this.#n=n.annotationEditorHighlightColors||null,this.#d=!0===n.enableHighlightFloatingButton,this.#u=!0===n.enableUpdatedAddImage,this.#r=!0===n.enableNewAltTextWhenAddingImage,this.imageResourcesPath=n.imageResourcesPath||"",this.enablePrintAutoRotate=n.enablePrintAutoRotate||!1,this.removePageBorders=n.removePageBorders||!1,this.maxCanvasPixels=n.maxCanvasPixels,this.l10n=n.l10n,this.l10n||=new rl,this.#a=n.enablePermissions||!1,this.pageColors=n.pageColors||null,this.#p=n.mlManager||null,this.#c=n.enableHWA||!1,this.defaultRenderingQueue=!n.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new wfe,this.renderingQueue.setViewer(this)):this.renderingQueue=n.renderingQueue;const{abortSignal:i}=n;i?.addEventListener("abort",()=>{this.#b.disconnect(),this.#b=null},{once:!0}),this.scroll=function wpe(t,n,e){const i=function(r){s||(s=window.requestAnimationFrame(function(){s=null;const l=t.scrollLeft,c=o.lastX;l!==c&&(o.right=l>c),o.lastX=l;const h=t.scrollTop,p=o.lastY;h!==p&&(o.down=h>p),o.lastY=h,n(o)}))},o={right:!0,down:!0,lastX:t.scrollLeft,lastY:t.scrollTop,_eventHandler:i};let s=null;return t.addEventListener("scroll",i,{useCapture:!0,signal:e}),e?.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),o}(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=0,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#F(),this.eventBus._on("thumbnailrendered",({pageNumber:o,pdfPage:s})=>{this.#e.has(this._pages[o-1])||s?.cleanup()}),n.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(n){return this._pages[n]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(n=>n?.pdfPage)}get renderForms(){return this.#s===il.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(n){if(!Number.isInteger(n))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(n,!0)||console.error(`currentPageNumber: "${n}" is not a valid page.`))}_setCurrentPageNumber(n,e=!1){if(this._currentPageNumber===n)return e&&this.#I(),!0;if(!(0<n&&n<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=n,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:n,pageLabel:this._pageLabels?.[n-1]??null,previous:i}),e&&this.#I(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(n){if(!this.pdfDocument)return;let e=0|n;if(this._pageLabels){const i=this._pageLabels.indexOf(n);i>=0&&(e=i+1)}this._setCurrentPageNumber(e,!0)||console.error(`currentPageLabel: "${n}" is not a valid page.`)}get currentScale(){return 0!==this._currentScale?this._currentScale:1}set currentScale(n){if(isNaN(n))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#N(n,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(n){this.pdfDocument&&this.#N(n,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(n){if(!Vk(n))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((n%=360)<0&&(n+=360),this._pagesRotation===n))return;this._pagesRotation=n;const e=this._currentPageNumber;this.refresh(!0,{rotation:n}),this._currentScaleValue&&this.#N(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:n,pageNumber:e}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const n=this;return M4(this,"_layerProperties",{get annotationEditorUIManager(){return n.#o},get annotationStorage(){return n.pdfDocument?.annotationStorage},get downloadManager(){return n.downloadManager},get enableScripting(){return!!n._scriptingManager},get fieldObjectsPromise(){return n.pdfDocument?.getFieldObjects()},get findController(){return n.findController},get hasJSActionsPromise(){return n.pdfDocument?.hasJSActions()},get linkService(){return n.linkService}})}#O(n){const e={annotationEditorMode:this.#i,annotationMode:this.#s,textLayerMode:this.#D};return n&&(!n.includes(C4.COPY)&&1===this.#D&&(e.textLayerMode=2),n.includes(C4.MODIFY_CONTENTS)||(e.annotationEditorMode=La.DISABLE),!n.includes(C4.MODIFY_ANNOTATIONS)&&!n.includes(C4.FILL_INTERACTIVE_FORMS)&&this.#s===il.ENABLE_FORMS&&(e.annotationMode=il.ENABLE)),e}#S(n){var e=this;return V(function*(){if("hidden"===document.visibilityState||!e.container.offsetParent||0===e._getVisiblePages().views.length)return;const i=Promise.withResolvers(),o=new AbortController;document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&i.resolve()},{signal:"function"==typeof AbortSignal.any?AbortSignal.any([n,o.signal]):n}),yield Promise.race([e._onePageRenderedCapability.promise,i.promise]),o.abort()})()}getAllText(){var n=this;return V(function*(){const e=[],i=[];for(let o=1,s=n.pdfDocument.numPages;o<=s;++o){if(n.#v)return null;i.length=0;const r=yield n.pdfDocument.getPage(o),{items:a}=yield r.getTextContent();for(const l of a)l.str&&i.push(l.str),l.hasEOL&&i.push("\n");e.push(Op(i.join("")))}return e.join("\n")})()}#y(n,e){const i=document.getSelection(),{focusNode:o,anchorNode:s}=i;if(s&&o&&i.containsNode(this.#f)){if(this.#m||2===n)return e.preventDefault(),void e.stopPropagation();this.#m=!0;const{classList:r}=this.viewer;r.add("copyAll");const a=new AbortController;window.addEventListener("keydown",l=>this.#v="Escape"===l.key,{signal:a.signal}),this.getAllText().then(function(){var l=V(function*(c){null!==c&&(yield navigator.clipboard.writeText(c))});return function(c){return l.apply(this,arguments)}}()).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{this.#m=!1,this.#v=!1,a.abort(),r.remove("copyAll")}),e.preventDefault(),e.stopPropagation()}}setDocument(n){var e=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#o?.destroy(),this.#o=null),this.pdfDocument=n,!n)return;const i=n.numPages,o=n.getPage(1),s=n.getOptionalContentConfig({intent:"display"}),r=this.#a?n.getPermissions():Promise.resolve(),{eventBus:a,pageColors:l,viewer:c}=this;this.#h=new AbortController;const{signal:h}=this.#h;if(i>1e4){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const v=this._scrollMode=wi.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:v})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:i})},()=>{}),a._on("pagerender",v=>{const C=this._pages[v.pageNumber-1];C&&this.#e.push(C)},{signal:h});const f=v=>{v.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:v.timestamp}),a._off("pagerendered",f))};a._on("pagerendered",f,{signal:h}),Promise.all([o,r]).then(([v,C])=>{if(n!==this.pdfDocument)return;this._firstPageCapability.resolve(v),this._optionalContentConfigPromise=s;const{annotationEditorMode:E,annotationMode:D,textLayerMode:P}=this.#O(C);if(0!==P){const ee=this.#f=document.createElement("div");ee.id="hiddenCopyElement",c.before(ee)}if("function"==typeof AbortSignal.any&&E!==La.DISABLE){const ee=E;n.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):wz(ee)?(this.#o=new ige(this.container,c,this.#t,a,n,l,this.#n,this.#d,this.#u,this.#r,this.#p),a.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#o}),ee!==La.NONE&&(ee===La.STAMP&&this.#p?.loadModel("altText"),this.#o.updateMode(ee))):console.error(`Invalid AnnotationEditor mode: ${ee}`)}const I=this._scrollMode===wi.PAGE?null:c,k=this.currentScale,R=v.getViewport({scale:k*ol.PDF_TO_CSS_UNITS});c.style.setProperty("--scale-factor",R.scale),l?.background&&c.style.setProperty("--page-bg-color",l.background),("CanvasText"===l?.foreground||"Canvas"===l?.background)&&(c.style.setProperty("--hcm-highlight-filter",n.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),c.style.setProperty("--hcm-highlight-selected-filter",n.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let ee=1;ee<=i;++ee){const re=new Mz({container:I,eventBus:a,id:ee,scale:k,defaultViewport:R.clone(),optionalContentConfigPromise:s,renderingQueue:this.renderingQueue,textLayerMode:P,annotationMode:D,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:l,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#c});this._pages.push(re)}this._pages[0]?.setPdfPage(v),this._scrollMode===wi.PAGE?this.#A():this._spreadMode!==_r.NONE&&this._updateSpreadMode(),this.#S(h).then(V(function*(){if(n!==e.pdfDocument)return;if(e.findController?.setDocument(n),e._scriptingManager?.setDocument(n),e.#f&&document.addEventListener("copy",e.#y.bind(e,P),{signal:h}),e.#o&&a.dispatch("annotationeditormodechanged",{source:e,mode:e.#i}),n.loadingParams.disableAutoFetch||i>5e3)return void e._pagesCapability.resolve();let ee=i-1;if(ee<=0)e._pagesCapability.resolve();else for(let re=2;re<=i;++re){const fe=n.getPage(re).then(pe=>{const ue=e._pages[re-1];ue.pdfPage||ue.setPdfPage(pe),0==--ee&&e._pagesCapability.resolve()},pe=>{console.error(`Unable to get page ${re} to initialize viewer`,pe),0==--ee&&e._pagesCapability.resolve()});re%250==0&&(yield fe)}})),a.dispatch("pagesinit",{source:this}),n.getMetadata().then(({info:ee})=>{n===this.pdfDocument&&ee.Language&&(c.lang=ee.Language)}),this.defaultRenderingQueue&&this.update()}).catch(v=>{console.error("Unable to initialize viewer",v),this._pagesCapability.reject(v)})}setPageLabels(n){if(this.pdfDocument){n?Array.isArray(n)&&this.pdfDocument.numPages===n.length?this._pageLabels=n:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let e=0,i=this._pages.length;e<i;e++)this._pages[e].setPageLabel(this._pageLabels?.[e]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=0,this._currentScaleValue=null,this._pageLabels=null,this.#e=new bfe(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=wi.VERTICAL,this._previousScrollMode=wi.UNKNOWN,this._spreadMode=_r.NONE,this.#T={previousPageNumber:1,scrollDown:!0,pages:[]},this.#h?.abort(),this.#h=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#f?.remove(),this.#f=null,this.#V()}#A(){if(this._scrollMode!==wi.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const n=this._currentPageNumber,e=this.#T,i=this.viewer;if(i.textContent="",e.pages.length=0,this._spreadMode!==_r.NONE||this.isInPresentationMode){const o=new Set,s=this._spreadMode-1;-1===s?o.add(n-1):n%2!==s?(o.add(n-1),o.add(n)):(o.add(n-2),o.add(n-1));const r=document.createElement("div");if(r.className="spread",this.isInPresentationMode){const a=document.createElement("div");a.className="dummyPage",r.append(a)}for(const a of o){const l=this._pages[a];l&&(r.append(l.div),e.pages.push(l))}i.append(r)}else{const o=this._pages[n-1];i.append(o.div),e.pages.push(o)}e.scrollDown=n>=e.previousPageNumber,e.previousPageNumber=n}_scrollUpdate(){0!==this.pagesCount&&this.update()}#P(n,e=null){const{div:i,id:o}=n;if(this._currentPageNumber!==o&&this._setCurrentPageNumber(o),this._scrollMode===wi.PAGE&&(this.#A(),this.update()),!e&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,r=s+i.clientWidth,{scrollLeft:a,clientWidth:l}=this.container;(this._scrollMode===wi.HORIZONTAL||s<a||r>a+l)&&(e={left:0,top:0})}Fk(i,e),!this._currentScaleValue&&this._location&&(this._location=null)}#x(n){return n===this._currentScale||Math.abs(n-this._currentScale)<1e-15}#E(n,e,{noScroll:i=!1,preset:o=!1,drawingDelay:s=-1,origin:r=null}){if(this._currentScaleValue=e.toString(),this.#x(n))return void(o&&this.eventBus.dispatch("scalechanging",{source:this,scale:n,presetValue:e}));this.viewer.style.setProperty("--scale-factor",n*ol.PDF_TO_CSS_UNITS);const a=s>=0&&s<1e3;this.refresh(!0,{scale:n,drawingDelay:a?s:-1}),a&&(this.#w=setTimeout(()=>{this.#w=null,this.refresh()},s));const l=this._currentScale;if(this._currentScale=n,!i){let h,c=this._currentPageNumber;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(c=this._location.pageNumber,h=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:h,allowNegativeOffset:!0}),Array.isArray(r)){const p=n/l-1,[f,v]=this.containerTopLeft;this.container.scrollLeft+=(r[0]-v)*p,this.container.scrollTop+=(r[1]-f)*p}}this.eventBus.dispatch("scalechanging",{source:this,scale:n,presetValue:o?e:void 0}),this.defaultRenderingQueue&&this.update()}get#C(){return this._spreadMode!==_r.NONE&&this._scrollMode!==wi.HORIZONTAL?2:1}#N(n,e){let i=parseFloat(n);if(i>0)e.preset=!1,this.#E(i,n,e);else{const o=this._pages[this._currentPageNumber-1];if(!o)return;let s=40,r=5;this.isInPresentationMode?(s=r=4,this._spreadMode!==_r.NONE&&(s*=2)):this.removePageBorders?s=r=0:this._scrollMode===wi.HORIZONTAL&&([s,r]=[r,s]);const a=(this.container.clientWidth-s)/o.width*o.scale/this.#C,l=(this.container.clientHeight-r)/o.height*o.scale;switch(n){case"page-actual":i=1;break;case"page-width":i=a;break;case"page-height":i=l;break;case"page-fit":i=Math.min(a,l);break;case"auto":const c=Hk(o)?a:Math.min(l,a);i=Math.min(1.25,c);break;default:return void console.error(`#setScale: "${n}" is an unknown zoom value.`)}e.preset=!0,this.#E(i,n,e)}}#I(){const n=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#N(this._currentScaleValue,{noScroll:!0}),this.#P(n)}pageLabelToPageNumber(n){if(!this._pageLabels)return null;const e=this._pageLabels.indexOf(n);return e<0?null:e+1}scrollPageIntoView({pageNumber:n,destArray:e=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:o=!1}){if(!this.pdfDocument)return;const s=Number.isInteger(n)&&this._pages[n-1];if(!s)return void console.error(`scrollPageIntoView: "${n}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!e)return void this._setCurrentPageNumber(n,!0);let h,p,r=0,a=0,l=0,c=0;const f=s.rotation%180!=0,v=(f?s.height:s.width)/s.scale/ol.PDF_TO_CSS_UNITS,C=(f?s.width:s.height)/s.scale/ol.PDF_TO_CSS_UNITS;let E=0;switch(e[1].name){case"XYZ":r=e[2],a=e[3],E=e[4],r=null!==r?r:0,a=null!==a?a:C;break;case"Fit":case"FitB":E="page-fit";break;case"FitH":case"FitBH":a=e[2],E="page-width",null===a&&this._location?(r=this._location.left,a=this._location.top):("number"!=typeof a||a<0)&&(a=C);break;case"FitV":case"FitBV":r=e[2],l=v,c=C,E="page-height";break;case"FitR":r=e[2],a=e[3],l=e[4]-r,c=e[5]-a;let k=40,R=5;this.removePageBorders&&(k=R=0),h=(this.container.clientWidth-k)/l/ol.PDF_TO_CSS_UNITS,p=(this.container.clientHeight-R)/c/ol.PDF_TO_CSS_UNITS,E=Math.min(Math.abs(h),Math.abs(p));break;default:return void console.error(`scrollPageIntoView: "${e[1].name}" is not a valid destination type.`)}if(o||(E&&E!==this._currentScale?this.currentScaleValue=E:0===this._currentScale&&(this.currentScaleValue="auto")),"page-fit"===E&&!e[4])return void this.#P(s);const D=[s.viewport.convertToViewportPoint(r,a),s.viewport.convertToViewportPoint(r+l,a+c)];let P=Math.min(D[0][0],D[1][0]),I=Math.min(D[0][1],D[1][1]);i||(P=Math.max(P,0),I=Math.max(I,0)),this.#P(s,{left:P,top:I})}_updateLocation(n){const e=this._currentScale,i=this._currentScaleValue,o=parseFloat(i)===e?Math.round(1e4*e)/100:i,s=n.id,a=this.container,l=this._pages[s-1].getPagePoint(a.scrollLeft-n.x,a.scrollTop-n.y),c=Math.round(l[0]),h=Math.round(l[1]);let p=`#page=${s}`;this.isInPresentationMode||(p+=`&zoom=${o},${c},${h}`),this._location={pageNumber:s,scale:o,top:h,left:c,rotation:this._pagesRotation,pdfOpenParams:p}}update(){const n=this._getVisiblePages(),e=n.views,i=e.length;if(0===i)return;const o=Math.max(10,2*i+1);this.#e.resize(o,n.ids),this.renderingQueue.renderHighestPriority(n);const s=this._spreadMode===_r.NONE&&(this._scrollMode===wi.PAGE||this._scrollMode===wi.VERTICAL),r=this._currentPageNumber;let a=!1;for(const l of e){if(l.percent<100)break;if(l.id===r&&s){a=!0;break}}this._setCurrentPageNumber(a?r:e[0].id),this._updateLocation(n.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#k(){const n=this._getVisiblePages(),e=[],{ids:i,views:o}=n;for(const s of o){const{view:r}=s;r.hasEditableAnnotations()?e.push(s):i.delete(r.id)}return 0===e.length?null:(this.renderingQueue.renderHighestPriority({first:e[0],last:e.at(-1),views:e,ids:i}),i)}containsElement(n){return this.container.contains(n)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return 3===this.presentationModeState}get isChangingPresentationMode(){return 2===this.presentationModeState}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const n=this._scrollMode===wi.PAGE?this.#T.pages:this._pages,e=this._scrollMode===wi.HORIZONTAL;return function Spe({scrollEl:t,views:n,sortByVisibility:e=!1,horizontal:i=!1,rtl:o=!1}){const s=t.scrollTop,r=s+t.clientHeight,a=t.scrollLeft,l=a+t.clientWidth,p=[],f=new Set,v=n.length;let C=yp(n,i?function h(I){const k=I.div,R=k.offsetLeft+k.clientLeft;return o?R<l:R+k.clientWidth>a}:function c(I){const k=I.div;return k.offsetTop+k.clientTop+k.clientHeight>s});C>0&&C<v&&!i&&(C=function bpe(t,n,e){if(t<2)return t;let i=n[t].div,o=i.offsetTop+i.clientTop;o>=e&&(i=n[t-1].div,o=i.offsetTop+i.clientTop);for(let s=t-2;s>=0&&(i=n[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=o));--s)t=s;return t}(C,n,s));let E=i?l:-1;for(let I=C;I<v;I++){const k=n[I],R=k.div,ee=R.offsetLeft+R.clientLeft,re=R.offsetTop+R.clientTop,fe=R.clientWidth,pe=R.clientHeight,ue=ee+fe,me=re+pe;if(-1===E)me>=r&&(E=me);else if((i?ee:re)>E)break;if(me<=s||re>=r||ue<=a||ee>=l)continue;const Fe=Math.max(0,s-re)+Math.max(0,me-r),Dt=(fe-(Math.max(0,a-ee)+Math.max(0,ue-l)))/fe;p.push({id:k.id,x:ee,y:re,view:k,percent:(pe-Fe)/pe*Dt*100|0,widthPercent:100*Dt|0}),f.add(k.id)}const D=p[0],P=p.at(-1);return e&&p.sort(function(I,k){const R=I.percent-k.percent;return Math.abs(R)>.001?-R:I.id-k.id}),{first:D,last:P,views:p,ids:f}}({scrollEl:this.container,views:n,sortByVisibility:!0,horizontal:e,rtl:e&&this._isContainerRtl})}cleanup(){for(const n of this._pages)n.renderingState!==jo.FINISHED&&n.reset()}_cancelRendering(){for(const n of this._pages)n.cancelRendering()}#$(n){var e=this;return V(function*(){if(n.pdfPage)return n.pdfPage;try{const i=yield e.pdfDocument.getPage(n.id);return n.pdfPage||n.setPdfPage(i),i}catch(i){return console.error("Unable to get page for page view",i),null}})()}#H(n){if(1===n.first?.id)return!0;if(n.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case wi.PAGE:return this.#T.scrollDown;case wi.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(n){const e=n||this._getVisiblePages(),i=this.#H(e),s=this.renderingQueue.getHighestPriority(e,this._pages,i,this._spreadMode!==_r.NONE&&this._scrollMode!==wi.HORIZONTAL);return!!s&&(this.#$(s).then(()=>{this.renderingQueue.renderView(s)}),!0)}get hasEqualPageSizes(){const n=this._pages[0];for(let e=1,i=this._pages.length;e<i;++e){const o=this._pages[e];if(o.width!==n.width||o.height!==n.height)return!1}return!0}getPagesOverview(){let n;return this._pages.map(e=>{const i=e.pdfPage.getViewport({scale:1}),o=Hk(i);if(void 0===n)n=o;else if(this.enablePrintAutoRotate&&o!==n)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(n){if(!(n instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${n}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=n,this.refresh(!1,{optionalContentConfigPromise:n}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:n}))}get scrollMode(){return this._scrollMode}set scrollMode(n){if(this._scrollMode!==n){if(!function Ape(t){return Number.isInteger(t)&&Object.values(wi).includes(t)&&t!==wi.UNKNOWN}(n))throw new Error(`Invalid scroll mode: ${n}`);this.pagesCount>1e4||(this._previousScrollMode=this._scrollMode,this._scrollMode=n,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:n}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(n=null){const e=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",e===wi.HORIZONTAL),i.classList.toggle("scrollWrapped",e===wi.WRAPPED),this.pdfDocument&&n&&(e===wi.PAGE?this.#A():this._previousScrollMode===wi.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#N(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(n,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(n){if(this._spreadMode!==n){if(!function Ope(t){return Number.isInteger(t)&&Object.values(_r).includes(t)&&t!==_r.UNKNOWN}(n))throw new Error(`Invalid spread mode: ${n}`);this._spreadMode=n,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:n}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(n=null){if(!this.pdfDocument)return;const e=this.viewer,i=this._pages;if(this._scrollMode===wi.PAGE)this.#A();else if(e.textContent="",this._spreadMode===_r.NONE)for(const o of this._pages)e.append(o.div);else{const o=this._spreadMode-1;let s=null;for(let r=0,a=i.length;r<a;++r)null===s?(s=document.createElement("div"),s.className="spread",e.append(s)):r%2===o&&(s=s.cloneNode(!1),e.append(s)),s.append(i[r].div)}n&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#N(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(n,!0),this.update())}_getPageAdvance(n,e=!1){switch(this._scrollMode){case wi.WRAPPED:{const{views:i}=this._getVisiblePages(),o=new Map;for(const{id:s,y:r,percent:a,widthPercent:l}of i){if(0===a||l<100)continue;let c=o.get(r);c||o.set(r,c||=[]),c.push(s)}for(const s of o.values()){const r=s.indexOf(n);if(-1===r)continue;const a=s.length;if(1===a)break;if(e)for(let l=r-1,c=0;l>=c;l--){const p=s[l+1]-1;if(s[l]<p)return n-p}else for(let l=r+1,c=a;l<c;l++){const p=s[l-1]+1;if(s[l]>p)return p-n}if(e){const l=s[0];if(l<n)return n-l+1}else{const l=s[a-1];if(l>n)return l-n+1}break}break}case wi.HORIZONTAL:break;case wi.PAGE:case wi.VERTICAL:{if(this._spreadMode===_r.NONE)break;const i=this._spreadMode-1;if(e&&n%2!==i)break;if(!e&&n%2===i)break;const{views:o}=this._getVisiblePages(),s=e?n-1:n+1;for(const{id:r,percent:a,widthPercent:l}of o)if(r===s){if(a>0&&100===l)return 2;break}break}}return 1}nextPage(){const n=this._currentPageNumber,e=this.pagesCount;if(n>=e)return!1;const i=this._getPageAdvance(n,!1)||1;return this.currentPageNumber=Math.min(n+i,e),!0}previousPage(){const n=this._currentPageNumber;if(n<=1)return!1;const e=this._getPageAdvance(n,!0)||1;return this.currentPageNumber=Math.max(n-e,1),!0}updateScale({drawingDelay:n,scaleFactor:e=null,steps:i=null,origin:o}){if(null===i&&null===e)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(e>0&&1!==e)s=Math.round(s*e*100)/100;else if(i){const r=i>0?1.1:1/1.1,a=i>0?Math.ceil:Math.floor;i=Math.abs(i);do{s=a(10*(s*r).toFixed(2))/10}while(--i>0)}s=Math.max(.1,Math.min(10,s)),this.#N(s,{noScroll:!1,drawingDelay:n,origin:o})}increaseScale(n={}){this.updateScale({...n,steps:n.steps??1})}decreaseScale(n={}){this.updateScale({...n,steps:-(n.steps??1)})}#F(n=this.container.clientHeight){n!==this.#M&&(this.#M=n,ype.setProperty("--viewer-container-height",`${n}px`))}#z(n){for(const e of n)if(e.target===this.container){this.#F(Math.floor(e.borderBoxSize[0].blockSize)),this.#l=null;break}}get containerTopLeft(){return this.#l||=[this.container.offsetTop,this.container.offsetLeft]}#V(){this.#_?.abort(),this.#_=null,null!==this.#g&&(clearTimeout(this.#g),this.#g=null)}get annotationEditorMode(){return this.#o?this.#i:La.DISABLE}set annotationEditorMode({mode:n,editId:e=null,isFromKeyboard:i=!1}){if(!this.#o)throw new Error("The AnnotationEditor is not enabled.");if(this.#i===n)return;if(!wz(n))throw new Error(`Invalid AnnotationEditor mode: ${n}`);if(!this.pdfDocument)return;n===La.STAMP&&this.#p?.loadModel("altText");const{eventBus:o}=this,s=()=>{this.#V(),this.#i=n,this.#o.updateMode(n,e,i),o.dispatch("annotationeditormodechanged",{source:this,mode:n})};if(n===La.NONE||this.#i===La.NONE){const r=n!==La.NONE;r||this.pdfDocument.annotationStorage.resetModifiedIds();for(const l of this._pages)l.toggleEditingMode(r);const a=this.#k();if(r&&a){this.#V(),this.#_=new AbortController;const l=AbortSignal.any([this.#h.signal,this.#_.signal]);return void o._on("pagerendered",({pageNumber:c})=>{a.delete(c),0===a.size&&(this.#g=setTimeout(s,0))},{signal:l})}}s()}refresh(n=!1,e=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(e);null!==this.#w&&(clearTimeout(this.#w),this.#w=null),n||this.update()}}}class Sfe extends bz{_resetView(){super._resetView(),this._scrollMode=wi.PAGE,this._spreadMode=_r.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}var Efe=xo.AnnotationLayerBuilder,Afe=xo.DownloadManager,Ofe=xo.EventBus,yfe=xo.FindState,Sz=xo.GenericL10n,su=xo.LinkTarget,Ez=xo.PDFFindController,Nfe=xo.PDFHistory,Az=xo.PDFLinkService,Dfe=xo.PDFPageView,Pfe=xo.PDFScriptingManager,Oz=xo.PDFSinglePageViewer,yz=xo.PDFViewer,Ife=xo.ProgressBar,xfe=xo.RenderingStates,Lfe=xo.ScrollMode,Rfe=xo.SimpleLinkService,Ffe=xo.SpreadMode,kfe=xo.StructTreeLayerBuilder,zfe=xo.TextLayerBuilder,Vfe=xo.XfaLayerBuilder,Hfe=xo.parseQueryString;const $fe=["pdfViewerContainer"];function yT(t,n,e){t[n]=e}function xp(){return typeof window>"u"}xp()||yT(At,"verbosity",Ok.INFOS),typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let t,n;return{promise:new Promise((i,o)=>{t=i,n=o}),resolve:t,reject:n}});var NT=function(t){return t[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED",t[t.ENHANCED=2]="ENHANCED",t}(NT||{});let A4=(()=>{class t{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=`https://unpkg.com/pdfjs-dist@${h4}/cmaps/`;_imageResourcesPath=`https://unpkg.com/pdfjs-dist@${h4}/web/images/`;_renderText=!0;_renderTextMode=NT.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new xe;afterLoadComplete=new Ee;pageRendered=new Ee;pageInitialized=new Ee;textLayerRendered=new Ee;onError=new Ee;onProgress=new Ee;pageChange=new Ee(!0);src;set cMapsUrl(e){this._cMapsUrl=e}set page(e){const i=e=parseInt(e,10)||1;this._pdf&&(e=this.getValidPageNumber(e)),this._page=e,i!==e&&this.pageChange.emit(e)}set renderText(e){this._renderText=e}set renderTextMode(e){this._renderTextMode=e}set originalSize(e){this._originalSize=e}set showAll(e){this._showAll=e}set stickToPage(e){this._stickToPage=e}set zoom(e){e<=0||(this._zoom=e)}get zoom(){return this._zoom}set zoomScale(e){this._zoomScale=e}get zoomScale(){return this._zoomScale}set rotation(e){"number"==typeof e&&e%90==0?this._rotation=e:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(e){this._externalLinkTarget=e}set autoresize(e){this._canAutoResize=!!e}set fitToPage(e){this._fitToPage=!!e}set showBorders(e){this._showBorders=!!e}static getLinkTarget(e){switch(e){case"blank":return su.BLANK;case"none":return su.NONE;case"self":return su.SELF;case"parent":return su.PARENT;case"top":return su.TOP}return null}constructor(e,i){if(this.element=e,this.ngZone=i,xp())return;let o;const s=h4;o=window[`pdfWorkerSrc${s}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.mjs`),yT(Ak,"workerSrc",o)}ngAfterViewChecked(){if(this.isInitialized)return;const e=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=e?!1===this.isVisible&&null!=e&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(e){if(!xp()&&this.isVisible)if("src"in e)this.loadPDF();else if(this._pdf){if(("renderText"in e||"showAll"in e)&&(this.setupViewer(),this.resetPdfDocument()),"page"in e){const{page:i}=e;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){Co(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Te(this.destroy$)).subscribe({next:e=>{const i=this._rotation+e.rotate,o=e.getViewport({scale:this._zoom,rotation:i}).width*t.CSS_UNITS;let s=this._zoom,r=!0;if(!this._originalSize||this._fitToPage&&o>this.pdfViewerContainer.nativeElement.clientWidth){const a=e.getViewport({scale:1,rotation:i});s=this.getScale(a.width,a.height),r=!this._stickToPage}this.pdfViewer.currentScale=s,r&&this.pdfViewer.scrollPageIntoView({pageNumber:e.pageNumber,ignoreDestinationZoom:!0})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const e=t.getLinkTarget(this._externalLinkTarget);return e?{externalLinkTarget:e}:{}}initEventBus(){this.eventBus=function Gfe(t,n){const e=new t.EventBus;return function Bfe(t,n){Dn(t,"documentload").pipe(Te(n)).subscribe(()=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),Dn(t,"pagerendered").pipe(Te(n)).subscribe(({pageNumber:e,cssTransform:i,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:e,cssTransform:i}),o.div.dispatchEvent(s)}),Dn(t,"textlayerrendered").pipe(Te(n)).subscribe(({pageNumber:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e}),i.textLayerDiv?.dispatchEvent(o)}),Dn(t,"pagechanging").pipe(Te(n)).subscribe(({pageNumber:e,source:i})=>{const o=document.createEvent("UIEvents");o.initEvent("pagechanging",!0,!0),o.pageNumber=e,i.container.dispatchEvent(o)}),Dn(t,"pagesinit").pipe(Te(n)).subscribe(({source:e})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),e.container.dispatchEvent(i)}),Dn(t,"pagesloaded").pipe(Te(n)).subscribe(({pagesCount:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e}),i.container.dispatchEvent(o)}),Dn(t,"scalechange").pipe(Te(n)).subscribe(({scale:e,presetValue:i,source:o})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=e,s.presetValue=i,o.container.dispatchEvent(s)}),Dn(t,"updateviewarea").pipe(Te(n)).subscribe(({location:e,source:i})=>{const o=document.createEvent("UIEvents");o.initEvent("updateviewarea",!0,!0),o.location=e,i.container.dispatchEvent(o)}),Dn(t,"find").pipe(Te(n)).subscribe(({source:e,type:i,query:o,phraseSearch:s,caseSensitive:r,highlightAll:a,findPrevious:l})=>{if(e===window)return;const c=document.createEvent("CustomEvent");c.initCustomEvent("find"+i,!0,!0,{query:o,phraseSearch:s,caseSensitive:r,highlightAll:a,findPrevious:l}),window.dispatchEvent(c)}),Dn(t,"attachmentsloaded").pipe(Te(n)).subscribe(({attachmentsCount:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e}),i.container.dispatchEvent(o)}),Dn(t,"sidebarviewchanged").pipe(Te(n)).subscribe(({view:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("sidebarviewchanged",!0,!0,{view:e}),i.outerContainer.dispatchEvent(o)}),Dn(t,"pagemode").pipe(Te(n)).subscribe(({mode:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagemode",!0,!0,{mode:e}),i.pdfViewer.container.dispatchEvent(o)}),Dn(t,"namedaction").pipe(Te(n)).subscribe(({action:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("namedaction",!0,!0,{action:e}),i.pdfViewer.container.dispatchEvent(o)}),Dn(t,"presentationmodechanged").pipe(Te(n)).subscribe(({active:e,switchInProgress:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("presentationmodechanged",!0,!0,{active:e,switchInProgress:i}),window.dispatchEvent(o)}),Dn(t,"outlineloaded").pipe(Te(n)).subscribe(({outlineCount:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e}),i.container.dispatchEvent(o)})}(e,n),e}(ht,this.destroy$),Dn(this.eventBus,"pagerendered").pipe(Te(this.destroy$)).subscribe(e=>{this.pageRendered.emit(e)}),Dn(this.eventBus,"pagesinit").pipe(Te(this.destroy$)).subscribe(e=>{this.pageInitialized.emit(e)}),Dn(this.eventBus,"pagechanging").pipe(Te(this.destroy$)).subscribe(({pageNumber:e})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=e,this.pageChange.emit(e)},100)}),Dn(this.eventBus,"textlayerrendered").pipe(Te(this.destroy$)).subscribe(e=>{this.textLayerRendered.emit(e)})}initPDFServices(){this.pdfLinkService=new Az({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new Ez({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:NT.DISABLED,findController:this.pdfFindController,l10n:new Sz("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:Ek.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),yT(At,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new yz(this.getPDFOptions()):new Oz(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(e){return e<1?1:e>this._pdf.numPages?this._pdf.numPages:e}getDocumentParams(){const e=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0,isEvalSupported:!1};return"string"===e?i.url=this.src:"object"===e&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=yk(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const e=this.src;Co(this.loadingTask.promise).pipe(Te(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=e,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){if(this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&this.pdfViewer.firstPagePromise?.then(()=>this.pdfViewer.pagesRotation=this._rotation),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.pdfViewer._pages?.length)this.updateSize();else{const e=this.pageInitialized.subscribe(()=>{this.updateSize(),e.unsubscribe()})}}getScale(e,i){const o=this._showBorders?2*t.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-o,r=this.pdfViewerContainer.nativeElement.clientHeight-o;if(0===r||0===i||0===s||0===e)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(r/i,s/e);break;case"page-height":a=r/i;break;default:a=s/e}return this._zoom*a/t.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){xp()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){xp()||this.ngZone.runOutsideAngular(()=>{Dn(window,"resize").pipe(Pr(100),li(()=>this._canAutoResize&&!!this._pdf),Te(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(i){return new(i||t)(x(pn),x(cn))};static \u0275cmp=ke({type:t,selectors:[["pdf-viewer"]],viewQuery:function(i,o){if(1&i&&dn($fe,5),2&i){let s;pt(s=gt())&&(o.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},standalone:!1,features:[xi],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(i,o){1&i&&(d(0,"div",1,0),w(2,"div",2),u())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none;transform-origin:0 0}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .canvasWrapper canvas{width:100%}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})}return t})(),Lp=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({})}return t})();const Ufe=["*"],Nz=new Je("ngx-bootstrap-icons-module-configuration");class Dz{constructor(n){this._icons=n}}var Ra=function(t){return t.Width="width",t.Height="height",t}(Ra||{});let Jt=(()=>{class t{constructor(e,i,o,s){this._elem=e,this._changeDetector=i,this._icons=o,this._config=s,this.resetDefaultDimensions=!1,this._setSize=(r,a=16)=>`${r}="${a}"`,this._setIconMessage=(r,a)=>`${r}: ${a}\n`,this._logMessage=r=>console.warn(r)}ngOnChanges(e){let o=Object.assign({},...this._icons)[function Wfe(t,n="-"){if(!t)throw Error("missing argument");const e=t.trim();if(!e.includes(n))return e;let i="",o=0;for(;o<t.length;o+=1){const s=t.charAt(o).trim();0!==o?s!==n?o>0&&!isNaN(+t.charAt(o-1))?i+=s.toUpperCase():o>0&&(i+=s):(i+=t.charAt(o+1).trim().toUpperCase(),o+=1):i+=s.toLowerCase()}return i.trim()}(e.name.currentValue)]||"";o?(this._config&&(this._config.width&&(o=o.replace(this._setSize(Ra.Width),this._setSize(Ra.Width,this._config.width))),this._config.height&&(o=o.replace(this._setSize(Ra.Height),this._setSize(Ra.Height,this._config.height))),this._config.theme&&this._elem.nativeElement.classList.add(this._config.theme)),this.resetDefaultDimensions&&(o=o.replace(this._setSize(Ra.Width),""),o=o.replace(this._setSize(Ra.Height),"")),this.width&&o.includes(Ra.Width)&&(o=o.replace(this._setSize(Ra.Width),this._setSize(Ra.Width,this.width))),this.height&&o.includes(Ra.Height)&&(o=o.replace(this._setSize(Ra.Height),this._setSize(Ra.Height,this.height))),this._elem.nativeElement.innerHTML=o,this._changeDetector.markForCheck()):this._logMessage(this._setIconMessage("Icon not found",e.name.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(x(pn),x(Ss),x(Dz),x(Nz))},t.\u0275cmp=ke({type:t,selectors:[["i-bs"],["","i-bs",""]],inputs:{name:"name",width:"width",height:"height",resetDefaultDimensions:"resetDefaultDimensions"},standalone:!1,features:[xi],ngContentSelectors:Ufe,decls:1,vars:0,template:function(e,i){1&e&&(Ys(),ks(0))},encapsulation:2}),t})();let Gt=(()=>{class t{static pick(e,i){return{ngModule:t,providers:[{provide:Dz,multi:!0,useValue:e},{provide:Nz,useValue:i}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bn({type:t}),t.\u0275inj=Vn({}),t})();function nr(t,n){(function YUe(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var e=function QUe(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=360===n?t:Math.min(n,Math.max(0,parseFloat(t))),e&&(t=parseInt(String(t*n),10)/100),Math.abs(t-n)<1e-6?1:t=360===n?(t<0?t%n+n:t%n)/parseFloat(String(n)):t%n/parseFloat(String(n))}function O4(t){return Math.min(1,Math.max(0,t))}function xH(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function y4(t){return t<=1?"".concat(100*Number(t),"%"):t}function Hd(t){return 1===t.length?"0"+t:String(t)}function LH(t,n,e){t=nr(t,255),n=nr(n,255),e=nr(e,255);var i=Math.max(t,n,e),o=Math.min(t,n,e),s=0,r=0,a=(i+o)/2;if(i===o)r=0,s=0;else{var l=i-o;switch(r=a>.5?l/(2-i-o):l/(i+o),i){case t:s=(n-e)/l+(n<e?6:0);break;case n:s=(e-t)/l+2;break;case e:s=(t-n)/l+4}s/=6}return{h:s,s:r,l:a}}function DT(t,n,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*e*(n-t):e<.5?n:e<2/3?t+(n-t)*(2/3-e)*6:t}function RH(t,n,e){t=nr(t,255),n=nr(n,255),e=nr(e,255);var i=Math.max(t,n,e),o=Math.min(t,n,e),s=0,r=i,a=i-o,l=0===i?0:a/i;if(i===o)s=0;else{switch(i){case t:s=(n-e)/a+(n<e?6:0);break;case n:s=(e-t)/a+2;break;case e:s=(t-n)/a+4}s/=6}return{h:s,s:l,v:r}}function FH(t,n,e,i){var o=[Hd(Math.round(t).toString(16)),Hd(Math.round(n).toString(16)),Hd(Math.round(e).toString(16))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function kH(t){return Math.round(255*parseFloat(t)).toString(16)}function zH(t){return Fa(t)/255}function Fa(t){return parseInt(t,16)}var PT={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var lc="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),IT="[\\s|\\(]+(".concat(lc,")[,|\\s]+(").concat(lc,")[,|\\s]+(").concat(lc,")\\s*\\)?"),xT="[\\s|\\(]+(".concat(lc,")[,|\\s]+(").concat(lc,")[,|\\s]+(").concat(lc,")[,|\\s]+(").concat(lc,")\\s*\\)?"),V1={CSS_UNIT:new RegExp(lc),rgb:new RegExp("rgb"+IT),rgba:new RegExp("rgba"+xT),hsl:new RegExp("hsl"+IT),hsla:new RegExp("hsla"+xT),hsv:new RegExp("hsv"+IT),hsva:new RegExp("hsva"+xT),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function al(t){return!!V1.CSS_UNIT.exec(String(t))}var LT=function(){function t(n,e){var i;if(void 0===n&&(n=""),void 0===e&&(e={}),n instanceof t)return n;"number"==typeof n&&(n=function iWe(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(n)),this.originalInput=n;var o=function oWe(t){var n={r:0,g:0,b:0},e=1,i=null,o=null,s=null,r=!1,a=!1;return"string"==typeof t&&(t=function aWe(t){if(0===(t=t.trim().toLowerCase()).length)return!1;var n=!1;if(PT[t])t=PT[t],n=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var e=V1.rgb.exec(t);return e?{r:e[1],g:e[2],b:e[3]}:(e=V1.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=V1.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=V1.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=V1.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=V1.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=V1.hex8.exec(t))?{r:Fa(e[1]),g:Fa(e[2]),b:Fa(e[3]),a:zH(e[4]),format:n?"name":"hex8"}:(e=V1.hex6.exec(t))?{r:Fa(e[1]),g:Fa(e[2]),b:Fa(e[3]),format:n?"name":"hex"}:(e=V1.hex4.exec(t))?{r:Fa(e[1]+e[1]),g:Fa(e[2]+e[2]),b:Fa(e[3]+e[3]),a:zH(e[4]+e[4]),format:n?"name":"hex8"}:!!(e=V1.hex3.exec(t))&&{r:Fa(e[1]+e[1]),g:Fa(e[2]+e[2]),b:Fa(e[3]+e[3]),format:n?"name":"hex"}}(t)),"object"==typeof t&&(al(t.r)&&al(t.g)&&al(t.b)?(n=function JUe(t,n,e){return{r:255*nr(t,255),g:255*nr(n,255),b:255*nr(e,255)}}(t.r,t.g,t.b),r=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):al(t.h)&&al(t.s)&&al(t.v)?(i=y4(t.s),o=y4(t.v),n=function tWe(t,n,e){t=6*nr(t,360),n=nr(n,100),e=nr(e,100);var i=Math.floor(t),o=t-i,s=e*(1-n),r=e*(1-o*n),a=e*(1-(1-o)*n),l=i%6;return{r:255*[e,r,s,s,a,e][l],g:255*[a,e,e,r,s,s][l],b:255*[s,s,a,e,e,r][l]}}(t.h,i,o),r=!0,a="hsv"):al(t.h)&&al(t.s)&&al(t.l)&&(i=y4(t.s),s=y4(t.l),n=function eWe(t,n,e){var i,o,s;if(t=nr(t,360),n=nr(n,100),e=nr(e,100),0===n)o=e,s=e,i=e;else{var r=e<.5?e*(1+n):e+n-e*n,a=2*e-r;i=DT(a,r,t+1/3),o=DT(a,r,t),s=DT(a,r,t-1/3)}return{r:255*i,g:255*o,b:255*s}}(t.h,i,s),r=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(e=t.a)),e=xH(e),{ok:r,format:t.format||a,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:e}}(n);this.originalInput=n,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=e.format)&&void 0!==i?i:o.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var n=this.toRgb();return(299*n.r+587*n.g+114*n.b)/1e3},t.prototype.getLuminance=function(){var n=this.toRgb(),s=n.r/255,r=n.g/255,a=n.b/255;return.2126*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(n){return this.a=xH(n),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){return 0===this.toHsl().s},t.prototype.toHsv=function(){var n=RH(this.r,this.g,this.b);return{h:360*n.h,s:n.s,v:n.v,a:this.a}},t.prototype.toHsvString=function(){var n=RH(this.r,this.g,this.b),e=Math.round(360*n.h),i=Math.round(100*n.s),o=Math.round(100*n.v);return 1===this.a?"hsv(".concat(e,", ").concat(i,"%, ").concat(o,"%)"):"hsva(".concat(e,", ").concat(i,"%, ").concat(o,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var n=LH(this.r,this.g,this.b);return{h:360*n.h,s:n.s,l:n.l,a:this.a}},t.prototype.toHslString=function(){var n=LH(this.r,this.g,this.b),e=Math.round(360*n.h),i=Math.round(100*n.s),o=Math.round(100*n.l);return 1===this.a?"hsl(".concat(e,", ").concat(i,"%, ").concat(o,"%)"):"hsla(".concat(e,", ").concat(i,"%, ").concat(o,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(n){return void 0===n&&(n=!1),FH(this.r,this.g,this.b,n)},t.prototype.toHexString=function(n){return void 0===n&&(n=!1),"#"+this.toHex(n)},t.prototype.toHex8=function(n){return void 0===n&&(n=!1),function nWe(t,n,e,i,o){var s=[Hd(Math.round(t).toString(16)),Hd(Math.round(n).toString(16)),Hd(Math.round(e).toString(16)),Hd(kH(i))];return o&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,n)},t.prototype.toHex8String=function(n){return void 0===n&&(n=!1),"#"+this.toHex8(n)},t.prototype.toHexShortString=function(n){return void 0===n&&(n=!1),1===this.a?this.toHexString(n):this.toHex8String(n)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var n=Math.round(this.r),e=Math.round(this.g),i=Math.round(this.b);return 1===this.a?"rgb(".concat(n,", ").concat(e,", ").concat(i,")"):"rgba(".concat(n,", ").concat(e,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var n=function(e){return"".concat(Math.round(100*nr(e,255)),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var n=function(e){return Math.round(100*nr(e,255))};return 1===this.a?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var n="#"+FH(this.r,this.g,this.b,!1),e=0,i=Object.entries(PT);e<i.length;e++){var o=i[e];if(n===o[1])return o[0]}return!1},t.prototype.toString=function(n){var e=!!n;n=n??this.format;var i=!1;return!e&&this.a<1&&this.a>=0&&(n.startsWith("hex")||"name"===n)?"name"===n&&0===this.a?this.toName():this.toRgbString():("rgb"===n&&(i=this.toRgbString()),"prgb"===n&&(i=this.toPercentageRgbString()),("hex"===n||"hex6"===n)&&(i=this.toHexString()),"hex3"===n&&(i=this.toHexString(!0)),"hex4"===n&&(i=this.toHex8String(!0)),"hex8"===n&&(i=this.toHex8String()),"name"===n&&(i=this.toName()),"hsl"===n&&(i=this.toHslString()),"hsv"===n&&(i=this.toHsvString()),i||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(n){void 0===n&&(n=10);var e=this.toHsl();return e.l+=n/100,e.l=O4(e.l),new t(e)},t.prototype.brighten=function(n){void 0===n&&(n=10);var e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(-n/100*255))),e.g=Math.max(0,Math.min(255,e.g-Math.round(-n/100*255))),e.b=Math.max(0,Math.min(255,e.b-Math.round(-n/100*255))),new t(e)},t.prototype.darken=function(n){void 0===n&&(n=10);var e=this.toHsl();return e.l-=n/100,e.l=O4(e.l),new t(e)},t.prototype.tint=function(n){return void 0===n&&(n=10),this.mix("white",n)},t.prototype.shade=function(n){return void 0===n&&(n=10),this.mix("black",n)},t.prototype.desaturate=function(n){void 0===n&&(n=10);var e=this.toHsl();return e.s-=n/100,e.s=O4(e.s),new t(e)},t.prototype.saturate=function(n){void 0===n&&(n=10);var e=this.toHsl();return e.s+=n/100,e.s=O4(e.s),new t(e)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(n){var e=this.toHsl(),i=(e.h+n)%360;return e.h=i<0?360+i:i,new t(e)},t.prototype.mix=function(n,e){void 0===e&&(e=50);var i=this.toRgb(),o=new t(n).toRgb(),s=e/100;return new t({r:(o.r-i.r)*s+i.r,g:(o.g-i.g)*s+i.g,b:(o.b-i.b)*s+i.b,a:(o.a-i.a)*s+i.a})},t.prototype.analogous=function(n,e){void 0===n&&(n=6),void 0===e&&(e=30);var i=this.toHsl(),o=360/e,s=[this];for(i.h=(i.h-(o*n>>1)+720)%360;--n;)i.h=(i.h+o)%360,s.push(new t(i));return s},t.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new t(n)},t.prototype.monochromatic=function(n){void 0===n&&(n=6);for(var e=this.toHsv(),i=e.h,o=e.s,s=e.v,r=[],a=1/n;n--;)r.push(new t({h:i,s:o,v:s})),s=(s+a)%1;return r},t.prototype.splitcomplement=function(){var n=this.toHsl(),e=n.h;return[this,new t({h:(e+72)%360,s:n.s,l:n.l}),new t({h:(e+216)%360,s:n.s,l:n.l})]},t.prototype.onBackground=function(n){var e=this.toRgb(),i=new t(n).toRgb(),o=e.a+i.a*(1-e.a);return new t({r:(e.r*e.a+i.r*i.a*(1-e.a))/o,g:(e.g*e.a+i.g*i.a*(1-e.a))/o,b:(e.b*e.a+i.b*i.a*(1-e.a))/o,a:o})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(n){for(var e=this.toHsl(),i=e.h,o=[this],s=360/n,r=1;r<n;r++)o.push(new t({h:(i+r*s)%360,s:e.s,l:e.l}));return o},t.prototype.equals=function(n){return this.toRgbString()===new t(n).toRgbString()},t}();function lWe(t,n){if(1&t&&(d(0,"div",2),w(1,"div",3),u()),2&t){const e=g();qr("left",e.left)("top",e.top),_(),m("ngStyle",e.pointer)}}let dWe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({imports:[T2]})}return t})(),uWe=(()=>{class t{el;coordinatesChange=new xe;mousechange=new xe;mouseListening=!1;sub;mousemove(e,i,o,s=!1){this.mouseListening&&(e.preventDefault(),this.mousechange.next({$event:e,x:i,y:o,isTouch:s}))}mouseup(){this.mouseListening=!1}mousedown(e,i,o,s=!1){e.preventDefault(),this.mouseListening=!0,this.mousechange.next({$event:e,x:i,y:o,isTouch:s})}constructor(e){this.el=e}ngOnInit(){this.sub=this.mousechange.pipe(h1((e,i)=>e.x===i.x&&e.y===i.y)).subscribe(e=>this.handleChange(e.x,e.y,e.$event,e.isTouch))}ngOnDestroy(){this.sub?.unsubscribe()}handleChange(e,i,o,s){const r=this.el.nativeElement.clientWidth,a=this.el.nativeElement.clientHeight,l=e-(this.el.nativeElement.getBoundingClientRect().left+window.pageXOffset);let c=i-this.el.nativeElement.getBoundingClientRect().top;s||(c-=window.pageYOffset),this.coordinatesChange.next({x:e,y:i,top:c,left:l,containerWidth:r,containerHeight:a,$event:o})}static \u0275fac=function(i){return new(i||t)(x(pn))};static \u0275dir=et({type:t,selectors:[["","ngx-color-coordinates",""]],hostBindings:function(i,o){1&i&&T("mousemove",function(r){return o.mousemove(r,r.pageX,r.pageY)},0,t0)("touchmove",function(r){return o.mousemove(r,r.touches[0].clientX,r.touches[0].clientY,!0)},!1,t0)("mouseup",function(){return o.mouseup()},!1,t0)("touchend",function(){return o.mouseup()},!1,t0)("mousedown",function(r){return o.mousedown(r,r.pageX,r.pageY)})("touchstart",function(r){return o.mousedown(r,r.touches[0].clientX,r.touches[0].clientY,!0)})},outputs:{coordinatesChange:"coordinatesChange"},standalone:!1})}return t})(),hWe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({})}return t})();function VH(t){let e=0,i=0;return["r","g","b","a","h","s","l","v"].forEach(o=>{t[o]&&(e+=1,isNaN(t[o])||(i+=1),("s"===o||"l"===o)&&/^\d+%$/.test(t[o])&&(i+=1))}),e===i&&t}function Rp(t,n,e){const i=new LT(t.hex?t.hex:t);e&&i.setAlpha(1);const o=i.toHsl(),s=i.toHsv(),r=i.toRgb(),a=i.toHex();return 0===o.s&&(o.h=n||0,s.h=n||0),{hsl:o,hex:"000000"===a&&0===r.a?"transparent":i.toHexString(),rgb:r,hsv:s,oldHue:t.h||n||o.h,source:t.source}}var ru=function(t){return t.HEX="hex",t.HSL="hsl",t.HSV="hsv",t.RGB="rgb",t}(ru||{});let HH=(()=>{class t{className;mode=ru.HEX;color={h:250,s:.5,l:.2,a:1};colorChange=new Ee;onChange=new Ee;onChangeComplete=new Ee;onSwatchHover=new Ee;oldHue;hsl;hsv;rgb;hex;source;currentColor;changes;disableAlpha;_onChangeCompleteSubscription=new si;_onSwatchHoverSubscription=new si;ngOnInit(){this.changes=this.onChange.pipe(Pr(100),un(e=>{switch(this.onChangeComplete.emit(e),this.mode){case ru.HEX:this.colorChange.emit(e.color.hex);break;case ru.HSL:this.colorChange.emit(e.color.hsl);break;case ru.HSV:this.colorChange.emit(e.color.hsv);break;case ru.RGB:this.colorChange.emit(e.color.rgb);break;default:console.warn(`The mode '${this.mode}' is not supported`)}})).subscribe(),this.setState(Rp(this.color,0)),this.currentColor=this.hex}ngOnChanges(){this.setState(Rp(this.color,this.oldHue))}ngOnDestroy(){this.changes?.unsubscribe(),this._onChangeCompleteSubscription?.unsubscribe(),this._onSwatchHoverSubscription?.unsubscribe()}setState(e){this.oldHue=e.oldHue,this.hsl=e.hsl,this.hsv=e.hsv,this.rgb=e.rgb,this.hex=e.hex,this.source=e.source,this.afterValidChange()}handleChange(e,i){if(VH(e)){const s=Rp(e,e.h||this.oldHue,this.disableAlpha);this.setState(s),this.onChange.emit({color:s,$event:i}),this.afterValidChange()}}afterValidChange(){}handleSwatchHover(e,i){if(VH(e)){const s=Rp(e,e.h||this.oldHue);this.setState(s),this.onSwatchHover.emit({color:s,$event:i})}}registerOnChange(e){this._onChangeCompleteSubscription.add(this.onChangeComplete.pipe(un(i=>e(i.color.hex))).subscribe())}registerOnTouched(e){this._onSwatchHoverSubscription.add(this.onSwatchHover.pipe(un(()=>e())).subscribe())}setDisabledState(e){}writeValue(e){this.color=e}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ke({type:t,selectors:[["color-wrap"]],inputs:{className:"className",mode:"mode",color:"color"},outputs:{colorChange:"colorChange",onChange:"onChange",onChangeComplete:"onChangeComplete",onSwatchHover:"onSwatchHover"},standalone:!1,features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),xi],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return t})(),_We=(()=>{class t{hsl;pointer;radius;shadow;hidePointer=!1;direction="horizontal";onChange=new Ee;left="0px";top="";ngOnChanges(){"horizontal"===this.direction?this.left=100*this.hsl.h/360+"%":this.top=-100*this.hsl.h/360+100+"%"}handleChange({top:e,left:i,containerHeight:o,containerWidth:s,$event:r}){let a;if("vertical"===this.direction){let l;l=e<0?359:e>o?0:360*(-100*e/o+100)/100,this.hsl.h!==l&&(a={h:l,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}else{let l;l=i<0?0:i>s?359:100*i/s*360/100,this.hsl.h!==l&&(a={h:l,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}a&&this.onChange.emit({data:a,$event:r})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ke({type:t,selectors:[["color-hue"]],inputs:{hsl:"hsl",pointer:"pointer",radius:"radius",shadow:"shadow",hidePointer:"hidePointer",direction:"direction"},outputs:{onChange:"onChange"},standalone:!1,features:[xi],decls:3,vars:8,consts:[["ngx-color-coordinates","",1,"color-hue-container",3,"coordinatesChange"],["class","color-hue-pointer",3,"left","top",4,"ngIf"],[1,"color-hue-pointer"],[1,"color-hue-slider",3,"ngStyle"]],template:function(i,o){1&i&&(d(0,"div")(1,"div",0),T("coordinatesChange",function(r){return o.handleChange(r)}),y(2,lWe,2,5,"div",1),u()()),2&i&&(jh("color-hue color-hue-",o.direction,""),qr("border-radius",o.radius,"px")("box-shadow",o.shadow),_(2),m("ngIf",!o.hidePointer))},dependencies:[$C,K3,uWe],styles:[".color-hue[_ngcontent-%COMP%]{position:absolute;inset:0}.color-hue-container[_ngcontent-%COMP%]{margin:0 2px;position:relative;height:100%}.color-hue-pointer[_ngcontent-%COMP%]{position:absolute}.color-hue-slider[_ngcontent-%COMP%]{margin-top:1px;width:4px;border-radius:1px;height:8px;box-shadow:0 0 2px #0009;background:#fff;transform:translate(-2px)}.color-hue-horizontal[_ngcontent-%COMP%]{background:linear-gradient(to right,#f00 0%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,#f00 100%)}.color-hue-vertical[_ngcontent-%COMP%]{background:linear-gradient(to top,#f00 0%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,#f00 100%)}"],changeDetection:0})}return t})(),pWe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({imports:[T2,hWe]})}return t})(),gWe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({imports:[T2,dWe]})}return t})(),fWe=(()=>{class t{hsl;active;offset;first=!1;last=!1;onClick=new Ee;background;ngOnChanges(){this.background=`hsl(${this.hsl.h}, 50%, ${100*this.offset}%)`}handleClick(e){this.onClick.emit({data:{h:this.hsl.h,s:.5,l:this.offset,source:"hsl"},$event:e})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ke({type:t,selectors:[["color-slider-swatch"]],inputs:{hsl:"hsl",active:"active",offset:"offset",first:"first",last:"last"},outputs:{onClick:"onClick"},standalone:!1,features:[xi],decls:1,vars:8,consts:[[1,"slider-swatch",3,"click"]],template:function(i,o){1&i&&(d(0,"div",0),T("click",function(r){return o.handleClick(r)}),u()),2&i&&(qr("background",o.background),Ce("first",o.first)("last",o.last)("active",o.active))},styles:[".slider-swatch[_ngcontent-%COMP%]{height:12px;background:rgb(121,211,166);cursor:pointer}.slider-swatch.active[_ngcontent-%COMP%]{transform:scaleY(1.8);border-radius:3.6px/2px}.slider-swatch.first[_ngcontent-%COMP%]{border-radius:2px 0 0 2px}.slider-swatch.last[_ngcontent-%COMP%]{border-radius:0 2px 2px 0}"],changeDetection:0})}return t})(),mWe=(()=>{class t{hsl;onClick=new Ee;onSwatchHover=new Ee;active(e,i){return Math.round(100*this.hsl.l)/100===e&&Math.round(100*this.hsl.s)/100===i}handleClick({data:e,$event:i}){this.onClick.emit({data:e,$event:i})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ke({type:t,selectors:[["color-slider-swatches"]],inputs:{hsl:"hsl"},outputs:{onClick:"onClick",onSwatchHover:"onSwatchHover"},standalone:!1,decls:11,vars:17,consts:[[1,"slider-swatches"],[1,"slider-swatch-wrap"],[3,"onClick","hsl","offset","active","first"],[3,"onClick","hsl","offset","active"],[3,"onClick","hsl","offset","active","last"]],template:function(i,o){1&i&&(d(0,"div",0)(1,"div",1)(2,"color-slider-swatch",2),T("onClick",function(r){return o.handleClick(r)}),u()(),d(3,"div",1)(4,"color-slider-swatch",3),T("onClick",function(r){return o.handleClick(r)}),u()(),d(5,"div",1)(6,"color-slider-swatch",3),T("onClick",function(r){return o.handleClick(r)}),u()(),d(7,"div",1)(8,"color-slider-swatch",3),T("onClick",function(r){return o.handleClick(r)}),u()(),d(9,"div",1)(10,"color-slider-swatch",4),T("onClick",function(r){return o.handleClick(r)}),u()()()),2&i&&(_(2),m("hsl",o.hsl)("offset",.8)("active",o.active(.8,.5))("first",!0),_(2),m("hsl",o.hsl)("offset",.65)("active",o.active(.65,.5)),_(2),m("hsl",o.hsl)("offset",.5)("active",o.active(.5,.5)),_(2),m("hsl",o.hsl)("offset",.35)("active",o.active(.35,.5)),_(2),m("hsl",o.hsl)("offset",.2)("active",o.active(.2,.5))("last",!0))},dependencies:[fWe],styles:[".slider-swatches[_ngcontent-%COMP%]{margin-top:20px}.slider-swatch-wrap[_ngcontent-%COMP%]{box-sizing:border-box;width:20%;padding-right:1px;float:left}"],changeDetection:0})}return t})(),vWe=(()=>{class t extends HH{pointer={width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -2px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"};radius=2;constructor(){super()}handlePickerChange({data:e,$event:i}){this.handleChange(e,i)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ke({type:t,selectors:[["color-slider"]],inputs:{pointer:"pointer",radius:"radius"},standalone:!1,features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0},{provide:HH,useExisting:sn(()=>t)}]),st],decls:5,vars:7,consts:[[1,"slider-hue"],[3,"onChange","hsl","radius","pointer"],[1,"slider-swatches"],[3,"onClick","hsl"]],template:function(i,o){1&i&&(d(0,"div")(1,"div",0)(2,"color-hue",1),T("onChange",function(r){return o.handlePickerChange(r)}),u()(),d(3,"div",2)(4,"color-slider-swatches",3),T("onClick",function(r){return o.handlePickerChange(r)}),u()()()),2&i&&(jh("slider-picker ",o.className,""),_(2),m("hsl",o.hsl)("radius",o.radius)("pointer",o.pointer),_(2),m("hsl",o.hsl))},dependencies:()=>[_We,mWe],styles:[".slider-hue[_ngcontent-%COMP%]{height:12px;position:relative}"],changeDetection:0})}return t})(),$H=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({imports:[T2,pWe,gWe]})}return t})(),FT=(()=>{class t{constructor(e,i){this.document=e,this.platformId=i,this.documentIsAccessible=Vl(this.platformId)}static getCookieRegExp(e){const i=e.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return!!this.documentIsAccessible&&(e=encodeURIComponent(e),t.getCookieRegExp(e).test(this.document.cookie))}get(e){if(this.check(e)){e=encodeURIComponent(e);const o=t.getCookieRegExp(e).exec(this.document.cookie);return o[1]?t.safeDecodeURIComponent(o[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const e={},i=this.document;return i.cookie&&""!==i.cookie&&i.cookie.split(";").forEach(o=>{const[s,r]=o.split("=");e[t.safeDecodeURIComponent(s.replace(/^ /,""))]=t.safeDecodeURIComponent(r)}),e}set(e,i,o,s,r,a,l,c){if(!this.documentIsAccessible)return;if("number"==typeof o||o instanceof Date||s||r||a||l)return void this.set(e,i,{expires:o,path:s,domain:r,secure:a,sameSite:l||"Lax",partitioned:c});let h=encodeURIComponent(e)+"="+encodeURIComponent(i)+";";const p=o||{};p.expires&&(h+="number"==typeof p.expires?"expires="+new Date((new Date).getTime()+1e3*p.expires*60*60*24).toUTCString()+";":"expires="+p.expires.toUTCString()+";"),p.path&&(h+="path="+p.path+";"),p.domain&&(h+="domain="+p.domain+";"),!1===p.secure&&"None"===p.sameSite&&(p.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),p.secure&&(h+="secure;"),p.sameSite||(p.sameSite="Lax"),h+="sameSite="+p.sameSite+";",p.partitioned&&(h+="Partitioned;"),this.document.cookie=h}delete(e,i,o,s,r="Lax"){this.documentIsAccessible&&this.set(e,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:i,domain:o,secure:s,sameSite:r})}deleteAll(e,i,o,s="Lax"){if(!this.documentIsAccessible)return;const r=this.getAll();for(const a in r)r.hasOwnProperty(a)&&this.delete(a,e,i,o,s)}static{this.\u0275fac=function(i){return new(i||t)(Be(Xn),Be(Ma))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const CWe=["fileSelector"],MWe=t=>({openFileSelector:t});function TWe(t,n){if(1&t&&(d(0,"div",8),A(1),u()),2&t){const e=g(2);_(),oe(e.dropZoneLabel)}}function wWe(t,n){if(1&t){const e=F();d(0,"div")(1,"input",9),T("click",function(o){return b(e),S(g(2).openFileSelector(o))}),u()()}if(2&t){const e=g(2);_(),ai("value",e.browseBtnLabel),m("className",e.browseBtnClassName)}}function bWe(t,n){if(1&t&&y(0,TWe,2,1,"div",6)(1,wWe,2,2,"div",7),2&t){const e=g();m("ngIf",e.dropZoneLabel),_(),m("ngIf",e.showBrowseBtn)}}function SWe(t,n){}class N4{constructor(n,e){this.relativePath=n,this.fileEntry=e}}let AWe=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(x(nn))}}static{this.\u0275dir=et({type:t,selectors:[["","ngx-file-drop-content-tmp",""]],standalone:!1})}}return t})(),GH=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&"false"!=`${e}`}constructor(e,i){this.zone=e,this.renderer=i,this.accept="*",this.directory=!1,this.multiple=!0,this.dropZoneLabel="",this.dropZoneClassName="ngx-file-drop__drop-zone",this.useDragEnter=!1,this.contentClassName="ngx-file-drop__content",this.showBrowseBtn=!1,this.browseBtnClassName="btn btn-primary btn-xs ngx-file-drop__browse-btn",this.browseBtnLabel="Browse files",this.onFileDrop=new Ee,this.onFileOver=new Ee,this.onFileLeave=new Ee,this.isDraggingOverDropZone=!1,this.globalDraggingInProgress=!1,this.files=[],this.numOfActiveReadEntries=0,this.helperFormEl=null,this.fileInputPlaceholderEl=null,this.dropEventTimerSubscription=null,this._disabled=!1,this.openFileSelector=o=>{this.fileSelector&&this.fileSelector.nativeElement&&this.fileSelector.nativeElement.click()},this.globalDragStartListener=this.renderer.listen("document","dragstart",o=>{this.globalDraggingInProgress=!0}),this.globalDragEndListener=this.renderer.listen("document","dragend",o=>{this.globalDraggingInProgress=!1})}ngOnDestroy(){this.dropEventTimerSubscription&&(this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=null),this.globalDragStartListener(),this.globalDragEndListener(),this.files=[],this.helperFormEl=null,this.fileInputPlaceholderEl=null}onDragOver(e){this.useDragEnter?(this.preventAndStop(e),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")):!this.isDropzoneDisabled()&&!this.useDragEnter&&e.dataTransfer&&(this.isDraggingOverDropZone||(this.isDraggingOverDropZone=!0,this.onFileOver.emit(e)),this.preventAndStop(e),e.dataTransfer.dropEffect="copy")}onDragEnter(e){!this.isDropzoneDisabled()&&this.useDragEnter&&(this.isDraggingOverDropZone||(this.isDraggingOverDropZone=!0,this.onFileOver.emit(e)),this.preventAndStop(e))}onDragLeave(e){this.isDropzoneDisabled()||(this.isDraggingOverDropZone&&(this.isDraggingOverDropZone=!1,this.onFileLeave.emit(e)),this.preventAndStop(e))}dropFiles(e){if(!this.isDropzoneDisabled()&&(this.isDraggingOverDropZone=!1,e.dataTransfer)){let i;i=e.dataTransfer.items?e.dataTransfer.items:e.dataTransfer.files,this.preventAndStop(e),this.checkFiles(i)}}uploadFiles(e){!this.isDropzoneDisabled()&&e.target&&(this.checkFiles(e.target.files||[]),this.resetFileInput())}getFakeDropEntry(e){const i={name:e.name,isDirectory:!1,isFile:!0,file:o=>o(e)};return new N4(i.name,i)}checkFile(e){if(e){if(function EWe(t){return"webkitGetAsEntry"in t&&"getAsFile"in t}(e)){const i=e.webkitGetAsEntry();if(i){if(i.isFile){const s=new N4(i.name,i);this.addToQueue(s)}else i.isDirectory&&this.traverseFileTree(i,i.name);return}const o=e.getAsFile();return void(o&&this.addToQueue(this.getFakeDropEntry(o)))}this.addToQueue(this.getFakeDropEntry(e))}}checkFiles(e){for(let i=0;i<e.length;i++)this.checkFile(e[i]);this.dropEventTimerSubscription&&this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=hd(200,200).subscribe(()=>{if(this.files.length>0&&0===this.numOfActiveReadEntries){const i=this.files;this.files=[],this.onFileDrop.emit(i)}})}traverseFileTree(e,i){if(e.isFile){const o=new N4(i,e);this.files.push(o)}else{i+="/";const o=e.createReader();let s=[];const r=()=>{this.numOfActiveReadEntries++,o.readEntries(a=>{if(a.length)s=s.concat(a),r();else if(0===s.length){const l=new N4(i,e);this.zone.run(()=>{this.addToQueue(l)})}else for(let l=0;l<s.length;l++)this.zone.run(()=>{this.traverseFileTree(s[l],i+s[l].name)});this.numOfActiveReadEntries--})};r()}}resetFileInput(){if(this.fileSelector&&this.fileSelector.nativeElement){const e=this.fileSelector.nativeElement,i=e.parentElement,o=this.getHelperFormElement(),s=this.getFileInputPlaceholderElement();i!==o&&(this.renderer.insertBefore(i,s,e),this.renderer.appendChild(o,e),o.reset(),this.renderer.insertBefore(i,e,s),this.renderer.removeChild(i,s))}}getHelperFormElement(){return this.helperFormEl||(this.helperFormEl=this.renderer.createElement("form")),this.helperFormEl}getFileInputPlaceholderElement(){return this.fileInputPlaceholderEl||(this.fileInputPlaceholderEl=this.renderer.createElement("div")),this.fileInputPlaceholderEl}isDropzoneDisabled(){return this.globalDraggingInProgress||this.disabled}addToQueue(e){this.files.push(e)}preventAndStop(e){e.stopPropagation(),e.preventDefault()}static{this.\u0275fac=function(i){return new(i||t)(x(cn),x(s1))}}static{this.\u0275cmp=ke({type:t,selectors:[["ngx-file-drop"]],contentQueries:function(i,o,s){if(1&i&&_i(s,AWe,5,nn),2&i){let r;pt(r=gt())&&(o.contentTemplate=r.first)}},viewQuery:function(i,o){if(1&i&&dn(CWe,7),2&i){let s;pt(s=gt())&&(o.fileSelector=s.first)}},inputs:{accept:"accept",directory:"directory",multiple:"multiple",dropZoneLabel:"dropZoneLabel",dropZoneClassName:"dropZoneClassName",useDragEnter:"useDragEnter",contentClassName:"contentClassName",showBrowseBtn:"showBrowseBtn",browseBtnClassName:"browseBtnClassName",browseBtnLabel:"browseBtnLabel",disabled:"disabled"},outputs:{onFileDrop:"onFileDrop",onFileOver:"onFileOver",onFileLeave:"onFileLeave"},standalone:!1,decls:7,vars:15,consts:[["fileSelector",""],["defaultContentTemplate",""],[3,"drop","dragover","dragenter","dragleave","className"],[3,"className"],["type","file",1,"ngx-file-drop__file-input",3,"change","accept","multiple"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ngx-file-drop__drop-zone-label",4,"ngIf"],[4,"ngIf"],[1,"ngx-file-drop__drop-zone-label"],["type","button",3,"click","className","value"]],template:function(i,o){if(1&i){const s=F();d(0,"div",2),T("drop",function(a){return b(s),S(o.dropFiles(a))})("dragover",function(a){return b(s),S(o.onDragOver(a))})("dragenter",function(a){return b(s),S(o.onDragEnter(a))})("dragleave",function(a){return b(s),S(o.onDragLeave(a))}),d(1,"div",3)(2,"input",4,0),T("change",function(a){return b(s),S(o.uploadFiles(a))}),u(),y(4,bWe,2,2,"ng-template",null,1,zt)(6,SWe,0,0,"ng-template",5),u()()}if(2&i){const s=Ve(5);Ce("ngx-file-drop__drop-zone--over",o.isDraggingOverDropZone),m("className",o.dropZoneClassName),_(),m("className",o.contentClassName),_(),m("accept",o.accept)("multiple",o.multiple),Un("directory",o.directory||void 0)("webkitdirectory",o.directory||void 0)("mozdirectory",o.directory||void 0)("msdirectory",o.directory||void 0)("odirectory",o.directory||void 0),_(4),m("ngTemplateOutlet",o.contentTemplate||s)("ngTemplateOutletContext",Wn(13,MWe,o.openFileSelector))}},dependencies:[$C,Uo],styles:[".ngx-file-drop__drop-zone[_ngcontent-%COMP%]{height:100px;margin:auto;border:2px dotted #0782d0;border-radius:30px}.ngx-file-drop__drop-zone--over[_ngcontent-%COMP%]{background-color:#93939380}.ngx-file-drop__content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100px;color:#0782d0}.ngx-file-drop__drop-zone-label[_ngcontent-%COMP%]{text-align:center}.ngx-file-drop__file-input[_ngcontent-%COMP%]{display:none}"]})}}return t})(),BH=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t,bootstrap:[GH]})}static{this.\u0275inj=Vn({imports:[T2]})}}return t})();function Fp(...t){const n=m_(t),e=e6(t),{args:i,keys:o}=Kx(t);if(0===i.length)return Co([],n);const s=new an(function OWe(t,n,e=ms){return i=>{UH(n,()=>{const{length:o}=t,s=new Array(o);let r=o,a=o;for(let l=0;l<o;l++)UH(n,()=>{const c=Co(t[l],n);let h=!1;c.subscribe(Pi(i,p=>{s[l]=p,h||(h=!0,a--),a||i.next(e(s.slice()))},()=>{--r||i.complete()}))},i)},i)}}(i,n,o?r=>qx(o,r):ms));return e?s.pipe(P9(e)):s}function UH(t,n,e){t?d0(e,t,n):n()}const kp=js(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function D4(t){return new an(n=>{Wo(t()).subscribe(n)})}function P4(t,n){const e=fn(t)?t:()=>t,i=o=>o.error(e());return new an(n?o=>n.schedule(i,0,o):i)}function I4(){return hi((t,n)=>{let e=null;t._refCount++;const i=Pi(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,s=e;e=null,o&&(!s||o===s)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class kT extends an{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Xa(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new si;const e=this.getSubject();n.add(this.source.subscribe(Pi(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=si.EMPTY)}return n}refCount(){return I4()(this)}}function x4(t){return hi((n,e)=>{let i=!1;n.subscribe(Pi(e,o=>{i=!0,e.next(o)},()=>{i||e.next(t),e.complete()}))})}function WH(t=yWe){return hi((n,e)=>{let i=!1;n.subscribe(Pi(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(t())))})}function yWe(){return new kp}function ut(t,n){const e=arguments.length>=2;return i=>i.pipe(t?li((o,s)=>t(o,s,i)):ms,Js(1),e?x4(n):WH(()=>new kp))}function m1(t){return hi((n,e)=>{let s,i=null,o=!1;i=n.subscribe(Pi(e,void 0,void 0,r=>{s=Wo(t(r,m1(t)(n))),i?(i.unsubscribe(),i=null,s.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,s.subscribe(e))})}function zT(t){return t<=0?()=>ta:hi((n,e)=>{let i=[];n.subscribe(Pi(e,o=>{i.push(o),t<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}const jn="primary",zp=Symbol("RouteTitle");class IWe{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $d(t){return new IWe(t)}function xWe(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const o={};for(let s=0;s<i.length;s++){const r=i[s],a=t[s];if(":"===r[0])o[r.substring(1)]=a;else if(r!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}function T0(t,n){const e=t?VT(t):void 0,i=n?VT(n):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let s=0;s<e.length;s++)if(o=e[s],!ZH(t[o],n[o]))return!1;return!0}function VT(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ZH(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((o,s)=>i[s]===o)}return t===n}function jH(t){return t.length>0?t[t.length-1]:null}function cc(t){return function p9(t){return!!t&&(t instanceof an||fn(t.lift)&&fn(t.subscribe))}(t)?t:Gh(t)?Co(Promise.resolve(t)):Et(t)}const RWe={exact:function qH(t,n,e){if(!Bd(t.segments,n.segments)||!L4(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!qH(t.children[i],n.children[i],e))return!1;return!0},subset:YH},XH={exact:function FWe(t,n){return T0(t,n)},subset:function kWe(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>ZH(t[e],n[e]))},ignored:()=>!0};function KH(t,n,e){return RWe[e.paths](t.root,n.root,e.matrixParams)&&XH[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function YH(t,n,e){return QH(t,n,n.segments,e)}function QH(t,n,e,i){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Bd(o,e)||n.hasChildren()||!L4(o,e,i))}if(t.segments.length===e.length){if(!Bd(t.segments,e)||!L4(t.segments,e,i))return!1;for(const o in n.children)if(!t.children[o]||!YH(t.children[o],n.children[o],i))return!1;return!0}{const o=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(Bd(t.segments,o)&&L4(t.segments,o,i)&&t.children[jn])&&QH(t.children[jn],n,s,i)}}function L4(t,n,e){return n.every((i,o)=>XH[e](t[o].parameters,i.parameters))}class Gd{root;queryParams;fragment;_queryParamMap;constructor(n=new ji([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=$d(this.queryParams),this._queryParamMap}toString(){return HWe.serialize(this)}}class ji{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return F4(this)}}class Vp{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=$d(this.parameters),this._parameterMap}toString(){return t$(this)}}function Bd(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let au=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:()=>new R4,providedIn:"root"})}return t})();class R4{parse(n){const e=new YWe(n);return new Gd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Hp(n.root,!0)}`,i=function BWe(t){const n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(o=>`${k4(e)}=${k4(o)}`).join("&"):`${k4(e)}=${k4(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function $We(t){return encodeURI(t)}(n.fragment)}`:""}`}}const HWe=new R4;function F4(t){return t.segments.map(n=>t$(n)).join("/")}function Hp(t,n){if(!t.hasChildren())return F4(t);if(n){const e=t.children[jn]?Hp(t.children[jn],!1):"",i=[];return Object.entries(t.children).forEach(([o,s])=>{o!==jn&&i.push(`${o}:${Hp(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function VWe(t,n){let e=[];return Object.entries(t.children).forEach(([i,o])=>{i===jn&&(e=e.concat(n(o,i)))}),Object.entries(t.children).forEach(([i,o])=>{i!==jn&&(e=e.concat(n(o,i)))}),e}(t,(i,o)=>o===jn?[Hp(t.children[jn],!1)]:[`${o}:${Hp(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[jn]?`${F4(t)}/${e[0]}`:`${F4(t)}/(${e.join("//")})`}}function JH(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function k4(t){return JH(t).replace(/%3B/gi,";")}function HT(t){return JH(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function z4(t){return decodeURIComponent(t)}function e$(t){return z4(t.replace(/\+/g,"%20"))}function t$(t){return`${HT(t.path)}${function GWe(t){return Object.entries(t).map(([n,e])=>`;${HT(n)}=${HT(e)}`).join("")}(t.parameters)}`}const UWe=/^[^\/()?;#]+/;function $T(t){const n=t.match(UWe);return n?n[0]:""}const WWe=/^[^\/()?;=#]+/,jWe=/^[^=?&#]+/,KWe=/^[^&#]+/;class YWe{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ji([],{}):new ji([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[jn]=new ji(n,e)),i}parseSegment(){const n=$T(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new He(4009,!1);return this.capture(n),new Vp(z4(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function ZWe(t){const n=t.match(WWe);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=$T(this.remaining);o&&(i=o,this.capture(i))}n[z4(e)]=z4(i)}parseQueryParam(n){const e=function XWe(t){const n=t.match(jWe);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=function qWe(t){const n=t.match(KWe);return n?n[0]:""}(this.remaining);r&&(i=r,this.capture(i))}const o=e$(e),s=e$(i);if(n.hasOwnProperty(o)){let r=n[o];Array.isArray(r)||(r=[r],n[o]=r),r.push(s)}else n[o]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=$T(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new He(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=jn);const r=this.parseChildren();e[s]=1===Object.keys(r).length?r[jn]:new ji([],r),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new He(4011,!1)}}function n$(t){return t.segments.length>0?new ji([],{[jn]:t}):t}function i$(t){const n={};for(const[i,o]of Object.entries(t.children)){const s=i$(o);if(i===jn&&0===s.segments.length&&s.hasChildren())for(const[r,a]of Object.entries(s.children))n[r]=a;else(s.segments.length>0||s.hasChildren())&&(n[i]=s)}return function QWe(t){if(1===t.numberOfChildren&&t.children[jn]){const n=t.children[jn];return new ji(t.segments.concat(n.segments),n.children)}return t}(new ji(t.segments,n))}function Ud(t){return t instanceof Gd}function o$(t){let n;const o=n$(function e(s){const r={};for(const l of s.children){const c=e(l);r[l.outlet]=c}const a=new ji(s.url,r);return s===t&&(n=a),a}(t.root));return n??o}function s$(t,n,e,i){let o=t;for(;o.parent;)o=o.parent;if(0===n.length)return GT(o,o,o,e,i);const s=function eZe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new a$(!0,0,t);let n=0,e=!1;const i=t.reduce((o,s,r)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===r?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,s]},[]);return new a$(e,n,i)}(n);if(s.toRoot())return GT(o,o,new ji([],{}),e,i);const r=function tZe(t,n,e){if(t.isAbsolute)return new H4(n,!0,0);if(!e)return new H4(n,!1,NaN);if(null===e.parent)return new H4(e,!0,0);const i=V4(t.commands[0])?0:1;return function nZe(t,n,e){let i=t,o=n,s=e;for(;s>o;){if(s-=o,i=i.parent,!i)throw new He(4005,!1);o=i.segments.length}return new H4(i,!1,o-s)}(e,e.segments.length-1+i,t.numberOfDoubleDots)}(s,o,t),a=r.processChildren?Gp(r.segmentGroup,r.index,s.commands):l$(r.segmentGroup,r.index,s.commands);return GT(o,r.segmentGroup,a,e,i)}function V4(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function $p(t){return"object"==typeof t&&null!=t&&t.outlets}function GT(t,n,e,i,o){let r,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),r=t===n?e:r$(t,n,e);const a=n$(i$(r));return new Gd(a,s,o)}function r$(t,n,e){const i={};return Object.entries(t.children).forEach(([o,s])=>{i[o]=s===n?e:r$(s,n,e)}),new ji(t.segments,i)}class a${isAbsolute;numberOfDoubleDots;commands;constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&V4(i[0]))throw new He(4003,!1);const o=i.find($p);if(o&&o!==jH(i))throw new He(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class H4{segmentGroup;processChildren;index;constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function l$(t,n,e){if(t??=new ji([],{}),0===t.segments.length&&t.hasChildren())return Gp(t,n,e);const i=function oZe(t,n,e){let i=0,o=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=e.length)return s;const r=t.segments[o],a=e[i];if($p(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!d$(l,c,r))return s;i+=2}else{if(!d$(l,{},r))return s;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,n,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new ji(t.segments.slice(0,i.pathIndex),{});return s.children[jn]=new ji(t.segments.slice(i.pathIndex),t.children),Gp(s,0,o)}return i.match&&0===o.length?new ji(t.segments,{}):i.match&&!t.hasChildren()?BT(t,n,e):i.match?Gp(t,0,o):BT(t,n,e)}function Gp(t,n,e){if(0===e.length)return new ji(t.segments,{});{const i=function iZe(t){return $p(t[0])?t[0].outlets:{[jn]:t}}(e),o={};if(Object.keys(i).some(s=>s!==jn)&&t.children[jn]&&1===t.numberOfChildren&&0===t.children[jn].segments.length){const s=Gp(t.children[jn],n,e);return new ji(t.segments,s.children)}return Object.entries(i).forEach(([s,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(o[s]=l$(t.children[s],n,r))}),Object.entries(t.children).forEach(([s,r])=>{void 0===i[s]&&(o[s]=r)}),new ji(t.segments,o)}}function BT(t,n,e){const i=t.segments.slice(0,n);let o=0;for(;o<e.length;){const s=e[o];if($p(s)){const l=sZe(s.outlets);return new ji(i,l)}if(0===o&&V4(e[0])){i.push(new Vp(t.segments[n].path,c$(e[0]))),o++;continue}const r=$p(s)?s.outlets[jn]:`${s}`,a=o<e.length-1?e[o+1]:null;r&&a&&V4(a)?(i.push(new Vp(r,c$(a))),o+=2):(i.push(new Vp(r,{})),o++)}return new ji(i,{})}function sZe(t){const n={};return Object.entries(t).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[e]=BT(new ji([],{}),0,i))}),n}function c$(t){const n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function d$(t,n,e){return t==e.path&&T0(n,e.parameters)}const Bp="imperative";var mi=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(mi||{});class w0{id;url;constructor(n,e){this.id=n,this.url=e}}class Up extends w0{type=mi.NavigationStart;navigationTrigger;restoredState;constructor(n,e,i="imperative",o=null){super(n,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ll extends w0{urlAfterRedirects;type=mi.NavigationEnd;constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ka=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ka||{}),$4=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}($4||{});class Wd extends w0{reason;code;type=mi.NavigationCancel;constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lu extends w0{reason;code;type=mi.NavigationSkipped;constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o}}class UT extends w0{error;target;type=mi.NavigationError;constructor(n,e,i,o){super(n,e),this.error=i,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class u$ extends w0{urlAfterRedirects;state;type=mi.RoutesRecognized;constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rZe extends w0{urlAfterRedirects;state;type=mi.GuardsCheckStart;constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aZe extends w0{urlAfterRedirects;state;shouldActivate;type=mi.GuardsCheckEnd;constructor(n,e,i,o,s){super(n,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lZe extends w0{urlAfterRedirects;state;type=mi.ResolveStart;constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cZe extends w0{urlAfterRedirects;state;type=mi.ResolveEnd;constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dZe{route;type=mi.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uZe{route;type=mi.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hZe{snapshot;type=mi.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _Ze{snapshot;type=mi.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h${snapshot;type=mi.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pZe{snapshot;type=mi.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _${routerEvent;position;anchor;type=mi.Scroll;constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class WT{}class G4{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}}function H1(t){return t.outlet||jn}function Wp(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class MZe{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Wp(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Zp(this.rootInjector)}}let Zp=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new MZe(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||t)(Be(xs))};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class p${_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=ZT(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=ZT(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=jT(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return jT(n,this._root).map(e=>e.value)}}function ZT(t,n){if(t===n.value)return n;for(const e of n.children){const i=ZT(t,e);if(i)return i}return null}function jT(t,n){if(t===n.value)return[n];for(const e of n.children){const i=jT(t,e);if(i.length)return i.unshift(n),i}return[]}class $1{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function cu(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class g$ extends p${snapshot;constructor(n,e){super(n),this.snapshot=e,XT(this,n)}toString(){return this.snapshot.toString()}}function f$(t){const n=function TZe(t){const s=new U4([],{},{},"",{},jn,t,null,{});return new m$("",new $1(s,[]))}(t),e=new ui([new Vp("",{})]),i=new ui({}),o=new ui({}),s=new ui({}),r=new ui(""),a=new v1(e,i,s,r,o,jn,t,n.root);return a.snapshot=n.root,new g$(new $1(a,[]),n)}class v1{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,i,o,s,r,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=s,this.outlet=r,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Tt(c=>c[zp]))??Et(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Tt(n=>$d(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Tt(n=>$d(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function B4(t,n,e="emptyOnly"){let i;const{routeConfig:o}=t;return i=null===n||"always"!==e&&""!==o?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.data,...o?.data,...t._resolvedData}},o&&C$(o)&&(i.resolve[zp]=o.title),i}class U4{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[zp]}constructor(n,e,i,o,s,r,a,l,c){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=s,this.outlet=r,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$d(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$d(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class m$ extends p${url;constructor(n,e){super(e),this.url=n,XT(this,e)}toString(){return v$(this._root)}}function XT(t,n){n.value._routerState=t,n.children.forEach(e=>XT(t,e))}function v$(t){const n=t.children.length>0?` { ${t.children.map(v$).join(", ")} } `:"";return`${t.value}${n}`}function KT(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,T0(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),T0(n.params,e.params)||t.paramsSubject.next(e.params),function LWe(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!T0(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),T0(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qT(t,n){const e=T0(t.params,n.params)&&function zWe(t,n){return Bd(t,n)&&t.every((e,i)=>T0(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||qT(t.parent,n.parent))}function C$(t){return"string"==typeof t.title||null===t.title}const wZe=new Je("");let W4=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=jn;activateEvents=new Ee;deactivateEvents=new Ee;attachEvents=new Ee;detachEvents=new Ee;routerOutletData=hE(void 0);parentContexts=$(Zp);location=$(qs);changeDetector=$(Ss);inputBinder=$(Z4,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new He(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new He(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new He(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new He(4013,!1);this._activatedRoute=e;const o=this.location,r=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new YT(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(r,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=et({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[xi]})}return t})();class YT{route;childContexts;parent;outletData;__ngOutletInjector(n){return new YT(this.route,this.childContexts,n,this.outletData)}constructor(n,e,i,o){this.route=n,this.childContexts=e,this.parent=i,this.outletData=o}get(n,e){return n===v1?this.route:n===Zp?this.childContexts:n===wZe?this.outletData:this.parent.get(n,e)}}const Z4=new Je("");let M$=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=Fp([i.queryParams,i.params,i.data]).pipe(Mi(([s,r,a],l)=>(a={...s,...r,...a},0===l?Et(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const r=function Sie(t){const n=Gn(t);if(!n)return null;const e=new Fh(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(i.component);if(r)for(const{templateName:a}of r.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();function jp(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const o=function SZe(t,n,e){return n.children.map(i=>{for(const o of e.children)if(t.shouldReuseRoute(i.value,o.value.snapshot))return jp(t,i,o);return jp(t,i)})}(t,n,e);return new $1(i,o)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const r=s.route;return r.value._futureSnapshot=n.value,r.children=n.children.map(a=>jp(t,a)),r}}const i=function EZe(t){return new v1(new ui(t.url),new ui(t.params),new ui(t.queryParams),new ui(t.fragment),new ui(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(s=>jp(t,s));return new $1(i,o)}}class QT{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}}const T$="ngNavigationCancelingError";function j4(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=Ud(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=w$(!1,ka.Redirect);return o.url=e,o.navigationBehaviorOptions=i,o}function w$(t,n){const e=new Error(`NavigationCancelingError: ${t||""}`);return e[T$]=!0,e.cancellationCode=n,e}function b$(t){return!!t&&t[T$]}class yZe{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,i,o,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=s}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),KT(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const o=cu(e);n.children.forEach(s=>{const r=s.value.outlet;this.deactivateRoutes(s,o[r],i),delete o[r]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(n,e,i){const o=n.value,s=e?e.value:null;if(o===s)if(o.component){const r=i.getContext(o.outlet);r&&this.deactivateChildRoutes(n,e,r.children)}else this.deactivateChildRoutes(n,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,s=cu(n);for(const r of Object.values(s))this.deactivateRouteAndItsChildren(r,o);if(i&&i.outlet){const r=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:r,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,s=cu(n);for(const r of Object.values(s))this.deactivateRouteAndItsChildren(r,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){const o=cu(e);n.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],i),this.forwardEvent(new pZe(s.value.snapshot))}),n.children.length&&this.forwardEvent(new _Ze(n.value.snapshot))}activateRoutes(n,e,i){const o=n.value,s=e?e.value:null;if(KT(o),o===s)if(o.component){const r=i.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,r.children)}else this.activateChildRoutes(n,e,i);else if(o.component){const r=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),r.children.onOutletReAttached(a.contexts),r.attachRef=a.componentRef,r.route=a.route.value,r.outlet&&r.outlet.attach(a.componentRef,a.route.value),KT(a.route.value),this.activateChildRoutes(n,null,r.children)}else r.attachRef=null,r.route=o,r.outlet&&r.outlet.activateWith(o,r.injector),this.activateChildRoutes(n,null,r.children)}else this.activateChildRoutes(n,null,i)}}class S${path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class X4{component;route;constructor(n,e){this.component=n,this.route=e}}function NZe(t,n,e){const i=t._root;return Xp(i,n?n._root:null,e,[i.value])}function du(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||function WU(t){return null!==kg(t)}(t)?n.get(t):t:i}function Xp(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=cu(n);return t.children.forEach(r=>{(function PZe(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,r=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(r&&s.routeConfig===r.routeConfig){const l=function IZe(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Bd(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Bd(t.url,n.url)||!T0(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qT(t,n)||!T0(t.queryParams,n.queryParams);default:return!qT(t,n)}}(r,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new S$(i)):(s.data=r.data,s._resolvedData=r._resolvedData),Xp(t,n,s.component?a?a.children:null:e,i,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new X4(a.outlet.component,r))}else r&&Kp(n,a,o),o.canActivateChecks.push(new S$(i)),Xp(t,null,s.component?a?a.children:null:e,i,o)})(r,s[r.value.outlet],e,i.concat([r.value]),o),delete s[r.value.outlet]}),Object.entries(s).forEach(([r,a])=>Kp(a,e.getContext(r),o)),o}function Kp(t,n,e){const i=cu(t),o=t.value;Object.entries(i).forEach(([s,r])=>{Kp(r,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new X4(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function qp(t){return"function"==typeof t}function E$(t){return t instanceof kp||"EmptyError"===t?.name}const K4=Symbol("INITIAL_VALUE");function uu(){return Mi(t=>Fp(t.map(n=>n.pipe(Js(1),O2(K4)))).pipe(Tt(n=>{for(const e of n)if(!0!==e){if(e===K4)return K4;if(!1===e||VZe(e))return e}return!0}),li(n=>n!==K4),Js(1)))}function VZe(t){return Ud(t)||t instanceof QT}function A$(t){return function go(...t){return di(t)}(un(n=>{if("boolean"!=typeof n)throw j4(0,n)}),Tt(n=>!0===n))}class JT{segmentGroup;constructor(n){this.segmentGroup=n||null}}class q4 extends Error{urlTree;constructor(n){super(),this.urlTree=n}}function hu(t){return P4(new JT(t))}class QZe{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return Et(i);if(o.numberOfChildren>1||!o.children[jn])return P4(new He(4e3,!1));o=o.children[jn]}}applyRedirectCommands(n,e,i,o,s){if("string"!=typeof e){const a=e,{queryParams:l,fragment:c,routeConfig:h,url:p,outlet:f,params:v,data:C,title:E}=o,D=qa(s,()=>a({params:v,data:C,queryParams:l,fragment:c,routeConfig:h,url:p,outlet:f,title:E}));if(D instanceof Gd)throw new q4(D);e=D}const r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if("/"===e[0])throw new q4(r);return r}applyRedirectCreateUrlTree(n,e,i,o){const s=this.createSegmentGroup(n,e.root,i,o);return new Gd(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Object.entries(n).forEach(([o,s])=>{if("string"==typeof s&&":"===s[0]){const a=s.substring(1);i[o]=e[a]}else i[o]=s}),i}createSegmentGroup(n,e,i,o){const s=this.createSegments(n,e.segments,i,o);let r={};return Object.entries(e.children).forEach(([a,l])=>{r[a]=this.createSegmentGroup(n,l,i,o)}),new ji(s,r)}createSegments(n,e,i,o){return e.map(s=>":"===s.path[0]?this.findPosParam(n,s,o):this.findOrReturn(s,i))}findPosParam(n,e,i){const o=i[e.path.substring(1)];if(!o)throw new He(4001,!1);return o}findOrReturn(n,e){let i=0;for(const o of e){if(o.path===n.path)return e.splice(i),o;i++}return n}}const ew={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JZe(t,n,e,i,o){const s=O$(t,n,e);return s.matched?(i=function gZe(t,n){return t.providers&&!t._injector&&(t._injector=o3(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,i),function KZe(t,n,e,i){const o=n.canMatch;return o&&0!==o.length?Et(o.map(r=>{const a=du(r,t);return cc(function zZe(t){return t&&qp(t.canMatch)}(a)?a.canMatch(n,e):qa(t,()=>a(n,e)))})).pipe(uu(),A$()):Et(!0)}(i,n,e).pipe(Tt(r=>!0===r?s:{...ew}))):Et(s)}function O$(t,n,e){if("**"===n.path)return function eje(t){return{matched:!0,parameters:t.length>0?jH(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...ew}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||xWe)(e,t,n);if(!o)return{...ew};const s={};Object.entries(o.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const r=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:r,positionalParamSegments:o.posParams??{}}}function y$(t,n,e,i){return e.length>0&&function ije(t,n,e){return e.some(i=>Y4(t,n,i)&&H1(i)!==jn)}(t,e,i)?{segmentGroup:new ji(n,nje(i,new ji(e,t.children))),slicedSegments:[]}:0===e.length&&function oje(t,n,e){return e.some(i=>Y4(t,n,i))}(t,e,i)?{segmentGroup:new ji(t.segments,tje(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new ji(t.segments,t.children),slicedSegments:e}}function tje(t,n,e,i){const o={};for(const s of e)if(Y4(t,n,s)&&!i[H1(s)]){const r=new ji([],{});o[H1(s)]=r}return{...i,...o}}function nje(t,n){const e={};e[jn]=n;for(const i of t)if(""===i.path&&H1(i)!==jn){const o=new ji([],{});e[H1(i)]=o}return e}function Y4(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class rje{}class cje{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,i,o,s,r,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=r,this.urlSerializer=a,this.applyRedirects=new QZe(this.urlSerializer,this.urlTree)}noMatchError(n){return new He(4002,`'${n.segmentGroup}'`)}recognize(){const n=y$(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Tt(({children:e,rootSnapshot:i})=>{const o=new $1(i,e),s=new m$("",o),r=function JWe(t,n,e=null,i=null){return s$(o$(t),n,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return r.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(r),{state:s,tree:r}}))}match(n){const e=new U4([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),jn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,jn,e).pipe(Tt(i=>({children:i,rootSnapshot:e})),m1(i=>{if(i instanceof q4)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof JT?this.noMatchError(i):i}))}processSegmentGroup(n,e,i,o,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i,s):this.processSegment(n,e,i,i.segments,o,!0,s).pipe(Tt(r=>r instanceof $1?[r]:[]))}processChildren(n,e,i,o){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return Co(s).pipe(P2(r=>{const a=i.children[r],l=function CZe(t,n){const e=t.filter(i=>H1(i)===n);return e.push(...t.filter(i=>H1(i)!==n)),e}(e,r);return this.processSegmentGroup(n,l,a,r,o)}),function DWe(t,n){return hi(function NWe(t,n,e,i,o){return(s,r)=>{let a=e,l=n,c=0;s.subscribe(Pi(r,h=>{const p=c++;l=a?t(l,h,p):(a=!0,h),i&&r.next(l)},o&&(()=>{a&&r.next(l),r.complete()})))}}(t,n,arguments.length>=2,!0))}((r,a)=>(r.push(...a),r)),x4(null),function PWe(t,n){const e=arguments.length>=2;return i=>i.pipe(t?li((o,s)=>t(o,s,i)):ms,zT(1),e?x4(n):WH(()=>new kp))}(),As(r=>{if(null===r)return hu(i);const a=N$(r);return function dje(t){t.sort((n,e)=>n.value.outlet===jn?-1:e.value.outlet===jn?1:n.value.outlet.localeCompare(e.value.outlet))}(a),Et(a)}))}processSegment(n,e,i,o,s,r,a){return Co(e).pipe(P2(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,i,o,s,r,a).pipe(m1(c=>{if(c instanceof JT)return Et(null);throw c}))),ut(l=>!!l),m1(l=>{if(E$(l))return function sje(t,n,e){return 0===n.length&&!t.children[e]}(i,o,s)?Et(new rje):hu(i);throw l}))}processSegmentAgainstRoute(n,e,i,o,s,r,a,l){return H1(i)===r||r!==jn&&Y4(o,s,i)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,o,i,s,r,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,i,s,r,l):hu(o):hu(o)}expandSegmentAgainstRouteUsingRedirect(n,e,i,o,s,r,a){const{matched:l,parameters:c,consumedSegments:h,positionalParamSegments:p,remainingSegments:f}=O$(e,o,s);if(!l)return hu(e);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const v=new U4(s,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D$(o),H1(o),o.component??o._loadedComponent??null,o,P$(o)),C=B4(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(C.params),v.data=Object.freeze(C.data);const E=this.applyRedirects.applyRedirectCommands(h,o.redirectTo,p,v,n);return this.applyRedirects.lineralizeSegments(o,E).pipe(As(D=>this.processSegment(n,i,e,D.concat(f),r,!1,a)))}matchSegmentAgainstRoute(n,e,i,o,s,r){const a=JZe(e,i,o,n);return"**"===i.path&&(e.children={}),a.pipe(Mi(l=>l.matched?this.getChildConfig(n=i._injector??n,i,o).pipe(Mi(({routes:c})=>{const h=i._loadedInjector??n,{parameters:p,consumedSegments:f,remainingSegments:v}=l,C=new U4(f,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D$(i),H1(i),i.component??i._loadedComponent??null,i,P$(i)),E=B4(C,r,this.paramsInheritanceStrategy);C.params=Object.freeze(E.params),C.data=Object.freeze(E.data);const{segmentGroup:D,slicedSegments:P}=y$(e,f,v,c);if(0===P.length&&D.hasChildren())return this.processChildren(h,c,D,C).pipe(Tt(k=>new $1(C,k)));if(0===c.length&&0===P.length)return Et(new $1(C,[]));const I=H1(i)===s;return this.processSegment(h,c,D,P,I?jn:s,!0,C).pipe(Tt(k=>new $1(C,k instanceof $1?[k]:[])))})):hu(e)))}getChildConfig(n,e,i){return e.children?Et({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Et({routes:e._loadedRoutes,injector:e._loadedInjector}):function XZe(t,n,e,i){const o=n.canLoad;return void 0===o||0===o.length?Et(!0):Et(o.map(r=>{const a=du(r,t);return cc(function LZe(t){return t&&qp(t.canLoad)}(a)?a.canLoad(n,e):qa(t,()=>a(n,e)))})).pipe(uu(),A$())}(n,e,i).pipe(As(o=>o?this.configLoader.loadChildren(n,e).pipe(un(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function YZe(){return P4(w$(!1,ka.GuardRejected))}())):Et({routes:[],injector:n})}}function uje(t){const n=t.value.routeConfig;return n&&""===n.path}function N$(t){const n=[],e=new Set;for(const i of t){if(!uje(i)){n.push(i);continue}const o=n.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):n.push(i)}for(const i of e){const o=N$(i.children);n.push(new $1(i.value,o))}return n.filter(i=>!e.has(i))}function D$(t){return t.data||{}}function P$(t){return t.resolve||{}}function I$(t){const n=t.children.map(e=>I$(e)).flat();return[t,...n]}function tw(t){return Mi(n=>{const e=t(n);return e?Co(e).pipe(Tt(()=>n)):Et(n)})}let x$=(()=>{class t{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===jn);return i}getResolvedTitleForRoute(e){return e.data[zp]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:()=>$(mje),providedIn:"root"})}return t})(),mje=(()=>{class t extends x${title;constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(Be(sR))};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const _u=new Je("",{providedIn:"root",factory:()=>({})});let L$=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ke({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){1&i&&w(0,"router-outlet")},dependencies:[W4],encapsulation:2})}return t})();function nw(t){const n=t.children&&t.children.map(nw),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==jn&&(e.component=L$),e}const pu=new Je("");let iw=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=$(WD);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Et(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=cc(e.loadComponent()).pipe(Tt(R$),un(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),A_(()=>{this.componentLoaders.delete(e)})),o=new kT(i,()=>new xe).pipe(I4());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Et({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function vje(t,n,e,i){return cc(t.loadChildren()).pipe(Tt(R$),As(o=>o instanceof Cy||Array.isArray(o)?Et(o):Co(n.compileModuleAsync(o))),Tt(o=>{i&&i(t);let s,r,a=!1;return Array.isArray(o)?(r=o,!0):(s=o.create(e).injector,r=s.get(pu,[],{optional:!0,self:!0}).flat()),{routes:r.map(nw),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(A_(()=>{this.childrenLoaders.delete(i)})),r=new kT(s,()=>new xe).pipe(I4());return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function R$(t){return function Cje(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let ow=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:()=>$(Mje),providedIn:"root"})}return t})(),Mje=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const F$=new Je(""),k$=new Je("");function Tje(t,n,e){const i=t.get(k$),o=t.get(Xn);return t.get(cn).runOutsideAngular(()=>{if(!o.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const r=new Promise(c=>{s=c}),a=o.startViewTransition(()=>(s(),function wje(t){return new Promise(n=>{jr({read:()=>setTimeout(n)},{injector:t})})}(t))),{onViewTransitionCreated:l}=i;return l&&qa(t,()=>l({transition:a,from:n,to:e})),r})}const sw=new Je("");let Q4=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new xe;transitionAbortSubject=new xe;configLoader=$(iw);environmentInjector=$(xs);destroyRef=$(Ca);urlSerializer=$(au);rootContexts=$(Zp);location=$(__);inputBindingEnabled=null!==$(Z4,{optional:!0});titleStrategy=$(x$);options=$(_u,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=$(ow);createViewTransition=$(F$,{optional:!0});navigationErrorHandler=$(sw,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>Et(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=o=>this.events.next(new uZe(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new dZe(o)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,o){return this.transitions=new ui({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Bp,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(li(s=>0!==s.id),Tt(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Mi(s=>{let r=!1,a=!1;return Et(s).pipe(Mi(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ka.SupersededByNewNavigation),ta;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:"string"==typeof l.extras.browserUrl?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const p="";return this.events.next(new lu(l.id,this.urlSerializer.serialize(l.rawUrl),p,$4.IgnoredSameUrlNavigation)),l.resolve(!1),ta}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Et(l).pipe(Mi(p=>{const f=this.transitions?.getValue();return this.events.next(new Up(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),f!==this.transitions?.getValue()?ta:Promise.resolve(p)}),function hje(t,n,e,i,o,s){return As(r=>function aje(t,n,e,i,o,s,r="emptyOnly"){return new cje(t,n,e,i,o,r,s).recognize()}(t,n,e,i,r.extractedUrl,o,s).pipe(Tt(({state:a,tree:l})=>({...r,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),un(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const f=new u$(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:p,extractedUrl:f,source:v,restoredState:C,extras:E}=l,D=new Up(p,this.urlSerializer.serialize(f),v,C);this.events.next(D);const P=f$(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:P,urlAfterRedirects:f,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,Et(s)}{const p="";return this.events.next(new lu(l.id,this.urlSerializer.serialize(l.extractedUrl),p,$4.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ta}}),un(l=>{const c=new rZe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Tt(l=>(this.currentTransition=s={...l,guards:NZe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function HZe(t,n){return As(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:r}}=e;return 0===r.length&&0===s.length?Et({...e,guardsResult:!0}):function $Ze(t,n,e,i){return Co(t).pipe(As(o=>function jZe(t,n,e,i,o){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?Et(s.map(a=>{const l=Wp(n)??o,c=du(a,l);return cc(function kZe(t){return t&&qp(t.canDeactivate)}(c)?c.canDeactivate(t,n,e,i):qa(l,()=>c(t,n,e,i))).pipe(ut())})).pipe(uu()):Et(!0)}(o.component,o.route,e,n,i)),ut(o=>!0!==o,!0))}(r,i,o,t).pipe(As(a=>a&&function xZe(t){return"boolean"==typeof t}(a)?function GZe(t,n,e,i){return Co(n).pipe(P2(o=>pd(function UZe(t,n){return null!==t&&n&&n(new hZe(t)),Et(!0)}(o.route.parent,i),function BZe(t,n){return null!==t&&n&&n(new h$(t)),Et(!0)}(o.route,i),function ZZe(t,n,e){const i=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(r=>function DZe(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(r)).filter(r=>null!==r).map(r=>D4(()=>Et(r.guards.map(l=>{const c=Wp(r.node)??e,h=du(l,c);return cc(function FZe(t){return t&&qp(t.canActivateChild)}(h)?h.canActivateChild(i,t):qa(c,()=>h(i,t))).pipe(ut())})).pipe(uu())));return Et(s).pipe(uu())}(t,o.path,e),function WZe(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return Et(!0);const o=i.map(s=>D4(()=>{const r=Wp(n)??e,a=du(s,r);return cc(function RZe(t){return t&&qp(t.canActivate)}(a)?a.canActivate(n,t):qa(r,()=>a(n,t))).pipe(ut())}));return Et(o).pipe(uu())}(t,o.route,e))),ut(o=>!0!==o,!0))}(i,s,t,n):Et(a)),Tt(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),un(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&"boolean"!=typeof l.guardsResult)throw j4(0,l.guardsResult);const c=new aZe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),li(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",ka.GuardRejected),!1)),tw(l=>{if(l.guards.canActivateChecks.length)return Et(l).pipe(un(c=>{const h=new lZe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Mi(c=>{let h=!1;return Et(c).pipe(function _je(t,n){return As(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return Et(e);const s=new Set(o.map(l=>l.route)),r=new Set;for(const l of s)if(!r.has(l))for(const c of I$(l))r.add(c);let a=0;return Co(r).pipe(P2(l=>s.has(l)?function pje(t,n,e,i){const o=t.routeConfig,s=t._resolve;return void 0!==o?.title&&!C$(o)&&(s[zp]=o.title),function gje(t,n,e,i){const o=VT(t);if(0===o.length)return Et({});const s={};return Co(o).pipe(As(r=>function fje(t,n,e,i){const o=Wp(n)??i,s=du(t,o);return cc(s.resolve?s.resolve(n,e):qa(o,()=>s(n,e)))}(t[r],n,e,i).pipe(ut(),un(a=>{if(a instanceof QT)throw j4(new R4,a);s[r]=a}))),zT(1),Tt(()=>s),m1(r=>E$(r)?ta:P4(r)))}(s,t,n,i).pipe(Tt(r=>(t._resolvedData=r,t.data=B4(t,t.parent,e).resolve,null)))}(l,i,t,n):(l.data=B4(l,l.parent,t).resolve,Et(void 0))),un(()=>a++),zT(1),As(l=>a===r.size?Et(e):ta))})}(this.paramsInheritanceStrategy,this.environmentInjector),un({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",ka.NoDataFromResolver)}}))}),un(c=>{const h=new cZe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),tw(l=>{const c=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(un(f=>{h.component=f}),Tt(()=>{})));for(const f of h.children)p.push(...c(f));return p};return Fp(c(l.targetSnapshot.root)).pipe(x4(null),Js(1))}),tw(()=>this.afterPreactivation()),Mi(()=>{const{currentSnapshot:l,targetSnapshot:c}=s,h=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return h?Co(h).pipe(Tt(()=>s)):Et(s)}),Tt(l=>{const c=function bZe(t,n,e){const i=jp(t,n._root,e?e._root:void 0);return new g$(i,n)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),un(()=>{this.events.next(new WT)}),((t,n,e,i)=>Tt(o=>(new yZe(n,o.targetRouterState,o.currentRouterState,e,i).activate(t),o)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Js(1),un({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ll(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),Te(this.transitionAbortSubject.pipe(un(l=>{throw l}))),A_(()=>{!r&&!a&&this.cancelNavigationTransition(s,"",ka.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),m1(l=>{if(this.destroyed)return s.resolve(!1),ta;if(a=!0,b$(l))this.events.next(new Wd(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function AZe(t){return b$(t)&&Ud(t.url)}(l)?this.events.next(new G4(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{const c=new UT(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{const h=qa(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(!(h instanceof QT))throw this.events.next(c),l;{const{message:p,cancellationCode:f}=j4(0,h);this.events.next(new Wd(s.id,this.urlSerializer.serialize(s.extractedUrl),p,f)),this.events.next(new G4(h.redirectTo,h.navigationBehaviorOptions))}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return ta}))}))}cancelNavigationTransition(e,i,o){const s=new Wd(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bje(t){return t!==Bp}let Sje=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:()=>$(Aje),providedIn:"root"})}return t})();class Eje{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let Aje=(()=>{class t extends Eje{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),z$=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:()=>$(Oje),providedIn:"root"})}return t})(),Oje=(()=>{class t extends z${location=$(__);urlSerializer=$(au);options=$(_u,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=$(ow);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Gd;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=f$(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Up)this.stateMemento=this.createStateMemento();else if(e instanceof lu)this.rawUrlTree=i.initialUrl;else if(e instanceof u$){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else e instanceof WT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Wd&&(e.code===ka.GuardRejected||e.code===ka.NoDataFromResolver)?this.restoreHistory(i):e instanceof UT?this.restoreHistory(i,!0):e instanceof ll&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const o=e instanceof Gd?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const r={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",r)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&0===s&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})();static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V$(t,n){t.events.pipe(li(e=>e instanceof ll||e instanceof Wd||e instanceof UT||e instanceof lu),Tt(e=>e instanceof ll||e instanceof lu?0:e instanceof Wd&&(e.code===ka.Redirect||e.code===ka.SupersededByNewNavigation)?2:1),li(e=>2!==e),Js(1)).subscribe(()=>{n()})}const yje={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nje={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lo=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=$(ky);stateManager=$(z$);options=$(_u,{optional:!0})||{};pendingTasks=$(A1);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=$(Q4);urlSerializer=$(au);location=$(__);urlHandlingStrategy=$(ow);_events=new xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=$(Sje);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=$(pu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!$(Z4,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new si;subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof Wd&&i.code!==ka.Redirect&&i.code!==ka.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ll)this.navigated=!0;else if(i instanceof G4){const r=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||bje(o.source),...r};this.scheduleNavigation(a,Bp,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function Pje(t){return!(t instanceof WT||t instanceof G4)})(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,o){const s={replaceUrl:!0},r=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,r,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(nw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:o,queryParams:s,fragment:r,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:r;let p,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{p=o$(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),p=this.currentUrlTree.root}return s$(p,e,h,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Ud(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Bp,null,i)}navigate(e,i={skipLocationChange:!1}){return function Dje(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new He(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let o;if(o=!0===i?{...yje}:!1===i?{...Nje}:i,Ud(e))return KH(this.currentUrlTree,e,o);const s=this.parseUrl(e);return KH(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.entries(e).reduce((i,[o,s])=>(null!=s&&(i[o]=s),i),{})}scheduleNavigation(e,i,o,s,r){if(this.disposed)return Promise.resolve(!1);let a,l,c;r?(a=r.resolve,l=r.reject,c=r.promise):c=new Promise((p,f)=>{a=p,l=f});const h=this.pendingTasks.add();return V$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vr=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new xe;constructor(e,i,o,s,r,a){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=r,this.locationStrategy=a;const l=r.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof ll&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){null==e?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Ud(e)||Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,o,s,r){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==e||i||o||s||r||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const i=null===this.href?null:function NA(t,n,e){return function mX(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?vh:cs}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,e,i):o.removeAttribute(s,e)}get urlTree(){return null===this.routerLinkInput?null:Ud(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||t)(x(Lo),x(v1),E1("tabindex"),x(s1),x(pn),x(ud))};static \u0275dir=et({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){1&i&&T("click",function(r){return o.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&i&&Un("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ri],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ri],replaceUrl:[2,"replaceUrl","replaceUrl",Ri],routerLink:"routerLink"},features:[s0,xi]})}return t})(),H$=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ee;constructor(e,i,o,s,r){this.router=e,this.element=i,this.renderer=o,this.cdr=s,this.link=r,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof ll&&this.update()})}ngAfterContentInit(){Et(this.links.changes,Et(null)).pipe(A2()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Co(e).pipe(A2()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Ije(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{const s=o.urlTree;return!!s&&e.isActive(s,i)}}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||t)(x(Lo),x(pn),x(s1),x(Ss),x(Vr,8))};static \u0275dir=et({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(1&i&&_i(s,Vr,5),2&i){let r;pt(r=gt())&&(o.links=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[xi]})}return t})();class $${}let xje=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,o,s,r){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(li(e=>e instanceof ll),P2(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=o3(s.providers,e,`Route: ${s.path}`));const r=s._injector??e,a=s._loadedInjector??r;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(r,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Co(o).pipe(A2())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Et(null);const s=o.pipe(As(r=>null===r?Et(void 0):(i._loadedRoutes=r.routes,i._loadedInjector=r.injector,this.processRoutes(r.injector??e,r.routes))));return i.loadComponent&&!i._loadedComponent?Co([s,this.loader.loadComponent(i)]).pipe(A2()):s})}static \u0275fac=function(i){return new(i||t)(Be(Lo),Be(WD),Be(xs),Be($$),Be(iw))};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const rw=new Je("");let G$=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,i,o,s,r={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=r,r.scrollPositionRestoration||="disabled",r.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Up?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ll?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof lu&&e.code===$4.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _$&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _$(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){$7()};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();function b0(t,n){return{\u0275kind:t,\u0275providers:n}}function U$(){const t=$(ri);return n=>{const e=t.get(lr);if(n!==e.components[0])return;const i=t.get(Lo),o=t.get(W$);1===t.get(aw)&&i.initialNavigation(),t.get(Z$,null,ei.Optional)?.setUpPreloading(),t.get(rw,null,ei.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const W$=new Je("",{factory:()=>new xe}),aw=new Je("",{providedIn:"root",factory:()=>1}),Z$=new Je("");function kje(t){return b0(0,[{provide:Z$,useExisting:xje},{provide:$$,useExisting:t}])}function Vje(t){return b0(9,[{provide:F$,useValue:Tje},{provide:k$,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const Hje=[__,{provide:au,useClass:R4},Lo,Zp,{provide:v1,useFactory:function B$(t){return t.routerState.root},deps:[Lo]},iw,[]];let aa=(()=>{class t{constructor(){}static forRoot(e,i){return{ngModule:t,providers:[Hje,[],{provide:pu,multi:!0,useValue:e},[],i?.errorHandler?{provide:sw,useValue:i.errorHandler}:[],{provide:_u,useValue:i||{}},i?.useHash?{provide:ud,useClass:Nie}:{provide:ud,useClass:WP},{provide:rw,useFactory:()=>{const t=$(pI),n=$(cn),e=$(_u),i=$(Q4),o=$(au);return e.scrollOffset&&t.setOffset(e.scrollOffset),new G$(o,i,t,n,e)}},i?.preloadingStrategy?kje(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Uje(i):[],i?.bindToComponentInputs?b0(8,[M$,{provide:Z4,useExisting:M$}]).\u0275providers:[],i?.enableViewTransitions?Vje().\u0275providers:[],[{provide:j$,useFactory:U$},{provide:Uh,multi:!0,useExisting:j$}]]}}static forChild(e){return{ngModule:t,providers:[{provide:pu,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({})}return t})();function Uje(t){return["disabled"===t.initialNavigation?b0(3,[{provide:Bh,multi:!0,useFactory:()=>{const n=$(Lo);return()=>{n.setUpLocationChangeListener()}}},{provide:aw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?b0(2,[{provide:aw,useValue:0},{provide:Bh,multi:!0,deps:[ri],useFactory:n=>{const e=n.get(Oie,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=n.get(Lo),s=n.get(W$);V$(o,()=>{i(!0)}),n.get(Q4).afterPreactivation=()=>(i(!0),s.closed?Et(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const j$=new Je("");function lw(t,n){const e="object"==typeof n;return new Promise((i,o)=>{const s=new ce({next:r=>{i(r),s.unsubscribe()},error:o,complete:()=>{e?i(n.defaultValue):o(new kp)}});t.subscribe(s)})}const jje=js(t=>function(e=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function X$(t,n){const{first:e,each:i,with:o=Xje,scheduler:s=n??b2,meta:r=null}=ZI(t)?{first:t}:"number"==typeof t?{each:t}:t;if(null==e&&null==i)throw new TypeError("No timeout provided.");return hi((a,l)=>{let c,h,p=null,f=0;const v=C=>{h=d0(l,s,()=>{try{c.unsubscribe(),Wo(o({meta:r,lastValue:p,seen:f})).subscribe(l)}catch(E){l.error(E)}},C)};c=a.subscribe(Pi(l,C=>{h?.unsubscribe(),f++,l.next(p=C),i>0&&v(i)},void 0,void 0,()=>{h?.closed||h?.unsubscribe(),p=null})),!f&&v(null!=e?"number"==typeof e?e:+e-s.now():i)})}function Xje(t){throw new jje(t)}const Kje=["*"];function K$(...t){return t.reduce((n,e)=>{e??={};const i=Object.keys(e);for(const o of i){const s=n[o],r=e[o];n[o]=q$(s)&&q$(r)?K$(s,r):r}return n},{})}function q$(t){return t instanceof Object&&t.constructor===Object}function Y$(t,n=2){const e=t.getBoundingClientRect(),i=document.elementFromPoint(e.left,e.top),o=document.elementFromPoint(e.right,e.bottom),s=!!i&&i!==t&&!Q$(i,t),r=!!o&&o!==t&&!Q$(o,t);return 0===n?s:1===n?r:s||r}function Q$(t,n){return t.contains(n)||n.contains(t)}function J$(t,n=2){const e=window.innerWidth,i=window.innerHeight,o=t.getBoundingClientRect(),s=o.left>=0&&o.right<=e,r=o.top>=0,a=o.bottom<=i;return 0===n?r&&s:1===n?a&&s:r&&a&&s}class gu{static getVisibleSection(n,e){return gu._isHeightOverflowing(n,e)?gu._getOverlap(n,e):n}static isHeightOverflowing(n,e){return gu._isHeightOverflowing(n instanceof HTMLElement?n.getBoundingClientRect():n,e instanceof HTMLElement?e.getBoundingClientRect():e)}static _isHeightOverflowing(n,e){return e.height<n.height}static _getOverlap(n,e){const i=Math.max(n.top,e.top),o=Math.max(n.left,e.left),s=Math.min(n.right,e.right),r=Math.min(n.bottom,e.bottom);return new DOMRect(o,i,s-o,r-i)}}function eG(t){if(!(t instanceof HTMLElement||t instanceof ShadowRoot))return null;const n=t instanceof ShadowRoot?t.host:t,e=getComputedStyle(n);return n.scrollHeight>n.clientHeight&&["scroll","auto"].includes(e.overflowY)?n:eG(n.parentNode)}class J4{static getScrollContainer(n,e){return"string"==typeof e?document.documentElement.querySelector(e):e instanceof HTMLElement?e:eG(n)}}let tG=(()=>{class t{constructor(){this.platformId=$(Ma),this.isBrowser=Vl(this.platformId),this.document=$(Xn),this.window=this.document.defaultView}ensureVisible(e,i){this.scrollOptions=i,this.anchorEl=e;const o=i.smoothScroll&&this.isBrowser?"smooth":"auto",r=J4.getScrollContainer(e,this.scrollOptions.scrollContainer)??document.documentElement;if(gu.isHeightOverflowing(e,r))e.scrollIntoView({block:"start",inline:"start",behavior:o});else if(i.center&&!("safari"in this.window))e.scrollIntoView({block:"center",inline:"center",behavior:o});else if(!J$(e,1)||Y$(e,1))e.scrollIntoView({block:"end",inline:"nearest",behavior:o});else{if(J$(e,0)&&!Y$(e,0))return Promise.resolve();e.scrollIntoView({block:"start",inline:"nearest",behavior:o})}return"smooth"===o?lw(this.waitForScrollFinish$):Promise.resolve()}get waitForScrollFinish$(){return Dn(J4.getScrollContainer(this.anchorEl,this.scrollOptions.scrollContainer)??document,"scroll").pipe(X$({each:75,with:()=>Et(void 0)}),Pr(50),Tt(()=>{}))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qje=(()=>{class t{constructor(){this.resizeElSubject=new xe,this.platformId=$(Ma),this.isResizeObserverSupported=Vl(this.platformId)&&!!ResizeObserver,this.document=$(Xn),this.window=this.document.defaultView,this.resize$=u0(this.resizeElSubject,Dn(this.window,"resize")).pipe(Pr(10))}observeElement(e){this.isResizeObserverSupported&&!this.resizeObserver&&(this.resizeObserver=new ResizeObserver(()=>this.resizeElSubject.next())),this.resizeObserver?.observe(e)}unobserveElement(e){this.resizeObserver?.unobserve(e)}disconnect(){this.resizeObserver?.disconnect(),this.resizeObserver=void 0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yje=(()=>{class t{constructor(){this.isSpotlightClosed=!1,this.rendererFactory=$(o0),this.renderer=this.rendererFactory.createRenderer(null,null),this.resizeObserverService=$(qje),this.scrollingService=$(tG),this.document=$(Xn)}show(e,i){this.targetHtmlElement&&this.resizeObserverService.unobserveElement(this.targetHtmlElement),this.targetHtmlElement=e.nativeElement,this.step=i,this.resizeObserverService.observeElement(this.targetHtmlElement),this.backdropElements||(this.backdropElements=this.createBackdropElements(),this.subscribeToResizeEvents()),this.isSpotlightClosed=!1,this.setBackdropPosition()}closeSpotlight(){if(!this.backdropElements)return;const e=this.targetHtmlElement.getBoundingClientRect(),i=e.left+e.width/2,o=e.top+e.height/2,s={top:o,right:i,bottom:o,left:i,width:0,height:0};this.isSpotlightClosed=!0,this.setBackdropPosition(s)}setBackdropPosition(e=null){const i=this.document.documentElement,o=J4.getScrollContainer(this.targetHtmlElement,this.step.scrollContainer)??i,s=e??this.targetHtmlElement.getBoundingClientRect(),r=o.getBoundingClientRect(),a=gu.getVisibleSection(s,r),l=i.scrollHeight,c=i.scrollWidth,h=this.document.defaultView,p=h.scrollX,f=h.scrollY,v=this.isSpotlightClosed?0:this.step.backdropConfig?.offset??0,I=[{width:a.left+p-v,height:l,top:0,left:0},{width:a.width+2*v,height:a.top+f-v,top:0,left:a.left+p-v},{width:a.width+2*v,height:l-(a.bottom+f)-v,top:a.bottom+f+v,left:a.left+p-v},{width:c-(a.right+p)-v,height:l,top:0,left:a.right+p+v}];for(let k=0;k<I.length;k++){const R=this.createBackdropStyles(I[k]);this.applyStyles(R,this.backdropElements[k])}}subscribeToResizeEvents(){this.resizeSubscription=this.resizeObserverService.resize$.subscribe(()=>{this.setBackdropPosition(),this.step.disableScrollToAnchor||this.scrollingService.ensureVisible(this.targetHtmlElement,{center:this.step.centerAnchorOnScroll,smoothScroll:!1})})}close(){this.backdropElements&&(this.resizeObserverService.unobserveElement(this.targetHtmlElement),this.removeBackdropElement(),this.resizeSubscription.unsubscribe())}disconnectResizeObserver(){this.resizeObserverService.disconnect()}removeBackdropElement(){this.backdropElements.forEach(e=>this.renderer.removeChild(this.parentContainer,e)),this.backdropElements=void 0}applyStyles(e,i){for(const o of Object.keys(e))this.renderer.setStyle(i,o,e[o])}createBackdropStyles(e){const i=this.step.backdropConfig,o={...e,width:Math.max(e.width,0),height:Math.max(e.height,0)};return{position:"absolute",width:`${o.width}px`,height:`${o.height}px`,top:`${o.top}px`,left:`${o.left}px`,backgroundColor:i?.backgroundColor??"rgba(0, 0, 0, 0.7)",zIndex:i?.zIndex??"101"}}createBackdropElement(){const e=this.renderer.createElement("div");return this.renderer.addClass(e,"ngx-ui-tour_backdrop"),this.renderer.appendChild(this.parentContainer,e),e}createBackdropElements(){return Array.from({length:4}).map(()=>this.createBackdropElement())}get parentContainer(){const e=this.step.backdropConfig?.parentContainer;return e instanceof HTMLElement?e:"string"==typeof e?this.document.documentElement.querySelector(e)??this.document.body:this.document.body}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qje=(()=>{class t{constructor(){this.rendererFactory=$(o0),this.renderer=this.rendererFactory.createRenderer(null,null)}removeListener(){this.unListenToAnchorClickFn&&(this.unListenToAnchorClickFn(),this.unListenToAnchorClickFn=void 0)}addListener(e,i){this.unListenToAnchorClickFn=this.renderer.listen(e,"click",i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Jje=(()=>{class t{constructor(){this.isEnabled=!1,this.platformId=$(Ma),this.isBrowser=Vl(this.platformId),this.rendererFactory=$(o0),this.renderer=this.rendererFactory.createRenderer(null,null)}enable(e){!this.isBrowser||this.isEnabled||(this.userScrollContainer=e,this.toggleOverflow(),this.isEnabled=!0)}disable(){this.isEnabled&&(this.toggleOverflow(),this.isEnabled=!1)}toggleOverflow(){const e=J4.getScrollContainer(null,this.userScrollContainer)??document.documentElement;this.isEnabled?this.renderer.removeStyle(e,"overflow"):this.renderer.setStyle(e,"overflow","hidden")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var za=function(t){return t[t.OFF=0]="OFF",t[t.ON=1]="ON",t[t.PAUSED=2]="PAUSED",t}(za||{}),fu=function(t){return t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t}(fu||{});const eXe={disableScrollToAnchor:!1,prevBtnTitle:"Prev",nextBtnTitle:"Next",endBtnTitle:"End",enableBackdrop:!1,isAsync:!1,isOptional:!1,delayAfterNavigation:100,delayBeforeStepShow:0,nextOnAnchorClick:!1,duplicateAnchorHandling:"error",centerAnchorOnScroll:!0,disablePageScrolling:!0,smoothScroll:!0,allowUserInitiatedNavigation:!1,stepDimensions:{minWidth:"250px",maxWidth:"280px",width:"auto"},showProgress:!0};let nG=(()=>{class t{constructor(){this.stepShow$=new xe,this.stepHide$=new xe,this.initialize$=new xe,this.start$=new xe,this.end$=new xe,this.pause$=new xe,this.resume$=new xe,this.anchorRegister$=new xe,this.anchorUnregister$=new xe,this.events$=u0(this.stepShow$.pipe(Tt(e=>({name:"stepShow",value:e}))),this.stepHide$.pipe(Tt(e=>({name:"stepHide",value:e}))),this.initialize$.pipe(Tt(e=>({name:"initialize",value:e}))),this.start$.pipe(Tt(e=>({name:"start",value:e}))),this.end$.pipe(Tt(e=>({name:"end",value:e}))),this.pause$.pipe(Tt(e=>({name:"pause",value:e}))),this.resume$.pipe(Tt(e=>({name:"resume",value:e}))),this.anchorRegister$.pipe(Tt(e=>({name:"anchorRegister",value:e}))),this.anchorUnregister$.pipe(Tt(e=>({name:"anchorUnregister",value:e})))),this.steps=[],this.anchors={},this.status=za.OFF,this.isHotKeysEnabled=!0,this.direction=fu.Forwards,this.waitingForScroll=!1,this.navigationStarted=!1,this.router=$(Lo),this.backdrop=$(Yje),this.anchorClickService=$(Qje),this.scrollBlockingService=$(Jje),this.scrollingService=$(tG)}initialize(e,i){this.status!==za.ON?e&&e.length>0&&(this.status=za.OFF,this.steps=e.map(o=>K$(eXe,this.userDefaults,i,o)),this.validateSteps(),this.initialize$.next(this.steps),this.subscribeToNavigationStartEvent()):console.warn("Can not re-initialize the UI tour while it's still active")}setDefaults(e){this.userDefaults=e}getDefaults(){return this.userDefaults}validateSteps(){for(const e of this.steps)if(e.isAsync&&e.isOptional&&!e.asyncStepTimeout)throw new Error(`Tour step with anchor id "${e.anchorId}" can only be both "async" and "optional" when "asyncStepTimeout" is specified!`)}subscribeToNavigationStartEvent(){this.router.events.pipe(li(e=>e instanceof Up),Te(this.end$)).subscribe(e=>{this.currentStep&&!this.navigationStarted&&("popstate"===e.navigationTrigger||!this.currentStep.allowUserInitiatedNavigation)&&this.end()})}disableHotkeys(){this.isHotKeysEnabled=!1}enableHotkeys(){this.isHotKeysEnabled=!0}start(){this.status!==za.ON?this.startAt(0):console.warn("tourService.start() called while the tour is already running.")}startAt(e){this.status=za.ON,this.goToStep(this.loadStep(e)),this.start$.next()}end(){this.waitingForScroll||this.status!==za.OFF&&(this.status=za.OFF,this.disableTour(),this.currentStep=void 0,this.direction=fu.Forwards,this.end$.next())}pause(){this.status=za.PAUSED,this.disableTour(),this.pause$.next()}disableTour(){this.hideStep(this.currentStep),this.anchorClickService.removeListener(),this.backdrop.close(),this.backdrop.disconnectResizeObserver(),this.scrollBlockingService.disable()}resume(){this.status=za.ON,this.showStep(this.currentStep),this.resume$.next()}toggle(e){e?this.currentStep?this.pause():this.resume():this.currentStep?this.end():this.start()}next(){this.waitingForScroll||(this.direction=fu.Forwards,this.hasNext(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.nextStep??this.getStepIndex(this.currentStep)+1)))}getStepIndex(e){const i=this.steps.indexOf(e);return i<0?0:i}hasNext(e){return e?void 0!==e.nextStep||this.getStepIndex(e)<this.steps.length-1&&!this.isNextOptionalAnchorMissing(e):(console.warn("Can't get next step. No currentStep."),!1)}isNextOptionalAnchorMissing(e){for(let o=this.getStepIndex(e)+1;o<this.steps.length;o++){const s=this.steps[o];if(!s.isOptional||this.anchors[s.anchorId])return!1}return!0}prev(){this.waitingForScroll||(this.direction=fu.Backwards,this.hasPrev(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.prevStep??this.getStepIndex(this.currentStep)-1)))}hasPrev(e){return e?void 0!==e.prevStep||this.getStepIndex(e)>0&&!this.isPrevOptionalAnchorMising(e):(console.warn("Can't get previous step. No currentStep."),!1)}isPrevOptionalAnchorMising(e){for(let o=this.getStepIndex(e)-1;o>-1;o--){const s=this.steps[o];if(!s.isOptional||this.anchors[s.anchorId])return!1}return!0}goto(e){this.goToStep(this.loadStep(e))}register(e,i){if(e){if(this.anchors[e])switch(this.findStepByAnchorId(e)?.duplicateAnchorHandling??this.userDefaults?.duplicateAnchorHandling??"error"){case"error":throw new Error(`Tour anchor with id "${e}" already registered!`);case"registerFirst":return}this.anchors[e]=i,this.anchorRegister$.next(e)}}findStepByAnchorId(e){return this.steps.find(i=>i.anchorId===e)}unregister(e){e&&(delete this.anchors[e],this.anchorUnregister$.next(e))}getStatus(){return this.status}isHotkeysEnabled(){return this.isHotKeysEnabled}goToStep(e){if(!e)return console.warn("Can't go to non-existent step"),void this.end();this.currentStep&&(this.backdrop.closeSpotlight(),this.hideStep(this.currentStep)),this.anchorClickService.removeListener(),null!=e.route?this.navigateToRouteAndSetStep(e):this.setCurrentStepAsync(e)}listenToOnAnchorClick(e){e.nextOnAnchorClick&&this.anchorClickService.addListener(this.anchors[e.anchorId].element.nativeElement,()=>this.next())}navigateToRouteAndSetStep(e){var i=this;return V(function*(){const o="string"==typeof e.route?e.route:i.router.createUrlTree(e.route);if(i.router.isActive(o,{paths:"exact",matrixParams:"exact",queryParams:"subset",fragment:"exact"}))return void i.setCurrentStepAsync(e);i.navigationStarted=!0;const a=yield i.router.navigateByUrl(o);i.navigationStarted=!1,a?i.setCurrentStepAsync(e,e.delayAfterNavigation):(console.warn("Navigation to route failed: ",e.route),i.end())})()}loadStep(e){return"number"==typeof e?this.steps[e]:this.steps.find(i=>i.stepId===e)}setCurrentStep(e){this.currentStep=e,this.showStep(this.currentStep)}setCurrentStepAsync(e,i=0){i=i||e.delayBeforeStepShow,setTimeout(()=>this.setCurrentStep(e),i)}showStep(e,i=!1){var o=this;return V(function*(){const s=o.anchors[e&&e.anchorId];if(!s){if(e.isAsync&&!i){let r=o.anchorRegister$.pipe(li(a=>a===e.anchorId),ut(),I1(0));return e.asyncStepTimeout&&(r=r.pipe(X$({each:e.asyncStepTimeout,with:()=>Et(null)}))),void r.subscribe(()=>o.showStep(e,!0))}return e.isOptional?void o[o.direction===fu.Forwards?"next":"prev"]():(console.warn(`Can't attach to unregistered anchor with id "${e.anchorId}"`),void o.end())}o.listenToOnAnchorClick(e),o.waitingForScroll=!0,yield o.scrollToAnchor(e),o.waitingForScroll=!1,s.showTourStep(e),o.toggleBackdrop(e),o.togglePageScrolling(e),o.stepShow$.next({step:e,direction:o.direction})})()}hideStep(e){const i=this.anchors[e&&e.anchorId];i&&(i.hideTourStep(),this.stepHide$.next({step:e,direction:this.direction}))}scrollToAnchor(e){return e.disableScrollToAnchor?Promise.resolve():this.scrollingService.ensureVisible(this.anchors[e?.anchorId].element.nativeElement,{center:e.centerAnchorOnScroll,smoothScroll:e.smoothScroll,scrollContainer:e.scrollContainer})}toggleBackdrop(e){e.enableBackdrop?this.backdrop.show(this.anchors[e?.anchorId].element,e):this.backdrop.close()}togglePageScrolling(e){e.disablePageScrolling?this.scrollBlockingService.enable(e.scrollContainer):this.scrollBlockingService.disable()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tXe=(()=>{class t{constructor(){this.tourService=$(nG)}onEscapeKey(){this.tourService.getStatus()===za.ON&&this.tourService.isHotkeysEnabled()&&this.tourService.end()}onArrowRightKey(){const e=this.tourService.currentStep;this.tourService.getStatus()===za.ON&&this.tourService.hasNext(this.tourService.currentStep)&&this.tourService.isHotkeysEnabled()&&!e?.nextOnAnchorClick&&this.tourService.next()}onArrowLeftKey(){this.tourService.getStatus()===za.ON&&this.tourService.hasPrev(this.tourService.currentStep)&&this.tourService.isHotkeysEnabled()&&this.tourService.prev()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["tour-hotkey-listener"]],hostBindings:function(i,o){1&i&&T("keydown.Escape",function(){return o.onEscapeKey()},0,t0)("keydown.ArrowRight",function(){return o.onArrowRightKey()},!1,t0)("keydown.ArrowLeft",function(){return o.onArrowLeftKey()},!1,t0)},ngContentSelectors:Kje,decls:1,vars:0,template:function(i,o){1&i&&(Ys(),ks(0))},encapsulation:2,changeDetection:0})}}return t})();function iXe(t,n){if(1&t){const e=F();d(0,"div",1)(1,"h5"),A(2),u(),d(3,"button",10),T("click",function(){return b(e),S(g().tourService.end())}),u()()}if(2&t){g();const e=Jh(0);_(2),oe(null==e?null:e.title)}}function oXe(t,n){if(1&t&&(d(0,"div",7),A(1),u()),2&t){const e=g(),i=Jh(0);_(),Sa("",e.tourService.steps.indexOf(i)+1," / ",e.tourService.steps.length,"")}}function sXe(t,n){if(1&t){const e=F();d(0,"button",11),T("click",function(){return b(e),S(g().tourService.next())}),A(1),qu(),d(2,"svg",5),w(3,"path",12),u()()}if(2&t){g();const e=Jh(0);_(),Le(" ",null==e?null:e.nextBtnTitle," ")}}function rXe(t,n){if(1&t){const e=F();d(0,"button",13),T("click",function(){return b(e),S(g().tourService.end())}),A(1),u()}if(2&t){g();const e=Jh(0);_(),Le(" ",null==e?null:e.endBtnTitle," ")}}const aXe=["tourStep"];function lXe(t,n){1&t&&w(0,"tour-default-step-template",1),2&t&&m("step",n.step)}let dc=(()=>{class t extends nG{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iG=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uc=(()=>{class t{constructor(){this.isActive=Q1(!1),this.element=$(pn),this.tourService=$(dc),this.tourStepTemplate=$(iG),this.popoverDirective=$(Da,{host:!0}),this.popoverDirective.autoClose=!1,this.popoverDirective.triggers="",this.popoverDirective.toggle=()=>{}}ngOnInit(){this.tourService.register(this.tourAnchor,this)}ngOnDestroy(){this.tourService.unregister(this.tourAnchor)}showTourStep(e){var i=this;return V(function*(){i.popoverDirective.isOpen()&&(yield lw(i.popoverDirective.hidden)),i.isActive.set(!0),i.popoverDirective.ngbPopover=i.tourStepTemplate.template,e.useLegacyTitle&&(i.popoverDirective.popoverTitle=e.title),i.popoverDirective.container="body",i.popoverDirective.popoverClass=`tour-step ${e.popoverClass??""}`,i.popoverDirective.placement=(e.placement||"auto").replace("before","left").replace("after","right").replace("below","bottom").replace("above","top");const s=e.backdropConfig?.offset;s&&(i.popoverDirective.popperOptions=r=>i.setOffsetModifier(r,s)),i.popoverDirective.positionTarget=i.element.nativeElement,i.popoverDirective.open({step:e})})()}setOffsetModifier(e,i){const o=e.modifiers?.find(r=>"offset"===r.name&&r.options);return o&&(o.options.offset=[0,i+10]),e}hideTourStep(){this.isActive.set(!1),this.popoverDirective.close()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["","tourAnchor",""]],hostVars:2,hostBindings:function(i,o){2&i&&Ce("touranchor--is-active",o.isActive())},inputs:{tourAnchor:"tourAnchor"},features:[zh([Da])]})}}return t})(),cXe=(()=>{class t{constructor(){this.step=hE.required(),this.tourService=$(dc)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["tour-default-step-template"]],inputs:{step:[1,"step"]},decls:12,vars:16,consts:[[1,"main-container"],[1,"title-container"],[1,"card-text",3,"innerHTML"],[1,"buttons"],[1,"btn","btn-sm","btn-outline-secondary","prev",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16"],["d","M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"],[1,"progress"],[1,"btn","btn-sm","btn-outline-primary","next"],[1,"btn","btn-sm","btn-outline-primary"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"btn","btn-sm","btn-outline-primary","next",3,"click"],["d","M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(i,o){if(1&i){const s=F();rC(0),d(1,"div",0),y(2,iXe,4,1,"div",1),w(3,"p",2),d(4,"div",3)(5,"button",4),T("click",function(){return b(s),S(o.tourService.prev())}),qu(),d(6,"svg",5),w(7,"path",6),u(),A(8),u(),y(9,oXe,2,2,"div",7)(10,sXe,4,1,"button",8)(11,rXe,2,1,"button",9),u()()}if(2&i){const s=function wD(t){return Rs("NgLet"),sC(vn(),Ne(),Ks(),t),t}(o.step());_(),qr("width",null==s.stepDimensions?null:s.stepDimensions.width)("min-width",null==s.stepDimensions?null:s.stepDimensions.minWidth)("max-width",null==s.stepDimensions?null:s.stepDimensions.maxWidth),_(),N(null!=s&&s.useLegacyTitle||null==s||!s.title?-1:2),_(),m("innerHTML",null==s?null:s.content,vo),_(),Ce("no-progress",!s.showProgress),_(),m("disabled",!o.tourService.hasPrev(s)),_(3),Le(" ",null==s?null:s.prevBtnTitle," "),_(),N(s.showProgress?9:-1),_(),N(o.tourService.hasNext(s)&&!s.nextOnAnchorClick?10:-1),_(),N(o.tourService.hasNext(s)?-1:11)}},styles:[".main-container[_ngcontent-%COMP%]{padding:.5rem 1rem .75rem}.title-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem;gap:.25rem}.title-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0;line-height:1.5}.buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:8px}.buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:fit-content}.buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{justify-self:flex-end}.buttons[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00000073;white-space:nowrap}.buttons.no-progress[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.buttons[_ngcontent-%COMP%]   .btn.prev[_ngcontent-%COMP%]{padding-left:.25rem}.buttons[_ngcontent-%COMP%]   .btn.next[_ngcontent-%COMP%]{padding-right:.25rem}"],changeDetection:0})}}return t})(),oG=(()=>{class t extends tXe{constructor(){super(...arguments),this.tourStepTemplateService=$(iG),this.tourService=$(dc)}ngAfterContentInit(){this.tourStepTemplateService.template=this.stepTemplate||this.stepTemplateContent||this.defaultTourStepTemplate}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275cmp=ke({type:t,selectors:[["tour-step-template"]],contentQueries:function(i,o,s){if(1&i&&_i(s,nn,5),2&i){let r;pt(r=gt())&&(o.stepTemplateContent=r.first)}},viewQuery:function(i,o){if(1&i&&dn(aXe,7,nn),2&i){let s;pt(s=gt())&&(o.defaultTourStepTemplate=s.first)}},inputs:{stepTemplate:"stepTemplate"},features:[st],decls:2,vars:0,consts:[["tourStep",""],[3,"step"]],template:function(i,o){1&i&&y(0,lXe,1,1,"ng-template",null,0,zt)},dependencies:[cXe],styles:[".tour-step .popover-body{padding:0}"],changeDetection:0})}}return t})(),hc=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({})}}return t})();class sG extends xe{constructor(n=1/0,e=1/0,i=r9){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:r}=this;e||(i.push(n),!o&&i.push(s.now()+r)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:o}=this,s=o.slice();for(let r=0;r<s.length&&!n.closed;r+=i?1:2)n.next(s[r]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,s=(o?1:2)*n;if(n<1/0&&s<i.length&&i.splice(0,i.length-s),!o){const r=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=r;l+=2)a=l;a&&i.splice(0,a+1)}}}function cw(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new ce({next:()=>{i.unsubscribe(),t()}});return Wo(n(...e)).subscribe(i)}const rG=function hXe(t,n){for(var e=-1,i=null==t?0:t.length,o=Array(i);++e<i;)o[e]=n(t[e],e,t);return o},aG=function gXe(t,n){return t===n||t!=t&&n!=n},em=function fXe(t,n){for(var e=t.length;e--;)if(aG(t[e][0],n))return e;return-1};var vXe=Array.prototype.splice;function mu(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}mu.prototype.clear=function _Xe(){this.__data__=[],this.size=0},mu.prototype.delete=function CXe(t){var n=this.__data__,e=em(n,t);return!(e<0||(e==n.length-1?n.pop():vXe.call(n,e,1),--this.size,0))},mu.prototype.get=function TXe(t){var n=this.__data__,e=em(n,t);return e<0?void 0:n[e][1]},mu.prototype.has=function bXe(t){return em(this.__data__,t)>-1},mu.prototype.set=function EXe(t,n){var e=this.__data__,i=em(e,t);return i<0?(++this.size,e.push([t,n])):e[i][1]=n,this};const tm=mu,lG="object"==typeof global&&global&&global.Object===Object&&global;var FXe="object"==typeof self&&self&&self.Object===Object&&self;const S0=lG||FXe||Function("return this")(),E0=S0.Symbol;var cG=Object.prototype,VXe=cG.hasOwnProperty,HXe=cG.toString,Yp=E0?E0.toStringTag:void 0;var UXe=Object.prototype.toString;var dG=E0?E0.toStringTag:void 0;const Zd=function KXe(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":dG&&dG in Object(t)?function $Xe(t){var n=VXe.call(t,Yp),e=t[Yp];try{t[Yp]=void 0;var i=!0}catch{}var o=HXe.call(t);return i&&(n?t[Yp]=e:delete t[Yp]),o}(t):function WXe(t){return UXe.call(t)}(t)},Qp=function qXe(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},uG=function tKe(t){if(!Qp(t))return!1;var n=Zd(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n};var t,nKe=S0["__core-js_shared__"],hG=(t=/[^.]+$/.exec(nKe&&nKe.keys&&nKe.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var rKe=Function.prototype.toString;const jd=function aKe(t){if(null!=t){try{return rKe.call(t)}catch{}try{return t+""}catch{}}return""};var cKe=/^\[object .+?Constructor\]$/,pKe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const fKe=function gKe(t){return!(!Qp(t)||function iKe(t){return!!hG&&hG in t}(t))&&(uG(t)?pKe:cKe).test(jd(t))},Xd=function CKe(t,n){var e=function mKe(t,n){return t?.[n]}(t,n);return fKe(e)?e:void 0},Jp=Xd(S0,"Map"),eg=Xd(Object,"create");var yKe=Object.prototype.hasOwnProperty;var IKe=Object.prototype.hasOwnProperty;function vu(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}vu.prototype.clear=function wKe(){this.__data__=eg?eg(null):{},this.size=0},vu.prototype.delete=function SKe(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},vu.prototype.get=function NKe(t){var n=this.__data__;if(eg){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return yKe.call(n,t)?n[t]:void 0},vu.prototype.has=function xKe(t){var n=this.__data__;return eg?void 0!==n[t]:IKe.call(n,t)},vu.prototype.set=function FKe(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=eg&&void 0===n?"__lodash_hash_undefined__":n,this};const _G=vu,nm=function GKe(t,n){var e=t.__data__;return function HKe(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?e["string"==typeof n?"string":"hash"]:e.map};function Cu(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}Cu.prototype.clear=function zKe(){this.size=0,this.__data__={hash:new _G,map:new(Jp||tm),string:new _G}},Cu.prototype.delete=function BKe(t){var n=nm(this,t).delete(t);return this.size-=n?1:0,n},Cu.prototype.get=function WKe(t){return nm(this,t).get(t)},Cu.prototype.has=function jKe(t){return nm(this,t).has(t)},Cu.prototype.set=function KKe(t,n){var e=nm(this,t),i=e.size;return e.set(t,n),this.size+=e.size==i?0:1,this};const uw=Cu;function Mu(t){var n=this.__data__=new tm(t);this.size=n.size}Mu.prototype.clear=function OXe(){this.__data__=new tm,this.size=0},Mu.prototype.delete=function NXe(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Mu.prototype.get=function PXe(t){return this.__data__.get(t)},Mu.prototype.has=function xXe(t){return this.__data__.has(t)},Mu.prototype.set=function QKe(t,n){var e=this.__data__;if(e instanceof tm){var i=e.__data__;if(!Jp||i.length<199)return i.push([t,n]),this.size=++e.size,this;e=this.__data__=new uw(i)}return e.set(t,n),this.size=e.size,this};const eqe=Mu;var iqe=function(){try{var t=Xd(Object,"defineProperty");return t({},"",{}),t}catch{}}();const im=iqe,pG=function oqe(t,n,e){"__proto__"==n&&im?im(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e};var rqe=Object.prototype.hasOwnProperty;const gG=function aqe(t,n,e){var i=t[n];(!rqe.call(t,n)||!aG(i,e)||void 0===e&&!(n in t))&&pG(t,n,e)},tg=function lqe(t,n,e,i){var o=!e;e||(e={});for(var s=-1,r=n.length;++s<r;){var a=n[s],l=i?i(e[a],t[a],a,e,t):void 0;void 0===l&&(l=t[a]),o?pG(e,a,l):gG(e,a,l)}return e},Kd=function uqe(t){return null!=t&&"object"==typeof t},fG=function _qe(t){return Kd(t)&&"[object Arguments]"==Zd(t)};var mG=Object.prototype,pqe=mG.hasOwnProperty,gqe=mG.propertyIsEnumerable,fqe=fG(function(){return arguments}())?fG:function(t){return Kd(t)&&pqe.call(t,"callee")&&!gqe.call(t,"callee")};const vG=fqe,qd=Array.isArray;var CG="object"==typeof exports&&exports&&!exports.nodeType&&exports,MG=CG&&"object"==typeof module&&module&&!module.nodeType&&module,TG=MG&&MG.exports===CG?S0.Buffer:void 0;const wG=(TG?TG.isBuffer:void 0)||function vqe(){return!1};var Sqe=/^(?:0|[1-9]\d*)$/;const Aqe=function Eqe(t,n){var e=typeof t;return!!(n=n??9007199254740991)&&("number"==e||"symbol"!=e&&Sqe.test(t))&&t>-1&&t%1==0&&t<n},bG=function yqe(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var ho={};ho["[object Float32Array]"]=ho["[object Float64Array]"]=ho["[object Int8Array]"]=ho["[object Int16Array]"]=ho["[object Int32Array]"]=ho["[object Uint8Array]"]=ho["[object Uint8ClampedArray]"]=ho["[object Uint16Array]"]=ho["[object Uint32Array]"]=!0,ho["[object Arguments]"]=ho["[object Array]"]=ho["[object ArrayBuffer]"]=ho["[object Boolean]"]=ho["[object DataView]"]=ho["[object Date]"]=ho["[object Error]"]=ho["[object Function]"]=ho["[object Map]"]=ho["[object Number]"]=ho["[object Object]"]=ho["[object RegExp]"]=ho["[object Set]"]=ho["[object String]"]=ho["[object WeakMap]"]=!1;const hw=function tYe(t){return function(n){return t(n)}};var SG="object"==typeof exports&&exports&&!exports.nodeType&&exports,ng=SG&&"object"==typeof module&&module&&!module.nodeType&&module,_w=ng&&ng.exports===SG&&lG.process;const Tu=function(){try{return ng&&ng.require&&ng.require("util").types||_w&&_w.binding&&_w.binding("util")}catch{}}();var EG=Tu&&Tu.isTypedArray;const sYe=EG?hw(EG):function Jqe(t){return Kd(t)&&bG(t.length)&&!!ho[Zd(t)]};var aYe=Object.prototype.hasOwnProperty;const AG=function lYe(t,n){var e=qd(t),i=!e&&vG(t),o=!e&&!i&&wG(t),s=!e&&!i&&!o&&sYe(t),r=e||i||o||s,a=r?function cqe(t,n){for(var e=-1,i=Array(t);++e<t;)i[e]=n(e);return i}(t.length,String):[],l=a.length;for(var c in t)(n||aYe.call(t,c))&&(!r||!("length"==c||o&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Aqe(c,l)))&&a.push(c);return a};var cYe=Object.prototype;const pw=function dYe(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||cYe)},OG=function uYe(t,n){return function(e){return t(n(e))}},_Ye=OG(Object.keys,Object);var gYe=Object.prototype.hasOwnProperty;const yG=function vYe(t){return null!=t&&bG(t.length)&&!uG(t)},gw=function CYe(t){return yG(t)?AG(t):function fYe(t){if(!pw(t))return _Ye(t);var n=[];for(var e in Object(t))gYe.call(t,e)&&"constructor"!=e&&n.push(e);return n}(t)};var EYe=Object.prototype.hasOwnProperty;const OYe=function AYe(t){if(!Qp(t))return function wYe(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}(t);var n=pw(t),e=[];for(var i in t)"constructor"==i&&(n||!EYe.call(t,i))||e.push(i);return e},fw=function yYe(t){return yG(t)?AG(t,!0):OYe(t)};var NG="object"==typeof exports&&exports&&!exports.nodeType&&exports,DG=NG&&"object"==typeof module&&module&&!module.nodeType&&module,PG=DG&&DG.exports===NG?S0.Buffer:void 0,IG=PG?PG.allocUnsafe:void 0;const xG=function zYe(){return[]};var HYe=Object.prototype.propertyIsEnumerable,LG=Object.getOwnPropertySymbols,$Ye=LG?function(t){return null==t?[]:(t=Object(t),function FYe(t,n){for(var e=-1,i=null==t?0:t.length,o=0,s=[];++e<i;){var r=t[e];n(r,e,t)&&(s[o++]=r)}return s}(LG(t),function(n){return HYe.call(t,n)}))}:xG;const mw=$Ye,vw=function UYe(t,n){for(var e=-1,i=n.length,o=t.length;++e<i;)t[o+e]=n[e];return t},Cw=OG(Object.getPrototypeOf,Object);var jYe=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)vw(n,mw(t)),t=Cw(t);return n}:xG;const RG=jYe,FG=function qYe(t,n,e){var i=n(t);return qd(t)?i:vw(i,e(t))},QYe=function YYe(t){return FG(t,gw,mw)},kG=function JYe(t){return FG(t,fw,RG)},Mw=Xd(S0,"DataView"),Tw=Xd(S0,"Promise"),ww=Xd(S0,"Set"),bw=Xd(S0,"WeakMap");var zG="[object Map]",VG="[object Promise]",HG="[object Set]",$G="[object WeakMap]",GG="[object DataView]",sQe=jd(Mw),rQe=jd(Jp),aQe=jd(Tw),lQe=jd(ww),cQe=jd(bw),Yd=Zd;(Mw&&Yd(new Mw(new ArrayBuffer(1)))!=GG||Jp&&Yd(new Jp)!=zG||Tw&&Yd(Tw.resolve())!=VG||ww&&Yd(new ww)!=HG||bw&&Yd(new bw)!=$G)&&(Yd=function(t){var n=Zd(t),e="[object Object]"==n?t.constructor:void 0,i=e?jd(e):"";if(i)switch(i){case sQe:return GG;case rQe:return zG;case aQe:return VG;case lQe:return HG;case cQe:return $G}return n});const Sw=Yd;var uQe=Object.prototype.hasOwnProperty;const BG=S0.Uint8Array,Ew=function gQe(t){var n=new t.constructor(t.byteLength);return new BG(n).set(new BG(t)),n};var vQe=/\w*$/;var UG=E0?E0.prototype:void 0,WG=UG?UG.valueOf:void 0;const WQe=function UQe(t,n,e){var i=t.constructor;switch(n){case"[object ArrayBuffer]":return Ew(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function fQe(t,n){var e=n?Ew(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function bQe(t,n){var e=n?Ew(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function CQe(t){var n=new t.constructor(t.source,vQe.exec(t));return n.lastIndex=t.lastIndex,n}(t);case"[object Symbol]":return function TQe(t){return WG?Object(WG.call(t)):{}}(t)}};var ZG=Object.create,ZQe=function(){function t(){}return function(n){if(!Qp(n))return{};if(ZG)return ZG(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();const jQe=ZQe;var jG=Tu&&Tu.isMap;const eJe=jG?hw(jG):function YQe(t){return Kd(t)&&"[object Map]"==Sw(t)};var XG=Tu&&Tu.isSet;const sJe=XG?hw(XG):function nJe(t){return Kd(t)&&"[object Set]"==Sw(t)};var KG="[object Arguments]",qG="[object Function]",YG="[object Object]",oo={};oo[KG]=oo["[object Array]"]=oo["[object ArrayBuffer]"]=oo["[object DataView]"]=oo["[object Boolean]"]=oo["[object Date]"]=oo["[object Float32Array]"]=oo["[object Float64Array]"]=oo["[object Int8Array]"]=oo["[object Int16Array]"]=oo["[object Int32Array]"]=oo["[object Map]"]=oo["[object Number]"]=oo[YG]=oo["[object RegExp]"]=oo["[object Set]"]=oo["[object String]"]=oo["[object Symbol]"]=oo["[object Uint8Array]"]=oo["[object Uint8ClampedArray]"]=oo["[object Uint16Array]"]=oo["[object Uint32Array]"]=!0,oo["[object Error]"]=oo[qG]=oo["[object WeakMap]"]=!1;const IJe=function om(t,n,e,i,o,s){var r,a=1&n,l=2&n,c=4&n;if(e&&(r=o?e(t,i,o,s):e(t)),void 0!==r)return r;if(!Qp(t))return t;var h=qd(t);if(h){if(r=function hQe(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&uQe.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return function LYe(t,n){var e=-1,i=t.length;for(n||(n=Array(i));++e<i;)n[e]=t[e];return n}(t,r)}else{var p=Sw(t),f=p==qG||"[object GeneratorFunction]"==p;if(wG(t))return function IYe(t,n){if(n)return t.slice();var e=t.length,i=IG?IG(e):new t.constructor(e);return t.copy(i),i}(t,a);if(p==YG||p==KG||f&&!o){if(r=l||f?{}:function XQe(t){return"function"!=typeof t.constructor||pw(t)?{}:jQe(Cw(t))}(t),!a)return l?function XYe(t,n){return tg(t,RG(t),n)}(t,function NYe(t,n){return t&&tg(n,fw(n),t)}(r,t)):function GYe(t,n){return tg(t,mw(t),n)}(t,function MYe(t,n){return t&&tg(n,gw(n),t)}(r,t))}else{if(!oo[p])return o?t:{};r=WQe(t,p,a)}}s||(s=new eqe);var v=s.get(t);if(v)return v;s.set(t,r),sJe(t)?t.forEach(function(D){r.add(om(D,n,e,D,t,s))}):eJe(t)&&t.forEach(function(D,P){r.set(P,om(D,n,e,P,t,s))});var E=h?void 0:(c?l?kG:QYe:l?fw:gw)(t);return function tqe(t,n){for(var e=-1,i=null==t?0:t.length;++e<i&&!1!==n(t[e],e,t););}(E||t,function(D,P){E&&(D=t[P=D]),gG(r,P,om(D,n,e,P,t,s))}),r},Aw=function LJe(t){return"symbol"==typeof t||Kd(t)&&"[object Symbol]"==Zd(t)};var RJe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FJe=/^\w*$/;function Ow(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function(){var i=arguments,o=n?n.apply(this,i):i[0],s=e.cache;if(s.has(o))return s.get(o);var r=t.apply(this,i);return e.cache=s.set(o,r)||s,r};return e.cache=new(Ow.Cache||uw),e}Ow.Cache=uw;const HJe=Ow;var UJe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WJe=/\\(\\)?/g,ZJe=function GJe(t){var n=HJe(t,function(i){return 500===e.size&&e.clear(),i}),e=n.cache;return n}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(UJe,function(e,i,o,s){n.push(o?s.replace(WJe,"$1"):i||e)}),n});const jJe=ZJe;var QG=E0?E0.prototype:void 0,JG=QG?QG.toString:void 0;const KJe=function eB(t){if("string"==typeof t)return t;if(qd(t))return rG(t,eB)+"";if(Aw(t))return JG?JG.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},YJe=function qJe(t){return null==t?"":KJe(t)},yw=function QJe(t,n){return qd(t)?t:function kJe(t,n){if(qd(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Aw(t))||FJe.test(t)||!RJe.test(t)||null!=n&&t in Object(n)}(t,n)?[t]:jJe(YJe(t))},tB=function net(t){if("string"==typeof t||Aw(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},cet=function aet(t,n){return n.length<2?t:function iet(t,n){for(var e=0,i=(n=yw(n,t)).length;null!=t&&e<i;)t=t[tB(n[e++])];return e&&e==i?t:void 0}(t,function set(t,n,e){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=t[i+n];return s}(n,0,-1))},uet=function det(t,n){return n=yw(n,t),null==(t=cet(t,n))||delete t[tB(function JJe(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}(n))]};var nB=Function.prototype.toString,get=Object.prototype.hasOwnProperty,fet=nB.call(Object);const Met=function Cet(t){return function met(t){if(!Kd(t)||"[object Object]"!=Zd(t))return!1;var n=Cw(t);if(null===n)return!0;var e=get.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&nB.call(e)==fet}(t)?void 0:t};var iB=E0?E0.isConcatSpreadable:void 0;const wet=function Tet(t){return qd(t)||vG(t)||!!(iB&&t&&t[iB])},bet=function oB(t,n,e,i,o){var s=-1,r=t.length;for(e||(e=wet),o||(o=[]);++s<r;){var a=t[s];n>0&&e(a)?n>1?oB(a,n-1,e,i,o):vw(o,a):i||(o[o.length]=a)}return o},Aet=function Eet(t){return null!=t&&t.length?bet(t,1):[]};var sB=Math.max;const Iet=function Pet(t){return function(){return t}};var Let=im?function(t,n){return im(t,"toString",{configurable:!0,enumerable:!1,value:Iet(n),writable:!0})}:function xet(t){return t},zet=Date.now,Het=function Vet(t){var n=0,e=0;return function(){var i=zet(),o=16-(i-e);if(e=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}(Let);const $et=Het;var jet=function Get(t){return $et(function Net(t,n,e){return n=sB(void 0===n?t.length-1:n,0),function(){for(var i=arguments,o=-1,s=sB(i.length-n,0),r=Array(s);++o<s;)r[o]=i[n+o];o=-1;for(var a=Array(n+1);++o<n;)a[o]=i[o];return a[n]=e(r),function Oet(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}(t,this,a)}}(t,void 0,Aet),t+"")}(function(t,n){var e={};if(null==t)return e;var i=!1;n=rG(n,function(s){return s=yw(s,t),i||(i=s.length>1),s}),tg(t,kG(t),e),i&&(e=IJe(e,7,Met));for(var o=n.length;o--;)uet(e,n[o]);return e});const rB=jet;function aB(t){return"function"==typeof t}function Nw(t){return function Xet(t){return t&&aB(t.subscribe)}(t)?t:Et(t)}class Ket{canDeactivate(n,e){let i;const o=n.isDirty$;return i=aB(o)?D4(()=>Nw(o())):Nw(o),i.pipe(Mi(s=>!1===s?Et(!0):Nw(this.confirmChanges(e))),Js(1))}}function sm(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;let e,i;if(Array.isArray(t)){if(e=t.length,e!=n.length)return!1;for(i=e;0!=i--;)if(!sm(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();const o=Object.keys(t);if(e=o.length,e!==Object.keys(n).length)return!1;for(i=e;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=e;0!=i--;){const s=o[i];if(!sm(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}const qet={debounce:300,withDisabled:!0,useBeforeunloadEvent:!0};function rm(t,n,e={}){const{debounce:i,withDisabled:o,useBeforeunloadEvent:s,excludeKeys:r}={...qet,...e},a=()=>function Yet(t,n){return n&&(t instanceof Kn||t instanceof k2)?t.getRawValue():t.value}(t,o),l=u0(D4(()=>Et(a())),t.valueChanges.pipe(Pr(i),h1(),Tt(()=>a())));return new an(c=>{const h=Fp([n,l]).pipe(Tt(([p,f])=>r?!sm(rB(p,r),rB(f,r)):!sm(p,f)),O2(!1),function uXe(t,n,e){let i,o=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):i=t??1/0,function dXe(t={}){const{connector:n=()=>new xe,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:o=!0}=t;return s=>{let r,a,l,c=0,h=!1,p=!1;const f=()=>{a?.unsubscribe(),a=void 0},v=()=>{f(),r=l=void 0,h=p=!1},C=()=>{const E=r;v(),E?.unsubscribe()};return hi((E,D)=>{c++,!p&&!h&&f();const P=l=l??n();D.add(()=>{c--,0===c&&!p&&!h&&(a=cw(C,o))}),P.subscribe(D),!r&&c>0&&(r=new ce({next:I=>P.next(I),error:I=>{p=!0,f(),a=cw(v,e,I),P.error(I)},complete:()=>{h=!0,f(),a=cw(v,i),P.complete()}}),Wo(E).subscribe(r))})(s)}}({connector:()=>new sG(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}({bufferSize:1,refCount:!0}));return s&&c.add(Dn(window,"beforeunload").pipe(D6(h)).subscribe(([p,f])=>{f&&(p.preventDefault(),p.returnValue=!1)})),h.subscribe(c)})}var lB=function(t){return t.PDF="pdf",t.PDF_A="pdfa",t.PDF_A1="pdfa-1",t.PDF_A2="pdfa-2",t.PDF_A3="pdfa-3",t}(lB||{}),cB=function(t){return t.SKIP="skip",t.REDO="redo",t.FORCE="force",t.SKIP_NO_ARCHIVE="skip_noarchive",t}(cB||{}),dB=function(t){return t.NEVER="never",t.WITH_TEXT="with_text",t.ALWAYS="always",t}(dB||{}),uB=function(t){return t.CLEAN="clean",t.FINAL="clean-final",t.NONE="none",t}(uB||{}),hB=function(t){return t.UNCHANGED="LeaveColorUnchanged",t.RGB="RGB",t.INDEPENDENT="UseDeviceIndependentColor",t.GRAY="Gray",t.CMYK="CMYK",t}(hB||{}),$s=function(t){return t.String="string",t.Number="number",t.Select="select",t.Boolean="boolean",t.JSON="json",t.File="file",t}($s||{});const pr={General:"General Settings",OCR:"OCR Settings"};function ig(t){return Object.keys(t).map(n=>({id:t[n],name:t[n]}))}const Dw=[{key:"output_type",title:"Output Type",type:$s.Select,choices:ig(lB),config_key:"PAPERLESS_OCR_OUTPUT_TYPE",category:pr.OCR},{key:"language",title:"Language",type:$s.String,config_key:"PAPERLESS_OCR_LANGUAGE",category:pr.OCR},{key:"pages",title:"Pages",type:$s.Number,config_key:"PAPERLESS_OCR_PAGES",category:pr.OCR},{key:"mode",title:"Mode",type:$s.Select,choices:ig(cB),config_key:"PAPERLESS_OCR_MODE",category:pr.OCR},{key:"skip_archive_file",title:"Skip Archive File",type:$s.Select,choices:ig(dB),config_key:"PAPERLESS_OCR_SKIP_ARCHIVE_FILE",category:pr.OCR},{key:"image_dpi",title:"Image DPI",type:$s.Number,config_key:"PAPERLESS_OCR_IMAGE_DPI",category:pr.OCR},{key:"unpaper_clean",title:"Clean",type:$s.Select,choices:ig(uB),config_key:"PAPERLESS_OCR_CLEAN",category:pr.OCR},{key:"deskew",title:"Deskew",type:$s.Boolean,config_key:"PAPERLESS_OCR_DESKEW",category:pr.OCR},{key:"rotate_pages",title:"Rotate Pages",type:$s.Boolean,config_key:"PAPERLESS_OCR_ROTATE_PAGES",category:pr.OCR},{key:"rotate_pages_threshold",title:"Rotate Pages Threshold",type:$s.Number,config_key:"PAPERLESS_OCR_ROTATE_PAGES_THRESHOLD",category:pr.OCR},{key:"max_image_pixels",title:"Max Image Pixels",type:$s.Number,config_key:"PAPERLESS_OCR_MAX_IMAGE_PIXELS",category:pr.OCR},{key:"color_conversion_strategy",title:"Color Conversion Strategy",type:$s.Select,choices:ig(hB),config_key:"PAPERLESS_OCR_COLOR_CONVERSION_STRATEGY",category:pr.OCR},{key:"user_args",title:"OCR Arguments",type:$s.JSON,config_key:"PAPERLESS_OCR_USER_ARGS",category:pr.OCR},{key:"app_logo",title:"Application Logo",type:$s.File,config_key:"PAPERLESS_APP_LOGO",category:pr.General},{key:"app_title",title:"Application Title",type:$s.String,config_key:"PAPERLESS_APP_TITLE",category:pr.General}],_B={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Pw;const Qet=new Uint8Array(16),ir=[];for(let t=0;t<256;++t)ir.push((t+256).toString(16).slice(1));const Iw=function ett(t,n,e){if(_B.randomUUID&&!n&&!t)return _B.randomUUID();const i=(t=t||{}).random??t.rng?.()??function Jet(){if(!Pw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Pw=crypto.getRandomValues.bind(crypto)}return Pw(Qet)}();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){if((e=e||0)<0||e+16>n.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let o=0;o<16;++o)n[e+o]=i[o];return n}return function pB(t,n=0){return(ir[t[n+0]]+ir[t[n+1]]+ir[t[n+2]]+ir[t[n+3]]+"-"+ir[t[n+4]]+ir[t[n+5]]+"-"+ir[t[n+6]]+ir[t[n+7]]+"-"+ir[t[n+8]]+ir[t[n+9]]+"-"+ir[t[n+10]]+ir[t[n+11]]+ir[t[n+12]]+ir[t[n+13]]+ir[t[n+14]]+ir[t[n+15]]).toLowerCase()}(i)},ttt=["inputField"];let Gs=(()=>{class t{constructor(){this.onChange=e=>{},this.onTouched=()=>{},this.disabled=!1,this.horizontal=!1,this.removable=!1,this.removed=new Ee}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}focus(){this.inputField&&this.inputField.nativeElement&&this.inputField.nativeElement.focus()}ngOnInit(){this.inputId=Iw()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,viewQuery:function(i,o){if(1&i&&dn(ttt,5),2&i){let s;pt(s=gt())&&(o.inputField=s.first)}},inputs:{title:"title",disabled:"disabled",error:"error",hint:"hint",horizontal:"horizontal",removable:"removable"},outputs:{removed:"removed"}})}}return t})();const ntt=["fileInput"];function itt(t,n){if(1&t&&(d(0,"label",17),A(1),u()),2&t){const e=g();Ce("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function ott(t,n){if(1&t){const e=F();d(0,"button",18),T("click",function(){b(e);const o=g();return S(o.removed.emit(o))}),w(1,"i-bs",19),A(2,"\xa0"),ae(3),M(4,3),le(),u()}}function stt(t,n){if(1&t){const e=F();d(0,"div",13)(1,"span",20),A(2),u(),d(3,"button",21),T("click",function(){return b(e),S(g().clear())}),w(4,"i-bs",19),d(5,"small"),M(6,4),u()()()}if(2&t){const e=g();_(2),oe(e.filename)}}function rtt(t,n){1&t&&(w(0,"small",15),ye(1,"safeHtml")),2&t&&m("innerHTML",Ke(1,1,g().hint),vo)}let att=(()=>{class t extends Gs{constructor(){super(...arguments),this.upload=new Ee}get filename(){return this.value?this.value.substring(this.value.lastIndexOf("/")+1):null}onFile(e){this.file=e.target.files[0]}uploadClicked(){this.upload.emit(this.file),this.clear()}clear(){this.file=void 0,this.fileInput.nativeElement.value=null,this.writeValue(null),this.onChange(null)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-file"]],viewQuery:function(i,o){if(1&i&&dn(ntt,5),2&i){let s;pt(s=gt())&&(o.fileInput=s.first)}},outputs:{upload:"upload"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:16,vars:18,consts:()=>{let e,i,o;return e="Upload",i="Remove",o="Remove",[["fileInput",""],["inputField",""],e,i,o,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"input-group"],["type","file",1,"form-control",3,"change","id","disabled"],["type","button",1,"btn","btn-outline-primary","py-0",3,"click","disabled"],[1,"form-text","d-flex","align-items-center"],["type","hidden",1,"form-control","small",3,"ngModelChange","ngModel","disabled"],[1,"form-text","text-muted",3,"innerHTML"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],[1,"text-muted"],["type","button",1,"btn","btn-link","btn-sm","text-danger","ms-2",3,"click"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",5)(1,"div",6)(2,"div",7),y(3,itt,2,4,"label",8)(4,ott,5,0,"button",9),u(),d(5,"div",10)(6,"input",11,0),T("change",function(a){return b(s),S(o.onFile(a))}),u(),d(8,"button",12),T("click",function(){return b(s),S(o.uploadClicked())}),M(9,2),u()(),y(10,stt,7,1,"div",13),d(11,"input",14,1),je("ngModelChange",function(a){return b(s),$e(o.value,a)||(o.value=a),S(a)}),u(),y(13,rtt,2,3,"small",15),d(14,"div",16),A(15),u()()()}2&i&&(Ce("pb-3",o.error),_(2),Ce("col-md-3",o.horizontal),_(),N(o.title?3:-1),_(),N(o.removable?4:-1),_(),Ce("col-md-9",o.horizontal)("is-invalid",o.error),_(),m("id",o.inputId)("disabled",o.disabled),_(2),m("disabled",o.disabled||!o.file),_(2),N(o.filename?10:-1),_(),Ze("ngModel",o.value),m("disabled",!0),_(2),N(o.hint?13:-1),_(2),Le(" ",o.error," "))},dependencies:[Xt,Ti,jt,Rn,qt],encapsulation:2})}}return t})();var _c=function(t){return t.TABLE="table",t.SMALL_CARDS="smallCards",t.LARGE_CARDS="largeCards",t}(_c||{}),vi=function(t){return t.TITLE="title",t.CREATED="created",t.ADDED="added",t.TAGS="tag",t.CORRESPONDENT="correspondent",t.DOCUMENT_TYPE="documenttype",t.STORAGE_PATH="storagepath",t.CUSTOM_FIELD="custom_field_",t.NOTES="note",t.OWNER="owner",t.SHARED="shared",t.ASN="asn",t.PAGE_COUNT="pagecount",t}(vi||{});const Qd=[{id:vi.TITLE,name:"Title"},{id:vi.CREATED,name:"Created"},{id:vi.ADDED,name:"Added"},{id:vi.TAGS,name:"Tags"},{id:vi.CORRESPONDENT,name:"Correspondent"},{id:vi.DOCUMENT_TYPE,name:"Document type"},{id:vi.STORAGE_PATH,name:"Storage path"},{id:vi.NOTES,name:"Notes"},{id:vi.OWNER,name:"Owner"},{id:vi.SHARED,name:"Shared"},{id:vi.ASN,name:"ASN"},{id:vi.PAGE_COUNT,name:"Pages"}],ctt=[vi.CREATED,vi.TITLE,vi.TAGS,vi.CORRESPONDENT],dtt=[{field:"archive_serial_number",name:"ASN"},{field:"correspondent__name",name:"Correspondent"},{field:"title",name:"Title"},{field:"document_type__name",name:"Document type"},{field:"created",name:"Created"},{field:"added",name:"Added"},{field:"modified",name:"Modified"},{field:"num_notes",name:"Notes"},{field:"owner",name:"Owner"},{field:"page_count",name:"Pages"}],utt=[{field:"score",name:"Search score"}];var am=function(t){return t.ADVANCED="advanced",t.TITLE_CONTENT="title-content",t}(am||{});const Me={LANGUAGE:"language",APP_LOGO:"app_logo",APP_TITLE:"app_title",BULK_EDIT_CONFIRMATION_DIALOGS:"general-settings:bulk-edit:confirmation-dialogs",BULK_EDIT_APPLY_ON_CLOSE:"general-settings:bulk-edit:apply-on-close",DOCUMENT_LIST_SIZE:"general-settings:documentListSize",DARK_MODE_USE_SYSTEM:"general-settings:dark-mode:use-system",DARK_MODE_ENABLED:"general-settings:dark-mode:enabled",DARK_MODE_THUMB_INVERTED:"general-settings:dark-mode:thumb-inverted",THEME_COLOR:"general-settings:theme:color",USE_NATIVE_PDF_VIEWER:"general-settings:document-details:native-pdf-viewer",PDF_VIEWER_ZOOM_SETTING:"general-settings:document-details:pdf-viewer-zoom-setting",DATE_LOCALE:"general-settings:date-display:date-locale",DATE_FORMAT:"general-settings:date-display:date-format",NOTIFICATIONS_CONSUMER_NEW_DOCUMENT:"general-settings:notifications:consumer-new-documents",NOTIFICATIONS_CONSUMER_SUCCESS:"general-settings:notifications:consumer-success",NOTIFICATIONS_CONSUMER_FAILED:"general-settings:notifications:consumer-failed",NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD:"general-settings:notifications:consumer-suppress-on-dashboard",NOTES_ENABLED:"general-settings:notes-enabled",AUDITLOG_ENABLED:"general-settings:auditlog-enabled",SLIM_SIDEBAR:"general-settings:slim-sidebar",UPDATE_CHECKING_ENABLED:"general-settings:update-checking:enabled",UPDATE_CHECKING_BACKEND_SETTING:"general-settings:update-checking:backend-setting",SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE:"general-settings:saved-views:warn-on-unsaved-change",DASHBOARD_VIEWS_SORT_ORDER:"general-settings:saved-views:dashboard-views-sort-order",SIDEBAR_VIEWS_SORT_ORDER:"general-settings:saved-views:sidebar-views-sort-order",TOUR_COMPLETE:"general-settings:tour-complete",DEFAULT_PERMS_OWNER:"general-settings:permissions:default-owner",DEFAULT_PERMS_VIEW_USERS:"general-settings:permissions:default-view-users",DEFAULT_PERMS_VIEW_GROUPS:"general-settings:permissions:default-view-groups",DEFAULT_PERMS_EDIT_USERS:"general-settings:permissions:default-edit-users",DEFAULT_PERMS_EDIT_GROUPS:"general-settings:permissions:default-edit-groups",DOCUMENT_EDITING_REMOVE_INBOX_TAGS:"general-settings:document-editing:remove-inbox-tags",DOCUMENT_EDITING_OVERLAY_THUMBNAIL:"general-settings:document-editing:overlay-thumbnail",SEARCH_DB_ONLY:"general-settings:search:db-only",SEARCH_FULL_TYPE:"general-settings:search:more-link",EMPTY_TRASH_DELAY:"trash_delay",GMAIL_OAUTH_URL:"gmail_oauth_url",OUTLOOK_OAUTH_URL:"outlook_oauth_url",EMAIL_ENABLED:"email_enabled"},_tt=[{key:Me.LANGUAGE,type:"string",default:""},{key:Me.BULK_EDIT_CONFIRMATION_DIALOGS,type:"boolean",default:!0},{key:Me.BULK_EDIT_APPLY_ON_CLOSE,type:"boolean",default:!1},{key:Me.SLIM_SIDEBAR,type:"boolean",default:!1},{key:Me.DOCUMENT_LIST_SIZE,type:"number",default:50},{key:Me.DARK_MODE_USE_SYSTEM,type:"boolean",default:!0},{key:Me.DARK_MODE_ENABLED,type:"boolean",default:!1},{key:Me.DARK_MODE_THUMB_INVERTED,type:"boolean",default:!0},{key:Me.THEME_COLOR,type:"string",default:""},{key:Me.USE_NATIVE_PDF_VIEWER,type:"boolean",default:!1},{key:Me.DATE_LOCALE,type:"string",default:""},{key:Me.DATE_FORMAT,type:"string",default:"mediumDate"},{key:Me.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT,type:"boolean",default:!0},{key:Me.NOTIFICATIONS_CONSUMER_SUCCESS,type:"boolean",default:!0},{key:Me.NOTIFICATIONS_CONSUMER_FAILED,type:"boolean",default:!0},{key:Me.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD,type:"boolean",default:!0},{key:Me.NOTES_ENABLED,type:"boolean",default:!0},{key:Me.AUDITLOG_ENABLED,type:"boolean",default:!0},{key:Me.UPDATE_CHECKING_ENABLED,type:"boolean",default:!1},{key:Me.UPDATE_CHECKING_BACKEND_SETTING,type:"string",default:""},{key:Me.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE,type:"boolean",default:!0},{key:Me.TOUR_COMPLETE,type:"boolean",default:!1},{key:Me.DEFAULT_PERMS_OWNER,type:"number",default:void 0},{key:Me.DEFAULT_PERMS_VIEW_USERS,type:"array",default:[]},{key:Me.DEFAULT_PERMS_VIEW_GROUPS,type:"array",default:[]},{key:Me.DEFAULT_PERMS_EDIT_USERS,type:"array",default:[]},{key:Me.DEFAULT_PERMS_EDIT_GROUPS,type:"array",default:[]},{key:Me.DASHBOARD_VIEWS_SORT_ORDER,type:"array",default:[]},{key:Me.SIDEBAR_VIEWS_SORT_ORDER,type:"array",default:[]},{key:Me.APP_LOGO,type:"string",default:""},{key:Me.APP_TITLE,type:"string",default:""},{key:Me.DOCUMENT_EDITING_REMOVE_INBOX_TAGS,type:"boolean",default:!1},{key:Me.DOCUMENT_EDITING_OVERLAY_THUMBNAIL,type:"boolean",default:!0},{key:Me.SEARCH_DB_ONLY,type:"boolean",default:!1},{key:Me.SEARCH_FULL_TYPE,type:"string",default:am.TITLE_CONTENT},{key:Me.EMPTY_TRASH_DELAY,type:"number",default:30},{key:Me.GMAIL_OAUTH_URL,type:"string",default:null},{key:Me.OUTLOOK_OAUTH_URL,type:"string",default:null},{key:Me.EMAIL_ENABLED,type:"boolean",default:!1},{key:Me.PDF_VIEWER_ZOOM_SETTING,type:"string",default:"page-width"}];var Bi=function(t){return t.String="string",t.Url="url",t.Date="date",t.Boolean="boolean",t.Integer="integer",t.Float="float",t.Monetary="monetary",t.DocumentLink="documentlink",t.Select="select",t}(Bi||{});const xw=[{id:Bi.Boolean,name:"Boolean"},{id:Bi.Date,name:"Date"},{id:Bi.Integer,name:"Integer"},{id:Bi.Float,name:"Number"},{id:Bi.Monetary,name:"Monetary"},{id:Bi.String,name:"Text"},{id:Bi.Url,name:"Url"},{id:Bi.DocumentLink,name:"Document Link"},{id:Bi.Select,name:"Select"}];var pc=function(t){return t.And="AND",t.Or="OR",t.Not="NOT",t}(pc||{}),Fn=function(t){return t.Exact="exact",t.In="in",t.IsNull="isnull",t.Exists="exists",t.Contains="contains",t.IContains="icontains",t.GreaterThan="gt",t.GreaterThanOrEqual="gte",t.LessThan="lt",t.LessThanOrEqual="lte",t.Range="range",t}(Fn||{});const ptt={[Fn.Exact]:"Equal to",[Fn.In]:"In",[Fn.IsNull]:"Is null",[Fn.Exists]:"Exists",[Fn.Contains]:"Contains",[Fn.IContains]:"Contains (case-insensitive)",[Fn.GreaterThan]:"Greater than",[Fn.GreaterThanOrEqual]:"Greater than or equal to",[Fn.LessThan]:"Less than",[Fn.LessThanOrEqual]:"Less than or equal to",[Fn.Range]:"Range"};var bi=function(t){return t.Basic="basic",t.Exact="exact",t.String="string",t.Arithmetic="arithmetic",t.Containment="containment",t.Subset="subset",t.Date="date",t}(bi||{});const gtt={[bi.Basic]:[Fn.Exists,Fn.IsNull],[bi.Exact]:[Fn.Exact],[bi.String]:[Fn.IContains],[bi.Arithmetic]:[Fn.GreaterThan,Fn.GreaterThanOrEqual,Fn.LessThan,Fn.LessThanOrEqual],[bi.Containment]:[Fn.Contains],[bi.Subset]:[Fn.In],[bi.Date]:[Fn.GreaterThanOrEqual,Fn.LessThanOrEqual]},ftt={[Bi.String]:[bi.Basic,bi.Exact,bi.String],[Bi.Url]:[bi.Basic,bi.Exact,bi.String],[Bi.Date]:[bi.Basic,bi.Exact,bi.Date],[Bi.Boolean]:[bi.Basic],[Bi.Integer]:[bi.Basic,bi.Exact,bi.Arithmetic],[Bi.Float]:[bi.Basic,bi.Exact,bi.Arithmetic],[Bi.Monetary]:[bi.Basic,bi.Exact,bi.String,bi.Arithmetic],[Bi.DocumentLink]:[bi.Basic,bi.Containment],[Bi.Select]:[bi.Basic,bi.Exact,bi.Subset]},mtt={[Fn.Exact]:"string|boolean",[Fn.IsNull]:"boolean",[Fn.Exists]:"boolean",[Fn.IContains]:"string",[Fn.GreaterThanOrEqual]:"string|number",[Fn.LessThanOrEqual]:"string|number",[Fn.GreaterThan]:"number",[Fn.LessThan]:"number",[Fn.Contains]:"array",[Fn.In]:"array"};var gc=function(t){return t.Atom="Atom",t.Expression="Expression",t}(gc||{}),wn=function(t){return t.Document="document",t.SavedView="saved_view",t.Correspondent="correspondent",t.DocumentType="document_type",t.StoragePath="storage_path",t.Tag="tag",t.User="user",t.Group="group",t.MailAccount="mail_account",t.MailRule="mail_rule",t.CustomField="custom_field",t.Workflow="workflow",t}(wn||{});const fm=[{id:0,filtervar:"title__icontains",datatype:"string",multi:!1,default:""},{id:1,filtervar:"content__icontains",datatype:"string",multi:!1,default:""},{id:2,filtervar:"archive_serial_number",datatype:"number",multi:!1},{id:3,filtervar:"correspondent__id",isnull_filtervar:"correspondent__isnull",datatype:wn.Correspondent,multi:!1},{id:26,filtervar:"correspondent__id__in",datatype:wn.Correspondent,multi:!0},{id:27,filtervar:"correspondent__id__none",datatype:wn.Correspondent,multi:!0},{id:25,filtervar:"storage_path__id",isnull_filtervar:"storage_path__isnull",datatype:wn.StoragePath,multi:!1},{id:30,filtervar:"storage_path__id__in",datatype:wn.StoragePath,multi:!0},{id:31,filtervar:"storage_path__id__none",datatype:wn.StoragePath,multi:!0},{id:4,filtervar:"document_type__id",isnull_filtervar:"document_type__isnull",datatype:wn.DocumentType,multi:!1},{id:28,filtervar:"document_type__id__in",datatype:wn.DocumentType,multi:!0},{id:29,filtervar:"document_type__id__none",datatype:wn.DocumentType,multi:!0},{id:5,filtervar:"is_in_inbox",datatype:"boolean",multi:!1,default:!0},{id:6,filtervar:"tags__id__all",datatype:wn.Tag,multi:!0},{id:22,filtervar:"tags__id__in",datatype:wn.Tag,multi:!0},{id:17,filtervar:"tags__id__none",datatype:wn.Tag,multi:!0},{id:7,filtervar:"is_tagged",datatype:"boolean",multi:!1,default:!0},{id:8,filtervar:"created__date__lt",datatype:"date",multi:!1},{id:9,filtervar:"created__date__gt",datatype:"date",multi:!1},{id:43,filtervar:"created__date__lte",datatype:"date",multi:!1},{id:44,filtervar:"created__date__gte",datatype:"date",multi:!1},{id:10,filtervar:"created__year",datatype:"number",multi:!1},{id:11,filtervar:"created__month",datatype:"number",multi:!1},{id:12,filtervar:"created__day",datatype:"number",multi:!1},{id:13,filtervar:"added__date__lt",datatype:"date",multi:!1},{id:14,filtervar:"added__date__gt",datatype:"date",multi:!1},{id:45,filtervar:"added__date__lte",datatype:"date",multi:!1},{id:46,filtervar:"added__date__gte",datatype:"date",multi:!1},{id:15,filtervar:"modified__date__lt",datatype:"date",multi:!1},{id:16,filtervar:"modified__date__gt",datatype:"date",multi:!1},{id:18,filtervar:"archive_serial_number__isnull",datatype:"boolean",multi:!1},{id:23,filtervar:"archive_serial_number__gt",datatype:"number",multi:!1},{id:24,filtervar:"archive_serial_number__lt",datatype:"number",multi:!1},{id:19,filtervar:"title_content",datatype:"string",multi:!1},{id:20,filtervar:"query",datatype:"string",multi:!1},{id:21,filtervar:"more_like_id",datatype:"number",multi:!1},{id:32,filtervar:"owner__id",datatype:"number",multi:!1},{id:33,filtervar:"owner__id__in",datatype:"number",multi:!0},{id:34,filtervar:"owner__isnull",datatype:"boolean",multi:!1},{id:35,filtervar:"owner__id__none",datatype:"number",multi:!0},{id:37,filtervar:"shared_by__id",datatype:"number",multi:!0},{id:36,filtervar:"custom_fields__icontains",datatype:"string",multi:!1},{id:38,filtervar:"custom_fields__id__all",datatype:"number",multi:!0},{id:39,filtervar:"custom_fields__id__in",datatype:"number",multi:!0},{id:40,filtervar:"custom_fields__id__none",datatype:"number",multi:!0},{id:41,filtervar:"has_custom_fields",datatype:"boolean",multi:!1,default:!0},{id:42,filtervar:"custom_field_query",datatype:"string",multi:!1},{id:47,filtervar:"mime_type",datatype:"string",multi:!1}],Kw="sort",qw="reverse",mm="page";function Yw(t,n=!1){let e=vB(t.filterRules);return e[Kw]=t.sortField,e[qw]=t.sortReverse?1:void 0,n&&(e={}),e[mm]=isNaN(t.currentPage)?1:t.currentPage,n&&1==t.currentPage&&(e[mm]=void 0),e}function mB(t){let n=function Dtt(t){const n=fm.map(i=>i.filtervar).concat(fm.map(i=>i.isnull_filtervar)).filter(i=>void 0!==i);let e=[];return n.filter(i=>t.has(i)).forEach(i=>{const o=fm.find(l=>l.filtervar==i||l.isnull_filtervar==i),s=o.isnull_filtervar==i,r=t.get(i),a=o.multi?r.split(","):[r];e=e.concat(a.map(l=>("boolean"==o.datatype&&(l=l.replace("1","true").replace("0","false")),{rule_type:o.id,value:s?null:l})))}),e=function Ntt(t){const n=[39,38];if(t.filter(e=>n.includes(e.rule_type)).length){const e=t.filter(a=>39===a.rule_type),i=t.filter(a=>38===a.rule_type),r=[i.length?pc.And:pc.Or,[...(i.length?i:e).map(a=>[parseInt(a.value),Fn.Exists,!0])]];t.push({rule_type:42,value:JSON.stringify(r)})}return t.filter(e=>!n.includes(e.rule_type))}(e),e}(t),e=t.get(Kw),i=t.has(qw)||!t.has(Kw)&&!t.has(qw);return{currentPage:t.has(mm)?parseInt(t.get(mm)):1,filterRules:n,sortField:e,sortReverse:i}}function vB(t){if(t){let n={};for(let e of t){let i=fm.find(o=>o.id==e.rule_type);i.isnull_filtervar&&null==e.value?n[i.isnull_filtervar]=1:i.multi?n[i.filtervar]=n[i.filtervar]?n[i.filtervar]+","+e.value:e.value:(n[i.filtervar]=e.value,"boolean"==i.datatype&&(n[i.filtervar]="true"==e.value||"1"==e.value?1:0))}return n}return null}var mt=function(t){return t.Add="add",t.View="view",t.Change="change",t.Delete="delete",t}(mt||{}),Ct=function(t){return t.Document="%s_document",t.Tag="%s_tag",t.Correspondent="%s_correspondent",t.DocumentType="%s_documenttype",t.StoragePath="%s_storagepath",t.SavedView="%s_savedview",t.PaperlessTask="%s_paperlesstask",t.AppConfig="%s_applicationconfiguration",t.UISettings="%s_uisettings",t.History="%s_logentry",t.Note="%s_note",t.MailAccount="%s_mailaccount",t.MailRule="%s_mailrule",t.User="%s_user",t.Group="%s_group",t.ShareLink="%s_sharelink",t.CustomField="%s_customfield",t.Workflow="%s_workflow",t}(Ct||{});let ti=(()=>{class t{initialize(e,i){this.permissions=e,this.currentUser=i}currentUserCan(e,i){return this.currentUser?.is_superuser||this.permissions?.includes(this.getPermissionCode(e,i))}isAdmin(){return this.currentUser?.is_staff}isSuperUser(){return this.currentUser?.is_superuser}currentUserOwnsObject(e){return!e||!e.owner||this.currentUser.is_superuser||e.owner===this.currentUser.id}currentUserHasObjectPermissions(e,i){return e===mt.View?this.currentUserOwnsObject(i)||i.permissions?.view.users.includes(this.currentUser.id)||i.permissions?.view.groups.filter(o=>this.currentUser.groups.includes(o)).length>0:e===mt.Change?this.currentUserOwnsObject(i)||i.user_can_change||i.permissions?.change.users.includes(this.currentUser.id)||i.permissions?.change.groups.filter(o=>this.currentUser.groups.includes(o)).length>0:void 0}getPermissionCode(e,i){return i.replace("%s",e)}getPermissionKeys(e){const i=e.match(/(.+)_/);let o,s;if(i?.length>0){const r=i[1],a=Object.values(mt).indexOf(r);a>-1&&(s=Object.keys(mt)[a]);const l=Object.values(Ct).indexOf(e.replace(r,"%s"));l>-1&&(o=Object.keys(Ct)[l])}return{actionKey:s,typeKey:o}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Itt={connector:()=>new xe};function Rtt(t,n,e,i){e&&!fn(e)&&(i=e);const o=fn(e)?e:void 0;return s=>function Ltt(t,n){const e=fn(t)?t:()=>t;return fn(n)?function xtt(t,n=Itt){const{connector:e}=n;return hi((i,o)=>{const s=e();Wo(t(function Ptt(t){return new an(n=>t.subscribe(n))}(s))).subscribe(o),o.add(i.subscribe(s))})}(n,{connector:e}):i=>new kT(i,e)}(new sG(t,n,i),o)(s)}const Ftt=new URL(document.baseURI),gi={production:!0,apiBaseUrl:document.baseURI+"api/",apiVersion:"7",appTitle:"Paperless-ngx",version:"2.14.7",webSocketHost:window.location.host,webSocketProtocol:"https:"==window.location.protocol?"wss:":"ws:",webSocketBaseUrl:Ftt.pathname+"ws/"};class cl{constructor(n,e){this.http=n,this.resourceName=e,this.baseUrl=gi.apiBaseUrl}getResourceUrl(n=null,e=null){let i=`${this.baseUrl}${this.resourceName}/`;return null!==n&&(i+=`${n}/`),e&&(i+=`${e}/`),i}getOrderingQueryParam(n,e){return n?(e?"-":"")+n:null}list(n,e,i,o,s){let r=new na;n&&(r=r.set("page",n.toString())),e&&(r=r.set("page_size",e.toString()));let a=this.getOrderingQueryParam(i,o);a&&(r=r.set("ordering",a));for(let l in s)null!=s[l]&&(r=r.set(l,s[l]));return this.http.get(this.getResourceUrl(),{params:r})}listAll(n,e,i){return this._listAll||(this._listAll=this.list(1,1e5,n,e,i).pipe(Rtt(1),I4())),this._listAll}getCached(n){return this.listAll().pipe(Tt(e=>e.results.find(i=>i.id==n)))}getCachedMany(n){return this.listAll().pipe(Tt(e=>n.map(i=>e.results.find(o=>o.id==i))))}getFew(n,e){let i=new na;i=i.set("id__in",n.join(",")),i=i.set("ordering","-id"),i=i.set("page_size",1e3);for(let o in e)null!=e[o]&&(i=i.set(o,e[o]));return this.http.get(this.getResourceUrl(),{params:i})}clearCache(){this._listAll=null}get(n){return this.http.get(this.getResourceUrl(n))}create(n){return this.clearCache(),this.http.post(this.getResourceUrl(),n)}delete(n){return this.clearCache(),this.http.delete(this.getResourceUrl(n.id))}update(n){return this.clearCache(),this.http.put(this.getResourceUrl(n.id),n)}patch(n){return this.clearCache(),this.http.patch(this.getResourceUrl(n.id),n)}}function Jw(t){var n=Math.floor(t).toString(16);return 1==n.length?"0"+n:n}function eb(t,n,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(n-t)*e:e<.5?n:e<2/3?t+(n-t)*(2/3-e)*6:t}function CB(t){let n=(t=t.replace("#","")).match(/.{1,2}/g);return{r:parseInt(n[0],16),g:parseInt(n[1],16),b:parseInt(n[2],16)}}function MB(){let t=function ktt(t,n,e){var i,o,s;if(0==n)i=o=s=e;else{var r=e<.5?e*(1+n):e+n-e*n,a=2*e-r;i=eb(a,r,t+1/3),o=eb(a,r,t),s=eb(a,r,t-1/3)}return[255*i,255*o,255*s]}(Math.random(),.6,.4*Math.random()+.4);return`#${Jw(t[0])}${Jw(t[1])}${Jw(t[2])}`}let Fi=(()=>{class t{constructor(){this.toasts=[],this.toastsSubject=new xe,this.showToast=new xe}set suppressPopupToasts(e){this._suppressPopupToasts=e,this.showToast.next(null)}show(e){if(e.id||(e.id=Iw()),"string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch{}this.toasts.unshift(e),this._suppressPopupToasts||this.showToast.next(e),this.toastsSubject.next(this.toasts)}showError(e,i=null,o=1e4){this.show({content:e,delay:o,classname:"error",error:i})}showInfo(e,i=5e3){this.show({content:e,delay:i})}closeToast(e){let i=this.toasts.findIndex(o=>o.id==e.id);i>-1&&(this.toasts.splice(i,1),this.toastsSubject.next(this.toasts))}getToasts(){return this.toastsSubject}clearToasts(){this.toasts=[],this.toastsSubject.next(this.toasts),this.showToast.next(null)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),C1=(()=>{class t extends cl{constructor(e){super(e,"custom_fields")}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Gtt=[{code:"en-us",name:"English (US)",englishName:"English (US)",dateInputFormat:"mm/dd/yyyy"},{code:"en-gb",name:"English (GB)",englishName:"English (GB)",dateInputFormat:"dd/mm/yyyy"}],Btt={code:"iso-8601",name:"ISO 8601",dateInputFormat:"yyyy-mm-dd"};let En=(()=>{class t{get renderer(){return this._renderer}get allDisplayFields(){return this._allDisplayFields}constructor(e,i,o,s,r,a,l,c,h){this.document=i,this.cookieService=o,this.meta=s,this.localeId=r,this.http=a,this.toastService=l,this.permissionsService=c,this.customFieldsService=h,this.baseUrl=gi.apiBaseUrl+"ui_settings/",this.settings={},this.settingsSaved=new Ee,this.dashboardIsEmpty=!1,this.globalDropzoneEnabled=!0,this.globalDropzoneActive=!1,this.organizingSidebarSavedViews=!1,this._allDisplayFields=Qd,this.displayFieldsInit=new Ee,this._renderer=e.createRenderer(null,null)}initializeSettings(){return this.http.get(this.baseUrl).pipe(ut(),m1(e=>(setTimeout(()=>{this.toastService.showError("Error loading settings",e)},500),Et({settings:{documentListSize:10,update_checking:{backend_setting:"default"}},user:{},permissions:[]}))),un(e=>{Object.assign(this.settings,e.settings),this.get(Me.APP_TITLE)?.length&&(gi.appTitle=this.get(Me.APP_TITLE)),this.maybeMigrateSettings(),this.settings.language?.length&&this.setLanguage(this.settings.language),this.currentUser=e.user,this.permissionsService.initialize(e.permissions,this.currentUser),this.initializeDisplayFields()}))}initializeDisplayFields(){this._allDisplayFields=Qd,this._allDisplayFields=this._allDisplayFields?.map(e=>{if(e.id===vi.NOTES&&!this.get(Me.NOTES_ENABLED))return null;if([vi.TITLE,vi.CREATED,vi.ADDED,vi.ASN,vi.PAGE_COUNT,vi.SHARED].includes(e.id))return e;let i=Object.values(Ct).find(o=>o.includes(e.id));return e.id===vi.OWNER&&(i=Ct.User),this.permissionsService.currentUserCan(mt.View,i)?e:null}).filter(e=>e),this.permissionsService.currentUserCan(mt.View,Ct.CustomField)?this.customFieldsService.listAll().subscribe(e=>{this._allDisplayFields=this._allDisplayFields.concat(e.results.map(i=>({id:`${vi.CUSTOM_FIELD}${i.id}`,name:i.name}))),this.displayFieldsInit.emit(!0)}):this.displayFieldsInit.emit(!0)}get displayName(){return(this.currentUser.first_name??this.currentUser.username??"").trim()}updateAppearanceSettings(e=null,i=null,o=null){if(e??=this.get(Me.DARK_MODE_USE_SYSTEM),i??=this.get(Me.DARK_MODE_ENABLED),o??=this.get(Me.THEME_COLOR),this._renderer.setAttribute(this.document.documentElement,"data-bs-theme",e?"auto":i?"dark":"light"),o?.length){const s=function Vtt(t){const n=CB(t),e=function ztt(t,n,e){t/=255,n/=255,e/=255;var s,r,i=Math.max(t,n,e),o=Math.min(t,n,e),a=(i+o)/2;if(i==o)s=r=0;else{var l=i-o;switch(r=a>.5?l/(2-i-o):l/(i+o),i){case t:s=(n-e)/l+(n<e?6:0);break;case n:s=(e-t)/l+2;break;case e:s=(t-n)/l+4}s/=6}return[s,r,a]}(n.r,n.g,n.b);return{h:e[0],s:e[1],l:e[2]}}(o);"dark"==function $tt(t){const e=function Htt(t){const n=Object.keys(t);for(var e=0;e<3;e++){var i=t[n[e]];i=(i/=255)<.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),t[e]=i}return.2126*t[0]+.7152*t[1]+.0722*t[2]}(CB(t));return(e+.05)*(e+.05)>.15?"light":"dark"}(o)?(this._renderer.addClass(this.document.body,"primary-dark"),this._renderer.removeClass(this.document.body,"primary-light")):(this._renderer.addClass(this.document.body,"primary-light"),this._renderer.removeClass(this.document.body,"primary-dark")),document.documentElement.style.setProperty("--pngx-primary",`${360*+s.h},${100*s.s}%`),document.documentElement.style.setProperty("--pngx-primary-lightness",100*s.l+"%")}else this._renderer.removeClass(this.document.body,"primary-dark"),this._renderer.removeClass(this.document.body,"primary-light"),document.documentElement.style.removeProperty("--pngx-primary"),document.documentElement.style.removeProperty("--pngx-primary-lightness");this.meta.updateTag({name:"theme-color",content:o?.length?o:"#17541f"})}getLanguageOptions(){return Gtt.sort((e,i)=>e.name<i.name?-1:1)}getDateLocaleOptions(){return[Btt].concat(this.getLanguageOptions())}getLanguageCookieName(){let e="";return this.meta.getTag("name=cookie_prefix")&&(e=this.meta.getTag("name=cookie_prefix").content),`${e||""}django_language`}getLanguage(){return this.get(Me.LANGUAGE)}setLanguage(e){this.set(Me.LANGUAGE,e),e?.length?this.cookieService.set(this.getLanguageCookieName(),e):this.cookieService.delete(this.getLanguageCookieName())}getLocalizedDateInputFormat(){let e=this.get(Me.DATE_LOCALE)||this.getLanguage()||this.localeId.toLowerCase();return this.getDateLocaleOptions().find(i=>i.code==e)?.dateInputFormat||"yyyy-mm-dd"}getSettingRawValue(e){let i;const o=e.replace("general-settings:","").split(":");let s=this.settings;return o.forEach((r,a)=>{r=r.replace(/-/g,"_"),s.hasOwnProperty(r)&&(a==o.length-1?i=s[r]:s=s[r])}),i}get(e){let i=_tt.find(s=>s.key==e);if(!i)return;let o=this.getSettingRawValue(e);if(e===Me.DEFAULT_PERMS_OWNER&&void 0===o)return this.currentUser.id;if(void 0===o)return i.default;if(null===o)return null;switch(i.type){case"boolean":return JSON.parse(o);case"number":return+o;default:return o}}set(e,i){let o=this.settings;const s=e.replace("general-settings:","").split(":");s.forEach((r,a)=>{r=r.replace(/-/g,"_"),o.hasOwnProperty(r)||(o[r]={}),a==s.length-1?o[r]=i:o=o[r]})}settingIsSet(e){return null!=this.getSettingRawValue(e)}storeSettings(){return this.http.post(this.baseUrl,{settings:this.settings}).pipe(un(e=>{e.success&&this.settingsSaved.emit()}))}maybeMigrateSettings(){if(!this.settings.hasOwnProperty("documentListSize")&&localStorage.getItem(Me.DOCUMENT_LIST_SIZE)){const e="Successfully completed one-time migratration of settings to the database!",i="Unable to migrate settings to the database, please try saving manually.";try{for(const o in Me){const s=Me[o],r=localStorage.getItem(s);this.set(s,r)}this.set(Me.LANGUAGE,this.cookieService.get(this.getLanguageCookieName()))}catch(o){this.toastService.showError(i),console.log(o)}this.storeSettings().pipe(ut()).subscribe({next:()=>{this.updateAppearanceSettings(),this.toastService.showInfo(e)},error:o=>{this.toastService.showError(i),console.log(o)}})}!this.settingIsSet(Me.UPDATE_CHECKING_ENABLED)&&"default"!=this.get(Me.UPDATE_CHECKING_BACKEND_SETTING)&&(this.set(Me.UPDATE_CHECKING_ENABLED,"true"===this.get(Me.UPDATE_CHECKING_BACKEND_SETTING).toString()),this.storeSettings().pipe(ut()).subscribe({error:e=>{this.toastService.showError("Error migrating update checking setting"),console.log(e)}}))}get updateCheckingIsSet(){return this.settingIsSet(Me.UPDATE_CHECKING_ENABLED)}offerTour(){return this.dashboardIsEmpty&&!this.get(Me.TOUR_COMPLETE)}completeTour(){!this.get(Me.TOUR_COMPLETE)&&this.permissionsService.currentUserCan(mt.Change,Ct.UISettings)&&(this.set(Me.TOUR_COMPLETE,!0),this.storeSettings().pipe(ut()).subscribe(()=>{this.toastService.showInfo("You can restart the tour from the settings page.")}))}updateDashboardViewsSort(e){return this.set(Me.DASHBOARD_VIEWS_SORT_ORDER,[...new Set(e.map(i=>i.id))]),this.storeSettings()}updateSidebarViewsSort(e){return this.set(Me.SIDEBAR_VIEWS_SORT_ORDER,[...new Set(e.map(i=>i.id))]),this.storeSettings()}static{this.\u0275fac=function(i){return new(i||t)(Be(o0),Be(Xn),Be(FT),Be(oR),Be(ea),Be(Ji),Be(Fi),Be(ti),Be(C1))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),So=(()=>{class t extends cl{get sortFields(){return this._sortFields}get sortFieldsFullText(){return this._sortFieldsFullText}constructor(e,i,o,s){super(e,"documents"),this.permissionsService=i,this.settingsService=o,this.customFieldService=s,this.customFields=[],this.reload()}reload(){this.permissionsService.currentUserCan(mt.View,Ct.CustomField)&&this.customFieldService.listAll().subscribe(e=>{this.customFields=e.results,this.setupSortFields()}),this.setupSortFields()}setupSortFields(){this._sortFields=[...dtt],this.permissionsService.currentUserCan(mt.View,Ct.CustomField)&&this.customFields.forEach(i=>{this._sortFields.push({field:`custom_field_${i.id}`,name:i.name})});let e=[];this.permissionsService.currentUserCan(mt.View,Ct.Correspondent)||e.push("correspondent__name"),this.permissionsService.currentUserCan(mt.View,Ct.DocumentType)||e.push("document_type__name"),this.permissionsService.currentUserCan(mt.View,Ct.User)||e.push("owner"),this.settingsService.get(Me.NOTES_ENABLED)||e.push("num_notes"),this._sortFields=this._sortFields.filter(i=>!e.includes(i.field)),this._sortFieldsFullText=[...this._sortFields,...utt]}listFiltered(e,i,o,s,r,a={}){return this.list(e,i,o,s,Object.assign(a,vB(r)))}listAllFilteredIds(e){return this.listFiltered(1,1e5,null,null,e,{fields:"id"}).pipe(Tt(i=>i.results.map(o=>o.id)))}get(e){return this.http.get(this.getResourceUrl(e),{params:{full_perms:!0}})}getPreviewUrl(e,i=!1){let o=new URL(this.getResourceUrl(e,"preview"));return this._searchQuery&&(o.hash=`#search="${this.searchQuery}"`),i&&o.searchParams.append("original","true"),o.toString()}getThumbUrl(e){return this.getResourceUrl(e,"thumb")}getDownloadUrl(e,i=!1){let o=this.getResourceUrl(e,"download");return i&&(o+="?original=true"),o}getNextAsn(){return this.http.get(this.getResourceUrl(null,"next_asn"))}update(e){return e.created=void 0,e.remove_inbox_tags=!!this.settingsService.get(Me.DOCUMENT_EDITING_REMOVE_INBOX_TAGS),super.update(e)}uploadDocument(e){return this.http.post(this.getResourceUrl(null,"post_document"),e,{reportProgress:!0,observe:"events"})}getMetadata(e){return this.http.get(this.getResourceUrl(e,"metadata"))}bulkEdit(e,i,o){return this.http.post(this.getResourceUrl(null,"bulk_edit"),{documents:e,method:i,parameters:o})}getSelectionData(e){return this.http.post(this.getResourceUrl(null,"selection_data"),{documents:e})}getSuggestions(e){return this.http.get(this.getResourceUrl(e,"suggestions"))}getHistory(e){return this.http.get(this.getResourceUrl(e,"history"))}bulkDownload(e,i="both",o=!1){return this.http.post(this.getResourceUrl(null,"bulk_download"),{documents:e,content:i,follow_formatting:o},{responseType:"blob"})}set searchQuery(e){this._searchQuery=e.trim()}get searchQuery(){return this._searchQuery}emailDocument(e,i,o,s,r){return this.http.post(this.getResourceUrl(e,"email"),{addresses:i,subject:o,message:s,use_archive_version:r})}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji),Be(ti),Be(En),Be(C1))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Utt(t,n){if(1&t&&(d(0,"label",13),A(1),u()),2&t){const e=g();Ce("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function Wtt(t,n){if(1&t){const e=F();d(0,"button",14),T("click",function(){b(e);const o=g();return S(o.removed.emit(o))}),w(1,"i-bs",15),A(2,"\xa0"),ae(3),M(4,1),le(),u()}}function Ztt(t,n){if(1&t){const e=F();d(0,"button",16),T("click",function(){return b(e),S(g().nextAsn())}),A(1,"+1"),u()}2&t&&m("disabled",g().disabled)}function jtt(t,n){if(1&t&&(d(0,"small",12),A(1),u()),2&t){const e=g();_(),oe(e.hint)}}let Nu=(()=>{class t extends Gs{constructor(e){super(),this.documentService=e,this.showAdd=!0,this.step=1}nextAsn(){this.value||this.documentService.getNextAsn().subscribe(e=>{this.value=e,this.onChange(this.value)})}registerOnChange(e){this.onChange=i=>{1===this.step&&-1===i?.toString().indexOf("e")&&(i=parseInt(i,10)),.01===this.step&&(i=parseFloat(i).toFixed(2)),e(i)}}writeValue(e){.01===this.step&&(e=parseFloat(e).toFixed(2)),super.writeValue(e)}static{this.\u0275fac=function(i){return new(i||t)(x(So))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-number"]],inputs:{showAdd:"showAdd",step:"step"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:13,vars:19,consts:()=>{let e;return e="Remove",[["inputField",""],e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],[1,"input-group"],["type","number",1,"form-control",3,"ngModelChange","change","step","id","ngModel","disabled"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary",3,"disabled"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary",3,"click","disabled"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",2)(1,"div",3)(2,"div",4),y(3,Utt,2,4,"label",5)(4,Wtt,5,0,"button",6),u(),d(5,"div",7)(6,"div",8)(7,"input",9,0),je("ngModelChange",function(a){return b(s),$e(o.value,a)||(o.value=a),S(a)}),T("change",function(){return b(s),S(o.onChange(o.value))}),u(),y(9,Ztt,2,1,"button",10),u(),d(10,"div",11),A(11),u(),y(12,jtt,2,1,"small",12),u()()()}2&i&&(Ce("pb-3",o.error),_(2),Ce("col-md-3",o.horizontal),_(),N(o.title?3:-1),_(),N(o.removable?4:-1),_(),Ce("col-md-9",o.horizontal),_(),Ce("is-invalid",o.error),_(),Ce("is-invalid",o.error),m("step",o.step)("id",o.inputId),Ze("ngModel",o.value),m("disabled",o.disabled),_(2),N(o.showAdd?9:-1),_(2),Le(" ",o.error," "),_(),N(o.hint?12:-1))},dependencies:[Xt,Ti,Zl,jt,Rn,qt,Gt,Jt],encapsulation:2})}}return t})();const Xtt=()=>[];function Ktt(t,n){if(1&t&&(d(0,"label",13),A(1),u()),2&t){const e=g();Ce("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function qtt(t,n){if(1&t){const e=F();d(0,"button",14),T("click",function(){b(e);const o=g();return S(o.removed.emit(o))}),w(1,"i-bs",15),A(2,"\xa0"),ae(3),M(4,0),le(),u()}}function Ytt(t,n){if(1&t&&(d(0,"span",16),A(1),u()),2&t){const e=n.item,i=g();m("title",e[i.bindLabel]),_(),oe(e[i.bindLabel])}}function Qtt(t,n){if(1&t){const e=F();d(0,"button",17),T("click",function(){return b(e),S(g().addItem())}),w(1,"i-bs",18),u()}2&t&&m("disabled",g().disabled)}function Jtt(t,n){if(1&t){const e=F();d(0,"button",19),T("click",function(){return b(e),S(g().onFilterDocuments())}),w(1,"i-bs",20),u()}if(2&t){const e=g();ai("title",e.filterButtonTitle),m("disabled",e.isPrivate||null===e.value)}}function ent(t,n){if(1&t&&(d(0,"small",12),A(1),u()),2&t){const e=g();_(),oe(e.hint)}}function tnt(t,n){if(1&t){const e=F();d(0,"a",21),T("click",function(){const o=b(e).$implicit,s=g(2);return s.value=o.id,S(s.onChange(s.value))}),A(1),u(),A(2,"\xa0 ")}if(2&t){const e=n.$implicit;m("routerLink",kl(2,Xtt)),_(),oe(e.name)}}function nnt(t,n){if(1&t&&(d(0,"small")(1,"span"),M(2,1),u(),A(3,"\xa0 "),Ue(4,tnt,3,3,null,null,Ht),u()),2&t){const e=g();_(4),We(e.getSuggestions())}}let la=(()=>{class t extends Gs{constructor(){super(),this.allowNull=!1,this.multiple=!1,this.bindLabel="name",this.showFilter=!1,this.notFoundText="No items found",this.disableCreateNew=!1,this.hideAddButton=!1,this.createNew=new Ee,this.filterDocuments=new Ee,this.addItemRef=this.addItem.bind(this)}set items(e){this._items=e,e&&this.value&&this.checkForPrivateItems(this.value)}writeValue(e){e&&this._items&&(this.checkForPrivateItems(e),this.items=[...this._items]),super.writeValue(e)}checkForPrivateItems(e){Array.isArray(e)?e.length>0&&e.forEach(i=>this.checkForPrivateItem(i)):this.checkForPrivateItem(e)}checkForPrivateItem(e){void 0===this._items.find(i=>i.id===e)&&this._items.push({id:e,name:"Private",private:!0})}get items(){return this._items}get allowCreateNew(){return!this.disableCreateNew&&this.createNew.observers.length>0}get isPrivate(){return this.items?.find(e=>e.id===this.value)?.private}getSuggestions(){return this.suggestions&&this.items?this.suggestions.filter(e=>e!=this.value).map(e=>this.items.find(i=>i.id==e)):[]}addItem(e=null){this.createNew.next(e||this._lastSearchTerm),this.clearLastSearchTerm()}clickNew(){this.createNew.next(this._lastSearchTerm),this.clearLastSearchTerm()}clearLastSearchTerm(){this._lastSearchTerm=null}onSearch(e){this._lastSearchTerm=e.term}onBlur(){setTimeout(()=>{this.clearLastSearchTerm()},3e3)}onFilterDocuments(){this.filterDocuments.emit([this.items.find(e=>e.id===this.value)])}get filterButtonTitle(){return "Filter documents with this " + this.title + ""}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-select"]],inputs:{items:"items",textColor:"textColor",backgroundColor:"backgroundColor",allowNull:"allowNull",suggestions:"suggestions",placeholder:"placeholder",multiple:"multiple",bindLabel:"bindLabel",showFilter:"showFilter",notFoundText:"notFoundText",disableCreateNew:"disableCreateNew",hideAddButton:"hideAddButton"},outputs:{createNew:"createNew",filterDocuments:"filterDocuments"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:15,vars:32,consts:()=>{let e,i,o;return e="Add item",i="Remove",o="Suggestions:",[i,o,[1,"mb-3","paperless-input-select"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],["name","inputId","addTagText",e,"bindValue","id",3,"ngModelChange","change","search","focus","clear","blur","ngModel","disabled","clearable","items","addTag","placeholder","notFoundText","multiple","bindLabel"],["ng-option-tmp",""],["type","button",1,"btn","btn-outline-secondary",3,"disabled"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","title"],[1,"invalid-feedback"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],[3,"title"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","plus"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled","title"],["width","1.2em","height","1.2em","name","filter"],[3,"click","routerLink"]]},template:function(i,o){1&i&&(d(0,"div",2)(1,"div",3)(2,"div",4),y(3,Ktt,2,4,"label",5)(4,qtt,5,0,"button",6),u(),d(5,"div")(6,"div")(7,"ng-select",7),je("ngModelChange",function(r){return $e(o.value,r)||(o.value=r),r}),T("change",function(){return o.onChange(o.value)})("search",function(r){return o.onSearch(r)})("focus",function(){return o.clearLastSearchTerm()})("clear",function(){return o.clearLastSearchTerm()})("blur",function(){return o.onBlur()}),y(8,Ytt,2,2,"ng-template",8),u(),y(9,Qtt,2,1,"button",9)(10,Jtt,2,2,"button",10),u(),d(11,"div",11),A(12),u(),y(13,ent,2,1,"small",12)(14,nnt,6,0,"small"),u()()()),2&i&&(Ce("disabled",o.disabled),_(2),Ce("col-md-3",o.horizontal),_(),N(o.title?3:-1),_(),N(o.removable?4:-1),_(),Ce("col-md-9",o.horizontal),_(),Ce("input-group",o.allowCreateNew||o.showFilter)("is-invalid",o.error),_(),qr("color",o.textColor)("background",o.backgroundColor),Ce("private",o.isPrivate),Ze("ngModel",o.value),m("disabled",o.disabled)("clearable",o.allowNull)("items",o.items)("addTag",o.allowCreateNew&&o.addItemRef)("placeholder",o.placeholder)("notFoundText",o.notFoundText)("multiple",o.multiple)("bindLabel",o.bindLabel),_(2),N(o.allowCreateNew&&!o.hideAddButton?9:-1),_(),N(o.showFilter?10:-1),_(2),Le(" ",o.error," "),_(),N(o.hint?13:-1),_(),N(o.getSuggestions().length>0?14:-1))},dependencies:[up,Q0,X6,Xt,jt,Rn,qt,aa,Vr,Gt,Jt],styles:[".paperless-input-select.disabled[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], .paperless-input-select.disabled[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-disabled)!important}  .private .ng-value-container{font-style:italic;opacity:.75}  .is-invalid ng-select .ng-select-container input{padding-right:calc(1.5em + .75rem)!important;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")!important;background-repeat:no-repeat!important;background-position:right calc(.375em + .1875rem) center!important;background-size:calc(.75em + .375rem) calc(.75em + .375rem)!important}.input-group[_ngcontent-%COMP%]   .ng-select-taggable[_ngcontent-%COMP%]:first-child:nth-last-child(2){max-width:calc(100% - 45px)}.input-group[_ngcontent-%COMP%]   .ng-select-taggable[_ngcontent-%COMP%]:first-child:nth-last-child(3){max-width:calc(100% - 90px)}"]})}}return t})();const int=(t,n)=>({"align-items-center":t,"d-flex":n});function ont(t,n){1&t&&w(0,"i-bs",13)}function snt(t,n){if(1&t){const e=F();d(0,"button",15),T("click",function(){b(e);const o=g(2);return S(o.removed.emit(o))}),w(1,"i-bs",16),A(2,"\xa0"),ae(3),M(4,2),le(),u()}}function rnt(t,n){if(1&t&&(d(0,"div",6)(1,"label",12),A(2),y(3,ont,1,0,"i-bs",13),u(),y(4,snt,5,0,"button",14),u()),2&t){const e=g(),i=Ve(10);_(),m("for",e.inputId)("ngbTooltip",e.showUnsetNote&&e.isUnset?i:null),_(),Le(" ",e.title," "),_(),N(e.showUnsetNote&&e.isUnset?3:-1),_(),N(e.removable?4:-1)}}function ant(t,n){1&t&&(A(0," \xa0"),w(1,"i-bs",13))}function lnt(t,n){if(1&t&&(d(0,"label",17),A(1),y(2,ant,2,0),u()),2&t){const e=g(),i=Ve(10);Ce("text-muted",e.showUnsetNote&&e.isUnset),m("for",e.inputId)("ngbTooltip",e.showUnsetNote&&e.isUnset?i:null),_(),Le(" ",e.title," "),_(),N(e.showUnsetNote&&e.isUnset?2:-1)}}function cnt(t,n){if(1&t&&(d(0,"div",11),A(1),u()),2&t){const e=g();_(),oe(e.hint)}}function dnt(t,n){1&t&&(d(0,"span",18),M(1,3),u())}let vm=(()=>{class t extends Gs{constructor(){super(),this.showUnsetNote=!1}get isUnset(){return null==this.value}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-switch"]],inputs:{showUnsetNote:"showUnsetNote"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:11,vars:10,consts:()=>{let e,i;return e="Remove",i="Note: value has not yet been set and will not apply until explicitly changed",[["inputField",""],["tipContent",""],e,i,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container","col-md-3"],[3,"ngClass"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","blur","id","ngModel","disabled"],["placement","end",1,"form-check-label",3,"text-muted","for","ngbTooltip"],[1,"form-text","text-muted"],["placement","end",1,"form-label",3,"for","ngbTooltip"],["width","0.9em","height","0.9em","name","exclamation-triangle"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],["placement","end",1,"form-check-label",3,"for","ngbTooltip"],[1,"text-light","fst-italic"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",4)(1,"div",5),y(2,rnt,5,5,"div",6),d(3,"div",7)(4,"div",8)(5,"input",9,0),je("ngModelChange",function(a){return b(s),$e(o.value,a)||(o.value=a),S(a)}),T("change",function(){return b(s),S(o.onChange(o.value))})("blur",function(){return b(s),S(o.onTouched())}),u(),y(7,lnt,3,6,"label",10)(8,cnt,2,1,"div",11),u()()()(),y(9,dnt,2,0,"ng-template",null,1,zt)}2&i&&(_(2),N(o.horizontal?-1:2),_(),m("ngClass",Pe(7,int,o.horizontal,o.horizontal)),_(2),m("id",o.inputId),Ze("ngModel",o.value),m("disabled",o.disabled),_(2),N(o.horizontal?7:-1),_(),N(o.hint?8:-1))},dependencies:[Xt,Zo,jt,Rn,qt,Dr,Pd,lp],encapsulation:2})}}return t})(),vc=(()=>{class t{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static{this.\u0275fac=function(i){return new(i||t)(x(iM,16))}}static{this.\u0275pipe=eo({name:"safeHtml",type:t,pure:!0})}}return t})();function unt(t,n){if(1&t&&(d(0,"label",11),A(1),u()),2&t){const e=g();Ce("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function hnt(t,n){if(1&t){const e=F();d(0,"button",12),T("click",function(){b(e);const o=g();return S(o.removed.emit(o))}),w(1,"i-bs",13),A(2,"\xa0"),ae(3),M(4,1),le(),u()}}function _nt(t,n){1&t&&(w(0,"small",9),ye(1,"safeHtml")),2&t&&m("innerHTML",Ke(1,1,g().hint),vo)}let gr=(()=>{class t extends Gs{constructor(){super(),this.placeholder=""}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-text"]],inputs:{autocomplete:"autocomplete",placeholder:"placeholder"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:11,vars:17,consts:()=>{let e;return e="Remove",[["inputField",""],e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],["type","text",1,"form-control",3,"ngModelChange","change","id","ngModel","disabled","autocomplete","placeholder"],[1,"form-text","text-muted",3,"innerHTML"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",2)(1,"div",3)(2,"div",4),y(3,unt,2,4,"label",5)(4,hnt,5,0,"button",6),u(),d(5,"div",7)(6,"input",8,0),je("ngModelChange",function(a){return b(s),$e(o.value,a)||(o.value=a),S(a)}),T("change",function(){return b(s),S(o.onChange(o.value))}),u(),y(8,_nt,2,3,"small",9),d(9,"div",10),A(10),u()()()()}2&i&&(Ce("pb-3",o.error),_(2),Ce("col-md-3",o.horizontal),_(),N(o.title?3:-1),_(),N(o.removable?4:-1),_(),Ce("col-md-9",o.horizontal),_(),Ce("is-invalid",o.error),m("id",o.inputId),Ze("ngModel",o.value),m("disabled",o.disabled)("autocomplete",o.autocomplete)("placeholder",o.placeholder),_(2),N(o.hint?8:-1),_(2),Le(" ",o.error," "))},dependencies:[Xt,Ti,jt,Rn,qt,vc,Gt,Jt],encapsulation:2})}}return t})();const pnt=["*"];function gnt(t,n){if(1&t&&(d(0,"span",5),A(1),u()),2&t){const e=g();_(),oe(e.subTitle)}}function fnt(t,n){1&t&&(d(0,"a",10),M(1,1),u(),w(2,"i-bs",11)),2&t&&Kt("href","https://docs.paperless-ngx.com/",g(3).infoLink,"",cs)}function mnt(t,n){if(1&t&&(w(0,"p",9),y(1,fnt,3,2)),2&t){const e=g(2);Ce("mb-0",!e.infoLink),m("innerHTML",e.info,vo),_(),N(e.infoLink?1:-1)}}function vnt(t,n){1&t&&(d(0,"button",7),w(1,"i-bs",8),u(),y(2,mnt,2,4,"ng-template",null,0,zt)),2&t&&m("ngbPopover",Ve(3))("autoClose",!0)}let or=(()=>{class t{constructor(e){this.titleService=e,this._title="",this.subTitle=""}set title(e){this._title=e,this.titleService.setTitle(`${this.title} - ${gi.appTitle}`)}get title(){return this._title}static{this.\u0275fac=function(i){return new(i||t)(x(sR))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-page-header"]],inputs:{title:"title",subTitle:"subTitle",info:"info",infoLink:"infoLink"},ngContentSelectors:pnt,decls:8,vars:3,consts:()=>{let e,i;return e="What's this?",i="Read more",[["infoPopover",""],i,[1,"row","pt-3","pb-3","pb-md-2","align-items-center"],[1,"col-md","text-truncate"],[1,"text-truncate",2,"line-height","1.4"],[1,"h6","mb-0","d-block","d-md-inline","fw-normal","ms-md-3","text-truncate",2,"line-height","1.4"],[1,"btn-toolbar","col","col-md-auto","gap-2"],["title",e,"type","button",1,"btn","btn-sm","btn-link","text-muted","me-auto","p-0","p-md-2",3,"ngbPopover","autoClose"],["name","question-circle"],[3,"innerHTML"],["target","_blank","referrerpolicy","noopener noreferrer",3,"href"],["width",".8em","height",".8em","name","box-arrow-up-right",1,"ms-1"]]},template:function(i,o){1&i&&(Ys(),d(0,"div",2)(1,"div",3)(2,"h3",4),A(3),y(4,gnt,2,1,"span",5)(5,vnt,4,2),u()(),d(6,"div",6),ks(7),u()()),2&i&&(_(3),Le(" ",o.title," "),_(),N(o.subTitle?4:-1),_(),N(o.info?5:-1))},dependencies:[Pa,Da,Gt,Jt,hc],styles:["h3[_ngcontent-%COMP%]{min-height:calc(1.325rem + .9vw)}@media (min-width: 1200px){h3[_ngcontent-%COMP%]{min-height:2.8rem}}"]})}}return t})();class ca{constructor(){this.PermissionAction=mt,this.PermissionType=Ct}}let ns=(()=>{class t extends ca{constructor(){super(),this.loading=!0,this.show=!1,this.unsubscribeNotifier=new xe}ngOnDestroy(){this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,features:[st]})}}return t})(),Cnt=(()=>{class t{constructor(e){this.http=e,this.baseUrl=gi.apiBaseUrl+"config/"}getConfig(){return this.http.get(this.baseUrl).pipe(ut(),Tt(e=>e[0]))}saveConfig(e){return"string"==typeof e.app_logo&&delete e.app_logo,this.http.patch(`${this.baseUrl}${e.id}/`,e).pipe(ut())}uploadFile(e,i,o){let s=new FormData;return s.append(o,e,e.name),this.http.patch(`${this.baseUrl}${i}/`,s).pipe(ut())}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Mnt=(t,n)=>n.key;function Tnt(t,n){if(1&t&&w(0,"pngx-input-select",24),2&t){const e=g().$implicit,i=g(3);m("formControlName",e.key)("error",i.errors[e.key])("items",e.choices)("allowNull",!0)}}function wnt(t,n){if(1&t&&w(0,"pngx-input-number",25),2&t){const e=g().$implicit,i=g(3);m("formControlName",e.key)("error",i.errors[e.key])("showAdd",!1)}}function bnt(t,n){if(1&t&&w(0,"pngx-input-switch",26),2&t){const e=g().$implicit,i=g(3);m("formControlName",e.key)("error",i.errors[e.key])("showUnsetNote",!0)("horizontal",!0)}}function Snt(t,n){if(1&t&&w(0,"pngx-input-text",27),2&t){const e=g().$implicit,i=g(3);m("formControlName",e.key)("error",i.errors[e.key])}}function Ent(t,n){if(1&t&&w(0,"pngx-input-text",27),2&t){const e=g().$implicit,i=g(3);m("formControlName",e.key)("error",i.errors[e.key])}}function Ant(t,n){if(1&t){const e=F();d(0,"pngx-input-file",28),T("upload",function(o){b(e);const s=g().$implicit;return S(g(3).uploadFile(o,s.key))}),u()}if(2&t){const e=g().$implicit,i=g(3);m("formControlName",e.key)("error",i.errors[e.key])}}function Ont(t,n){if(1&t&&(d(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h6"),A(5),d(6,"a",21),w(7,"i-bs",22),u()()(),d(8,"div",23),y(9,Tnt,1,4,"pngx-input-select",24)(10,wnt,1,3,"pngx-input-number",25)(11,bnt,1,4,"pngx-input-switch",26)(12,Snt,1,2,"pngx-input-text",27)(13,Ent,1,2,"pngx-input-text",27)(14,Ant,1,2,"pngx-input-file",27),u()()()()),2&t){let e;const i=n.$implicit,o=g(3);_(5),Le(" ",i.title," "),_(),m("href",o.getDocsUrl(i.config_key),cs),_(3),N((e=i.type)===o.ConfigOptionType.Select?9:e===o.ConfigOptionType.Number?10:e===o.ConfigOptionType.Boolean?11:e===o.ConfigOptionType.String?12:e===o.ConfigOptionType.JSON?13:e===o.ConfigOptionType.File?14:-1)}}function ynt(t,n){if(1&t&&(d(0,"div",15)(1,"div",16),Ue(2,Ont,15,3,"div",17,Mnt),u()()),2&t){const e=g().$implicit,i=g();_(2),We(i.getCategoryOptions(e))}}function Nnt(t,n){if(1&t&&(d(0,"li",6)(1,"a",13),A(2),u(),y(3,ynt,4,0,"ng-template",14),u()),2&t){const e=n.$implicit;m("ngbNavItem",e),_(2),oe(e)}}let Dnt=(()=>{class t extends ns{get optionCategories(){return Object.values(pr)}getCategoryOptions(e){return Dw.filter(i=>i.category===e)}constructor(e,i,o){super(),this.configService=e,this.toastService=i,this.settingsService=o,this.ConfigOptionType=$s,this.configForm=new Kn({}),this.errors={},this.configForm.addControl("id",new de),Dw.forEach(s=>{this.configForm.addControl(s.key,new de)})}ngOnInit(){this.configService.getConfig().pipe(Te(this.unsubscribeNotifier)).subscribe({next:e=>{this.loading=!1,this.initialize(e)},error:e=>{this.loading=!1,this.toastService.showError("Error retrieving config",e)}}),Dw.filter(e=>e.type===$s.JSON).forEach(e=>{this.configForm.get(e.key).addValidators(i=>{if(!i.value||0===i.value.toString().length)return null;try{JSON.parse(i.value)}catch(o){return[{user_args:o}]}return null}),this.configForm.get(e.key).statusChanges.subscribe(i=>{this.errors[e.key]="INVALID"===i?"Invalid JSON":null}),this.configForm.get(e.key).updateValueAndValidity()})}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}initialize(e){this.store||(this.store=new ui(e),this.store.asObservable().pipe(Te(this.unsubscribeNotifier)).subscribe(i=>{this.configForm.patchValue(i,{emitEvent:!1})}),this.isDirty$=rm(this.configForm,this.store.asObservable())),this.configForm.patchValue(e),this.initialConfig=e}getDocsUrl(e){return`https://docs.paperless-ngx.com/configuration/#${e}`}saveConfig(){this.loading=!0,this.configService.saveConfig(this.configForm.value).pipe(Te(this.unsubscribeNotifier),ut()).subscribe({next:e=>{this.loading=!1,this.initialize(e),this.store.next(e),this.settingsService.initializeSettings().subscribe(),this.toastService.showInfo("Configuration updated")},error:e=>{this.loading=!1,this.toastService.showError("An error occurred updating configuration",e)}})}discardChanges(){this.configForm.reset(this.initialConfig)}uploadFile(e,i){this.loading=!0,this.configService.uploadFile(e,this.configForm.value.id,i).pipe(Te(this.unsubscribeNotifier),ut()).subscribe({next:o=>{this.loading=!1,this.initialize(o),this.store.next(o),this.settingsService.initializeSettings().subscribe(),this.toastService.showInfo("File successfully updated")},error:o=>{this.loading=!1,this.toastService.showError("An error occurred uploading file",o)}})}static{this.\u0275fac=function(i){return new(i||t)(x(Cnt),x(Fi),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-config"]],features:[st],decls:16,vars:8,consts:()=>{let e,i,o,s,r,a;return e="Application Configuration",i="Global app configuration options which apply to <strong>every</strong> user of this install of Paperless-ngx. Options can also be set using environment variables or the configuration file but the value here will always take precedence.",o="Discard",s="Save",r="Read the documentation about this setting",a="Enable",[["nav","ngbNav"],o,s,["title",e,"info",i,"infoLink","configuration"],[1,"pb-4",3,"ngSubmit","formGroup"],["ngbNav","",1,"nav-tabs"],[3,"ngbNavItem"],[1,"border-start","border-end","border-bottom","p-3","mb-3","shadow-sm",3,"ngbNavOutlet"],["role","toolbar",1,"btn-toolbar"],[1,"btn-group","me-2"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"btn-group"],["type","submit",1,"btn","btn-primary",3,"disabled"],["ngbNavLink",""],["ngbNavContent",""],[1,"p-3"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","g-2"],[1,"col"],[1,"card","bg-light"],[1,"card-body"],[1,"card-title"],["title",r,"target","_blank","referrerpolicy","no-referrer",1,"btn","btn-sm","btn-link",3,"href"],["name","info-circle"],[1,"mb-n3"],[3,"formControlName","error","items","allowNull"],[3,"formControlName","error","showAdd"],["title",a,3,"formControlName","error","showUnsetNote","horizontal"],[3,"formControlName","error"],[3,"upload","formControlName","error"]]},template:function(i,o){if(1&i){const s=F();w(0,"pngx-page-header",3),d(1,"form",4),T("ngSubmit",function(){return b(s),S(o.saveConfig())}),d(2,"ul",5,0),Ue(4,Nnt,4,2,"li",6,Ht),u(),w(6,"div",7),d(7,"div",8)(8,"div",9)(9,"button",10),ye(10,"async"),T("click",function(){return b(s),S(o.discardChanges())}),M(11,1),u()(),d(12,"div",11)(13,"button",12),ye(14,"async"),M(15,2),u()()()()}if(2&i){const s=Ve(3);_(),m("formGroup",o.configForm),_(3),We(o.optionCategories),_(2),m("ngbNavOutlet",s),_(3),m("disabled",o.loading||!1===Ke(10,4,o.isDirty$)),_(4),m("disabled",o.loading||!o.configForm.valid||!1===Ke(14,6,o.isDirty$))}},dependencies:[or,la,vm,gr,Nu,att,Aa,nc,Z2,g0,tc,j2,X2,q0,K2,Xt,Oo,jt,Mo,qt,co,To,Gt,Jt],encapsulation:2})}}return t})(),Pnt=(()=>{class t{constructor(e){this.http=e}list(){return this.http.get(`${gi.apiBaseUrl}logs/`)}get(e){return this.http.get(`${gi.apiBaseUrl}logs/${e}/`)}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Int=["logContainer"];function xnt(t,n){if(1&t&&(d(0,"li",10)(1,"a",15),A(2),u()()),2&t){const e=n.$implicit;m("ngbNavItem",e),_(2),Le(" ",e,".log ")}}function Lnt(t,n){1&t&&(ae(0),M(1,3),le())}function Rnt(t,n){if(1&t&&(d(0,"div",11),w(1,"div",16),y(2,Lnt,2,0,"ng-container"),u()),2&t){const e=g();_(2),N(e.logFiles.length?-1:2)}}function Fnt(t,n){1&t&&(d(0,"div"),w(1,"div",16),ae(2),M(3,4),le(),u())}function knt(t,n){if(1&t&&(d(0,"p"),A(1),u()),2&t){const e=n.$implicit;jh("m-0 p-0 log-entry-",g().getLogLevel(e),""),_(),oe(e)}}let znt=(()=>{class t extends ns{constructor(e,i){super(),this.logService=e,this.changedetectorRef=i,this.logs=[],this.logFiles=[],this.autoRefreshEnabled=!0}ngOnInit(){this.logService.list().pipe(Te(this.unsubscribeNotifier)).subscribe(e=>{this.logFiles=e,this.loading=!1,this.logFiles.length>0&&(this.activeLog=this.logFiles[0],this.reloadLogs()),hd(5e3,5e3).pipe(li(()=>this.autoRefreshEnabled),Te(this.unsubscribeNotifier)).subscribe(()=>{this.reloadLogs()})})}ngOnDestroy(){super.ngOnDestroy()}reloadLogs(){this.loading=!0,this.logService.get(this.activeLog).pipe(Te(this.unsubscribeNotifier)).subscribe({next:e=>{this.logs=e,this.loading=!1,this.scrollToBottom()},error:()=>{this.logs=[],this.loading=!1}})}getLogLevel(e){return-1!=e.indexOf("[DEBUG]")?10:-1!=e.indexOf("[WARNING]")?30:-1!=e.indexOf("[ERROR]")?40:-1!=e.indexOf("[CRITICAL]")?50:20}scrollToBottom(){this.changedetectorRef.detectChanges(),this.logContainer?.nativeElement.scroll({top:this.logContainer.nativeElement.scrollHeight,left:0,behavior:"auto"})}static{this.\u0275fac=function(i){return new(i||t)(x(Pnt),x(Ss))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-logs"]],viewQuery:function(i,o){if(1&i&&dn(Int,5),2&i){let s;pt(s=gt())&&(o.logContainer=s.first)}},features:[st],decls:16,vars:5,consts:()=>{let e,i,o,s,r;return e="Logs",i="Review the log files for the application and for email checking.",o="Auto refresh",s="Loading...",r="Loading...",[["nav","ngbNav"],["logContainer",""],o,s,r,["title",e,"info",i],[1,"form-check","form-switch"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModelChange","ngModel"],["for","autoRefreshSwitch",1,"form-check-label"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],[1,"ps-2","d-flex","align-items-center"],[1,"mt-2",3,"ngbNavOutlet"],[1,"bg-dark","p-3","text-light","font-monospace","log-container"],[3,"class"],["ngbNavLink",""],["role","status",1,"spinner-border","spinner-border-sm","me-2"]]},template:function(i,o){if(1&i){const s=F();d(0,"pngx-page-header",5)(1,"div",6)(2,"input",7),je("ngModelChange",function(a){return b(s),$e(o.autoRefreshEnabled,a)||(o.autoRefreshEnabled=a),S(a)}),u(),d(3,"label",8),M(4,2),u()()(),d(5,"ul",9,0),je("activeIdChange",function(a){return b(s),$e(o.activeLog,a)||(o.activeLog=a),S(a)}),T("activeIdChange",function(){return b(s),S(o.reloadLogs())}),Ue(7,xnt,3,2,"li",10,Ht),y(9,Rnt,3,1,"div",11),u(),w(10,"div",12),d(11,"div",13,1),y(13,Fnt,4,0,"div"),Ue(14,knt,2,4,"p",14,g2),u()}if(2&i){const s=Ve(6);_(2),Ze("ngModel",o.autoRefreshEnabled),_(3),Ze("activeId",o.activeLog),_(2),We(o.logFiles),_(2),N(o.loading||!o.logFiles.length?9:-1),_(),m("ngbNavOutlet",s),_(3),N(o.loading&&o.logFiles.length?13:-1),_(),We(o.logs)}},dependencies:[or,nc,g0,tc,j2,X2,q0,K2,Xt,Zo,jt,Rn,qt],styles:[".log-entry-10[_ngcontent-%COMP%]{color:#789!important}.log-entry-30[_ngcontent-%COMP%]{color:#ff0!important}.log-entry-40[_ngcontent-%COMP%]{color:red!important}.log-entry-50[_ngcontent-%COMP%]{color:#f08080!important;font-weight:700}.log-container[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 200px);top:70px}.log-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}}return t})();var Cc=function(t){return t.OK="OK",t.ERROR="ERROR",t.WARNING="WARNING",t}(Cc||{});let Ro=(()=>{class t{constructor(e,i,o){this.viewContainerRef=e,this.templateRef=i,this.permissionsService=o}ngOnInit(){[].concat(this.pngxIfPermissions).every(e=>this.permissionsService.currentUserCan(e.action,e.type))?this.viewContainerRef.createEmbeddedView(this.templateRef):this.viewContainerRef.clear()}static{this.\u0275fac=function(i){return new(i||t)(x(qs),x(nn),x(ti))}}static{this.\u0275dir=et({type:t,selectors:[["","pngxIfPermissions",""]],inputs:{pngxIfPermissions:"pngxIfPermissions"}})}}return t})();const Hnt={longDate:"y-MM-dd",mediumDate:"y-MM-dd",shortDate:"y-MM-dd"},Cm={year:{label:"Last year",labelPlural:"%s years ago",interval:31536e3},month:{label:"Last month",labelPlural:"%s months ago",interval:2592e3},week:{label:"Last week",labelPlural:"%s weeks ago",interval:604800},day:{label:"Yesterday",labelPlural:"%s days ago",interval:86400},hour:{label:"%s hour ago",labelPlural:"%s hours ago",interval:3600},minute:{label:"%s minute ago",labelPlural:"%s minutes ago",interval:60}};let fr=(()=>{class t{constructor(e,i,o){this.datePipe=i,this.settings=o,this.defaultLocale=e}transform(e,i,o,s){let r=s||this.settings.get(Me.DATE_LOCALE)||this.defaultLocale,a=i||this.settings.get(Me.DATE_FORMAT);if("relative"===i){const l=Math.floor((+new Date-+new Date(e))/1e3);if(l<60)return "Just now";let c;for(const h in Cm)if(c=Math.floor(l/Cm[h].interval),c>0)return(c>1?Cm[h].labelPlural:Cm[h].label).replace("%s",c.toString())}return"iso-8601"==r?this.datePipe.transform(e,Hnt[a],o):this.datePipe.transform(e,i||this.settings.get(Me.DATE_FORMAT),o,r)}static{this.\u0275fac=function(i){return new(i||t)(x(ea,16),x(UC,16),x(En,16))}}static{this.\u0275pipe=eo({name:"customDate",type:t,pure:!0})}}return t})();const $nt=(t,n,e)=>({"col-md-9":t,"align-items-center":n,"d-flex":e});function Gnt(t,n){if(1&t){const e=F();d(0,"button",12),T("click",function(){b(e);const o=g(2);return S(o.removed.emit(o))}),w(1,"i-bs",13),A(2,"\xa0"),ae(3),M(4,1),le(),u()}}function Bnt(t,n){if(1&t&&(d(0,"div",4)(1,"label",10),A(2),u(),y(3,Gnt,5,0,"button",11),u()),2&t){const e=g();_(),Ce("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title),_(),N(e.removable?3:-1)}}function Unt(t,n){if(1&t&&(d(0,"label",8),A(1),u()),2&t){const e=g();m("for",e.inputId),_(),oe(e.title)}}function Wnt(t,n){if(1&t&&(d(0,"div",9),A(1),u()),2&t){const e=g();_(),oe(e.hint)}}let dl=(()=>{class t extends Gs{constructor(){super()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-check"]],features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:9,vars:11,consts:()=>{let e;return e="Remove",[["inputField",""],e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container","col-md-3"],[3,"ngClass"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","blur","id","ngModel","disabled"],[1,"form-check-label",3,"for"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",2)(1,"div",3),y(2,Bnt,4,5,"div",4),d(3,"div",5)(4,"div",6)(5,"input",7,0),je("ngModelChange",function(a){return b(s),$e(o.value,a)||(o.value=a),S(a)}),T("change",function(){return b(s),S(o.onChange(o.value))})("blur",function(){return b(s),S(o.onTouched())}),u(),y(7,Unt,2,2,"label",8)(8,Wnt,2,1,"div",9),u()()()()}2&i&&(_(2),N(o.horizontal?2:-1),_(),m("ngClass",ld(7,$nt,o.horizontal,o.horizontal,o.horizontal)),_(2),m("id",o.inputId),Ze("ngModel",o.value),m("disabled",o.disabled),_(2),N(o.horizontal?-1:7),_(),N(o.hint?8:-1))},dependencies:[Xt,Zo,jt,Rn,qt,Dr,Gt,Jt],encapsulation:2})}}return t})();function Znt(t,n){if(1&t&&(d(0,"label",3),A(1),u()),2&t){const e=g();m("for",e.inputId),_(),oe(e.title)}}function jnt(t,n){if(1&t){const e=F();d(0,"div",11)(1,"color-slider",12),T("onChangeComplete",function(o){return b(e),S(g().colorChanged(o.color.hex))}),u()()}if(2&t){const e=g();_(),m("color",e.value)}}function Xnt(t,n){if(1&t&&(d(0,"small",9),A(1),u()),2&t){const e=g();_(),oe(e.hint)}}let TB=(()=>{class t extends Gs{constructor(){super()}randomize(){this.colorChanged(MB())}colorChanged(e){this.value=e,this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-color"]],features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:14,vars:13,consts:[["popContent",""],["inputField",""],[1,"mb-3"],[3,"for"],[1,"input-group"],[1,"input-group-text"],["placement","bottom","popoverClass","shadow",1,"form-control",3,"ngModelChange","change","id","ngModel","autoClose","ngbPopover"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["name","dice5"],[1,"form-text","text-muted"],[1,"invalid-feedback"],[1,"pb-3",2,"min-width","200px"],[3,"onChangeComplete","color"]],template:function(i,o){if(1&i){const s=F();d(0,"div",2),y(1,Znt,2,2,"label",3),d(2,"div",4)(3,"span",5),A(4,"\xa0\xa0\xa0"),u(),y(5,jnt,2,1,"ng-template",null,0,zt),d(7,"input",6,1),je("ngModelChange",function(a){return b(s),$e(o.value,a)||(o.value=a),S(a)}),T("change",function(){return b(s),S(o.onChange(o.value))}),u(),d(9,"button",7),T("click",function(){return b(s),S(o.randomize())}),w(10,"i-bs",8),u()(),y(11,Xnt,2,1,"small",9),d(12,"div",10),A(13),u()()}if(2&i){const s=Ve(6);_(),N(o.title?1:-1),_(),Ce("is-invalid",o.error),_(),qr("background-color",o.value),_(4),Ce("is-invalid",o.error),m("id",o.inputId),Ze("ngModel",o.value),m("autoClose","outside")("ngbPopover",s),_(4),N(o.hint?11:-1),_(2),Le(" ",o.error," ")}},dependencies:[Gt,Jt,Pa,Da,Xt,Ti,jt,Rn,qt,$H,vWe],encapsulation:2})}}return t})();var Mm=function(t){return t.SetPermissions="set_permissions",t.Delete="delete",t}(Mm||{});class Mc extends cl{listFiltered(n,e,i,o,s,r,a){let l=a??{};return s&&(l.name__icontains=s),r&&(l.full_perms=!0),this.list(n,e,i,o,l)}bulk_edit_objects(n,e,i=null,o=null){const s={objects:n,object_type:this.resourceName,operation:e};return e===Mm.SetPermissions&&(s.owner=i?.owner,s.permissions=i?.set_permissions,s.merge=o),this.http.post(`${this.baseUrl}bulk_edit_objects/`,s)}}let ag=(()=>{class t extends Mc{constructor(e,i){super(e,"groups"),this.permissionService=i}update(e){return this.getCached(e.id).pipe(Mi(i=>(i.permissions?.forEach(o=>{const{typeKey:s,actionKey:r}=this.permissionService.getPermissionKeys(o);(!s||!r)&&e.permissions.push(o)}),super.update(e))))}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji),Be(ti))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tb=(()=>{class t extends Gs{constructor(e){super(),e.listAll().pipe(ut()).subscribe(i=>this.groups=i.results)}static{this.\u0275fac=function(i){return new(i||t)(x(ag))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-permissions-group"]],features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:3,vars:5,consts:[[1,"paperless-input-select"],["name","inputId","clearable","true","multiple","true","bindLabel","name","bindValue","id",3,"ngModelChange","change","ngModel","disabled","items"]],template:function(i,o){1&i&&(d(0,"div",0)(1,"div")(2,"ng-select",1),je("ngModelChange",function(r){return $e(o.value,r)||(o.value=r),r}),T("change",function(){return o.onChange(o.value)}),u()()()),2&i&&(Ce("disabled",o.disabled),_(2),Ze("ngModel",o.value),m("disabled",o.disabled)("items",o.groups))},dependencies:[Q0,Xt,jt,Rn,qt],styles:[".paperless-input-select.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-disabled)!important}"]})}}return t})(),gs=(()=>{class t extends Mc{constructor(e,i){super(e,"users"),this.permissionService=i}update(e){return this.getCached(e.id).pipe(Mi(i=>(i.user_permissions?.forEach(o=>{const{typeKey:s,actionKey:r}=this.permissionService.getPermissionKeys(o);(!s||!r)&&e.user_permissions.push(o)}),super.update(e))))}deactivateTotp(e){return this.http.post(`${this.getResourceUrl(e.id,"deactivate_totp")}`,null)}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji),Be(ti))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nb=(()=>{class t extends Gs{constructor(e,i){super(),e.listAll().pipe(ut()).subscribe(o=>this.users=o.results)}static{this.\u0275fac=function(i){return new(i||t)(x(gs),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-permissions-user"]],features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:3,vars:5,consts:[[1,"paperless-input-select"],["name","inputId","clearable","true","multiple","true","bindLabel","username","bindValue","id",3,"ngModelChange","change","ngModel","disabled","items"]],template:function(i,o){1&i&&(d(0,"div",0)(1,"div")(2,"ng-select",1),je("ngModelChange",function(r){return $e(o.value,r)||(o.value=r),r}),T("change",function(){return o.onChange(o.value)}),u()()()),2&i&&(Ce("disabled",o.disabled),_(2),Ze("ngModel",o.value),m("disabled",o.disabled)("items",o.users))},dependencies:[Q0,Xt,jt,Rn,qt],styles:[".paperless-input-select.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-disabled)!important}"]})}}return t})();class qnt{_document;_textarea;constructor(n,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),o=i.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",i.setAttribute("aria-hidden","true"),i.value=n,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){const n=this._textarea;let e=!1;try{if(n){const i=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let Tm=(()=>{class t{_document=$(Xn);constructor(){}copy(e){const i=this.beginCopy(e),o=i.copy();return i.destroy(),o}beginCopy(e){return new qnt(e,this._document)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ynt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Bn({type:t});static \u0275inj=Vn({})}return t})();var ib=function(t){return t.ConsumeFile="consume_file",t.TrainClassifier="train_classifier",t.SanityCheck="check_sanity",t.IndexOptimize="index_optimize",t}(ib||{}),lg=function(t){return t.Pending="PENDING",t.Started="STARTED",t.Complete="SUCCESS",t.Failed="FAILURE",t}(lg||{});const Jnt={bytes:0,KB:0,MB:1,GB:1,TB:2,PB:2};let wB=(()=>{class t{constructor(){this.units=["bytes","KB","MB","GB","TB","PB"]}transform(e=0,i=Jnt){if(isNaN(parseFloat(String(e)))||!isFinite(e))return"?";let o=0;for(;e>=1024;)e/=1024,o++;const s=this.units[o];return"number"==typeof i?`${e.toFixed(+i)} ${s}`:`${e.toFixed(i[s])} ${s}`}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=eo({name:"fileSize",type:t,pure:!0})}}return t})(),bB=(()=>{class t{constructor(e){this.http=e,this.endpoint="status"}get(){return this.http.get(`${gi.apiBaseUrl}${this.endpoint}/`)}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wm=(()=>{class t{get total(){return this.fileTasks.length}get allFileTasks(){return this.fileTasks.slice(0)}get queuedFileTasks(){return this.fileTasks.filter(e=>e.status==lg.Pending)}get startedFileTasks(){return this.fileTasks.filter(e=>e.status==lg.Started)}get completedFileTasks(){return this.fileTasks.filter(e=>e.status==lg.Complete)}get failedFileTasks(){return this.fileTasks.filter(e=>e.status==lg.Failed)}constructor(e){this.http=e,this.baseUrl=gi.apiBaseUrl,this.endpoint="tasks",this.fileTasks=[],this.unsubscribeNotifer=new xe}reload(){this.loading||(this.loading=!0,this.http.get(`${this.baseUrl}${this.endpoint}/?task_name=consume_file&acknowledged=false`).pipe(Te(this.unsubscribeNotifer),ut()).subscribe(e=>{this.fileTasks=e.filter(i=>i.task_name==ib.ConsumeFile),this.loading=!1}))}dismissTasks(e){this.http.post(`${this.baseUrl}tasks/acknowledge/`,{tasks:[...e]}).pipe(ut()).subscribe(i=>{this.reload()})}cancelPending(){this.unsubscribeNotifer.next(!0)}run(e){return this.http.post(`${gi.apiBaseUrl}${this.endpoint}/run/`,{task_name:e})}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function eit(t,n){1&t&&(d(0,"div",44)(1,"div"),w(2,"div",48),ae(3),M(4,9),le(),u()())}function tit(t,n){1&t&&w(0,"i-bs",58)}function nit(t,n){1&t&&w(0,"i-bs",59)}function iit(t,n){1&t&&A(0),2&t&&Le(" ",g(3).status.database.url," ")}function oit(t,n){if(1&t&&A(0),2&t){const e=g(3);Sa(" ",e.status.database.url,": ",e.status.database.error," ")}}function sit(t,n){1&t&&y(0,iit,1,1)(1,oit,1,2),2&t&&N("OK"===g(2).status.database.status?0:1)}function rit(t,n){1&t&&(ae(0),M(1,28),le(),w(2,"i-bs",58))}function ait(t,n){if(1&t&&(ae(0),A(1),le(),w(2,"i-bs",62)),2&t){const e=g(2);_(),Le("",e.status.database.migration_status.unapplied_migrations.length," Pending")}}function lit(t,n){if(1&t&&(d(0,"li",63),A(1),u()),2&t){const e=n.$implicit;_(),oe(e)}}function cit(t,n){if(1&t&&(d(0,"h6",64),ae(1),M(2,30),le(),A(3,":"),u(),d(4,"ul"),Ue(5,lit,2,1,"li",63,Ht),u()),2&t){const e=g(3);_(5),We(e.status.database.migration_status.unapplied_migrations)}}function dit(t,n){if(1&t&&(d(0,"h6"),ae(1),M(2,29),le(),A(3,":"),u(),d(4,"span",63),A(5),u(),y(6,cit,7,0)),2&t){const e=g(2);_(5),oe(e.status.database.migration_status.latest_migration),_(),N(e.status.database.migration_status.unapplied_migrations.length>0?6:-1)}}function uit(t,n){1&t&&w(0,"i-bs",58)}function hit(t,n){1&t&&w(0,"i-bs",59)}function _it(t,n){1&t&&A(0),2&t&&Le(" ",g(3).status.tasks.redis_url," ")}function pit(t,n){if(1&t&&A(0),2&t){const e=g(3);Sa(" ",e.status.tasks.redis_url,": ",e.status.tasks.redis_error," ")}}function git(t,n){1&t&&y(0,_it,1,1)(1,pit,1,2),2&t&&N("OK"===g(2).status.tasks.redis_status?0:1)}function fit(t,n){1&t&&w(0,"i-bs",58)}function mit(t,n){1&t&&w(0,"i-bs",59)}function vit(t,n){1&t&&A(0),2&t&&Le(" ",g(3).status.tasks.celery_url," ")}function Cit(t,n){1&t&&A(0),2&t&&Le(" ",g(3).status.tasks.celery_error," ")}function Mit(t,n){1&t&&y(0,vit,1,1)(1,Cit,1,1),2&t&&N("OK"===g(2).status.tasks.celery_status?0:1)}function Tit(t,n){1&t&&w(0,"i-bs",62)}function wit(t,n){1&t&&w(0,"i-bs",58)}function bit(t,n){if(1&t&&y(0,Tit,1,0,"i-bs",62)(1,wit,1,0,"i-bs",58),2&t){const e=g(2);N(e.isStale(e.status.tasks.index_last_modified)?0:1)}}function Sit(t,n){1&t&&w(0,"i-bs",59)}function Eit(t,n){1&t&&w(0,"div",65)}function Ait(t,n){if(1&t){const e=F();d(0,"button",67),T("click",function(){b(e);const o=g(3);return S(o.runTask(o.PaperlessTaskName.IndexOptimize))}),w(1,"i-bs",68),A(2,"\xa0 "),ae(3),M(4,31),le(),u()}}function Oit(t,n){if(1&t&&y(0,Eit,1,0,"div",65)(1,Ait,5,0,"button",66),2&t){const e=g(2);N(e.isRunning(e.PaperlessTaskName.IndexOptimize)?0:1)}}function yit(t,n){if(1&t&&(d(0,"h6"),ae(1),M(2,32),le(),A(3,":"),u(),d(4,"span",63),A(5),ye(6,"customDate"),u()),2&t){const e=g(3);_(5),oe(Yo(6,1,e.status.tasks.index_last_modified,"medium"))}}function Nit(t,n){if(1&t&&(d(0,"h6"),ae(1),M(2,33),le(),A(3,":"),u(),d(4,"span",63),A(5),u()),2&t){const e=g(3);_(5),oe(e.status.tasks.index_error)}}function Dit(t,n){1&t&&y(0,yit,7,4)(1,Nit,6,1),2&t&&N("OK"===g(2).status.tasks.index_status?0:1)}function Pit(t,n){1&t&&w(0,"i-bs",62)}function Iit(t,n){1&t&&w(0,"i-bs",58)}function xit(t,n){if(1&t&&y(0,Pit,1,0,"i-bs",62)(1,Iit,1,0,"i-bs",58),2&t){const e=g(2);N(e.isStale(e.status.tasks.classifier_last_trained)?0:1)}}function Lit(t,n){if(1&t&&w(0,"i-bs",69),2&t){const e=g(2);Ce("text-danger",e.status.tasks.classifier_status===e.SystemStatusItemStatus.ERROR)("text-warning",e.status.tasks.classifier_status===e.SystemStatusItemStatus.WARNING)}}function Rit(t,n){1&t&&w(0,"div",65)}function Fit(t,n){if(1&t){const e=F();d(0,"button",67),T("click",function(){b(e);const o=g(3);return S(o.runTask(o.PaperlessTaskName.TrainClassifier))}),w(1,"i-bs",68),A(2,"\xa0 "),ae(3),M(4,34),le(),u()}}function kit(t,n){if(1&t&&y(0,Rit,1,0,"div",65)(1,Fit,5,0,"button",66),2&t){const e=g(2);N(e.isRunning(e.PaperlessTaskName.TrainClassifier)?0:1)}}function zit(t,n){if(1&t&&(d(0,"h6"),ae(1),M(2,35),le(),A(3,":"),u(),d(4,"span",63),A(5),ye(6,"customDate"),u()),2&t){const e=g(3);_(5),oe(Yo(6,1,e.status.tasks.classifier_last_trained,"medium"))}}function Vit(t,n){if(1&t&&(d(0,"h6"),ae(1),M(2,36),le(),A(3,":"),u(),d(4,"span",63),A(5),u()),2&t){const e=g(3);_(5),oe(e.status.tasks.classifier_error)}}function Hit(t,n){1&t&&y(0,zit,7,4)(1,Vit,6,1),2&t&&N("OK"===g(2).status.tasks.classifier_status?0:1)}function $it(t,n){1&t&&w(0,"i-bs",62)}function Git(t,n){1&t&&w(0,"i-bs",58)}function Bit(t,n){if(1&t&&y(0,$it,1,0,"i-bs",62)(1,Git,1,0,"i-bs",58),2&t){const e=g(2);N(e.isStale(e.status.tasks.sanity_check_last_run)?0:1)}}function Uit(t,n){if(1&t&&w(0,"i-bs",69),2&t){const e=g(2);Ce("text-danger",e.status.tasks.sanity_check_status===e.SystemStatusItemStatus.ERROR)("text-warning",e.status.tasks.sanity_check_status===e.SystemStatusItemStatus.WARNING)}}function Wit(t,n){1&t&&w(0,"div",65)}function Zit(t,n){if(1&t){const e=F();d(0,"button",67),T("click",function(){b(e);const o=g(3);return S(o.runTask(o.PaperlessTaskName.SanityCheck))}),w(1,"i-bs",68),A(2,"\xa0 "),ae(3),M(4,37),le(),u()}}function jit(t,n){if(1&t&&y(0,Wit,1,0,"div",65)(1,Zit,5,0,"button",66),2&t){const e=g(2);N(e.isRunning(e.PaperlessTaskName.SanityCheck)?0:1)}}function Xit(t,n){if(1&t&&(d(0,"h6"),ae(1),M(2,38),le(),A(3,":"),u(),d(4,"span",63),A(5),ye(6,"customDate"),u()),2&t){const e=g(3);_(5),oe(Yo(6,1,e.status.tasks.sanity_check_last_run,"medium"))}}function Kit(t,n){if(1&t&&(d(0,"h6"),ae(1),M(2,39),le(),A(3,":"),u(),d(4,"span",63),A(5),u()),2&t){const e=g(3);_(5),oe(e.status.tasks.sanity_check_error)}}function qit(t,n){1&t&&y(0,Xit,7,4)(1,Kit,6,1),2&t&&N("OK"===g(2).status.tasks.sanity_check_status?0:1)}function Yit(t,n){if(1&t&&(d(0,"div",45)(1,"div",49)(2,"div",50)(3,"div",51)(4,"h6",52),M(5,10),u()(),d(6,"div",53)(7,"dl",54)(8,"dt"),M(9,11),u(),d(10,"dd"),A(11),u(),d(12,"dt"),M(13,12),u(),d(14,"dd"),A(15),u(),d(16,"dt"),M(17,13),u(),d(18,"dd"),A(19),u(),d(20,"dt"),M(21,14),u(),d(22,"dd"),w(23,"ngb-progressbar",55),d(24,"span",56),A(25),ye(26,"fileSize"),ae(27),M(28,15),le(),A(29),ye(30,"fileSize"),ae(31),M(32,16),le(),A(33,")"),u()()()()()(),d(34,"div",49)(35,"div",50)(36,"div",51)(37,"h6",52),M(38,17),u()(),d(39,"div",53)(40,"dl",54)(41,"dt"),M(42,18),u(),d(43,"dd"),A(44),u(),d(45,"dt"),M(46,19),u(),d(47,"dd")(48,"button",57),A(49),y(50,tit,1,0,"i-bs",58)(51,nit,1,0,"i-bs",59),u(),y(52,sit,2,1,"ng-template",null,0,zt),u(),d(54,"dt"),M(55,20),u(),d(56,"dd")(57,"button",57),y(58,rit,3,0)(59,ait,3,1)(60,dit,7,2,"ng-template",null,1,zt),u()()()()()(),d(62,"div",49)(63,"div",50)(64,"div",51)(65,"h6",52),M(66,21),u()(),d(67,"div",53)(68,"dl",54)(69,"dt"),M(70,22),u(),d(71,"dd")(72,"button",57),A(73),y(74,uit,1,0,"i-bs",58)(75,hit,1,0,"i-bs",59),u(),y(76,git,2,1,"ng-template",null,2,zt),u(),d(78,"dt"),M(79,23),u(),d(80,"dd")(81,"button",57),A(82),y(83,fit,1,0,"i-bs",58)(84,mit,1,0,"i-bs",59),u(),y(85,Mit,2,1,"ng-template",null,3,zt),u()()()()(),d(87,"div",49)(88,"div",50)(89,"div",51)(90,"h6",52),M(91,24),u()(),d(92,"div",53)(93,"dl",54)(94,"dt"),M(95,25),u(),d(96,"dd",60)(97,"button",57),A(98),y(99,bit,2,1)(100,Sit,1,0,"i-bs",59),u(),y(101,Oit,2,1),u(),y(102,Dit,2,1,"ng-template",null,4,zt),d(104,"dt"),M(105,26),u(),d(106,"dd",60)(107,"button",57),A(108),y(109,xit,2,1)(110,Lit,1,4,"i-bs",61),u(),y(111,kit,2,1),u(),y(112,Hit,2,1,"ng-template",null,5,zt),d(114,"dt"),M(115,27),u(),d(116,"dd",60)(117,"button",57),A(118),y(119,Bit,2,1)(120,Uit,1,4,"i-bs",61),u(),y(121,jit,2,1),u(),y(122,qit,2,1,"ng-template",null,6,zt),u()()()()()),2&t){const e=Ve(53),i=Ve(61),o=Ve(77),s=Ve(86),r=Ve(103),a=Ve(113),l=Ve(123),c=g();_(11),oe(c.status.pngx_version),_(4),oe(c.status.install_type),_(4),oe(c.status.server_os),_(4),m("max",c.status.storage.total)("value",c.status.storage.total-c.status.storage.available),_(2),Le("",Ke(26,31,c.status.storage.available)," "),_(4),Le(" (",Ke(30,33,c.status.storage.total)," "),_(15),oe(c.status.database.type),_(4),m("ngbPopover",e),_(),Le(" ",c.status.database.status," "),_(),N("OK"===c.status.database.status?50:51),_(7),m("ngbPopover",i),_(),N(0===c.status.database.migration_status.unapplied_migrations.length?58:59),_(14),m("ngbPopover",o),_(),Le(" ",c.status.tasks.redis_status," "),_(),N("OK"===c.status.tasks.redis_status?74:75),_(7),m("ngbPopover",s),_(),Le(" ",c.status.tasks.celery_status," "),_(),N("OK"===c.status.tasks.celery_status?83:84),_(14),m("ngbPopover",r),_(),Le(" ",c.status.tasks.index_status," "),_(),N("OK"===c.status.tasks.index_status?99:100),_(2),N(c.currentUserIsSuperUser?101:-1),_(6),m("ngbPopover",a),_(),Le(" ",c.status.tasks.classifier_status," "),_(),N("OK"===c.status.tasks.classifier_status?109:110),_(2),N(c.currentUserIsSuperUser?111:-1),_(6),m("ngbPopover",l),_(),Le(" ",c.status.tasks.sanity_check_status," "),_(),N("OK"===c.status.tasks.sanity_check_status?119:120),_(2),N(c.currentUserIsSuperUser?121:-1)}}function Qit(t,n){1&t&&(w(0,"i-bs",70),A(1,"\xa0 "))}function Jit(t,n){1&t&&(w(0,"i-bs",71),A(1,"\xa0 "))}let eot=(()=>{class t{get currentUserIsSuperUser(){return this.permissionsService.isSuperUser()}constructor(e,i,o,s,r,a){this.activeModal=e,this.clipboard=i,this.systemStatusService=o,this.tasksService=s,this.toastService=r,this.permissionsService=a,this.SystemStatusItemStatus=Cc,this.PaperlessTaskName=ib,this.copied=!1,this.runningTasks=new Set}close(){this.activeModal.close()}copy(){this.clipboard.copy(JSON.stringify(this.status,null,4)),this.copied=!0,setTimeout(()=>{this.copied=!1},3e3)}isStale(e,i=24){const o=new Date(e);return(new Date).getTime()-o.getTime()>60*i*60*1e3}isRunning(e){return this.runningTasks.has(e)}runTask(e){this.runningTasks.add(e),this.toastService.showInfo(`Task ${e} started`),this.tasksService.run(e).subscribe({next:()=>{this.runningTasks.delete(e),this.systemStatusService.get().subscribe({next:i=>{this.status=i}})},error:i=>{this.runningTasks.delete(e),this.toastService.showError(`Failed to start task ${e}, see the logs for more details`,i)}})}static{this.\u0275fac=function(i){return new(i||t)(x(io),x(Tm),x(bB),x(wm),x(Fi),x(ti))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-system-status-dialog"]],decls:13,vars:3,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt,nt,Dt,Bt,Zt,Ge,Ft;return e="System Status",i="Copy",o="Loading...",s="Environment",r="Paperless-ngx Version",a="Install Type",l="Server OS",c="Media Storage",h="available",p="total",f="Database",v="Type",C="Status",E="Migration Status",D="Tasks Queue",P="Redis Status",I="Celery Status",k="Health",R="Search Index",ee="Classifier",re="Sanity Checker",fe="Up to date",pe="Latest Migration",ue="Pending Migrations",me="Run Task",Fe="Last Updated",bt="Error",nt="Run Task",Dt="Last Trained",Bt="Error",Zt="Run Task",Ge="Last Run",Ft="Error",[["databaseStatus",""],["migrationStatus",""],["redisStatus",""],["celeryStatus",""],["indexStatus",""],["classifierStatus",""],["sanityCheckerStatus",""],e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt,nt,Dt,Bt,Zt,Ge,Ft,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"w-100","h-100","d-flex","align-items-center","justify-content-center"],[1,"row","row-cols-1","row-cols-md-4","g-3"],[1,"modal-footer"],[1,"btn","btn-sm","d-flex","align-items-center","btn-dark","btn","btn-sm","d-flex","align-items-center","btn-dark","btn-outline-secondary",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"col"],[1,"card","bg-light","h-100"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[1,"card-text"],["type","primary",1,"mt-2","mb-1",2,"height","4px",3,"max","value"],[1,"small"],["triggers","click mouseenter:mouseleave",1,"btn","btn-sm","d-flex","align-items-center","btn-dark","text-uppercase","small",3,"ngbPopover"],["name","check-circle-fill",1,"text-primary","ms-2","lh-1"],["name","exclamation-triangle-fill",1,"text-danger","ms-2","lh-1"],[1,"d-flex","align-items-center"],["name","exclamation-triangle-fill",1,"ms-2","lh-1",3,"text-danger","text-warning"],["name","exclamation-triangle-fill",1,"text-warning","ms-2","lh-1"],[1,"font-monospace","small"],[1,"mt-3"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],[1,"btn","btn-sm","d-flex","align-items-center","btn-dark","small","ms-2"],[1,"btn","btn-sm","d-flex","align-items-center","btn-dark","small","ms-2",3,"click"],["name","play-fill"],["name","exclamation-triangle-fill",1,"ms-2","lh-1"],["name","clipboard-fill"],["name","clipboard-check-fill"]]},template:function(i,o){1&i&&(d(0,"div",40)(1,"h6",41),M(2,7),u(),d(3,"button",42),T("click",function(){return o.close()}),u()(),d(4,"div",43),y(5,eit,5,0,"div",44)(6,Yit,124,35,"div",45),u(),d(7,"div",46)(8,"button",47),T("click",function(){return o.copy()}),y(9,Qit,2,0)(10,Jit,2,0),ae(11),M(12,8),le(),u()()),2&i&&(_(5),N(o.status?6:5),_(4),N(o.copied?-1:9),_(),N(o.copied?10:-1))},dependencies:[OM,Ynt,Pa,Da,Y0,Z6,fr,wB,Gt,Jt],styles:[".btn.small[_ngcontent-%COMP%]{font-size:.75rem}"]})}}return t})(),SB=(()=>{class t{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(null==e?"":e)}static{this.\u0275fac=function(i){return new(i||t)(x(iM,16))}}static{this.\u0275pipe=eo({name:"safeUrl",type:t,pure:!0})}}return t})(),ob=(()=>{class t extends Od{fromModel(e){if(e){if(e.match(/\d\d\d\d\-\d\d\-\d\d/g)){const i=e.split("-");return{year:parseInt(i[0]),month:parseInt(i[1]),day:parseInt(i[2])}}{let i=new Date(e);return{day:i.getDate(),month:i.getMonth()+1,year:i.getFullYear()}}}return null}toModel(e){return e?e.year.toString().padStart(4,"0")+"-"+e.month.toString().padStart(2,"0")+"-"+e.day.toString().padStart(2,"0"):null}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})();var sb=$t(58);function tot(t,n){if(1&t&&(d(0,"p")(1,"b"),A(2),u()()),2&t){const e=g();_(2),oe(e.messageBold)}}function not(t,n){1&t&&(w(0,"p",4),ye(1,"safeHtml")),2&t&&m("innerHTML",Ke(1,1,g().message),vo)}function iot(t,n){if(1&t&&w(0,"ngb-progressbar",9),2&t){const e=g();m("max",e.secondsTotal)("value",e.seconds)}}function oot(t,n){if(1&t){const e=F();d(0,"button",6),T("click",function(){return b(e),S(g().alternative())}),A(1),u()}if(2&t){const e=g();lo(e.alternativeBtnClass),m("disabled",!e.alternativeButtonEnabled||!e.buttonsEnabled),_(),Le(" ",e.alternativeBtnCaption," ")}}let Ui=(()=>{class t extends ns{constructor(e){super(),this.activeModal=e,this.confirmClicked=new Ee,this.alternativeClicked=new Ee,this.title="Confirmation",this.btnClass="btn-primary",this.btnCaption="Confirm",this.alternativeBtnClass="btn-secondary",this.cancelBtnClass="btn-outline-secondary",this.cancelBtnCaption="Cancel",this.buttonsEnabled=!0,this.confirmButtonEnabled=!0,this.alternativeButtonEnabled=!0,this.seconds=0,this.secondsTotal=0}cancel(){this.confirmSubject?.next(!1),this.confirmSubject?.complete(),this.activeModal.close()}confirm(){this.confirmClicked.emit(),this.confirmSubject?.next(!0),this.confirmSubject?.complete()}alternative(){this.alternativeClicked.emit(),this.alternativeSubject?.next(!0),this.alternativeSubject?.complete()}static{this.\u0275fac=function(i){return new(i||t)(x(io))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-confirm-dialog"]],inputs:{title:"title",messageBold:"messageBold",message:"message",btnClass:"btnClass",btnCaption:"btnCaption",alternativeBtnClass:"alternativeBtnClass",alternativeBtnCaption:"alternativeBtnCaption",cancelBtnClass:"cancelBtnClass",cancelBtnCaption:"cancelBtnCaption",buttonsEnabled:"buttonsEnabled"},outputs:{confirmClicked:"confirmClicked",alternativeClicked:"alternativeClicked"},features:[st],decls:19,vars:17,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-0",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],[1,"visually-hidden"],["type","dark",2,"height","1px",3,"max","value"],["type","button",1,"btn",3,"class","disabled"]],template:function(i,o){1&i&&(d(0,"div",0)(1,"h4",1),A(2),u(),d(3,"button",2),T("click",function(){return o.cancel()}),u()(),d(4,"div",3),y(5,tot,3,1,"p")(6,not,2,3,"p",4),u(),d(7,"div",5)(8,"button",6),T("click",function(){return o.cancel()}),d(9,"span",7),A(10),u()(),d(11,"button",6),T("click",function(){return o.confirm()}),d(12,"span"),A(13),d(14,"span",8),A(15),ye(16,"number"),u()(),y(17,iot,1,2,"ngb-progressbar",9),u(),y(18,oot,2,4,"button",10),u()),2&i&&(_(2),oe(o.title),_(3),N(o.messageBold?5:-1),_(),N(o.message?6:-1),_(2),lo(o.cancelBtnClass),m("disabled",!o.buttonsEnabled),_(2),oe(o.cancelBtnCaption),_(),lo(o.btnClass),m("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled),_(2),Le(" ",o.btnCaption," "),_(2),Le("",Yo(16,14,o.seconds,"1.0-0")," seconds"),_(2),N(o.confirmButtonEnabled?-1:17),_(),N(o.alternativeBtnCaption?18:-1))},dependencies:[q3,vc],encapsulation:2})}}return t})();const sot=["pdfViewer"],rot=["pageCheckOverlay"];function aot(t,n){1&t&&(w(0,"p",20),ye(1,"safeHtml")),2&t&&m("innerHTML",Ke(1,1,g().message),vo)}function lot(t,n){if(1&t&&(d(0,"p",21),w(1,"b",20),ye(2,"safeHtml"),u()),2&t){const e=g();_(),m("innerHTML",Ke(2,1,e.messageBold),vo)}}function cot(t,n){if(1&t){const e=F();d(0,"div",24),T("click",function(){const o=b(e).page;return S(g().pageCheckChanged(o))}),w(1,"input",25),u()}}let dot=(()=>{class t extends Ui{get pagesString(){return this.pages.join(", ")}get pdfSrc(){return this.documentService.getPreviewUrl(this.documentID)}constructor(e,i){super(e),this.documentService=i,this.pages=[],this.currentPage=1,this.checks=[]}pdfPreviewLoaded(e){this.totalPages=e.numPages}pageRendered(e){const i=e.target,o=this.pageCheckOverlay.createEmbeddedView({page:e.detail.pageNumber});this.checks[e.detail.pageNumber-1]=o.rootNodes[0],i?.insertBefore(o.rootNodes[0],i.firstChild),this.updateChecks()}pageCheckChanged(e){this.pages.includes(e)?this.pages.includes(e)&&this.pages.splice(this.pages.indexOf(e),1):this.pages.push(e),this.updateChecks()}updateChecks(){this.checks.forEach((e,i)=>{e.getElementsByTagName("input")[0].checked=this.pages.includes(i+1)})}static{this.\u0275fac=function(i){return new(i||t)(x(io),x(So))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-delete-pages-confirm-dialog"]],viewQuery:function(i,o){if(1&i&&(dn(sot,5),dn(rot,5)),2&i){let s;pt(s=gt())&&(o.pdfViewer=s.first),pt(s=gt())&&(o.pageCheckOverlay=s.first)}},features:[st],decls:32,vars:19,consts:()=>{let e,i,o;return e="Page",i="of " + "\ufffd0\ufffd" + "",o="Pages to remove",[["pdfViewer",""],["pageCheckOverlay",""],e,i,o,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col"],[1,"btn-toolbar","flex-nowrap"],[1,"input-group","input-group-sm"],[1,"input-group-text"],["type","number","min","1",1,"form-control","mw-60",3,"ngModelChange","ngModel"],[1,"input-group","input-group-sm","ms-auto"],["disabled","",1,"form-control",3,"ngModel"],[1,"pdf-viewer-container","w-100","mt-3"],["zoom-scale","page-fit",3,"pageChange","pagerendered","after-load-complete","src","page","original-size","zoom","render-text"],[1,"modal-footer","flex-nowrap"],[3,"innerHTML"],[1,"mb-0","small"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],[1,"position-absolute","top-0","start-0","w-100","h-100","p-2",3,"click"],["type","checkbox",1,"form-check-input"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",5)(1,"h4",6),A(2),u(),d(3,"button",7),T("click",function(){return b(s),S(o.cancel())}),u()(),d(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12)(9,"div",13),M(10,2),u(),d(11,"input",14),je("ngModelChange",function(a){return b(s),$e(o.currentPage,a)||(o.currentPage=a),S(a)}),u(),d(12,"div",13),M(13,3),u()(),d(14,"div",15)(15,"span",13),M(16,4),u(),w(17,"input",16),u()(),d(18,"div",17)(19,"pdf-viewer",18,0),je("pageChange",function(a){return b(s),$e(o.currentPage,a)||(o.currentPage=a),S(a)}),T("pagerendered",function(a){return b(s),S(o.pageRendered(a))})("after-load-complete",function(a){return b(s),S(o.pdfPreviewLoaded(a))}),u()()()()(),d(21,"div",19)(22,"div"),y(23,aot,2,3,"p",20)(24,lot,3,3,"p",21),u(),d(25,"button",22),T("click",function(){return b(s),S(o.cancel())}),d(26,"span",23),A(27),u()(),d(28,"button",22),T("click",function(){return b(s),S(o.confirm())}),A(29),u()(),y(30,cot,2,0,"ng-template",null,1,zt)}2&i&&(_(2),oe(o.title),_(9),Ze("ngModel",o.currentPage),_(2),bn(o.totalPages),Sn(13),_(4),m("ngModel",o.pagesString),_(2),m("src",o.pdfSrc),Ze("page",o.currentPage),m("original-size",!1)("zoom",1)("render-text",!1),_(4),N(o.message?23:-1),_(),N(o.messageBold?24:-1),_(),lo(o.cancelBtnClass),m("disabled",!o.buttonsEnabled),_(2),oe(o.cancelBtnCaption),_(),lo(o.btnClass),m("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled),_(),Le(" ",o.btnCaption," "))},dependencies:[Lp,A4,Xt,Ti,Zl,jt,F_,Rn,qt,vc],styles:[".pdf-viewer-container[_ngcontent-%COMP%]{background-color:gray;height:550px}.pdf-viewer-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}.mw-60[_ngcontent-%COMP%]{max-width:60px}div.position-absolute[_ngcontent-%COMP%]:has(.form-check-input:checked){background-color:rgba(var(--bs-dark-rgb),.4)}.form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--bs-danger);border-color:var(--bs-danger)}.form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),var(--pngx-focus-alpha));border-color:var(--bs-danger)}"]})}}return t})();const uot=t=>({transform:t});function hot(t,n){if(1&t&&w(0,"img",10),2&t){const e=g();m("ngStyle",Wn(2,uot,"rotate("+e.rotation+"deg)"))("src",e.documentService.getThumbUrl(e.documentID),cs)}}function _ot(t,n){1&t&&(d(0,"p",13),M(1,0),u())}function pot(t,n){1&t&&(w(0,"p",16),ye(1,"safeHtml")),2&t&&m("innerHTML",Ke(1,1,g().message),vo)}function got(t,n){if(1&t&&(d(0,"p",17),w(1,"b",16),ye(2,"safeHtml"),u()),2&t){const e=g();_(),m("innerHTML",Ke(2,1,e.messageBold),vo)}}function fot(t,n){if(1&t&&w(0,"ngb-progressbar",20),2&t){const e=g();m("max",e.secondsTotal)("value",e.seconds)}}let EB=(()=>{class t extends Ui{get degrees(){let e=this.rotation%360;return e<0&&(e+=360),e}constructor(e,i){super(e),this.documentService=i,this.showPDFNote=!0,this.rotation=0}rotate(e=!0){this.rotation+=e?90:-90}static{this.\u0275fac=function(i){return new(i||t)(x(io),x(So))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-rotate-confirm-dialog"]],features:[st],decls:25,vars:14,consts:()=>{let e;return e="Note that only PDFs will be rotated.",[e,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-2","d-flex","justify-content-end"],[1,"btn","btn-secondary","mt-auto",3,"click"],["name","arrow-counterclockwise"],[1,"col-8","d-flex","align-items-center"],[1,"w-75","m-auto",3,"ngStyle","src"],[1,"col-2","d-flex"],["name","arrow-clockwise"],[1,"small","text-muted","fst-italic","mt-4"],[1,"modal-footer","flex-nowrap"],[1,"col"],[3,"innerHTML"],[1,"mb-0","small"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],["type","dark",2,"height","1px",3,"max","value"]]},template:function(i,o){1&i&&(d(0,"div",1)(1,"h4",2),A(2),u(),d(3,"button",3),T("click",function(){return o.cancel()}),u()(),d(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),T("click",function(){return o.rotate(!1)}),w(8,"i-bs",8),u()(),d(9,"div",9),y(10,hot,1,4,"img",10),u(),d(11,"div",11)(12,"button",7),T("click",function(){return o.rotate()}),w(13,"i-bs",12),u()()(),y(14,_ot,2,0,"p",13),u(),d(15,"div",14)(16,"div",15),y(17,pot,2,3,"p",16)(18,got,3,3,"p",17),u(),d(19,"button",18),T("click",function(){return o.cancel()}),d(20,"span",19),A(21),u()(),d(22,"button",18),T("click",function(){return o.confirm()}),A(23),y(24,fot,1,2,"ngb-progressbar",20),u()()),2&i&&(_(2),oe(o.title),_(8),N(o.documentID?10:-1),_(4),N(o.showPDFNote?14:-1),_(3),N(o.message?17:-1),_(),N(o.messageBold?18:-1),_(),lo(o.cancelBtnClass),m("disabled",!o.buttonsEnabled),_(2),oe(o.cancelBtnCaption),_(),lo(o.btnClass),m("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled||0===o.degrees),_(),Le(" ",o.btnCaption," "),_(),N(o.confirmButtonEnabled?-1:24))},dependencies:[K3,Gt,Jt,vc],styles:["img[_ngcontent-%COMP%]{transition:all .25s ease}"]})}}return t})();function mot(t,n){if(1&t){const e=F();A(0," \xa0 "),d(1,"button",27),T("click",function(){b(e);const o=g().$index;return S(g().removeSplit(o))}),w(2,"i-bs",28),u()}}function vot(t,n){if(1&t&&(d(0,"li",20),A(1),y(2,mot,3,0),u()),2&t){const e=n.$implicit,i=g();_(),Le(" ",e," "),_(),N(i.pagesString.split(",").length>1?2:-1)}}let Cot=(()=>{class t extends Ui{get pagesString(){let e="",i=1;for(let o=1;o<=this.totalPages;o++)(this.pages.has(o)||o===this.totalPages)&&(i===o?(e+=`${o},`,i=Math.min(o+1,this.totalPages)):(e+=`${i}-${o},`,i=Math.min(o+1,this.totalPages)));return e.replace(/,$/,"")}get canSplit(){return this.page<this.totalPages&&this.pages.size<this.totalPages-1&&!this.pages.has(this.page)}get pdfSrc(){return this.documentService.getPreviewUrl(this.documentID)}constructor(e,i,o){super(e),this.documentService=i,this.permissionService=o,this.pages=new Set,this.page=1,this.deleteOriginal=!1,this.confirmButtonEnabled=this.pages.size>0}ngOnInit(){this.documentService.get(this.documentID).subscribe(e=>{this.document=e})}pdfPreviewLoaded(e){this.totalPages=e.numPages}addSplit(){this.page!==this.totalPages&&(this.pages.add(this.page),this.pages=new Set(Array.from(this.pages).sort((e,i)=>e-i)),this.confirmButtonEnabled=this.pages.size>0)}removeSplit(e){let i=Array.from(this.pages)[Math.min(e,this.pages.size-1)];this.pages.delete(i),this.confirmButtonEnabled=this.pages.size>0}get userOwnsDocument(){return this.permissionService.currentUserOwnsObject(this.document)}static{this.\u0275fac=function(i){return new(i||t)(x(io),x(So),x(ti))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-split-confirm-dialog"]],features:[st],decls:37,vars:19,consts:()=>{let e,i,o,s;return e="Page",i="of " + "\ufffd0\ufffd" + "",o="Add Split",s="Delete original document after successful split",[e,i,o,s,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-2"],[1,"col-7"],[1,"input-group","input-group-sm"],[1,"input-group-text"],["type","number","min","1",1,"form-control",3,"ngModelChange","ngModel"],[1,"pdf-viewer-container","w-100","mt-3"],["zoom-scale","page-fit",3,"pageChange","after-load-complete","src","page","original-size","zoom"],[1,"col-5"],[1,"d-grid"],[1,"btn","btn-sm","btn-primary",3,"click","disabled"],["name","plus-circle"],[1,"list-group","mt-3"],[1,"list-group-item","d-flex","align-items-center"],[1,"modal-footer"],[1,"form-check","form-switch","me-auto"],["type","checkbox","role","switch","id","deleteOriginalSwitch",1,"form-check-input",3,"ngModelChange","ngModel","disabled"],["for","deleteOriginalSwitch",1,"form-check-label"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],[1,"btn","btn-sm","btn-danger","ms-auto",3,"click"],["name","trash"]]},template:function(i,o){1&i&&(d(0,"div",4)(1,"h4",5),A(2),u(),d(3,"button",6),T("click",function(){return o.cancel()}),u()(),d(4,"div",7)(5,"p"),A(6),u(),d(7,"div",8)(8,"div",9)(9,"div",10)(10,"div",11),M(11,0),u(),d(12,"input",12),je("ngModelChange",function(r){return $e(o.page,r)||(o.page=r),r}),u(),d(13,"div",11),M(14,1),u()(),d(15,"div",13)(16,"pdf-viewer",14),je("pageChange",function(r){return $e(o.page,r)||(o.page=r),r}),T("after-load-complete",function(r){return o.pdfPreviewLoaded(r)}),u()()(),d(17,"div",15)(18,"div",16)(19,"button",17),T("click",function(){return o.addSplit()}),w(20,"i-bs",18),A(21,"\xa0 "),d(22,"span"),M(23,2),u()()(),d(24,"ul",19),Ue(25,vot,3,2,"li",20,Ht),u()()()(),d(27,"div",21)(28,"div",22)(29,"input",23),je("ngModelChange",function(r){return $e(o.deleteOriginal,r)||(o.deleteOriginal=r),r}),u(),d(30,"label",24),M(31,3),u()(),d(32,"button",25),T("click",function(){return o.cancel()}),d(33,"span",26),A(34),u()(),d(35,"button",25),T("click",function(){return o.confirm()}),A(36),u()()),2&i&&(_(2),oe(o.title),_(4),oe(o.message),_(6),Ze("ngModel",o.page),_(2),bn(o.totalPages),Sn(14),_(2),m("src",o.pdfSrc),Ze("page",o.page),m("original-size",!1)("zoom",1),_(3),m("disabled",!o.canSplit),_(6),We(o.pagesString.split(",")),_(4),Ze("ngModel",o.deleteOriginal),m("disabled",!o.userOwnsDocument),_(3),lo(o.cancelBtnClass),m("disabled",!o.buttonsEnabled),_(2),oe(o.cancelBtnCaption),_(),lo(o.btnClass),m("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled),_(),Le(" ",o.btnCaption," "))},dependencies:[Xt,Ti,Zl,Zo,jt,F_,Rn,qt,Gt,Jt,Lp,A4],styles:[".pdf-viewer-container[_ngcontent-%COMP%]{background-color:gray;height:500px}.pdf-viewer-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}"]})}}return t})();const rb=[{id:6,shortName:"Automatic",name:"Auto: Learn matching automatically"},{id:1,shortName:"Any word",name:"Any: Document contains any of these words (space separated)"},{id:2,shortName:"All words",name:"All: Document contains all of these words (space separated)"},{id:3,shortName:"Exact match",name:"Exact: Document contains this string"},{id:4,shortName:"Regular expression",name:"Regular expression: Document matches this regular expression"},{id:5,shortName:"Fuzzy word",name:"Fuzzy: Document contains a word similar to this word"},{id:0,shortName:"None",name:"None: Disable matching"}];var Oi=function(t){return t[t.CREATE=0]="CREATE",t[t.EDIT=1]="EDIT",t}(Oi||{});let A0=(()=>{class t extends ns{constructor(e,i,o,s){super(),this.service=e,this.activeModal=i,this.userService=o,this.settingsService=s,this.dialogMode=Oi.CREATE,this.succeeded=new Ee,this.failed=new Ee,this.networkActive=!1,this.closeEnabled=!1,this.error=null,this.objectForm=this.getForm()}ngOnInit(){null!=this.object&&this.dialogMode!==Oi.CREATE?(this.object.permissions&&(this.object.set_permissions=this.object.permissions),this.object.permissions_form={owner:this.object.owner,set_permissions:this.object.permissions},this.objectForm.patchValue(this.object)):(this.objectForm.patchValue(this.object),this.objectForm.patchValue({permissions_form:{owner:this.settingsService.get(Me.DEFAULT_PERMS_OWNER),set_permissions:{view:{users:this.settingsService.get(Me.DEFAULT_PERMS_VIEW_USERS),groups:this.settingsService.get(Me.DEFAULT_PERMS_VIEW_GROUPS)},change:{users:this.settingsService.get(Me.DEFAULT_PERMS_EDIT_USERS),groups:this.settingsService.get(Me.DEFAULT_PERMS_EDIT_GROUPS)}}}})),setTimeout(()=>{this.closeEnabled=!0}),this.userService.listAll().subscribe(e=>{this.users=e.results})}getCreateTitle(){return "Create new item"}getEditTitle(){return "Edit item"}getTitle(){switch(this.dialogMode){case Oi.CREATE:return this.getCreateTitle();case Oi.EDIT:return this.getEditTitle()}}getMatchingAlgorithms(){return rb}get patternRequired(){return 6!==this.objectForm?.value.matching_algorithm&&0!==this.objectForm?.value.matching_algorithm}save(){this.error=null;const e=Object.assign({},this.objectForm.value),i=this.objectForm.get("permissions_form")?.value;i&&(e.owner=i.owner,e.set_permissions=i.set_permissions,delete e.permissions_form);var s,o=Object.assign(Object.assign({},this.object),e);switch(this.dialogMode){case Oi.CREATE:s=this.service.create(o);break;case Oi.EDIT:s=this.service.update(o)}this.networkActive=!0,s.subscribe({next:r=>{this.activeModal.close(),this.succeeded.emit(r)},error:r=>{this.error=r.error,this.networkActive=!1,this.failed.next(r)}})}cancel(){this.activeModal.close()}static{this.\u0275fac=function(i){return new(i||t)(x(cl),x(io),x(gs),x(En))}}static{this.\u0275dir=et({type:t,inputs:{dialogMode:"dialogMode",object:"object"},outputs:{succeeded:"succeeded",failed:"failed"},features:[st]})}}return t})();const Eot=["selectOption"];function Aot(t,n){if(1&t&&(d(0,"span",10),A(1),u()),2&t){const e=g();_(),Le("ID: ",e.object.id,"")}}function Oot(t,n){1&t&&(d(0,"small",15),M(1,3),u())}function yot(t,n){if(1&t){const e=F();d(0,"div",24),w(1,"input",26,0)(3,"input",27),d(4,"button",28),T("click",function(){const o=b(e).$index;return S(g(2).removeSelectOption(o))}),M(5,5),u()()}if(2&t){const e=n.$index;m("formGroup",g(2).objectForm.controls.extra_data.controls.select_options.controls[e])}}function Not(t,n){1&t&&(d(0,"small",25),M(1,6),u())}function Dot(t,n){if(1&t){const e=F();d(0,"button",21),T("click",function(){return b(e),S(g().addSelectOption())}),d(1,"span"),M(2,4),u(),A(3,"\xa0"),w(4,"i-bs",22),u(),d(5,"div",23),Ue(6,yot,6,1,"div",24,Ht),u(),y(8,Not,2,0,"small",25)}if(2&t){const e=g();_(6),We(e.objectForm.controls.extra_data.controls.select_options.controls),_(2),N(null!=e.object&&e.object.id?8:-1)}}function Pot(t,n){1&t&&(d(0,"div",17),w(1,"pngx-input-text",29),u())}let Em=(()=>{class t extends A0{get selectOptions(){return this.objectForm.controls.extra_data.controls.select_options}constructor(e,i,o,s){super(e,i,o,s),this.CustomFieldDataType=Bi}ngOnInit(){super.ngOnInit(),this.typeFieldDisabled&&this.objectForm.get("data_type").disable(),this.object?.data_type===Bi.Select&&(this.selectOptions.clear(),this.object.extra_data.select_options.filter(e=>e).forEach(e=>this.selectOptions.push(new Kn({label:new de(e.label),id:new de(e.id)}))))}ngAfterViewInit(){this.selectOptionInputs.changes.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.selectOptionInputs.last?.nativeElement.focus()})}getCreateTitle(){return "Create new custom field"}getEditTitle(){return "Edit custom field"}getForm(){return new Kn({name:new de(null),data_type:new de(null),extra_data:new Kn({select_options:new k2([]),default_currency:new de(null)})})}getDataTypes(){return xw}get typeFieldDisabled(){return this.dialogMode===Oi.EDIT}addSelectOption(){this.selectOptions.push(new Kn({label:new de(null),id:new de(null)}))}removeSelectOption(e){this.selectOptions.removeAt(e)}static{this.\u0275fac=function(i){return new(i||t)(x(C1),x(io),x(gs),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-custom-field-edit-dialog"]],viewQuery:function(i,o){if(1&i&&dn(Eot,5),2&i){let s;pt(s=gt())&&(o.selectOptionInputs=s)}},features:[st],decls:18,vars:11,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f;return e="Name",i="Data type",o="Cancel",s="Save",r="Data type cannot be changed after a field is created",a="Add option",l="Delete",c="Warning: existing instances of this field will retain their current value index (e.g. option #1, #2, #3) after editing the options here",h="Default Currency",p="3-character currency code",f="Use locale",[["selectOption",""],o,s,r,a,l,c,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","data_type",3,"items"],[1,"d-block","mt-n2"],[3,"formGroup"],[1,"my-3"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-sm","btn-primary","my-2",3,"click"],["name","plus-circle"],["formArrayName","select_options"],[1,"input-group","input-group-sm","my-2",3,"formGroup"],[1,"d-block","mt-2"],["type","text","formControlName","label","autocomplete","off",1,"form-control"],["type","hidden","formControlName","id"],["type","button",1,"btn","btn-outline-danger",3,"click"],["title",h,"hint",p,"formControlName","default_currency","placeholder",f,"autocomplete","off"]]},template:function(i,o){if(1&i&&(d(0,"form",7),T("ngSubmit",function(){return o.save()}),d(1,"div",8)(2,"h4",9),A(3),u(),y(4,Aot,2,1,"span",10),d(5,"button",11),T("click",function(){return o.cancel()}),u()(),d(6,"div",12),w(7,"pngx-input-text",13)(8,"pngx-input-select",14),y(9,Oot,2,0,"small",15),d(10,"div",16),y(11,Dot,9,1)(12,Pot,2,0,"div",17),u()(),d(13,"div",18)(14,"button",19),T("click",function(){return o.cancel()}),M(15,1),u(),d(16,"button",20),M(17,2),u()()()),2&i){let s;m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),N(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(2),m("error",null==o.error?null:o.error.name),_(),m("items",o.getDataTypes()),_(),N(o.typeFieldDisabled?9:-1),_(),m("formGroup",o.objectForm.controls.extra_data),_(),N((s=o.objectForm.get("data_type").value)===o.CustomFieldDataType.Select?11:s===o.CustomFieldDataType.Monetary?12:-1),_(3),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive)}},dependencies:[la,gr,Xt,Oo,Ti,jt,Mo,qt,co,To,O6,Gt,Jt],encapsulation:2})}}return t})();const Iot=["listFilterTextInput"],xot=["button"],Lot=(t,n)=>n.id;function Rot(t,n){if(1&t){const e=F();d(0,"button",16,2),T("click",function(){const o=b(e).$implicit;return S(g().addField(o))}),d(2,"small",17),A(3),d(4,"small",18),A(5),u()()()}if(2&t){const e=n.$implicit,i=g();_(3),Le("",e.name," "),_(2),oe(i.getDataTypeLabel(e.data_type))}}function Fot(t,n){if(1&t){const e=F();d(0,"button",19,2),T("click",function(){b(e);const o=g();return S(o.createField(o.filterText))}),d(2,"small"),w(3,"i-bs",20),A(4,"\xa0"),ae(5),M(6,4),le(),u()()}2&t&&m("disabled",!g().canCreateFields)}let kot=(()=>{class t extends ns{get filteredFields(){return this.unusedFields.filter(e=>!this.filterText||e.name.toLowerCase().includes(this.filterText.toLowerCase()))}get canCreateFields(){return this.permissionsService.currentUserCan(mt.Add,Ct.CustomField)}constructor(e,i,o,s){super(),this.customFieldsService=e,this.modalService=i,this.toastService=o,this.permissionsService=s,this.disabled=!1,this.existingFields=[],this.added=new Ee,this.created=new Ee,this.customFields=[],this.unusedFields=[],this.getFields()}getFields(){this.customFieldsService.listAll().pipe(ut(),Te(this.unsubscribeNotifier)).subscribe(e=>{this.customFields=e.results,this.updateUnusedFields()})}updateUnusedFields(){this.unusedFields=this.customFields.filter(e=>!this.existingFields?.find(i=>i.field===e.id))}onOpenClose(e){e?setTimeout(()=>{this.listFilterTextInput.nativeElement.focus()},100):this.filterText=void 0,this.updateUnusedFields()}addField(e){this.added.emit(e),this.updateUnusedFields()}createField(e=null){const i=this.modalService.open(Em);e&&(i.componentInstance.object={name:e}),i.componentInstance.succeeded.pipe(Te(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("Saved field \"" + o.name + "\"."),this.customFieldsService.clearCache(),this.getFields(),this.created.emit(o),setTimeout(()=>this.addField(o),100)}),i.componentInstance.failed.pipe(Te(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Error saving field.",o)})}getDataTypeLabel(e){return xw.find(i=>i.id===e)?.name}listFilterEnter(){1===this.filteredFields.length?this.addField(this.filteredFields[0]):this.filterText&&0===this.filteredFields.length&&this.canCreateFields&&this.createField(this.filterText)}focusNextButtonItem(e=!0){this.keyboardIndex=Math.min(this.buttons.length-1,this.keyboardIndex+1),e&&this.setButtonItemFocus()}focusPreviousButtonItem(e=!0){this.keyboardIndex=Math.max(0,this.keyboardIndex-1),e&&this.setButtonItemFocus()}setButtonItemFocus(){this.buttons.get(this.keyboardIndex)?.nativeElement.focus()}listKeyDown(e){switch(e.key){case"ArrowDown":e.target instanceof HTMLInputElement?(!this.filterText||e.target.selectionStart===this.filterText.length)&&(this.keyboardIndex=-1,this.focusNextButtonItem(),e.preventDefault()):e.target instanceof HTMLButtonElement&&(this.focusNextButtonItem(),e.preventDefault());break;case"ArrowUp":e.target instanceof HTMLButtonElement&&(0===this.keyboardIndex?this.listFilterTextInput.nativeElement.focus():this.focusPreviousButtonItem(),e.preventDefault());break;case"Tab":e.target instanceof HTMLInputElement?this.keyboardIndex=0:e.target instanceof HTMLButtonElement&&(e.shiftKey?this.keyboardIndex>0&&this.focusPreviousButtonItem(!1):this.focusNextButtonItem(!1))}}static{this.\u0275fac=function(i){return new(i||t)(x(C1),x(Do),x(Fi),x(ti))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-custom-fields-dropdown"]],viewQuery:function(i,o){if(1&i&&(dn(Iot,5),dn(xot,5)),2&i){let s;pt(s=gt())&&(o.listFilterTextInput=s.first),pt(s=gt())&&(o.buttons=s)}},inputs:{documentId:"documentId",disabled:"disabled",existingFields:"existingFields"},outputs:{added:"added",created:"created"},features:[st],decls:17,vars:3,consts:()=>{let e,i,o;return e="Search fields",i="Custom Fields",o="Create new field",[["fieldDropdown","ngbDropdown"],["listFilterTextInput",""],["button",""],i,o,["ngbDropdown","",3,"openChange"],["id","customFieldsDropdown","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary",3,"disabled"],["name","ui-radios"],[1,"d-none","d-sm-inline"],["ngbDropdownMenu","","aria-labelledby","customFieldsDropdown",1,"shadow","custom-fields-dropdown"],[1,"list-group","list-group-flush",3,"keydown"],[1,"list-group-item"],[1,"input-group","input-group-sm"],["type","text","placeholder",e,1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"list-group-item","list-group-item-action","bg-light"],[1,"list-group-item","list-group-item-action","bg-light",3,"disabled"],[1,"list-group-item","list-group-item-action","bg-light",3,"click"],[1,"d-flex"],[1,"ms-auto","text-muted"],[1,"list-group-item","list-group-item-action","bg-light",3,"click","disabled"],["width",".9em","height",".9em","name","asterisk"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",5,0),T("openChange",function(a){return b(s),S(o.onOpenClose(a))}),d(2,"button",6),w(3,"i-bs",7),d(4,"div",8),A(5,"\xa0"),ae(6),M(7,3),le(),u()(),d(8,"div",9)(9,"div",10),T("keydown",function(a){return b(s),S(o.listKeyDown(a))}),d(10,"div",11)(11,"div",12)(12,"input",13,1),je("ngModelChange",function(a){return b(s),$e(o.filterText,a)||(o.filterText=a),S(a)}),T("keyup.enter",function(){return b(s),S(o.listFilterEnter())}),u()()(),Ue(14,Rot,6,2,"button",14,Lot),y(16,Fot,7,1,"button",15),u()()()}2&i&&(_(2),m("disabled",o.disabled),_(10),Ze("ngModel",o.filterText),_(2),We(o.filteredFields),_(2),N(null!=o.filterText&&o.filterText.length&&0!==o.filteredFields.length?-1:16))},dependencies:[No,bo,Jo,yo,Gt,Jt,Xt,Ti,jt,Rn,qt],styles:[".custom-fields-dropdown[_ngcontent-%COMP%]{min-width:300px}@media (max-width: 575.98px){.custom-fields-dropdown.show[_ngcontent-%COMP%]{margin-left:-245px!important}}"]})}}return t})(),dg=(()=>{class t{constructor(e,i,o){this.viewContainerRef=e,this.templateRef=i,this.permissionsService=o}ngOnInit(){this.permissionsService.currentUserOwnsObject(this.pngxIfOwner)?this.createdView||(this.createdView=this.viewContainerRef.createEmbeddedView(this.templateRef)):this.viewContainerRef.clear()}ngOnChanges(){this.ngOnInit()}static{this.\u0275fac=function(i){return new(i||t)(x(qs),x(nn),x(ti))}}static{this.\u0275dir=et({type:t,selectors:[["","pngxIfOwner",""]],inputs:{pngxIfOwner:"pngxIfOwner"},features:[xi]})}}return t})();function zot(t,n){if(1&t&&(d(0,"h5"),M(1,1),u(),Nn(2,13)),2&t){g();const e=Ve(3);_(2),m("ngTemplateOutlet",e)}}function Vot(t,n){1&t&&Nn(0,13),2&t&&(g(2),m("ngTemplateOutlet",Ve(3)))}function Hot(t,n){1&t&&(d(0,"div",12)(1,"div",14)(2,"h2",15)(3,"button",16),M(4,2),u()(),d(5,"div",17)(6,"div",18),y(7,Vot,1,1,"ng-template"),u()()()())}function $ot(t,n){if(1&t&&(d(0,"div",19)(1,"div",20)(2,"div",21)(3,"label",22),M(4,3),u()(),d(5,"div",23),w(6,"pngx-input-select",24),u()(),d(7,"small",25),M(8,4),u(),d(9,"div",26)(10,"h6",27),M(11,5),u(),d(12,"div",28)(13,"div",29)(14,"div",21)(15,"label",22),M(16,6),u()(),d(17,"div",23),w(18,"pngx-permissions-user",30),u()(),d(19,"div",20)(20,"div",21)(21,"label",22),M(22,7),u()(),d(23,"div",23),w(24,"pngx-permissions-group",31),u()()(),d(25,"h6",32),M(26,8),u(),d(27,"div",33)(28,"div",29)(29,"div",21)(30,"label",22),M(31,9),u()(),d(32,"div",23),w(33,"pngx-permissions-user",34),u()(),d(34,"div",20)(35,"div",21)(36,"label",22),M(37,10),u()(),d(38,"div",23),w(39,"pngx-permissions-group",35),u()(),d(40,"small",36),M(41,11),u()()()()),2&t){const e=g();m("formGroup",e.form),_(6),m("items",e.users)("allowNull",!0)}}let Du=(()=>{class t extends Gs{constructor(){super(),this.accordion=!1,this.form=new Kn({owner:new de(null),set_permissions:new Kn({view:new Kn({users:new de([]),groups:new de([])}),change:new Kn({users:new de([]),groups:new de([])})})})}ngOnInit(){this.form.valueChanges.subscribe(e=>{this.onChange(e)})}writeValue(e){this.form.patchValue(e,{emitEvent:!1})}setDisabledState(e){e?this.form.disable():this.form.enable()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-permissions-form"]],inputs:{users:"users",accordion:"accordion"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:4,vars:2,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f;return e="Permissions",i="Edit Permissions",o="Owner:",s="Objects without an owner can be viewed and edited by all users",r="View",a="Users:",l="Groups:",c="Edit",h="Users:",p="Groups:",f="Edit permissions also grant viewing permissions",[["permissionsForm",""],e,i,o,s,r,a,l,c,h,p,f,["ngbAccordion","","activeIds",""],[3,"ngTemplateOutlet"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[3,"formGroup"],[1,"row"],[1,"col-lg-3"],[1,"form-label","d-block","my-2"],[1,"col-lg-9"],["bindLabel","username","formControlName","owner",3,"items","allowNull"],[1,"form-text","text-muted","text-end","d-block","mt-n2"],["formGroupName","set_permissions"],[1,"mt-3"],["formGroupName","view",1,"mb-2"],[1,"row","mb-1"],["type","view","formControlName","users"],["type","view","formControlName","groups"],[1,"mt-4"],["formGroupName","change"],["type","change","formControlName","users"],["type","change","formControlName","groups"],[1,"form-text","text-muted","text-end","d-block"]]},template:function(i,o){1&i&&y(0,zot,3,1)(1,Hot,8,0,"div",12)(2,$ot,42,3,"ng-template",null,0,zt),2&i&&(N(o.accordion?-1:0),_(),N(o.accordion?1:-1))},dependencies:[la,nb,tb,Xt,jt,Mo,qt,co,To,F2,Uo,Ed,q_,Sd,R1,Y_,K_,B2],styles:[".accordion[_ngcontent-%COMP%]{--bs-accordion-btn-padding-x: .75rem;--bs-accordion-btn-padding-y: .375rem}"]})}}return t})(),ul=(()=>{class t extends Mc{constructor(e){super(e,"correspondents")}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Got(t,n){if(1&t&&(d(0,"span",5),A(1),u()),2&t){const e=g();_(),Le("ID: ",e.object.id,"")}}function Bot(t,n){if(1&t&&w(0,"pngx-input-text",10),2&t){const e=g();m("error",null==e.error?null:e.error.match)}}function Uot(t,n){1&t&&w(0,"pngx-input-check",11)}function Wot(t,n){if(1&t&&(d(0,"div"),w(1,"pngx-permissions-form",16),u()),2&t){const e=g();_(),m("users",e.users)}}let Am=(()=>{class t extends A0{constructor(e,i,o,s){super(e,i,o,s)}getCreateTitle(){return "Create new correspondent"}getEditTitle(){return "Edit correspondent"}getForm(){return new Kn({name:new de(""),matching_algorithm:new de(6),match:new de(""),is_insensitive:new de(!0),permissions_form:new de(null)})}static{this.\u0275fac=function(i){return new(i||t)(x(ul),x(io),x(gs),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-correspondent-edit-dialog"]],features:[st],decls:17,vars:11,consts:()=>{let e,i,o,s,r,a;return e="Name",i="Matching algorithm",o="Matching pattern",s="Case insensitive",r="Cancel",a="Save",[r,a,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","matching_algorithm",3,"items"],["title",o,"formControlName","match",3,"error"],["title",s,"formControlName","is_insensitive","novalidate",""],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(i,o){1&i&&(d(0,"form",2),T("ngSubmit",function(){return o.save()}),d(1,"div",3)(2,"h4",4),A(3),u(),y(4,Got,2,1,"span",5),d(5,"button",6),T("click",function(){return o.cancel()}),u()(),d(6,"div",7),w(7,"pngx-input-text",8)(8,"pngx-input-select",9),y(9,Bot,1,1,"pngx-input-text",10)(10,Uot,1,0,"pngx-input-check",11)(11,Wot,2,1,"div",12),u(),d(12,"div",13)(13,"button",14),T("click",function(){return o.cancel()}),M(14,0),u(),d(15,"button",15),M(16,1),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),N(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(2),m("error",null==o.error?null:o.error.name),_(),m("items",o.getMatchingAlgorithms()),_(),N(o.patternRequired?9:-1),_(),N(o.patternRequired?10:-1),_(),m("pngxIfOwner",o.object),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[la,Du,gr,dg,Xt,Oo,jt,Mo,qt,co,To],encapsulation:2})}}return t})(),hl=(()=>{class t extends Mc{constructor(e){super(e,"document_types")}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Zot(t,n){if(1&t&&(d(0,"span",5),A(1),u()),2&t){const e=g();_(),Le("ID: ",e.object.id,"")}}function jot(t,n){if(1&t&&w(0,"pngx-input-text",11),2&t){const e=g();m("error",null==e.error?null:e.error.match)}}function Xot(t,n){1&t&&w(0,"pngx-input-check",12)}function Kot(t,n){if(1&t&&(d(0,"div"),w(1,"pngx-permissions-form",17),u()),2&t){const e=g();_(),m("users",e.users)}}let Om=(()=>{class t extends A0{constructor(e,i,o,s){super(e,i,o,s)}getCreateTitle(){return "Create new document type"}getEditTitle(){return "Edit document type"}getForm(){return new Kn({name:new de(""),matching_algorithm:new de(6),match:new de(""),is_insensitive:new de(!0),permissions_form:new de(null)})}static{this.\u0275fac=function(i){return new(i||t)(x(hl),x(io),x(gs),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-document-type-edit-dialog"]],features:[st],decls:18,vars:11,consts:()=>{let e,i,o,s,r,a;return e="Name",i="Matching algorithm",o="Matching pattern",s="Case insensitive",r="Cancel",a="Save",[r,a,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"col"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","matching_algorithm",3,"items"],["title",o,"formControlName","match",3,"error"],["title",s,"formControlName","is_insensitive"],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(i,o){1&i&&(d(0,"form",2),T("ngSubmit",function(){return o.save()}),d(1,"div",3)(2,"h4",4),A(3),u(),y(4,Zot,2,1,"span",5),d(5,"button",6),T("click",function(){return o.cancel()}),u()(),d(6,"div",7)(7,"div",8),w(8,"pngx-input-text",9)(9,"pngx-input-select",10),y(10,jot,1,1,"pngx-input-text",11)(11,Xot,1,0,"pngx-input-check",12),u(),y(12,Kot,2,1,"div",13),u(),d(13,"div",14)(14,"button",15),T("click",function(){return o.cancel()}),M(15,0),u(),d(16,"button",16),M(17,1),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),N(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(3),m("error",null==o.error?null:o.error.name),_(),m("items",o.getMatchingAlgorithms()),_(),N(o.patternRequired?10:-1),_(),N(o.patternRequired?11:-1),_(),m("pngxIfOwner",o.object),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[la,Du,gr,dg,Xt,Oo,jt,Mo,qt,co,To],encapsulation:2})}}return t})();function qot(t,n){if(1&t&&(d(0,"label",11),A(1),u()),2&t){const e=g();Ce("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function Yot(t,n){if(1&t){const e=F();d(0,"button",12),T("click",function(){b(e);const o=g();return S(o.removed.emit(o))}),w(1,"i-bs",13),A(2,"\xa0"),ae(3),M(4,1),le(),u()}}function Qot(t,n){1&t&&(w(0,"small",9),ye(1,"safeHtml")),2&t&&m("innerHTML",Ke(1,1,g().hint),vo)}let AB=(()=>{class t extends Gs{constructor(){super(),this.placeholder="",this.monospace=!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-textarea"]],inputs:{placeholder:"placeholder",monospace:"monospace"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:12,vars:18,consts:()=>{let e;return e="Remove",[["inputField",""],e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],["rows","4",1,"form-control",3,"ngModelChange","change","id","ngModel","disabled","placeholder"],[1,"form-text","text-muted",3,"innerHTML"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",2)(1,"div",3)(2,"div",4),y(3,qot,2,4,"label",5)(4,Yot,5,0,"button",6),u(),d(5,"div",7)(6,"textarea",8,0),je("ngModelChange",function(a){return b(s),$e(o.value,a)||(o.value=a),S(a)}),T("change",function(){return b(s),S(o.onChange(o.value))}),A(8,"        "),u(),y(9,Qot,2,3,"small",9),d(10,"div",10),A(11),u()()()()}2&i&&(Ce("pb-3",o.error),_(2),Ce("col-md-3",o.horizontal),_(),N(o.title?3:-1),_(),N(o.removable?4:-1),_(),Ce("col-md-9",o.horizontal),_(),Ce("is-invalid",o.error)("font-monospace",o.monospace),m("id",o.inputId),Ze("ngModel",o.value),m("disabled",o.disabled)("placeholder",o.placeholder),_(3),N(o.hint?9:-1),_(2),Le(" ",o.error," "))},dependencies:[Xt,Ti,jt,Rn,qt,vc],encapsulation:2})}}return t})(),Tc=(()=>{class t extends Mc{constructor(e){super(e,"storage_paths")}testPath(e,i){return this.http.post(`${this.getResourceUrl()}test/`,{path:e,document:i})}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Jot(t,n){if(1&t&&(d(0,"span",10),A(1),u()),2&t){const e=g();_(),Le("ID: ",e.object.id,"")}}function est(t,n){1&t&&Nn(0,30),2&t&&(g(),m("ngTemplateOutlet",Ve(9)))}function tst(t,n){if(1&t&&(d(0,"code"),A(1),u()),2&t){const e=g(2);_(),oe(e.testResult)}}function nst(t,n){1&t&&(d(0,"div",31),M(1,4),u())}function ist(t,n){1&t&&(d(0,"div",32),M(1,5),u())}function ost(t,n){1&t&&(w(0,"div",36),d(1,"div",37),M(2,6),u())}function sst(t,n){if(1&t&&(d(0,"div"),A(1),d(2,"small",38),A(3),ye(4,"customDate"),u()()),2&t){const e=n.item;_(),Le("",e.title," "),_(2),Le("(",Yo(4,2,e.created,"shortDate"),")")}}function rst(t,n){if(1&t){const e=F();d(0,"div",28)(1,"div",29),y(2,est,1,1,"ng-container",30)(3,tst,2,1,"code")(4,nst,2,0,"div",31)(5,ist,2,0,"div",32),u()(),d(6,"ng-select",33),ye(7,"async"),T("change",function(o){return b(e),S(g().testPath(o))}),y(8,ost,3,0,"ng-template",34,0,zt)(10,sst,5,5,"ng-template",35),u()}if(2&t){const e=g();_(2),N(e.testLoading?2:e.testResult?3:e.testFailed?4:5),_(4),m("items",Ke(7,7,e.foundDocuments$))("compareWith",e.compareDocuments)("trackByFn",e.trackByFn)("minTermLength",2)("loading",e.loading)("typeahead",e.documentsInput$)}}function ast(t,n){if(1&t&&w(0,"pngx-input-text",22),2&t){const e=g();m("error",null==e.error?null:e.error.match)}}function lst(t,n){1&t&&w(0,"pngx-input-check",23)}function cst(t,n){if(1&t&&(d(0,"div"),w(1,"pngx-permissions-form",39),u()),2&t){const e=g();_(),m("users",e.users)}}let ym=(()=>{class t extends A0{constructor(e,i,o,s,r){super(e,i,o,s),this.documentsService=r,this.documentsInput$=new xe,this.testFailed=!1,this.loading=!1,this.testLoading=!1,this.initPathObservables()}getCreateTitle(){return "Create new storage path"}getEditTitle(){return "Edit storage path"}getForm(){return new Kn({name:new de(""),path:new de(""),matching_algorithm:new de(6),match:new de(""),is_insensitive:new de(!0),permissions_form:new de(null)})}testPath(e){e?(this.testDocument=e,this.testLoading=!0,this.service.testPath(this.objectForm.get("path").value,e.id).subscribe(i=>{i?.length?(this.testResult=i,this.testFailed=!1):(this.testResult=null,this.testFailed=!0),this.testLoading=!1})):this.testResult=null}compareDocuments(e,i){return e.id===i.id}initPathObservables(){this.objectForm.get("path").valueChanges.pipe(Te(this.unsubscribeNotifier),li(e=>e&&!!this.testDocument)).subscribe(()=>{this.testPath(this.testDocument)}),this.foundDocuments$=pd(Et([]),this.documentsInput$.pipe(h1(),Te(this.unsubscribeNotifier),un(()=>this.loading=!0),Mi(e=>this.documentsService.listFiltered(1,null,"created",!0,[{rule_type:0,value:e}],{truncate_content:!0}).pipe(Tt(i=>i.results),m1(()=>Et([])),un(()=>this.loading=!1)))))}trackByFn(e){return e.id}static{this.\u0275fac=function(i){return new(i||t)(x(Tc),x(io),x(gs),x(En),x(So))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-storage-path-edit-dialog"]],features:[st],decls:27,vars:13,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E;return e="Name",i="Path",o="See <a target='_blank' href='https://docs.paperless-ngx.com/advanced_usage/#file-name-handling'>the documentation</a>.",s="Matching algorithm",r="Matching pattern",a="Case insensitive",l="Preview",c="Cancel",h="Save",p="Search for a document",f="No documents found",v="Path test failed",C="No document selected",E="Loading...",[["loadingTemplate",""],l,c,h,v,C,E,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","path","hint",o,3,"error","monospace"],["ngbAccordion",""],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["title",s,"formControlName","matching_algorithm",3,"items"],["title",r,"formControlName","match",3,"error"],["title",a,"formControlName","is_insensitive"],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"card","mb-2"],[1,"card-body","p-2"],[3,"ngTemplateOutlet"],[1,"text-danger"],[1,"text-muted","small"],["name","testDocument","placeholder",p,"notFoundText",f,"bindValue","id","bindLabel","title",3,"change","items","compareWith","trackByFn","minTermLength","loading","typeahead"],["ng-loadingspinner-tmp",""],["ng-option-tmp",""],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"],[1,"text-muted"],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(i,o){1&i&&(d(0,"form",7),T("ngSubmit",function(){return o.save()}),d(1,"div",8)(2,"h4",9),A(3),u(),y(4,Jot,2,1,"span",10),d(5,"button",11),T("click",function(){return o.cancel()}),u()(),d(6,"div",12),w(7,"pngx-input-text",13)(8,"pngx-input-textarea",14),d(9,"div",15)(10,"div",16)(11,"h2",17)(12,"button",18),M(13,1),u()(),d(14,"div",19)(15,"div",20),y(16,rst,11,9,"ng-template"),u()()()(),w(17,"hr")(18,"pngx-input-select",21),y(19,ast,1,1,"pngx-input-text",22)(20,lst,1,0,"pngx-input-check",23)(21,cst,2,1,"div",24),u(),d(22,"div",25)(23,"button",26),T("click",function(){return o.cancel()}),M(24,2),u(),d(25,"button",27),M(26,3),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),N(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(2),m("error",null==o.error?null:o.error.name),_(),m("error",null==o.error?null:o.error.path)("monospace",!0),_(10),m("items",o.getMatchingAlgorithms()),_(),N(o.patternRequired?19:-1),_(),N(o.patternRequired?20:-1),_(),m("pngxIfOwner",o.object),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[la,AB,gr,dl,Du,dg,Aa,Uo,Xt,Oo,jt,Mo,qt,co,To,Ed,q_,Sd,R1,Y_,K_,B2,Q0],styles:[".accordion[_ngcontent-%COMP%]{--bs-accordion-btn-padding-x: .75rem;--bs-accordion-btn-padding-y: .375rem}"]})}}return t})();function dst(t,n){1&t&&w(0,"div",21)}let ust=(()=>{class t extends ns{set hasArchiveVersion(e){this._hasArchiveVersion=e,this.useArchiveVersion=e}get hasArchiveVersion(){return this._hasArchiveVersion}constructor(e,i,o){super(),this.activeModal=e,this.documentService=i,this.toastService=o,this.title="Email Document",this._hasArchiveVersion=!0,this.useArchiveVersion=!0,this.emailAddress="",this.emailSubject="",this.emailMessage="",this.loading=!1}emailDocument(){this.loading=!0,this.documentService.emailDocument(this.documentId,this.emailAddress,this.emailSubject,this.emailMessage,this.useArchiveVersion).subscribe({next:()=>{this.loading=!1,this.emailAddress="",this.emailSubject="",this.emailMessage="",this.toastService.showInfo("Email sent")},error:e=>{this.loading=!1,this.toastService.showError("Error emailing document",e)}})}close(){this.activeModal.close()}static{this.\u0275fac=function(i){return new(i||t)(x(io),x(So),x(Fi))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-email-document-dialog"]],inputs:{title:"title",documentId:"documentId",hasArchiveVersion:"hasArchiveVersion"},features:[st],decls:27,vars:8,consts:()=>{let e,i,o,s,r;return e="Email address(es)",i="Subject",o="Message",s="Use archive version",r="Send email",[e,i,o,s,r,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-1"],["for","email",1,"form-label"],["type","email","id","email",1,"form-control",3,"ngModelChange","ngModel"],["type","email","id","subject",1,"form-control",3,"ngModelChange","ngModel"],["for","message",1,"form-label"],["id","message","rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"input-group"],[1,"input-group-text","flex-grow-1"],["type","checkbox","role","switch","id","useArchiveVersion",1,"form-check-input","mt-0","me-2",3,"ngModelChange","disabled","ngModel"],["for","useArchiveVersion",1,"form-check-label","w-100","text-start"],["type","submit",1,"btn","btn-outline-primary",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]]},template:function(i,o){1&i&&(d(0,"div",5)(1,"h4",6),A(2),u(),d(3,"button",7),T("click",function(){return o.close()}),u()(),d(4,"div",8)(5,"div",9)(6,"label",10),M(7,0),u(),d(8,"input",11),je("ngModelChange",function(r){return $e(o.emailAddress,r)||(o.emailAddress=r),r}),u()(),d(9,"div",9)(10,"label",10),M(11,1),u(),d(12,"input",12),je("ngModelChange",function(r){return $e(o.emailSubject,r)||(o.emailSubject=r),r}),u()(),d(13,"div")(14,"label",13),M(15,2),u(),d(16,"textarea",14),je("ngModelChange",function(r){return $e(o.emailMessage,r)||(o.emailMessage=r),r}),u()()(),d(17,"div",15)(18,"div",16)(19,"div",17)(20,"input",18),je("ngModelChange",function(r){return $e(o.useArchiveVersion,r)||(o.useArchiveVersion=r),r}),u(),d(21,"label",19),M(22,3),u()(),d(23,"button",20),T("click",function(){return o.emailDocument()}),y(24,dst,1,0,"div",21),ae(25),M(26,4),le(),u()()()),2&i&&(_(2),oe(o.title),_(6),Ze("ngModel",o.emailAddress),_(4),Ze("ngModel",o.emailSubject),_(4),Ze("ngModel",o.emailMessage),_(4),m("disabled",!o.hasArchiveVersion),Ze("ngModel",o.useArchiveVersion),_(3),m("disabled",o.loading||0===o.emailAddress.length||0===o.emailMessage.length||0===o.emailSubject.length),_(),N(o.loading?24:-1))},dependencies:[Xt,Ti,Zo,jt,Rn,Gt],encapsulation:2})}}return t})();const hst=()=>[];function _st(t,n){if(1&t){const e=F();d(0,"button",20),T("click",function(){b(e);const o=g();return S(o.removed.emit(o))}),w(1,"i-bs",21),A(2,"\xa0"),ae(3),M(4,3),le(),u()}}function pst(t,n){if(1&t){const e=F();d(0,"div",22)(1,"button",23),T("click",function(){b(e);const o=g(),s=Ve(10);return o.value=o.today,o.onChange(o.value),S(s.close())}),M(2,4),u(),d(3,"button",24),T("click",function(){return b(e),g(),S(Ve(10).close())}),M(4,5),u()()}}function gst(t,n){if(1&t){const e=F();d(0,"button",25),T("click",function(){return b(e),S(g().onFilterDocuments())}),w(1,"i-bs",26),u()}if(2&t){const e=g();ai("title",e.filterButtonTitle),m("disabled",null===e.value)}}function fst(t,n){if(1&t&&(d(0,"small",19),A(1),u()),2&t){const e=g();_(),oe(e.hint)}}function mst(t,n){if(1&t){const e=F();d(0,"a",27),T("click",function(){const o=b(e).$implicit;return S(g(2).onSuggestionClick(o))}),A(1),u(),A(2,"\xa0 ")}if(2&t){const e=n.$implicit;m("routerLink",kl(2,hst)),_(),oe(e)}}function vst(t,n){if(1&t&&(d(0,"small")(1,"span"),M(2,6),u(),A(3,"\xa0 "),Ue(4,mst,3,3,null,null,Ht),u()),2&t){const e=g();_(4),We(e.getSuggestions())}}let OB=(()=>{class t extends Gs{constructor(e,i,o){super(),this.settings=e,this.ngbDateParserFormatter=i,this.isoDateAdapter=o,this.showFilter=!1,this.filterDocuments=new Ee,this.today=(new Date).toISOString().split("T")[0]}getSuggestions(){return null==this.suggestions?[]:this.suggestions.map(e=>this.ngbDateParserFormatter.parse(e)).filter(e=>null===this.value||this.value!=this.isoDateAdapter.toModel(e)).map(e=>this.ngbDateParserFormatter.format(e))}onSuggestionClick(e){const i=this.ngbDateParserFormatter.parse(e);this.writeValue(this.isoDateAdapter.toModel(i)),this.onChange(this.value)}ngOnInit(){super.ngOnInit(),this.placeholder=this.settings.getLocalizedDateInputFormat()}onPaste(e){const i=e.clipboardData||window.clipboardData;if(i){e.preventDefault();let o=i.getData("text");o=o.replace(/[\sa-z#!$%\^&\*;:{}=\-_`~()]+/g,"");const s=this.ngbDateParserFormatter.parse(o);s&&(this.writeValue(this.isoDateAdapter.toModel(s)),this.onChange(this.value))}}onKeyPress(e){"Enter"!==e.key&&!(e.altKey||e.metaKey||e.ctrlKey)&&!/[0-9,\.\/-]+/.test(e.key)&&e.preventDefault()}onFilterDocuments(){this.filterDocuments.emit([this.ngbDateParserFormatter.parse(this.value)])}get filterButtonTitle(){return "Filter documents with this " + this.title + ""}static{this.\u0275fac=function(i){return new(i||t)(x(En),x(np),x(Od))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-date"]],inputs:{suggestions:"suggestions",showFilter:"showFilter"},outputs:{filterDocuments:"filterDocuments"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:21,vars:24,consts:()=>{let e,i,o,s,r;return e="Invalid date.",i="Remove",o="Today",s="Close",r="Suggestions:",[["inputField","","datePicker","ngbDatepicker","datePickerContent","ngModel"],["datePickerFooterTemplate",""],e,i,o,s,r,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],[1,"input-group"],["maxlength","10","name","dp","ngbDatepicker","",1,"form-control",3,"dateSelect","change","keypress","paste","ngModelChange","placeholder","id","ngModel","disabled","footerTemplate"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"click","disabled"],["width","1.2em","height","1.2em","name","calendar"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","title"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],[1,"btn-group-xs","border-top","p-2","d-flex"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary","ms-auto",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled","title"],["width","1.2em","height","1.2em","name","filter"],[3,"click","routerLink"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",7)(1,"div",8)(2,"div",9)(3,"label",10),A(4),u(),y(5,_st,5,0,"button",11),u(),d(6,"div",12)(7,"div",13)(8,"input",14,0),T("dateSelect",function(){return b(s),S(o.onChange(o.value))})("change",function(){return b(s),S(o.onChange(o.value))})("keypress",function(a){return b(s),S(o.onKeyPress(a))})("paste",function(a){return b(s),S(o.onPaste(a))}),je("ngModelChange",function(a){return b(s),$e(o.value,a)||(o.value=a),S(a)}),u(),d(12,"button",15),T("click",function(){return b(s),S(Ve(10).toggle())}),w(13,"i-bs",16),u(),y(14,pst,5,0,"ng-template",null,1,zt)(16,gst,2,2,"button",17),u(),d(17,"div",18),M(18,2),u(),y(19,fst,2,1,"small",19)(20,vst,6,0,"small"),u()()()}if(2&i){const s=Ve(15);Ce("pb-3",o.error),_(2),Ce("col-md-3",o.horizontal),_(),Ce("mb-md-0",o.horizontal),m("for",o.inputId),_(),oe(o.title),_(),N(o.removable?5:-1),_(),Ce("col-md-9",o.horizontal),_(),Ce("is-invalid",o.error),_(),Ce("is-invalid",o.error),m("placeholder",o.placeholder)("id",o.inputId),Ze("ngModel",o.value),m("disabled",o.disabled)("footerTemplate",s),_(4),m("disabled",o.disabled),_(4),N(o.showFilter?16:-1),_(3),N(o.hint?19:-1),_(),N(o.getSuggestions().length>0?20:-1)}},dependencies:[rp,G6,Xt,Ti,jt,k_,Rn,qt,aa,Vr,Gt,Jt],styles:[".btn-group-xs[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:.15rem}"]})}}return t})();function Cst(t,n){1&t&&Nn(0)}function Mst(t,n){1&t&&y(0,Cst,1,0,"ng-container",5),2&t&&(g(),m("ngTemplateOutlet",Ve(3)))}function Tst(t,n){if(1&t&&(d(0,"label",12),A(1),u()),2&t){const e=g(2);Ce("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function wst(t,n){if(1&t){const e=F();d(0,"button",13),T("click",function(){b(e);const o=g(2);return S(o.removed.emit(o))}),w(1,"i-bs",14),A(2,"\xa0"),ae(3),M(4,1),le(),u()}}function bst(t,n){1&t&&Nn(0)}function Sst(t,n){if(1&t&&(d(0,"small",11),A(1),u()),2&t){const e=g(2);_(),oe(e.hint)}}function Est(t,n){if(1&t&&(d(0,"div",6)(1,"div",7)(2,"div",8),y(3,Tst,2,4,"label",9)(4,wst,5,0,"button",10),u(),d(5,"div"),y(6,bst,1,0,"ng-container",5)(7,Sst,2,1,"small",11),u()()()),2&t){const e=g(),i=Ve(3);Ce("disabled",e.disabled),_(2),Ce("col-md-3",e.horizontal),_(),N(e.title?3:-1),_(),N(e.removable?4:-1),_(),Ce("col-md-9",e.horizontal),_(),m("ngTemplateOutlet",i),_(),N(e.hint?7:-1)}}function Ast(t,n){if(1&t){const e=F();d(0,"button",23),T("click",function(){b(e);const o=g().item;return S(g(2).unselect(o))}),w(1,"i-bs",14),u()}}function Ost(t,n){if(1&t){const e=F();d(0,"a",24),T("mousedown",function(o){return b(e),S(o.stopImmediatePropagation())}),w(1,"i-bs",25),A(2,"\xa0"),d(3,"span"),A(4),u()()}if(2&t){const e=g().item;Kt("routerLink","/documents/",e.id,""),_(4),oe(e.title)}}function yst(t,n){if(1&t){const e=F();d(0,"span",26),T("click",function(){b(e);const o=g().item;return S(g(2).unselect(o))}),w(1,"i-bs",27),A(2,"\xa0"),d(3,"span"),M(4,2),u()()}}function Nst(t,n){if(1&t&&(d(0,"div",19),y(1,Ast,2,0,"button",20)(2,Ost,5,3,"a",21)(3,yst,5,0,"span",22),u()),2&t){const e=n.item,i=g(2);_(),N(i.disabled?-1:1),_(),N(e.title?2:3)}}function Dst(t,n){1&t&&(w(0,"div",28),d(1,"div",29),M(2,3),u())}function Pst(t,n){if(1&t&&(d(0,"div"),A(1),d(2,"small",30),A(3),ye(4,"customDate"),u()()),2&t){const e=n.item;_(),Le("",e.title," "),_(2),Le("(",Yo(4,2,e.created,"shortDate"),")")}}function Ist(t,n){if(1&t){const e=F();d(0,"ng-select",15),ye(1,"async"),je("ngModelChange",function(o){b(e);const s=g();return $e(s.selectedDocuments,o)||(s.selectedDocuments=o),S(o)}),T("mousedown",function(o){return b(e),S(o.stopImmediatePropagation())})("change",function(){b(e);const o=g();return S(o.onChange(o.selectedDocuments))}),y(2,Nst,4,2,"ng-template",16)(3,Dst,3,0,"ng-template",17)(4,Pst,5,5,"ng-template",18),u()}if(2&t){const e=g();Ze("ngModel",e.selectedDocuments),m("disabled",e.disabled)("items",Ke(1,11,e.foundDocuments$))("placeholder",e.placeholder)("notFoundText",e.notFoundText)("multiple",!0)("compareWith",e.compareDocuments)("trackByFn",e.trackByFn)("minTermLength",2)("loading",e.loading)("typeahead",e.documentsInput$)}}let ab=(()=>{class t extends Gs{constructor(e){super(),this.documentsService=e,this.documentsInput$=new xe,this.loading=!1,this.selectedDocuments=[],this.unsubscribeNotifier=new xe,this.notFoundText="No documents found",this.minimal=!1,this.placeholder="Search for documents"}ngOnInit(){this.loadDocs()}writeValue(e){e&&0!==e.length?(this.loading=!0,this.documentsService.getFew(e,{fields:"id,title"}).pipe(Te(this.unsubscribeNotifier)).subscribe(i=>{this.loading=!1,this.selectedDocuments=e.map(o=>i.results.find(s=>s.id===o)),super.writeValue(e)})):(this.selectedDocuments=[],super.writeValue([]))}loadDocs(){this.foundDocuments$=pd(Et([]),this.documentsInput$.pipe(h1(),Te(this.unsubscribeNotifier),un(()=>this.loading=!0),Mi(e=>this.documentsService.listFiltered(1,null,"created",!0,[{rule_type:0,value:e}],{truncate_content:!0}).pipe(Tt(i=>i.results.filter(o=>o.id!==this.parentDocumentID&&!this.selectedDocuments.find(s=>s.id===o.id))),m1(()=>Et([])),un(()=>this.loading=!1)))))}unselect(e){this.selectedDocuments=this.selectedDocuments.filter(i=>i&&i.id!==e.id),this.onChange(this.selectedDocuments.map(i=>i.id))}compareDocuments(e,i){return e.id===i.id}trackByFn(e){return e.id}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}static{this.\u0275fac=function(i){return new(i||t)(x(So))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-document-link"]],inputs:{notFoundText:"notFoundText",parentDocumentID:"parentDocumentID",minimal:"minimal",placeholder:"placeholder"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:4,vars:1,consts:()=>{let e,i,o,s,r,a;return e="Remove",i="Remove link",o="Open link",s="Remove link",r="Not found",a="Loading...",[["select",""],e,r,a,[1,"mb-3","paperless-input-select",3,"disabled"],[4,"ngTemplateOutlet"],[1,"mb-3","paperless-input-select"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],["name","inputId","bindValue","id",3,"ngModelChange","mousedown","change","ngModel","disabled","items","placeholder","notFoundText","multiple","compareWith","trackByFn","minTermLength","loading","typeahead"],["ng-label-tmp",""],["ng-loadingspinner-tmp",""],["ng-option-tmp",""],[1,"d-flex","align-items-center"],["title",i,1,"btn","p-0","lh-1"],["title",o,1,"badge","bg-light","text-primary",3,"routerLink"],["title",s,1,"badge","bg-light","text-muted"],["title",i,1,"btn","p-0","lh-1",3,"click"],["title",o,1,"badge","bg-light","text-primary",3,"mousedown","routerLink"],["width","0.9em","height","0.9em","name","file-text"],["title",s,1,"badge","bg-light","text-muted",3,"click"],["width","0.9em","height","0.9em","name","exclamation-triangle-fill"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"],[1,"text-muted"]]},template:function(i,o){1&i&&y(0,Mst,1,1,"ng-container")(1,Est,8,10,"div",4)(2,Ist,5,13,"ng-template",null,0,zt),2&i&&N(o.minimal?0:1)},dependencies:[fr,Aa,Xt,jt,Rn,qt,aa,Vr,Uo,up,Q0,X6,PM,TF,Gt,Jt],styles:[".ng-select-container .ng-value-container{overflow:hidden}  .ng-select-container .ng-value-container .ng-value{background-color:transparent!important;border-color:transparent!important}.paperless-input-select.disabled[_ngcontent-%COMP%]{--bs-btn-disabled-border-color: transparent}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-disabled)!important}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container div, .paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container .ng-arrow-wrapper, .paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container input{cursor:not-allowed}i-bs[_ngcontent-%COMP%]{cursor:pointer}.badge[_ngcontent-%COMP%]{font-size:.75rem}"]})}}return t})();function xst(t,n){if(1&t&&(d(0,"label",15),A(1),u()),2&t){const e=g();Ce("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function Lst(t,n){if(1&t){const e=F();d(0,"button",16),T("click",function(){b(e);const o=g();return S(o.removed.emit(o))}),w(1,"i-bs",17),A(2,"\xa0"),ae(3),M(4,2),le(),u()}}function Rst(t,n){if(1&t&&(d(0,"small",14),A(1),u()),2&t){const e=g();_(),oe(e.hint)}}let yB=(()=>{class t extends Gs{get monetaryValue(){return this._monetaryValue}set monetaryValue(e){(e||"0"===e?.toString())&&(this._monetaryValue=e.toString())}set defaultCurrency(e){e&&(this.defaultCurrencyCode=e)}constructor(e){super(),this.currency="",this._monetaryValue="",this.currency=this.defaultCurrencyCode=this.defaultCurrency??XP(e)}writeValue(e){this.currency=this.parseCurrencyCode(e),this.monetaryValue=this.parseMonetaryValue(e,!0),this.value=this.currency+this.monetaryValue}monetaryValueChange(e=!1){this.monetaryValue=this.parseMonetaryValue(this.monetaryValue,e),"0"===this.monetaryValue&&(this.monetaryValue="0.00"),this.onChange(this.currency+this.monetaryValue)}currencyChange(){this.currency.length&&(this.currency=this.parseCurrencyCode(this.currency),this.onChange(this.currency+this.monetaryValue?.toString()))}parseCurrencyCode(e){return e?.toString().toUpperCase().match(/^([A-Z]{1,3})/)?.[0]??this.defaultCurrencyCode}parseMonetaryValue(e,i=!1){if(!e)return"";const o=parseFloat(e.toString().replace(/[^0-9.,-]+/g,""));return i?o.toFixed(2):o.toString()}static{this.\u0275fac=function(i){return new(i||t)(x(ea))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-monetary"]],inputs:{defaultCurrency:"defaultCurrency"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:17,vars:24,consts:()=>{let e;return e="Remove",[["currencyField",""],["monetaryValueField",""],e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],[1,"input-group"],[1,"input-group-text","fw-bold","bg-light"],["maxlength","3",1,"form-control","text-muted","mw-60",3,"ngModelChange","input","ngModel","disabled"],["type","number","step",".01",1,"form-control","text-muted",3,"ngModelChange","input","change","ngModel","disabled"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",3)(1,"div",4)(2,"div",5),y(3,xst,2,4,"label",6)(4,Lst,5,0,"button",7),u(),d(5,"div",8)(6,"div",9)(7,"span",10),A(8),ye(9,"currency"),u(),d(10,"input",11,0),je("ngModelChange",function(a){return b(s),$e(o.currency,a)||(o.currency=a),S(a)}),T("input",function(){return b(s),S(o.currencyChange())}),u(),d(12,"input",12,1),je("ngModelChange",function(a){return b(s),$e(o.monetaryValue,a)||(o.monetaryValue=a),S(a)}),T("input",function(){return b(s),S(o.monetaryValueChange())})("change",function(){return b(s),S(o.monetaryValueChange(!0))}),u()(),d(14,"div",13),A(15),u(),y(16,Rst,2,1,"small",14),u()()()}2&i&&(Ce("pb-3",o.error),_(2),Ce("col-md-3",o.horizontal),_(),N(o.title?3:-1),_(),N(o.removable?4:-1),_(),Ce("col-md-9",o.horizontal),_(),Ce("is-invalid",o.error),_(2),oe(Yo(9,21,o.monetaryValue,o.currency)),_(2),Ce("is-invalid",o.error),Ze("ngModel",o.currency),m("disabled",o.disabled),_(2),Ce("is-invalid",o.error),Ze("ngModel",o.monetaryValue),m("disabled",o.disabled),_(3),Le(" ",o.error," "),_(),N(o.hint?16:-1))},dependencies:[ZC,Xt,Ti,Zl,jt,k_,Rn,qt,Gt,Jt],styles:[".input-group-text[_ngcontent-%COMP%]{font-size:inherit}.text-muted[_ngcontent-%COMP%]:focus-within{color:var(--bs-body-color)!important}.mw-60[_ngcontent-%COMP%]{max-width:60px}"]})}}return t})(),Pu=(()=>{class t extends Mc{constructor(e){super(e,"tags")}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Fst(t,n){if(1&t&&(d(0,"span",5),A(1),u()),2&t){const e=g();_(),Le("ID: ",e.object.id,"")}}function kst(t,n){if(1&t&&w(0,"pngx-input-text",12),2&t){const e=g();m("error",null==e.error?null:e.error.match)}}function zst(t,n){1&t&&w(0,"pngx-input-check",13)}function Vst(t,n){if(1&t&&(d(0,"div"),w(1,"pngx-permissions-form",18),u()),2&t){const e=g();_(),m("users",e.users)}}let Nm=(()=>{class t extends A0{constructor(e,i,o,s){super(e,i,o,s)}getCreateTitle(){return "Create new tag"}getEditTitle(){return "Edit tag"}getForm(){return new Kn({name:new de(""),color:new de(MB()),is_inbox_tag:new de(!1),matching_algorithm:new de(6),match:new de(""),is_insensitive:new de(!0),permissions_form:new de(null)})}static{this.\u0275fac=function(i){return new(i||t)(x(Pu),x(io),x(gs),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-tag-edit-dialog"]],features:[st],decls:19,vars:12,consts:()=>{let e,i,o,s,r,a,l,c,h;return e="Name",i="Colour",o="Inbox tag",s="Inbox tags are automatically assigned to all consumed documents.",r="Matching algorithm",a="Matching pattern",l="Case insensitive",c="Cancel",h="Save",[c,h,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","color",3,"error"],["title",o,"formControlName","is_inbox_tag","hint",s],["title",r,"formControlName","matching_algorithm",3,"items"],["title",a,"formControlName","match",3,"error"],["title",l,"formControlName","is_insensitive"],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(i,o){1&i&&(d(0,"form",2),T("ngSubmit",function(){return o.save()}),d(1,"div",3)(2,"h4",4),A(3),u(),y(4,Fst,2,1,"span",5),d(5,"button",6),T("click",function(){return o.cancel()}),u()(),d(6,"div",7),w(7,"pngx-input-text",8)(8,"pngx-input-color",9)(9,"pngx-input-check",10)(10,"pngx-input-select",11),y(11,kst,1,1,"pngx-input-text",12)(12,zst,1,0,"pngx-input-check",13)(13,Vst,2,1,"div",14),u(),d(14,"div",15)(15,"button",16),T("click",function(){return o.cancel()}),M(16,0),u(),d(17,"button",17),M(18,1),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),N(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(2),m("error",null==o.error?null:o.error.name),_(),m("error",null==o.error?null:o.error.color),_(2),m("items",o.getMatchingAlgorithms()),_(),N(o.patternRequired?11:-1),_(),N(o.patternRequired?12:-1),_(),m("pngxIfOwner",o.object),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[la,dl,TB,gr,dg,Du,Xt,Oo,jt,Mo,qt,co,To],encapsulation:2})}}return t})();function Hst(t,n){if(1&t&&(d(0,"span",4),A(1),u()),2&t){const e=g(2);qr("background",e.tag.color)("color",e.tag.text_color),_(),oe(e.tag.name)}}function $st(t,n){if(1&t&&(d(0,"a",5),A(1),u()),2&t){const e=g(2);qr("background",e.tag.color)("color",e.tag.text_color),m("title",e.linkTitle),_(),oe(e.tag.name)}}function Gst(t,n){if(1&t&&y(0,Hst,2,5,"span",2)(1,$st,2,6,"a",3),2&t){const e=g();N(e.clickable?-1:0),_(),N(e.clickable?1:-1)}}function Bst(t,n){1&t&&(d(0,"span",6),M(1,0),u())}function Ust(t,n){1&t&&(d(0,"a",7),M(1,1),u()),2&t&&m("title",g(2).linkTitle)}function Wst(t,n){if(1&t&&y(0,Bst,2,0,"span",6)(1,Ust,2,1,"a",7),2&t){const e=g();N(e.clickable?-1:0),_(),N(e.clickable?1:-1)}}let Iu=(()=>{class t{constructor(e,i){this.permissionsService=e,this.tagService=i,this.linkTitle="",this.clickable=!1}set tag(e){this._tag=e}get tag(){return this._tag}set tagID(e){e!==this._tagID&&(this._tagID=e,this.permissionsService.currentUserCan(mt.View,Ct.Tag)&&this.tagService.getCached(this._tagID).subscribe(i=>{this.tag=i}))}static{this.\u0275fac=function(i){return new(i||t)(x(ti),x(Pu))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-tag"]],inputs:{tag:"tag",tagID:"tagID",linkTitle:"linkTitle",clickable:"clickable"},decls:2,vars:1,consts:()=>{let e,i;return e="Private",i="Private",[e,i,[1,"badge",3,"background","color"],[1,"badge",3,"title","background","color"],[1,"badge"],[1,"badge",3,"title"],[1,"badge","private"],[1,"badge","private",3,"title"]]},template:function(i,o){1&i&&y(0,Gst,2,2)(1,Wst,2,2),2&i&&N(o.tag?0:1)},styles:["a[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{cursor:pointer;white-space:normal;word-break:break-word;text-align:start}.private[_ngcontent-%COMP%]{background-color:#000;color:#fff;opacity:.5;font-style:italic}"]})}}return t})();const Zst=["tagSelect"],jst=(t,n)=>n.id,Xst=()=>[];function Kst(t,n){if(1&t&&w(0,"pngx-tag",17),2&t){const e=g().item;m("tag",g().getTag(e.id))}}function qst(t,n){if(1&t){const e=F();d(0,"button",15),T("click",function(o){const s=b(e).item;return S(g().removeTag(o,s.id))}),w(1,"i-bs",16),y(2,Kst,1,1,"pngx-tag",17),u()}if(2&t){const e=n.item,i=g();_(2),N(e.id&&i.tags?2:-1)}}function Yst(t,n){if(1&t&&w(0,"pngx-tag",19),2&t){const e=g().item;m("tag",g().getTag(e.id))}}function Qst(t,n){if(1&t&&(d(0,"div",18),y(1,Yst,1,1,"pngx-tag",19),u()),2&t){const e=n.item,i=g();_(),N(e.id&&i.tags?1:-1)}}function Jst(t,n){if(1&t){const e=F();d(0,"button",20),T("click",function(){return b(e),S(g().createTag())}),w(1,"i-bs",21),u()}2&t&&m("disabled",g().disabled)}function ert(t,n){if(1&t){const e=F();d(0,"button",22),T("click",function(){return b(e),S(g().onFilterDocuments())}),w(1,"i-bs",23),u()}if(2&t){const e=g();m("disabled",e.hasPrivate||null===e.value)}}function trt(t,n){if(1&t&&(d(0,"small",13),A(1),u()),2&t){const e=g();_(),oe(e.hint)}}function nrt(t,n){if(1&t){const e=F();d(0,"a",24),T("click",function(){const o=b(e).$implicit;return S(g(2).addTag(o.id))}),A(1),u(),A(2,"\xa0 ")}if(2&t){const e=n.$implicit;m("routerLink",kl(2,Xst)),_(),oe(null==e?null:e.name)}}function irt(t,n){if(1&t&&(d(0,"small",14)(1,"span"),M(2,1),u(),A(3,"\xa0 "),Ue(4,nrt,3,3,null,null,jst),u()),2&t){const e=g();_(4),We(e.getSuggestions())}}let lb=(()=>{class t{constructor(e,i){this.tagService=e,this.modalService=i,this.onChange=o=>{},this.onTouched=()=>{},this.title="Tags",this.disabled=!1,this.allowCreate=!0,this.hideAddButton=!1,this.showFilter=!1,this.horizontal=!1,this.filterDocuments=new Ee,this.value=[],this.tags=[],this.createTagRef=this.createTag.bind(this)}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}ngOnInit(){this.tagService.listAll().subscribe(e=>{this.tags=e.results})}getTag(e){return this.tags?this.tags.find(i=>i.id==e):null}removeTag(e,i){if(this.disabled)return;e.stopImmediatePropagation();let o=this.value.indexOf(i);if(o>-1){let s=this.value;s.splice(o,1),this.value=[...s],this.onChange(this.value)}}createTag(e=null){var i=this.modalService.open(Nm,{backdrop:"static"});return i.componentInstance.dialogMode=Oi.CREATE,e?i.componentInstance.object={name:e}:this.select.searchTerm&&(i.componentInstance.object={name:this.select.searchTerm}),this.select.searchTerm=null,this.select.detectChanges(),lw(i.componentInstance.succeeded.pipe(ut(),un(()=>{this.tagService.listAll().subscribe(o=>{this.tags=o.results})})))}getSuggestions(){return this.suggestions&&this.tags?this.suggestions.filter(e=>!this.value.includes(e)).map(e=>this.tags.find(i=>i.id==e)):[]}addTag(e){this.value=[...this.value,e],this.onChange(this.value)}get hasPrivate(){return this.value.some(e=>void 0===this.tags?.find(i=>i.id===e))}onFilterDocuments(){this.filterDocuments.emit(this.tags.filter(e=>this.value.includes(e.id)))}static{this.\u0275fac=function(i){return new(i||t)(x(Pu),x(Do))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-tags"]],viewQuery:function(i,o){if(1&i&&dn(Zst,5),2&i){let s;pt(s=gt())&&(o.select=s.first)}},inputs:{title:"title",disabled:"disabled",hint:"hint",suggestions:"suggestions",allowCreate:"allowCreate",hideAddButton:"hideAddButton",showFilter:"showFilter",horizontal:"horizontal"},outputs:{filterDocuments:"filterDocuments"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}])],decls:15,vars:23,consts:()=>{let e,i,o,s;return e="Add tag",i="Filter documents with these Tags",o="Remove tag",s="Suggestions:",[["tagSelect",""],s,[1,"mb-3","paperless-input-select","paperless-input-tags"],[1,"row"],[1,"d-flex","align-items-center"],["for","tags",1,"form-label"],[1,"position-relative"],[1,"input-group","flex-nowrap"],["name","tags","bindLabel","name","bindValue","id","addTagText",e,3,"ngModelChange","change","items","ngModel","disabled","multiple","closeOnSelect","clearSearchOnAdd","hideSelected","addTag"],["ng-label-tmp",""],["ng-option-tmp",""],["type","button",1,"btn","btn-outline-secondary",3,"disabled"],["type","button","title",i,1,"btn","btn-outline-secondary",3,"disabled"],[1,"form-text","text-muted"],[1,"position-absolute","top-100"],["title",o,1,"tag-wrap","btn","p-0","d-flex","align-items-center",3,"click"],["name","x",2,"margin-inline-end","1px"],[2,"background-color","none",3,"tag"],[1,"tag-wrap"],[1,"me-2",3,"tag"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","plus"],["type","button","title",i,1,"btn","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","filter"],[3,"click","routerLink"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),A(4),u()(),d(5,"div",6)(6,"div",7)(7,"ng-select",8,0),je("ngModelChange",function(a){return b(s),$e(o.value,a)||(o.value=a),S(a)}),T("change",function(){return b(s),S(o.onChange(o.value))}),y(9,qst,3,1,"ng-template",9)(10,Qst,2,1,"ng-template",10),u(),y(11,Jst,2,1,"button",11)(12,ert,2,1,"button",12),u(),y(13,trt,2,1,"small",13)(14,irt,6,0,"small",14),u()()()}2&i&&(Ce("disabled",o.disabled)("pb-3",o.getSuggestions().length>0),_(2),Ce("col-md-3",o.horizontal),_(),Ce("mb-md-0",o.horizontal),_(),oe(o.title),_(),Ce("col-md-9",o.horizontal),_(2),m("items",o.tags),Ze("ngModel",o.value),m("disabled",o.disabled)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)("hideSelected",o.tags.length>0)("addTag",!!o.allowCreate&&o.createTagRef),_(4),N(o.allowCreate&&!o.hideAddButton?11:-1),_(),N(o.showFilter?12:-1),_(),N(o.hint?13:-1),_(),N(o.getSuggestions().length>0?14:-1))},dependencies:[Iu,up,Q0,X6,PM,Xt,jt,Rn,qt,aa,Vr,Gt,Jt],styles:[".selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}.tag-wrap[_ngcontent-%COMP%]{font-size:1rem}.paperless-input-select.disabled[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-disabled)!important}"]})}}return t})();function ort(t,n){if(1&t){const e=F();d(0,"button",13),T("click",function(){b(e);const o=g();return S(o.removed.emit(o))}),w(1,"i-bs",14),A(2,"\xa0"),ae(3),M(4,1),le(),u()}}function srt(t,n){1&t&&(w(0,"small",12),ye(1,"safeHtml")),2&t&&m("innerHTML",Ke(1,1,g().hint),vo)}let NB=(()=>{class t extends Gs{constructor(){super()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-url"]],features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:15,vars:21,consts:()=>{let e,i;return e="Open link",i="Remove",[["inputField",""],i,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"input-group"],["type","url","placeholder","https://",1,"form-control",3,"ngModelChange","change","id","ngModel","disabled"],["title",e,"target","_blank",1,"btn","btn-outline-secondary","rounded-end",3,"href"],["width","1.2em","height","1.2em","name","box-arrow-up-right"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted",3,"innerHTML"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),A(4),u(),y(5,ort,5,0,"button",6),u(),d(6,"div")(7,"div",7)(8,"input",8,0),je("ngModelChange",function(a){return b(s),$e(o.value,a)||(o.value=a),S(a)}),T("change",function(){return b(s),S(o.onChange(o.value))}),u(),d(10,"a",9),w(11,"i-bs",10),u(),d(12,"div",11),A(13),u()(),y(14,srt,2,3,"small",12),u()()()}2&i&&(Ce("pb-3",o.error),_(2),Ce("col-md-3",o.horizontal),_(),Ce("mb-md-0",o.horizontal),m("for",o.inputId),_(),oe(o.title),_(),N(o.removable?5:-1),_(),Ce("col-md-9",o.horizontal),_(),Ce("is-invalid",o.error),_(),Ce("is-invalid",o.error),m("id",o.inputId),Ze("ngModel",o.value),m("disabled",o.disabled),_(2),m("href",o.value,cs),_(3),Le(" ",o.error," "),_(),N(o.hint?14:-1))},dependencies:[Gt,Jt,Xt,Ti,jt,Rn,qt],encapsulation:2})}}return t})();var Dm=function(t){return t.Archive="archive",t.Original="original",t}(Dm||{});let rrt=(()=>{class t extends Mc{constructor(e){super(e,"share_links")}getLinksForDocument(e){return this.http.get(`${this.baseUrl}documents/${e}/${this.resourceName}/`)}createLinkForDocument(e,i=Dm.Archive,o=null){return this.clearCache(),this.http.post(this.getResourceUrl(),{document:e,file_version:i,expiration:o?.toISOString()})}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function art(t,n){1&t&&(d(0,"li",13),M(1,3),u())}function lrt(t,n){if(1&t&&(d(0,"span",28),A(1),u()),2&t){const e=g().$implicit,i=g();_(),Le(" ",i.getDaysRemaining(e)," ")}}function crt(t,n){1&t&&w(0,"i-bs",30)}function drt(t,n){1&t&&w(0,"i-bs",31)}function urt(t,n){if(1&t){const e=F();d(0,"button",29),T("click",function(){b(e);const o=g().$implicit;return S(g().share(o))}),w(1,"i-bs",37),d(2,"span",32),M(3,7),u()()}}function hrt(t,n){if(1&t){const e=F();d(0,"li",14)(1,"div",16),w(2,"input",27),y(3,lrt,2,1,"span",28),d(4,"button",29),T("click",function(){const o=b(e).$implicit;return S(g().copy(o))}),y(5,crt,1,0,"i-bs",30)(6,drt,1,0,"i-bs",31),d(7,"span",32),M(8,4),u()(),y(9,urt,4,0,"button",33),d(10,"button",34),T("click",function(){const o=b(e).$implicit;return S(g().delete(o))}),w(11,"i-bs",35),d(12,"span",32),M(13,5),u()()(),d(14,"span",36),M(15,6),u()()}if(2&t){const e=n.$implicit,i=g();_(2),m("value",i.getShareUrl(e)),_(),N(e.expiration?3:-1),_(2),N(i.copied!==e.id?5:-1),_(),N(i.copied===e.id?6:-1),_(3),N(i.canShare(e)?9:-1),_(5),Ce("show",i.copied===e.id)}}function _rt(t,n){if(1&t&&(d(0,"option",23),A(1),u()),2&t){const e=n.$implicit;m("ngValue",e.value),_(),oe(e.label)}}function prt(t,n){1&t&&w(0,"div",25)}function grt(t,n){1&t&&w(0,"i-bs",26)}let frt=(()=>{class t{set documentId(e){void 0!==e&&(this._documentId=e,this.refresh())}set hasArchiveVersion(e){this._hasArchiveVersion=e,this.useArchiveVersion=e}get hasArchiveVersion(){return this._hasArchiveVersion}constructor(e,i,o,s){this.activeModal=e,this.shareLinkService=i,this.toastService=o,this.clipboard=s,this.EXPIRATION_OPTIONS=[{label:"1 day",value:1},{label:"7 days",value:7},{label:"30 days",value:30},{label:"Never",value:null}],this.title="Share Links",this._hasArchiveVersion=!0,this.loading=!1,this.expirationDays=7,this.useArchiveVersion=!0}ngOnInit(){void 0!==this._documentId&&this.refresh()}refresh(){void 0!==this._documentId&&(this.loading=!0,this.shareLinkService.getLinksForDocument(this._documentId).pipe(ut()).subscribe({next:e=>{this.loading=!1,this.shareLinks=e},error:e=>{this.toastService.showError("Error retrieving links",1e4,e)}}))}getShareUrl(e){const i=new URL(gi.apiBaseUrl);return`${i.origin}${i.pathname.replace(/\/api\/$/,"/share/")}${e.slug}`}getDaysRemaining(e){const i=Math.round((Date.parse(e.expiration)-Date.now())/864e5);return 1===i?"1 day":"" + i + " days"}copy(e){this.clipboard.copy(this.getShareUrl(e))&&(this.copied=e.id,setTimeout(()=>{this.copied=null},3e3))}canShare(e){return navigator?.canShare&&navigator.canShare({url:this.getShareUrl(e)})}share(e){navigator.share({url:this.getShareUrl(e)})}delete(e){this.shareLinkService.delete(e).subscribe({next:()=>{this.refresh()},error:i=>{this.toastService.showError("Error deleting link",1e4,i)}})}createLink(){let e;this.expirationDays&&(e=new Date,e.setDate(e.getDate()+this.expirationDays)),this.loading=!0,this.shareLinkService.createLinkForDocument(this._documentId,this.useArchiveVersion?Dm.Archive:Dm.Original,e).subscribe({next:i=>{this.loading=!1,setTimeout(()=>{this.copy(i)},10),this.refresh()},error:i=>{this.loading=!1,this.toastService.showError("Error creating link",1e4,i)}})}close(){this.activeModal.close()}static{this.\u0275fac=function(i){return new(i||t)(x(io),x(rrt),x(Fi),x(Tm))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-share-links-dialog"]],inputs:{title:"title",documentId:"documentId",hasArchiveVersion:"hasArchiveVersion"},decls:28,vars:8,consts:()=>{let e,i,o,s,r,a,l,c;return e="Share archive version",i="Expires",o="Create",s=" No existing links ",r="Copy",a="Delete",l="Copied!",c="Share",[e,i,o,s,r,a,l,c,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-0"],[1,"list-group","list-group-flush"],[1,"list-group-item","fst-italic","small","text-center","text-secondary"],[1,"list-group-item"],[1,"modal-footer"],[1,"input-group","w-100"],[1,"form-check","form-switch","ms-auto"],["type","checkbox","role","switch","id","versionSwitch",1,"form-check-input",3,"ngModelChange","disabled","ngModel"],["for","versionSwitch",1,"form-check-label"],[1,"input-group","w-100","mt-2"],["for","addLink",1,"input-group-text"],[1,"form-select","fs-6",3,"ngModelChange","ngModel"],[3,"ngValue"],["type","button",1,"btn","btn-outline-primary","ms-auto",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["name","plus"],["type","text","aria-label","Share link","readonly","",1,"form-control",3,"value"],[1,"input-group-text"],["type","button",1,"btn","btn-outline-primary",3,"click"],["width","1.2em","height","1.2em","name","clipboard-fill"],["width","1.2em","height","1.2em","name","clipboard-check-fill"],[1,"visually-hidden"],["type","button",1,"btn","btn-outline-primary"],["type","button",1,"btn","btn-outline-danger",3,"click"],["width","1.2em","height","1.2em","name","trash"],[1,"badge","copied-badge","bg-primary","small","fade","ms-4","position-absolute","top-50","translate-middle-y","pe-none","z-3"],["width","1.2em","height","1.2em","name","box-arrow-up"]]},template:function(i,o){1&i&&(d(0,"div",8)(1,"h4",9),A(2),u(),d(3,"button",10),T("click",function(){return o.close()}),u()(),d(4,"div",11)(5,"ul",12),y(6,art,2,0,"li",13),Ue(7,hrt,16,7,"li",14,Ht),u()(),d(9,"div",15)(10,"div",16)(11,"div",17)(12,"input",18),je("ngModelChange",function(r){return $e(o.useArchiveVersion,r)||(o.useArchiveVersion=r),r}),u(),d(13,"label",19),M(14,0),u()()(),d(15,"div",20)(16,"label",21),ae(17),M(18,1),le(),A(19,":"),u(),d(20,"select",22),je("ngModelChange",function(r){return $e(o.expirationDays,r)||(o.expirationDays=r),r}),Ue(21,_rt,2,2,"option",23,Ht),u(),d(23,"button",24),T("click",function(){return o.createLink()}),y(24,prt,1,0,"div",25)(25,grt,1,0,"i-bs",26),ae(26),M(27,2),le(),u()()()),2&i&&(_(2),oe(o.title),_(4),N(o.shareLinks&&0!==o.shareLinks.length?-1:6),_(),We(o.shareLinks),_(5),m("disabled",!o.hasArchiveVersion),Ze("ngModel",o.useArchiveVersion),_(8),Ze("ngModel",o.expirationDays),_(),We(o.EXPIRATION_OPTIONS),_(2),m("disabled",o.loading),_(),N(o.loading?24:-1),_(),N(o.loading?-1:25))},dependencies:[Xt,jl,Xl,Zo,j0,jt,Rn,qt,Gt,Jt],styles:[".copied-badge[_ngcontent-%COMP%]{right:15em}"]})}}return t})();var DB=function(t){return t.Create="create",t.Update="update",t.Delete="delete",t}(DB||{});const mrt=(t,n)=>n.id,vrt=(t,n)=>n.key;function Crt(t,n){1&t&&(d(0,"div",2),w(1,"div",4),u())}function Mrt(t,n){1&t&&(d(0,"li",5)(1,"div",6)(2,"span",7),M(3,1),u()()())}function Trt(t,n){if(1&t&&(d(0,"div",13),A(1),ye(2,"customDate"),ye(3,"date"),u()),2&t){const e=g().$implicit;_(),Sa(" ",Yo(2,2,e.timestamp,"longDate")," ",Yo(3,5,e.timestamp,"shortTime")," ")}}function wrt(t,n){if(1&t&&(d(0,"span",10),A(1),u()),2&t){const e=g().$implicit;_(),oe(e.actor.username)}}function brt(t,n){1&t&&(d(0,"span",10),A(1,"System"),u())}function Srt(t,n){if(1&t&&(d(0,"li")(1,"span",7),A(2),ye(3,"titlecase"),u(),A(4,"\xa0 "),d(5,"span"),A(6),ye(7,"titlecase"),u(),A(8,":\xa0 "),d(9,"code",14),A(10),u()()),2&t){const e=g().$implicit;_(2),oe(Ke(3,3,e.value.operation)),_(4),oe(Ke(7,5,e.key)),_(4),oe(e.value.objects.join(", "))}}function Ert(t,n){if(1&t&&(d(0,"li")(1,"span"),A(2),u(),A(3,":\xa0 "),d(4,"code",14),A(5),u()()),2&t){const e=g().$implicit;_(2),oe(e.value.field),_(3),oe(e.value.value)}}function Art(t,n){if(1&t&&(d(0,"code",14),A(1),u()),2&t){const e=g(2).$implicit;_(),Le("",null==e.value[1]?null:e.value[1].substring(0,100),"...")}}function Ort(t,n){if(1&t&&(d(0,"code",14),A(1),ye(2,"async"),u()),2&t){const e=g(2).$implicit,i=g(4);_(),oe(Ke(2,1,i.getPrettyName(e.key,e.value[1])))}}function yrt(t,n){if(1&t&&(d(0,"li")(1,"span"),A(2),ye(3,"titlecase"),u(),A(4,":\xa0 "),y(5,Art,2,1,"code",14)(6,Ort,3,3,"code",14),u()),2&t){const e=g().$implicit;_(2),oe(Ke(3,2,e.key)),_(3),N("content"===e.key?5:6)}}function Nrt(t,n){if(1&t&&y(0,Srt,11,7,"li")(1,Ert,6,2,"li")(2,yrt,7,4,"li"),2&t){const e=n.$implicit;N("m2m"===e.value.type?0:"custom_field"===e.value.type?1:2)}}function Drt(t,n){if(1&t&&(d(0,"li",5)(1,"div",8),y(2,Trt,4,8,"ng-template",null,0,zt),d(4,"span",9),A(5),ye(6,"customDate"),u(),y(7,wrt,2,1,"span",10)(8,brt,2,0,"span",10),d(9,"span",11),A(10),ye(11,"titlecase"),u()(),d(12,"ul",12),Ue(13,Nrt,3,1,null,null,vrt),ye(15,"keyvalue"),u()()),2&t){const e=n.$implicit,i=Ve(3),o=g(3);_(4),m("ngbTooltip",i),_(),oe(Yo(6,6,e.timestamp,"relative")),_(2),N(e.actor?7:8),_(2),Ce("bg-primary",e.action===o.AuditLogAction.Create),_(),oe(Ke(11,9,e.action)),_(3),We(Ke(15,11,e.changes))}}function Prt(t,n){1&t&&Ue(0,Drt,16,13,"li",5,mrt),2&t&&We(g(2).entries)}function Irt(t,n){if(1&t&&(d(0,"ul",3),y(1,Mrt,4,0,"li",5)(2,Prt,2,0),u()),2&t){const e=g();_(),N(0===e.entries.length?1:2)}}let xrt=(()=>{class t{set documentId(e){this._documentId=e,this.ngOnInit()}constructor(e,i,o,s,r){this.documentService=e,this.correspondentService=i,this.storagePathService=o,this.documentTypeService=s,this.userService=r,this.AuditLogAction=DB,this.loading=!0,this.entries=[]}ngOnInit(){this._documentId&&(this.loading=!0,this.documentService.getHistory(this._documentId).subscribe(e=>{this.entries=e,this.loading=!1}))}getPrettyName(e,i){switch(e){case wn.Correspondent:return this.correspondentService.getCached(parseInt(i,10)).pipe(ut(),Tt(o=>o?.name??i));case wn.DocumentType:return this.documentTypeService.getCached(parseInt(i,10)).pipe(ut(),Tt(o=>o?.name??i));case wn.StoragePath:return this.storagePathService.getCached(parseInt(i,10)).pipe(ut(),Tt(o=>o?.path??i));case"owner":return this.userService.getCached(parseInt(i,10)).pipe(ut(),Tt(o=>o?.username??i));default:return Et(i)}}static{this.\u0275fac=function(i){return new(i||t)(x(So),x(ul),x(Tc),x(hl),x(gs))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-document-history"]],inputs:{documentId:"documentId"},decls:2,vars:1,consts:()=>{let e;return e="No entries found.",[["timestamp",""],e,[1,"d-flex"],[1,"list-group"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal"],[1,"list-group-item"],[1,"d-flex","justify-content-center"],[1,"fst-italic"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted",3,"ngbTooltip"],[1,"ms-3","fst-italic"],[1,"badge","bg-secondary","ms-auto"],[1,"mt-2"],[1,"text-light"],[1,"text-primary"]]},template:function(i,o){1&i&&y(0,Crt,2,0,"div",2)(1,Irt,3,1,"ul",3),2&i&&N(o.loading?0:1)},dependencies:[fr,Pd,lp,Aa,WC,M2,Gt],encapsulation:2})}}return t})(),Lrt=(()=>{class t extends cl{constructor(e){super(e,"documents")}getNotes(e){return this.http.get(this.getResourceUrl(e,"notes"))}addNote(e,i){return this.http.post(this.getResourceUrl(e,"notes"),{note:i})}deleteNote(e,i){return this.http.delete(this.getResourceUrl(e,"notes"),{params:new na({fromString:`id=${i}`})})}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const PB=(t,n)=>({action:t,type:n});function Rrt(t,n){1&t&&w(0,"div",10)}function Frt(t,n){if(1&t){const e=F();d(0,"form",5)(1,"div",6)(2,"textarea",7),T("keydown",function(o){return b(e),S(g(2).noteFormKeydown(o))}),u(),d(3,"div",8),M(4,0),u()(),d(5,"div",9),y(6,Rrt,1,0,"div",10),d(7,"button",11),T("click",function(){return b(e),S(g(2).addNote())}),M(8,1),u()()()}if(2&t){const e=g(2);m("formGroup",e.noteForm),_(2),Ce("is-invalid",e.newNoteError),_(4),N(e.networkActive?6:-1),_(),m("disabled",e.networkActive||e.addDisabled)}}function krt(t,n){if(1&t){const e=F();d(0,"button",16),T("click",function(){b(e);const o=g().$implicit;return S(g(2).deleteNote(o.id))}),w(1,"i-bs",17),d(2,"span",18),M(3,2),u()()}}function zrt(t,n){if(1&t&&(d(0,"div",4)(1,"div",12)(2,"p",13),A(3),u()(),d(4,"div",14)(5,"span"),A(6),ye(7,"customDate"),u(),y(8,krt,4,0,"button",15),u()()),2&t){const e=n.$implicit,i=g(2);_(3),oe(e.note),_(3),Sa("",i.displayName(e)," - ",Ke(7,4,e.created),""),_(2),m("pngxIfPermissions",Pe(6,PB,i.PermissionAction.Delete,i.PermissionType.Note))}}function Vrt(t,n){if(1&t&&(d(0,"div"),y(1,Frt,9,5,"form",3),w(2,"hr"),Ue(3,zrt,9,9,"div",4,Ht),u()),2&t){const e=g();_(),m("pngxIfPermissions",Pe(1,PB,e.PermissionAction.Add,e.PermissionType.Note)),_(2),We(e.notes)}}let Hrt=(()=>{class t extends ca{constructor(e,i,o){super(),this.notesService=e,this.toastService=i,this.usersService=o,this.noteForm=new Kn({newNote:new de("")}),this.networkActive=!1,this.newNoteError=!1,this.notes=[],this.addDisabled=!1,this.updated=new Ee,this.usersService.listAll().subscribe({next:s=>{this.users=s.results}})}addNote(){const e=this.noteForm.get("newNote").value.toString().trim();0!=e.length?(this.newNoteError=!1,this.networkActive=!0,this.notesService.addNote(this.documentId,e).subscribe({next:i=>{this.notes=i,this.noteForm.get("newNote").reset(),this.networkActive=!1,this.updated.emit(this.notes)},error:i=>{this.networkActive=!1,this.toastService.showError("Error saving note",i)}})):this.newNoteError=!0}deleteNote(e){this.notesService.deleteNote(this.documentId,e).subscribe({next:i=>{this.notes=i,this.networkActive=!1,this.updated.emit(this.notes)},error:i=>{this.networkActive=!1,this.toastService.showError("Error deleting note",i)}})}displayName(e){if(!e.user)return"";const i="number"==typeof e.user?e.user:e.user.id,o=this.users?.find(r=>r.id===i);if(!o)return"";const s=[];return o.first_name&&s.push(o.first_name),o.last_name&&s.push(o.last_name),o.username&&s.push(s.length>0?`(${o.username})`:o.username),s.join(" ")}noteFormKeydown(e){(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&this.addNote()}static{this.\u0275fac=function(i){return new(i||t)(x(Lrt),x(Fi),x(gs))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-document-notes"]],inputs:{documentId:"documentId",notes:"notes",addDisabled:"addDisabled"},outputs:{updated:"updated"},features:[st],decls:1,vars:1,consts:()=>{let e,i,o,s,r;return e="Enter note",i=" Please enter a note. ",o="Add note",s="Delete note",r="Delete note",[i,o,r,["class","needs-validation mt-3","novalidate","",3,"formGroup",4,"pngxIfPermissions"],[1,"card","border","mb-3"],["novalidate","",1,"needs-validation","mt-3",3,"formGroup"],[1,"form-group"],["rows","3","formControlName","newNote","placeholder",e,"required","",1,"form-control","form-control-sm",3,"keydown"],[1,"invalid-feedback"],[1,"form-group","mt-2","d-flex","justify-content-end","align-items-center"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","me-auto"],["type","button",1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"card-body","text-dark"],[1,"card-text"],[1,"d-flex","card-footer","small","bg-light","text-primary","justify-content-between","align-items-center"],["type","button","class","btn btn-link btn-sm p-0 fade","title",s,3,"click",4,"pngxIfPermissions"],["type","button","title",s,1,"btn","btn-link","btn-sm","p-0","fade",3,"click"],["name","trash"],[1,"visually-hidden"]]},template:function(i,o){1&i&&y(0,Vrt,5,4,"div"),2&i&&N(o.notes?0:-1)},dependencies:[Ro,fr,Xt,Oo,Ti,jt,Mo,y6,qt,co,To,Gt,Jt],styles:[".card-body[_ngcontent-%COMP%]{white-space:pre-wrap}.card[_ngcontent-%COMP%]:hover   .fade[_ngcontent-%COMP%]{opacity:1}"]})}}return t})();function $rt(t,n){1&t&&w(0,"i-bs",2)}function Grt(t,n){1&t&&w(0,"i-bs",3)}function Brt(t,n){if(1&t&&(d(0,"tr")(1,"td"),A(2),u(),d(3,"td",6),A(4),u()()),2&t){const e=n.$implicit;_(2),Sa("",e.prefix,":",e.key,""),_(2),oe(e.value)}}let Urt=(()=>{class t{constructor(){this.expand=!1,this.title="Metadata"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-metadata-collapse"]],inputs:{metadata:"metadata",title:"title"},decls:11,vars:4,consts:[["collapse","ngbCollapse"],["type","button",1,"btn","btn-outline-secondary","btn-sm","me-2",3,"click"],["width","1.2em","height","1.2em","name","caret-down"],["width","1.2em","height","1.2em","name","caret-up"],[3,"ngbCollapseChange","ngbCollapse"],[1,"table","table-borderless"],[1,"metadata-column"]],template:function(i,o){if(1&i){const s=F();d(0,"h6")(1,"button",1),T("click",function(){return b(s),S(o.expand=!o.expand)}),y(2,$rt,1,0,"i-bs",2)(3,Grt,1,0,"i-bs",3),u(),A(4),u(),d(5,"div",4,0),T("ngbCollapseChange",function(a){return b(s),S(o.expand=a)}),d(7,"table",5)(8,"tbody"),Ue(9,Brt,5,3,"tr",null,Ht),u()()()}2&i&&(_(2),N(o.expand?-1:2),_(),N(o.expand?3:-1),_(),Le(" ",o.title,"\n"),_(),m("ngbCollapse",!o.expand),_(4),We(o.metadata))},dependencies:[J_,X_,Gt,Jt],styles:[".metadata-column[_ngcontent-%COMP%]{overflow-wrap:anywhere}"]})}}return t})();const Pm_DOCUMENTS="open-documents-service:openDocuments";let ug=(()=>{class t{constructor(e,i){if(this.documentService=e,this.modalService=i,this.MAX_OPEN_DOCUMENTS=5,this.openDocuments=[],this.dirtyDocuments=new Set,sessionStorage.getItem(Pm_DOCUMENTS))try{this.openDocuments=JSON.parse(sessionStorage.getItem(Pm_DOCUMENTS))}catch{sessionStorage.removeItem(Pm_DOCUMENTS),this.openDocuments=[]}}refreshDocument(e){let i=this.openDocuments.findIndex(o=>o.id==e);i>-1&&this.documentService.get(e).subscribe({next:o=>{this.openDocuments[i]=o,this.save()},error:()=>{this.openDocuments.splice(i,1),this.save()}})}getOpenDocuments(){return this.openDocuments}getOpenDocument(e){return this.openDocuments.find(i=>i.id==e)}openDocument(e){if(null==this.openDocuments.find(i=>i.id==e.id)){if(this.openDocuments.length==this.MAX_OPEN_DOCUMENTS){const o=this.closeDocument(this.openDocuments[this.MAX_OPEN_DOCUMENTS-1]);return o.pipe(ut()).subscribe(s=>{s&&this.finishOpenDocument(e)}),o}this.finishOpenDocument(e)}return Et(!0)}finishOpenDocument(e){this.openDocuments.unshift(e),this.dirtyDocuments.delete(e.id),this.save()}setDirty(e,i){this.openDocuments.find(o=>o.id==e.id)&&(i?this.dirtyDocuments.add(e.id):this.dirtyDocuments.delete(e.id))}hasDirty(){return this.dirtyDocuments.size>0}isDirty(e){return this.dirtyDocuments.has(e.id)}closeDocument(e){let i=this.openDocuments.findIndex(o=>o.id==e.id);if(-1==i)return Et(!0);if(this.dirtyDocuments.has(e.id)){let o=this.modalService.open(Ui,{backdrop:"static"});o.componentInstance.title="Unsaved Changes",o.componentInstance.messageBold="You have unsaved changes to the document"+' "'+e.title+'".',o.componentInstance.message="Are you sure you want to close this document?",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="Close document",o.componentInstance.confirmClicked.pipe(ut()).subscribe(()=>{o.componentInstance.buttonsEnabled=!1,o.close(),this.openDocuments.splice(i,1),this.dirtyDocuments.delete(e.id),this.save()});const s=new xe;return o.componentInstance.confirmSubject=s,s.asObservable()}return this.openDocuments.splice(i,1),this.save(),Et(!0)}closeAll(){if(this.dirtyDocuments.size){let e=this.modalService.open(Ui,{backdrop:"static"});e.componentInstance.title="Unsaved Changes",e.componentInstance.messageBold="You have unsaved changes.",e.componentInstance.message="Are you sure you want to close all documents?",e.componentInstance.btnClass="btn-warning",e.componentInstance.btnCaption="Close documents",e.componentInstance.confirmClicked.pipe(ut()).subscribe(()=>{e.componentInstance.buttonsEnabled=!1,e.close(),this.openDocuments.splice(0,this.openDocuments.length),this.dirtyDocuments.clear(),this.save()});const i=new xe;return e.componentInstance.confirmSubject=i,i.asObservable()}return this.openDocuments.splice(0,this.openDocuments.length),this.dirtyDocuments.clear(),this.save(),Et(!0)}save(){try{sessionStorage.setItem(Pm_DOCUMENTS,JSON.stringify(this.openDocuments))}catch(e){console.error("Error saving open documents to session storage",e)}}static{this.\u0275fac=function(i){return new(i||t)(Be(So),Be(Do))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function IB(t){return null!=t.find(n=>20==n.rule_type||21==n.rule_type)}function Im(t,n){let e=!1;return e=t.length!=n.length||t.some(i=>null==n.find(o=>o.rule_type==i.rule_type&&o.value==i.value)),e}const Zrt=Qd.map(t=>t.id).filter(t=>t!==vi.ADDED);let Va=(()=>{class t{get activeSavedViewId(){return this._activeSavedViewId}get activeSavedViewTitle(){return this.activeListViewState.title}constructor(e,i,o){this.documentService=e,this.settings=i,this.router=o,this.isReloading=!1,this.initialized=!1,this.error=null,this.unsubscribeNotifier=new xe,this.listViewStates=new Map,this._activeSavedViewId=null,this.displayFieldsInitialized=!1;let s=localStorage.getItem("document-list-service:currentViewConfig");if(s)try{let r=JSON.parse(s);Object.keys(r).forEach(l=>{null==r[l]&&delete r[l]});let a=Object.assign(this.defaultListViewState(),r);this.listViewStates.set(null,a)}catch{localStorage.removeItem("document-list-service:currentViewConfig")}this.settings.displayFieldsInit.subscribe(()=>{this.displayFieldsInitialized=!0,this.activeListViewState.displayFields&&(this.activeListViewState.displayFields=this.activeListViewState.displayFields.filter(r=>void 0!==this.settings.allDisplayFields.find(a=>a.id===r)),this.saveDocumentListView())})}defaultListViewState(){return{title:null,documents:[],currentPage:1,collectionSize:null,sortField:"created",sortReverse:!0,filterRules:[],selected:new Set}}get activeListViewState(){return this.listViewStates.has(this._activeSavedViewId)||this.listViewStates.set(this._activeSavedViewId,this.defaultListViewState()),this.listViewStates.get(this._activeSavedViewId)}cancelPending(){this.unsubscribeNotifier.next(!0)}activateSavedView(e){this.rangeSelectionAnchorIndex=this.lastRangeSelectionToIndex=null,e?(this._activeSavedViewId=e.id,this.loadSavedView(e)):this._activeSavedViewId=null}activateSavedViewWithQueryParams(e,i){const o=mB(i);this.activateSavedView(e),this.currentPage=o.currentPage}loadSavedView(e,i=!1){i&&(this._activeSavedViewId=null),this.activeListViewState.filterRules=function Wrt(t){if(t){let n=[];for(let e of t)n.push({rule_type:e.rule_type,value:e.value});return n}return null}(e.filter_rules),this.activeListViewState.sortField=e.sort_field,this.activeListViewState.sortReverse=e.sort_reverse,this._activeSavedViewId&&(this.activeListViewState.title=e.name),this.activeListViewState.displayMode=e.display_mode,this.activeListViewState.pageSize=e.page_size,this.activeListViewState.displayFields=e.display_fields,this.reduceSelectionToFilter(),this.router.routerState.snapshot.url.includes("/view/")||this.router.navigate(["view",e.id])}loadFromQueryParams(e){const i=0==e.keys.length;let o=this.listViewStates.get(this._activeSavedViewId);i||(o=mB(e)),null==o&&(o=this.defaultListViewState()),(!this.initialized||i||this.activeListViewState.sortField!==o.sortField||this.activeListViewState.sortReverse!==o.sortReverse||this.activeListViewState.currentPage!==o.currentPage||Im(this.activeListViewState.filterRules,o.filterRules))&&(this.activeListViewState.filterRules=o.filterRules,this.activeListViewState.sortField=o.sortField,this.activeListViewState.sortReverse=o.sortReverse,this.activeListViewState.currentPage=o.currentPage,this.reload(null,i))}reload(e,i=!0){this.cancelPending(),this.isReloading=!0,this.error=null;let o=this.activeListViewState;this.documentService.listFiltered(o.currentPage,o.pageSize??this.pageSize,o.sortField,o.sortReverse,o.filterRules,{truncate_content:!0}).pipe(Te(this.unsubscribeNotifier)).subscribe({next:s=>{this.initialized=!0,this.isReloading=!1,o.collectionSize=s.count,o.documents=s.results,this.documentService.getSelectionData(s.all).pipe(ut()).subscribe({next:r=>{this.selectionData=r},error:()=>{this.selectionData=null}}),i&&!this._activeSavedViewId?this.router.navigate(["/documents"],{queryParams:Yw(o),replaceUrl:!this.router.routerState.snapshot.url.includes("?")}):this._activeSavedViewId&&this.router.navigate([],{queryParams:Yw(o,!0),queryParamsHandling:"merge"}),e&&e(),this.rangeSelectionAnchorIndex=this.lastRangeSelectionToIndex=null},error:s=>{if(this.isReloading=!1,1!=o.currentPage&&404==s.status)o.currentPage=1,this.reload();else if(0===o.sortField.indexOf("custom_field")&&void 0===this.settings.allDisplayFields.find(r=>r.id===o.sortField))this.sortField="created";else{let r;this.selectionData=null,r="object"==typeof s.error&&Object.keys(s.error).length>0?Object.keys(s.error).map(a=>{const l=a.split("__")[0],c=s.error[a];return`${this.sortFields.find(h=>h.field?.split("__")[0]==l)?.name??l}: ${c[0]}`}).join(", "):s.error,this.error=r}}})}set filterRules(e){!IB(e)&&"score"==this.activeListViewState.sortField&&(this.activeListViewState.sortField="created"),this.activeListViewState.filterRules=e,this.reload(),this.reduceSelectionToFilter(),this.saveDocumentListView()}get filterRules(){return this.activeListViewState.filterRules}get sortFields(){return this.documentService.sortFields}get sortFieldsFullText(){return this.documentService.sortFieldsFullText}set sortField(e){this.activeListViewState.sortField=e,this.reload(),this.saveDocumentListView()}get sortField(){return this.activeListViewState.sortField}set sortReverse(e){this.activeListViewState.sortReverse=e,this.reload(),this.saveDocumentListView()}get sortReverse(){return this.activeListViewState.sortReverse}get collectionSize(){return this.activeListViewState.collectionSize}get currentPage(){return this.activeListViewState.currentPage}set currentPage(e){this.activeListViewState.currentPage!=e&&(this.activeListViewState.currentPage=e,this.reload(),this.saveDocumentListView())}get documents(){return this.activeListViewState.documents}get selected(){return this.activeListViewState.selected}setSort(e,i){this.activeListViewState.sortField=e,this.activeListViewState.sortReverse=i,this.reload(),this.saveDocumentListView()}set displayMode(e){this.activeListViewState.displayMode=e,this.saveDocumentListView()}get displayMode(){const e=this.activeListViewState.displayMode??_c.SMALL_CARDS;return"details"===e?_c.TABLE:e}set pageSize(e){this.activeListViewState.pageSize=e,this.reload(),this.saveDocumentListView()}get pageSize(){return this.activeListViewState.pageSize??this.settings.get(Me.DOCUMENT_LIST_SIZE)}get displayFields(){return this.activeListViewState.displayFields??Zrt}set displayFields(e){this.activeListViewState.displayFields=this.displayFieldsInitialized?e?.filter(i=>void 0!==this.settings.allDisplayFields.find(o=>o.id===i)):e,this.saveDocumentListView()}saveDocumentListView(){null==this._activeSavedViewId&&localStorage.setItem("document-list-service:currentViewConfig",JSON.stringify({collectionSize:this.activeListViewState.collectionSize,currentPage:this.activeListViewState.currentPage,filterRules:this.activeListViewState.filterRules,sortField:this.activeListViewState.sortField,sortReverse:this.activeListViewState.sortReverse,displayMode:this.activeListViewState.displayMode,displayFields:this.activeListViewState.displayFields}))}quickFilter(e){this._activeSavedViewId=null,this.filterRules=e,this.router.navigate(["documents"])}getLastPage(){return Math.ceil(this.collectionSize/this.pageSize)}hasNext(e){if(this.documents){let i=this.documents.findIndex(o=>o.id==e);return-1!=i&&(this.currentPage<this.getLastPage()||i+1<this.documents.length)}}hasPrevious(e){if(this.documents){let i=this.documents.findIndex(o=>o.id==e);return-1!=i&&!(0==i&&1==this.currentPage)}}getNext(e){return new an(i=>{if(null!=this.documents){let o=this.documents.findIndex(s=>s.id==e);-1!=o&&o+1<this.documents.length?(i.next(this.documents[o+1].id),i.complete()):-1!=o&&this.currentPage<this.getLastPage()?(this.currentPage+=1,this.reload(()=>{i.next(this.documents[0].id),i.complete()})):i.complete()}else i.complete()})}getPrevious(e){return new an(i=>{if(null!=this.documents){let o=this.documents.findIndex(s=>s.id==e);0!=o?(i.next(this.documents[o-1].id),i.complete()):this.currentPage>1?(this.currentPage-=1,this.reload(()=>{i.next(this.documents[this.documents.length-1].id),i.complete()})):i.complete()}else i.complete()})}selectNone(){this.selected.clear(),this.rangeSelectionAnchorIndex=this.lastRangeSelectionToIndex=null}reduceSelectionToFilter(){this.selected.size>0&&this.documentService.listAllFilteredIds(this.filterRules).subscribe(e=>{for(let i of this.selected)e.includes(i)||this.selected.delete(i)})}selectAll(){this.documentService.listAllFilteredIds(this.filterRules).subscribe(e=>e.forEach(i=>this.selected.add(i)))}selectPage(){this.selected.clear(),this.documents.forEach(e=>{this.selected.add(e.id)})}isSelected(e){return this.selected.has(e.id)}toggleSelected(e){this.selected.has(e.id)?this.selected.delete(e.id):this.selected.add(e.id),this.rangeSelectionAnchorIndex=this.documentIndexInCurrentView(e.id),this.lastRangeSelectionToIndex=null}selectRangeTo(e){if(null!==this.rangeSelectionAnchorIndex){const i=this.documentIndexInCurrentView(e.id),o=Math.min(this.rangeSelectionAnchorIndex,i),s=Math.max(this.rangeSelectionAnchorIndex,i);null!==this.lastRangeSelectionToIndex&&this.documents.slice(Math.min(this.rangeSelectionAnchorIndex,this.lastRangeSelectionToIndex),Math.max(this.rangeSelectionAnchorIndex,this.lastRangeSelectionToIndex)+1).forEach(r=>{this.selected.delete(r.id)}),this.documents.slice(o,s+1).forEach(r=>{this.selected.add(r.id)}),this.lastRangeSelectionToIndex=i}else this.toggleSelected(e)}documentIndexInCurrentView(e){return this.documents.map(i=>i.id).indexOf(e)}static{this.\u0275fac=function(i){return new(i||t)(Be(So),Be(En),Be(Lo))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wc=(()=>{class t{transform(e){return e||"(no title)"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=eo({name:"documentTitle",type:t,pure:!0})}}return t})();const jrt=(t,n)=>n[0];function Xrt(t,n){if(1&t&&(A(0," \xa0(macOS\xa0"),w(1,"kbd",7),A(2,") ")),2&t){const e=g().$implicit,i=g();_(),m("innerHTML",i.formatKey(e[0],!0),vo)}}function Krt(t,n){if(1&t&&(d(0,"tr")(1,"td"),A(2),u(),d(3,"td",6),w(4,"kbd",7),y(5,Xrt,3,1),u()()),2&t){const e=n.$implicit,i=g();_(2),oe(e[1]),_(2),m("innerHTML",i.formatKey(e[0]),vo),_(),N(e[0].includes("control")?5:-1)}}const qrt={meta:"&#8984;",control:"&#8963;",shift:"&#8679;",left:"&#8592;",right:"&#8594;",up:"&#8593;",down:"&#8595;",arrowleft:"&#8592;",arrowright:"&#8594;"};let Yrt=(()=>{class t{constructor(e){this.activeModal=e,this.title="Keyboard shortcuts",this.hotkeys=new Map}close(){this.activeModal.close()}formatKey(e,i=!1){return i&&(e=e.replace("control","meta")),e.split(".").map(o=>qrt[o]||o).join(" ")}static{this.\u0275fac=function(i){return new(i||t)(x(io))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-hotkey-dialog"]],decls:10,vars:1,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table"],[1,"modal-footer"],[1,"d-flex","justify-content-end"],[3,"innerHTML"]],template:function(i,o){1&i&&(d(0,"div",0)(1,"h4",1),A(2),u(),d(3,"button",2),T("click",function(){return o.close()}),u()(),d(4,"div",3)(5,"table",4)(6,"tbody"),Ue(7,Krt,6,3,"tr",null,jrt),u()()(),w(9,"div",5)),2&i&&(_(2),oe(o.title),_(5),We(o.hotkeys.entries()))},encapsulation:2})}}return t})(),hg=(()=>{class t{constructor(e,i,o){this.eventManager=e,this.document=i,this.modalService=o,this.defaults={element:this.document},this.hotkeys=new Map,this.addShortcut({keys:"shift.?"}).subscribe(()=>{this.openHelpModal()})}addShortcut(e){const i={...this.defaults,...e},o=`keydown.${i.keys}`;return i.description&&this.hotkeys.set(i.keys,i.description),new an(s=>{const r=c=>{(!(c.altKey||c.metaKey||c.ctrlKey)||c.key.toLowerCase().includes("arrow"))&&(c.target instanceof HTMLInputElement||c.target instanceof HTMLTextAreaElement)||(this.modalService.dismissAll(),("Escape"!==c.key||!(this.modalService.hasOpenModals()||this.document.getElementsByClassName("dropdown-menu show").length>0))&&(c.preventDefault(),s.next(c)))},a=this.eventManager.addEventListener(i.element,o,r);let l;return o.includes("control")&&(l=this.eventManager.addEventListener(i.element,o.replace("control","meta"),r)),()=>{a(),l&&l(),this.hotkeys.delete(i.keys)}})}openHelpModal(){this.modalService.open(Yrt).componentInstance.hotkeys=this.hotkeys}static{this.\u0275fac=function(i){return new(i||t)(Be(Y9),Be(Xn),Be(Do))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Qrt=["AppFrameComponent"];let xB=(()=>{class t{constructor(e){this.router=e,this.history=[],this.componentHistory=[],this.router.events.pipe(li(i=>i instanceof h$)).subscribe(i=>{this.componentHistory[this.componentHistory.length-1]===i.snapshot.component.name||Qrt.includes(i.snapshot.component.name)?this.history[this.history.length-1]=i.snapshot.url.toString():(this.history.push(i.snapshot.url.toString()),this.componentHistory.push(i.snapshot.component.name))})}getComponentURLBefore(){return this.componentHistory.length>1?this.history[this.history.length-2]:null}static{this.\u0275fac=function(i){return new(i||t)(Be(Lo))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const xu={UKNOWN:"Unknown"},db={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:xu.UKNOWN},xm={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Lu={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},bc={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:xu.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},LB=[bc.PS4,bc.CHROME_BOOK,bc.MAC,bc.DELL,bc.ASUS,bc.UNKNOWN],Jrt={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:xu.UKNOWN},eat={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:xu.UKNOWN.toLowerCase()},RB={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},nat={...xm,...Lu,...RB,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},ub={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},hb={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},iat=Object.keys(ub).reduce((t,n)=>(t[n]=ub[n],t),{}),FB=Object.keys(hb).reduce((t,n)=>(t[db[n]]=hb[n],t),{});var O0=Object.freeze({__proto__:null,BROWSERS:db,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},BROWSER_VERSIONS_RE:FB,BROWSER_VERSIONS_RE_MAP:hb,DESKTOP_DEVICES:LB,DEVICES:bc,DEVICES_RE:nat,GENERAL:xu,MOBILES_RE:xm,OS:Jrt,OS_RE:RB,OS_VERSIONS:eat,OS_VERSIONS_RE:iat,OS_VERSIONS_RE_MAP:ub,TABLETS_RE:Lu});class oat{constructor(){}test(n,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(n):e&&Array.isArray(e.and)?e.and.every(i=>this.test(n,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(n,i)):!(!e||!e.not||this.test(n,e.not))}exec(n,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(n):e&&Array.isArray(e)?e.reduce((i,o)=>i||this.exec(n,o),null):null}}var _g=function(t){return t.Mobile="mobile",t.Tablet="tablet",t.Desktop="desktop",t.Unknown="unknown",t}(_g||{}),_b=function(t){return t.Portrait="portrait",t.Landscape="landscape",t}(_b||{});const pb="iPad";let sat=(()=>{class t{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new oat,this.deviceType="",this.orientation="",Vl(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(o=>{this[o.prop]=Object.keys(O0[o.const]).reduce((s,r)=>"device"===O0[o.const][r]&&Vl(this.platformId)&&(this.reTree.test(this.userAgent,Lu[pb])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(s[O0[o.const][r]]=pb,Object):(s[O0[o.const][r]]=this.reTree.test(e,O0[`${o.const}_RE`][r]),s),{})}),i.forEach(o=>{this[o.prop]=Object.keys(O0[o.const]).map(s=>O0[o.const][s]).reduce((s,r)=>"device"===o.prop&&s===O0[o.const].ANDROID?this[o.prop][r]?r:s:s===O0[o.const].UNKNOWN&&this[o.prop][r]?r:s,O0[o.const].UNKNOWN)}),this.browser_version="0",this.browser!==db.UNKNOWN){const s=this.reTree.exec(e,FB[this.browser]);s&&(this.browser_version=s[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?_b.Landscape:_b.Portrait:xu.UKNOWN,this.deviceType=this.isTablet()?_g.Tablet:this.isMobile(this.userAgent)?_g.Mobile:this.isDesktop(this.userAgent)?_g.Desktop:_g.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(xm).find(o=>this.reTree.test(e,xm[o]))}isTablet(e=this.userAgent){return!(!Vl(this.platformId)||!(this.reTree.test(this.userAgent,Lu[pb])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Lu).find(o=>!!this.reTree.test(e,Lu[o]))}isDesktop(e=this.userAgent){return(this.device!==bc.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&LB.indexOf(this.device)>-1}static{this.\u0275fac=function(i){return new(i||t)(Be(Ma))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const rat=["inputTitle"],aat=["nav"],lat=["pdfPreview"],cat=(t,n)=>n.field,Sc=(t,n)=>({action:t,type:n}),dat=(t,n)=>({url:t,password:n});function uat(t,n){if(1&t){const e=F();d(0,"div",86)(1,"div",91),M(2,19),u(),d(3,"input",92),je("ngModelChange",function(o){b(e);const s=g(2);return $e(s.previewCurrentPage,o)||(s.previewCurrentPage=o),S(o)}),u(),d(4,"div",91),M(5,20),u()()}if(2&t){const e=g(2);_(3),m("max",e.previewNumPages),Ze("ngModel",e.previewCurrentPage),_(2),bn(e.previewNumPages),Sn(5)}}function hat(t,n){if(1&t&&(d(0,"option",90),A(1),u()),2&t){const e=n.$implicit,i=g(2);m("value",e),Un("selected",i.isZoomSelected(e)?"selected":null),_(),Le(" ",i.getZoomSettingTitle(e)," ")}}function _at(t,n){if(1&t){const e=F();y(0,uat,6,3,"div",86),d(1,"div",87)(2,"button",88),T("click",function(){return b(e),S(g().decreaseZoom())}),M(3,17),u(),d(4,"select",89),T("change",function(o){return b(e),S(g().setZoom(o.target.value))}),Ue(5,hat,2,3,"option",90,Ht),u(),d(7,"button",88),T("click",function(){return b(e),S(g().increaseZoom())}),M(8,18),u()()}if(2&t){const e=g();N(e.previewNumPages?0:-1),_(5),We(e.zoomSettings)}}function pat(t,n){if(1&t){const e=F();d(0,"button",93),T("click",function(){return b(e),S(g().delete())}),w(1,"i-bs",94),d(2,"span",48),M(3,21),u()()}2&t&&m("disabled",!g().userIsOwner)}function gat(t,n){1&t&&w(0,"div",46)}function fat(t,n){1&t&&w(0,"i-bs",47)}function mat(t,n){if(1&t){const e=F();d(0,"div",49),w(1,"button",95),d(2,"div",96)(3,"button",55),T("click",function(){return b(e),S(g().download(!0))}),M(4,22),u()()()}if(2&t){const e=g();_(),m("disabled",e.downloading),_(2),m("disabled",e.downloading)}}function vat(t,n){if(1&t){const e=F();d(0,"pngx-custom-fields-dropdown",97),T("created",function(){return b(e),S(g().refreshCustomFields())})("added",function(o){return b(e),S(g().addField(o))}),u()}if(2&t){const e=g();m("documentId",e.documentId)("disabled",!e.userCanEdit)("existingFields",null==e.document?null:e.document.custom_fields)}}function Cat(t,n){if(1&t){const e=F();d(0,"button",57),T("click",function(){return b(e),S(g().openShareLinks())}),w(1,"i-bs",98),A(2,"\xa0"),d(3,"span"),M(4,23),u()()}}function Mat(t,n){if(1&t){const e=F();d(0,"button",57),T("click",function(){return b(e),S(g().openEmailDocument())}),w(1,"i-bs",99),A(2,"\xa0"),d(3,"span"),M(4,24),u()()}}function Tat(t,n){1&t&&Nn(0)}function wat(t,n){if(1&t){const e=F();d(0,"pngx-input-select",109),T("filterDocuments",function(o){b(e);const s=g(2);return S(s.filterDocuments(o,s.DataType.Correspondent))})("createNew",function(o){return b(e),S(g(2).createCorrespondent(o))}),u()}if(2&t){const e=g(2);m("items",e.correspondents)("allowNull",!0)("showFilter",!0)("horizontal",!0)("hideAddButton",e.createDisabled(e.DataType.Correspondent))("suggestions",null==e.suggestions?null:e.suggestions.correspondents)}}function bat(t,n){if(1&t){const e=F();d(0,"pngx-input-select",110),T("filterDocuments",function(o){b(e);const s=g(2);return S(s.filterDocuments(o,s.DataType.DocumentType))})("createNew",function(o){return b(e),S(g(2).createDocumentType(o))}),u()}if(2&t){const e=g(2);m("items",e.documentTypes)("allowNull",!0)("showFilter",!0)("horizontal",!0)("hideAddButton",e.createDisabled(e.DataType.DocumentType))("suggestions",null==e.suggestions?null:e.suggestions.document_types)}}function Sat(t,n){if(1&t){const e=F();d(0,"pngx-input-select",111),T("filterDocuments",function(o){b(e);const s=g(2);return S(s.filterDocuments(o,s.DataType.StoragePath))})("createNew",function(o){return b(e),S(g(2).createStoragePath(o))}),u()}if(2&t){const e=g(2);m("items",e.storagePaths)("allowNull",!0)("showFilter",!0)("horizontal",!0)("hideAddButton",e.createDisabled(e.DataType.StoragePath))("suggestions",null==e.suggestions?null:e.suggestions.storage_paths)}}function Eat(t,n){if(1&t){const e=F();d(0,"pngx-input-tags",112),T("filterDocuments",function(o){b(e);const s=g(2);return S(s.filterDocuments(o,s.DataType.Tag))}),u()}if(2&t){const e=g(2);m("suggestions",null==e.suggestions?null:e.suggestions.tags)("showFilter",!0)("horizontal",!0)("hideAddButton",e.createDisabled(e.DataType.Tag))}}function Aat(t,n){if(1&t){const e=F();d(0,"pngx-input-text",120),T("removed",function(){b(e);const o=g().$implicit;return S(g(2).removeField(o))}),u()}if(2&t){let e;const i=g(),o=i.$implicit,s=i.$index,r=g(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("removable",r.userCanEdit)("horizontal",!0)("error",r.getCustomFieldError(s))}}function Oat(t,n){if(1&t){const e=F();d(0,"pngx-input-date",120),T("removed",function(){b(e);const o=g().$implicit;return S(g(2).removeField(o))}),u()}if(2&t){let e;const i=g(),o=i.$implicit,s=i.$index,r=g(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("removable",r.userCanEdit)("horizontal",!0)("error",r.getCustomFieldError(s))}}function yat(t,n){if(1&t){const e=F();d(0,"pngx-input-number",121),T("removed",function(){b(e);const o=g().$implicit;return S(g(2).removeField(o))}),u()}if(2&t){let e;const i=g(),o=i.$implicit,s=i.$index,r=g(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("removable",r.userCanEdit)("horizontal",!0)("showAdd",!1)("error",r.getCustomFieldError(s))}}function Nat(t,n){if(1&t){const e=F();d(0,"pngx-input-number",122),T("removed",function(){b(e);const o=g().$implicit;return S(g(2).removeField(o))}),u()}if(2&t){let e;const i=g(),o=i.$implicit,s=i.$index,r=g(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("removable",r.userCanEdit)("horizontal",!0)("showAdd",!1)("step",.1)("error",r.getCustomFieldError(s))}}function Dat(t,n){if(1&t){const e=F();d(0,"pngx-input-monetary",123),T("removed",function(){b(e);const o=g().$implicit;return S(g(2).removeField(o))}),u()}if(2&t){let e,i;const o=g(),s=o.$implicit,r=o.$index,a=g(2);m("title",null==(e=a.getCustomFieldFromInstance(s))?null:e.name)("defaultCurrency",null==(i=a.getCustomFieldFromInstance(s))||null==i.extra_data?null:i.extra_data.default_currency)("removable",a.userCanEdit)("horizontal",!0)("error",a.getCustomFieldError(r))}}function Pat(t,n){if(1&t){const e=F();d(0,"pngx-input-check",124),T("removed",function(){b(e);const o=g().$implicit;return S(g(2).removeField(o))}),u()}if(2&t){let e;const i=g().$implicit,o=g(2);m("title",null==(e=o.getCustomFieldFromInstance(i))?null:e.name)("removable",o.userCanEdit)("horizontal",!0)}}function Iat(t,n){if(1&t){const e=F();d(0,"pngx-input-url",120),T("removed",function(){b(e);const o=g().$implicit;return S(g(2).removeField(o))}),u()}if(2&t){let e;const i=g(),o=i.$implicit,s=i.$index,r=g(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("removable",r.userCanEdit)("horizontal",!0)("error",r.getCustomFieldError(s))}}function xat(t,n){if(1&t){const e=F();d(0,"pngx-input-document-link",125),T("removed",function(){b(e);const o=g().$implicit;return S(g(2).removeField(o))}),u()}if(2&t){let e;const i=g(),o=i.$implicit,s=i.$index,r=g(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("parentDocumentID",r.documentId)("removable",r.userCanEdit)("horizontal",!0)("error",r.getCustomFieldError(s))}}function Lat(t,n){if(1&t){const e=F();d(0,"pngx-input-select",126),T("removed",function(){b(e);const o=g().$implicit;return S(g(2).removeField(o))}),u()}if(2&t){let e,i;const o=g(),s=o.$implicit,r=o.$index,a=g(2);m("title",null==(e=a.getCustomFieldFromInstance(s))?null:e.name)("items",null==(i=a.getCustomFieldFromInstance(s))?null:i.extra_data.select_options)("allowNull",!0)("horizontal",!0)("removable",a.userCanEdit)("error",a.getCustomFieldError(r))}}function Rat(t,n){if(1&t&&(d(0,"div",107),y(1,Aat,1,4,"pngx-input-text",113)(2,Oat,1,4,"pngx-input-date",113)(3,yat,1,5,"pngx-input-number",114)(4,Nat,1,6,"pngx-input-number",115)(5,Dat,1,5,"pngx-input-monetary",116)(6,Pat,1,3,"pngx-input-check",117)(7,Iat,1,4,"pngx-input-url",113)(8,xat,1,5,"pngx-input-document-link",118)(9,Lat,1,6,"pngx-input-select",119),u()),2&t){let e;const i=n.$implicit,o=n.$index,s=g(2);m("formGroup",s.customFieldFormFields.controls[o]),_(),N((e=null==(e=s.getCustomFieldFromInstance(i))?null:e.data_type)===s.CustomFieldDataType.String?1:e===s.CustomFieldDataType.Date?2:e===s.CustomFieldDataType.Integer?3:e===s.CustomFieldDataType.Float?4:e===s.CustomFieldDataType.Monetary?5:e===s.CustomFieldDataType.Boolean?6:e===s.CustomFieldDataType.Url?7:e===s.CustomFieldDataType.DocumentLink?8:e===s.CustomFieldDataType.Select?9:-1)}}function Fat(t,n){1&t&&Nn(0)}function kat(t,n){if(1&t){const e=F();d(0,"div")(1,"pngx-input-text",100,4),T("keyup",function(o){return b(e),S(g().titleKeyUp(o))}),u(),w(3,"pngx-input-number",101),d(4,"pngx-input-date",102),T("filterDocuments",function(o){return b(e),S(g().filterDocuments(o))}),u(),y(5,wat,1,6,"pngx-input-select",103)(6,bat,1,6,"pngx-input-select",104)(7,Sat,1,6,"pngx-input-select",105)(8,Eat,1,4,"pngx-input-tags",106),Ue(9,Rat,10,2,"div",107,cat),u(),d(11,"div",108),y(12,Fat,1,0,"ng-container",78),u()}if(2&t){const e=g(),i=Ve(92);_(),m("horizontal",!0)("error",null==e.error?null:e.error.title),_(2),m("error",null==e.error?null:e.error.archive_serial_number)("horizontal",!0),_(),m("suggestions",null==e.suggestions?null:e.suggestions.dates)("showFilter",!0)("horizontal",!0)("error",null==e.error?null:e.error.created_date),_(),m("pngxIfPermissions",Pe(13,Sc,e.PermissionAction.View,e.PermissionType.Correspondent)),_(),m("pngxIfPermissions",Pe(16,Sc,e.PermissionAction.View,e.PermissionType.DocumentType)),_(),m("pngxIfPermissions",Pe(19,Sc,e.PermissionAction.View,e.PermissionType.StoragePath)),_(),m("pngxIfPermissions",Pe(22,Sc,e.PermissionAction.View,e.PermissionType.Tag)),_(),We(null==e.document?null:e.document.custom_fields),_(3),m("ngTemplateOutlet",i)}}function zat(t,n){if(1&t&&(d(0,"div"),w(1,"textarea",127),u()),2&t){const e=g();_(),Ce("rtl",e.isRTL)}}function Vat(t,n){if(1&t&&(d(0,"tr")(1,"td"),M(2,32),u(),d(3,"td"),A(4),u()()),2&t){const e=g(3);_(4),oe(null==e.metadata?null:e.metadata.archive_checksum)}}function Hat(t,n){if(1&t&&(d(0,"tr")(1,"td"),M(2,33),u(),d(3,"td"),A(4),ye(5,"fileSize"),u()()),2&t){const e=g(3);_(4),oe(Ke(5,1,null==e.metadata?null:e.metadata.archive_size))}}function $at(t,n){if(1&t&&(d(0,"table",128)(1,"tbody")(2,"tr")(3,"td"),M(4,25),u(),d(5,"td"),A(6),ye(7,"customDate"),u()(),d(8,"tr")(9,"td"),M(10,26),u(),d(11,"td"),A(12),ye(13,"customDate"),u()(),d(14,"tr")(15,"td"),M(16,27),u(),d(17,"td"),A(18),u()(),d(19,"tr")(20,"td"),M(21,28),u(),d(22,"td"),A(23),u()(),d(24,"tr")(25,"td"),M(26,29),u(),d(27,"td"),A(28),u()(),d(29,"tr")(30,"td"),M(31,30),u(),d(32,"td"),A(33),ye(34,"fileSize"),u()(),d(35,"tr")(36,"td"),M(37,31),u(),d(38,"td"),A(39),u()(),y(40,Vat,5,1,"tr")(41,Hat,6,3,"tr"),u()()),2&t){const e=g(2);_(6),oe(Ke(7,9,e.document.modified)),_(6),oe(Ke(13,11,e.document.added)),_(6),oe(null==e.metadata?null:e.metadata.media_filename),_(5),oe(null==e.metadata?null:e.metadata.original_filename),_(5),oe(null==e.metadata?null:e.metadata.original_checksum),_(5),oe(Ke(34,13,null==e.metadata?null:e.metadata.original_size)),_(6),oe(null==e.metadata?null:e.metadata.original_mime_type),_(),N(null!=e.metadata&&e.metadata.has_archive_version?40:-1),_(),N(null!=e.metadata&&e.metadata.has_archive_version?41:-1)}}function Gat(t,n){1&t&&w(0,"pngx-metadata-collapse",129),2&t&&m("metadata",g(2).metadata.original_metadata)}function Bat(t,n){1&t&&w(0,"pngx-metadata-collapse",130),2&t&&m("metadata",g(2).metadata.archive_metadata)}function Uat(t,n){if(1&t&&y(0,$at,42,15,"table",128)(1,Gat,1,1,"pngx-metadata-collapse",129)(2,Bat,1,1,"pngx-metadata-collapse",130),2&t){const e=g();N(e.document?0:-1),_(),N((null==e.metadata||null==e.metadata.original_metadata?null:e.metadata.original_metadata.length)>0?1:-1),_(),N((null==e.metadata||null==e.metadata.archive_metadata?null:e.metadata.archive_metadata.length)>0?2:-1)}}function Wat(t,n){1&t&&Nn(0)}function Zat(t,n){if(1&t&&(d(0,"div",131),y(1,Wat,1,0,"ng-container",78),u()),2&t){g(2);const e=Ve(94);_(),m("ngTemplateOutlet",e)}}function jat(t,n){1&t&&y(0,Zat,2,1,"ng-template",82)}function Xat(t,n){if(1&t&&(Qr(0,34,1),w(1,"span",133),Jr()),2&t){const e=g(2);_(),bn(e.document.notes.length),Sn(0)}}function Kat(t,n){if(1&t){const e=F();d(0,"pngx-document-notes",134),T("updated",function(o){return b(e),S(g(2).notesUpdated(o))}),u()}if(2&t){const e=g(2);m("documentId",e.documentId)("notes",null==e.document?null:e.document.notes)("addDisabled",!e.userCanEdit)}}function qat(t,n){if(1&t&&(d(0,"li",80)(1,"a",132),Qr(2,34),y(3,Xat,2,1,"span",133),Jr(),u(),y(4,Kat,1,3,"ng-template",82),u()),2&t){const e=g();m("ngbNavItem",e.DocumentDetailNavIDs.Notes),_(3),N(null!=e.document&&e.document.notes.length?3:-1)}}function Yat(t,n){if(1&t&&(d(0,"div",135),w(1,"pngx-document-history",136),u()),2&t){const e=g(2);_(),m("documentId",e.documentId)}}function Qat(t,n){1&t&&(d(0,"li",80)(1,"a",81),M(2,35),u(),y(3,Yat,2,1,"ng-template",82),u()),2&t&&m("ngbNavItem",g().DocumentDetailNavIDs.History)}function Jat(t,n){if(1&t&&(d(0,"div",135),w(1,"pngx-permissions-form",137),u()),2&t){const e=g(2);_(),m("users",e.users)}}function e1t(t,n){1&t&&(d(0,"li",80)(1,"a",81),M(2,36),u(),y(3,Jat,2,1,"ng-template",82),u()),2&t&&m("ngbNavItem",g().DocumentDetailNavIDs.Permissions)}function t1t(t,n){1&t&&Nn(0)}function n1t(t,n){if(1&t){const e=F();d(0,"button",144),ye(1,"async"),T("click",function(){return b(e),S(g(3).saveEditNext())}),M(2,39),u()}if(2&t){const e=g(3);m("disabled",!e.userCanEdit||e.networkActive||!0!==Ke(1,1,e.isDirty$))}}function i1t(t,n){if(1&t){const e=F();d(0,"button",145),ye(1,"async"),T("click",function(){return b(e),S(g(3).save(!0))}),M(2,40),u()}if(2&t){const e=g(3);m("disabled",!e.userCanEdit||e.networkActive||!0!==Ke(1,1,e.isDirty$))}}function o1t(t,n){if(1&t){const e=F();ae(0),d(1,"button",140),ye(2,"async"),M(3,37),u(),y(4,n1t,3,3,"button",141)(5,i1t,3,3,"button",142),d(6,"button",143),ye(7,"async"),T("click",function(){return b(e),S(g(2).discard())}),M(8,38),u(),le()}if(2&t){const e=g(2);_(),m("disabled",!e.userCanEdit||e.networkActive||!0!==Ke(2,4,e.isDirty$)),_(3),N(e.hasNext()?4:-1),_(),N(e.hasNext()?-1:5),_(),m("disabled",!e.userCanEdit||e.networkActive||!0!==Ke(7,6,e.isDirty$))}}function s1t(t,n){if(1&t&&(d(0,"div",138),y(1,o1t,9,8,"ng-container",139),u()),2&t){const e=g();_(),m("pngxIfPermissions",Pe(1,Sc,e.PermissionAction.Change,e.PermissionType.Document))}}function r1t(t,n){if(1&t&&(w(0,"img",147),ye(1,"safeUrl")),2&t){const e=g(2);m("src",Ke(1,3,e.thumbUrl),cs),Un("width","page-fit"===e.previewZoomScale?"auto":"100%")("height","page-fit"===e.previewZoomScale?"100%":"auto")}}function a1t(t,n){if(1&t){const e=F();d(0,"div",154)(1,"pdf-viewer",155),je("pageChange",function(o){b(e);const s=g(4);return $e(s.previewCurrentPage,o)||(s.previewCurrentPage=o),S(o)}),T("error",function(o){return b(e),S(g(4).onError(o))})("after-load-complete",function(o){return b(e),S(g(4).pdfPreviewLoaded(o))}),u()()}if(2&t){const e=g(4);_(),m("src",Pe(7,dat,e.previewUrl,e.password))("original-size",!1)("show-borders",!0)("show-all",!0),Ze("page",e.previewCurrentPage),m("zoom-scale",e.previewZoomScale)("zoom",e.previewZoomSetting)}}function l1t(t,n){1&t&&(w(0,"object",152),ye(1,"safeUrl")),2&t&&m("data",Ke(1,1,g(4).previewUrl),vh)}function c1t(t,n){1&t&&y(0,a1t,2,10,"div",154)(1,l1t,2,3,"object",152),2&t&&N(g(3).useNativePdfViewer?1:0)}function d1t(t,n){if(1&t&&(d(0,"div",150),A(1),u()),2&t){const e=g(3);_(),oe(e.previewText)}}function u1t(t,n){if(1&t&&(d(0,"div",151),w(1,"img",156),ye(2,"safeUrl"),u()),2&t){const e=g(3);_(),ai("alt",e.title),m("src",Ke(2,2,e.previewUrl),cs)}}function h1t(t,n){if(1&t&&(d(0,"div",151),w(1,"img",156),u()),2&t){const e=g(4);_(),ai("alt",e.title),m("src",e.tiffURL,cs)}}function _1t(t,n){if(1&t&&(d(0,"div",150),A(1),u()),2&t){const e=g(4);_(),oe(e.tiffError)}}function p1t(t,n){1&t&&y(0,h1t,2,2,"div",151)(1,_1t,2,1,"div",150),2&t&&N(g(3).tiffError?1:0)}function g1t(t,n){1&t&&(w(0,"object",152),ye(1,"safeUrl")),2&t&&m("data",Ke(1,1,g(3).previewUrl),vh)}function f1t(t,n){if(1&t){const e=F();d(0,"div",153)(1,"form")(2,"input",157),T("keyup",function(o){return b(e),S(g(3).onPasswordKeyUp(o))}),u()()()}}function m1t(t,n){if(1&t&&y(0,c1t,2,1)(1,d1t,2,1,"div",150)(2,u1t,3,4,"div",151)(3,p1t,2,1)(4,g1t,2,3,"object",152)(5,f1t,3,0,"div",153),2&t){let e;const i=g(2);N((e=i.archiveContentRenderType)===i.ContentRenderType.PDF?0:e===i.ContentRenderType.Text?1:e===i.ContentRenderType.Image?2:e===i.ContentRenderType.TIFF?3:e===i.ContentRenderType.Other?4:-1),_(5),N(i.requiresPassword?5:-1)}}function v1t(t,n){if(1&t&&(d(0,"div",146),y(1,r1t,2,5,"img",147),d(2,"div",148)(3,"div"),w(4,"div",149),ae(5),M(6,41),le(),u()()(),y(7,m1t,6,2)),2&t){const e=g();Ce("fade",e.previewLoaded),_(),N(e.showThumbnailOverlay?1:-1),_(6),N(e.document?7:-1)}}var pg=function(t){return t[t.Details=1]="Details",t[t.Content=2]="Content",t[t.Metadata=3]="Metadata",t[t.Preview=4]="Preview",t[t.Notes=5]="Notes",t[t.Permissions=6]="Permissions",t[t.History=7]="History",t}(pg||{}),y0=function(t){return t.PDF="pdf",t.Image="image",t.Text="text",t.Other="other",t.Unknown="unknown",t.TIFF="tiff",t}(y0||{}),Xo=function(t){return t.PageFit="page-fit",t.PageWidth="page-width",t.Quarter=".25",t.Half=".5",t.ThreeQuarters=".75",t.One="1",t.OneAndHalf="1.5",t.Two="2",t.Three="3",t}(Xo||{});let Lm=(()=>{class t extends ca{set pdfPreview(e){e&&null!==e.nativeElement.offsetParent&&4==this.nav?.activeId&&setTimeout(()=>this.nav?.select(1))}constructor(e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R){super(),this.documentsService=e,this.route=i,this.correspondentService=o,this.documentTypeService=s,this.router=r,this.modalService=a,this.openDocumentService=l,this.documentListViewService=c,this.documentTitlePipe=h,this.toastService=p,this.settings=f,this.storagePathService=v,this.permissionsService=C,this.userService=E,this.customFieldsService=D,this.http=P,this.hotKeyService=I,this.componentRouterService=k,this.deviceDetectorService=R,this.expandOriginalMetadata=!1,this.expandArchivedMetadata=!1,this.networkActive=!1,this.titleSubject=new xe,this.previewLoaded=!1,this.documentForm=new Kn({title:new de(""),content:new de(""),created_date:new de,correspondent:new de,document_type:new de,storage_path:new de,archive_serial_number:new de,tags:new de([]),permissions_form:new de(null),custom_fields:new k2([])}),this.previewCurrentPage=1,this.previewZoomSetting=Xo.One,this.previewZoomScale=Xo.PageWidth,this.unsubscribeNotifier=new xe,this.docChangeNotifier=new xe,this.requiresPassword=!1,this.downloading=!1,this.CustomFieldDataType=Bi,this.ContentRenderType=y0,this.DataType=wn,this.DocumentDetailNavIDs=pg}titleKeyUp(e){this.titleSubject.next(e.target?.value)}get useNativePdfViewer(){return this.settings.get(Me.USE_NATIVE_PDF_VIEWER)}get archiveContentRenderType(){return this.getRenderType(this.document?.archived_file_name?"application/pdf":this.document?.mime_type)}get originalContentRenderType(){return this.getRenderType(this.document?.mime_type)}get showThumbnailOverlay(){return this.settings.get(Me.DOCUMENT_EDITING_OVERLAY_THUMBNAIL)}getRenderType(e){return e?"application/pdf"===e?y0.PDF:["text/plain","application/csv","text/csv"].includes(e)?y0.Text:e.indexOf("tiff")>=0?y0.TIFF:0===e?.indexOf("image/")?y0.Image:y0.Other:y0.Unknown}get isRTL(){return!(!this.metadata||!this.metadata.lang)&&["ar","he","fe"].includes(this.metadata.lang)}ngOnInit(){this.setZoom(this.settings.get(Me.PDF_VIEWER_ZOOM_SETTING)),this.documentForm.valueChanges.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.error=null;const e=Object.assign({},this.documentForm.value);e.owner=this.documentForm.get("permissions_form").value.owner,e.set_permissions=this.documentForm.get("permissions_form").value.set_permissions,delete e.permissions_form,Object.assign(this.document,e)}),this.permissionsService.currentUserCan(mt.View,Ct.Correspondent)&&this.correspondentService.listAll().pipe(ut(),Te(this.unsubscribeNotifier)).subscribe(e=>this.correspondents=e.results),this.permissionsService.currentUserCan(mt.View,Ct.DocumentType)&&this.documentTypeService.listAll().pipe(ut(),Te(this.unsubscribeNotifier)).subscribe(e=>this.documentTypes=e.results),this.permissionsService.currentUserCan(mt.View,Ct.StoragePath)&&this.storagePathService.listAll().pipe(ut(),Te(this.unsubscribeNotifier)).subscribe(e=>this.storagePaths=e.results),this.permissionsService.currentUserCan(mt.View,Ct.User)&&this.userService.listAll().pipe(ut(),Te(this.unsubscribeNotifier)).subscribe(e=>this.users=e.results),this.getCustomFields(),this.route.paramMap.pipe(li(e=>+e.get("id")!==this.documentId&&e.get("section")?.length>0),Te(this.unsubscribeNotifier),Mi(e=>{const i=+e.get("id");return this.docChangeNotifier.next(i),this.previewUrl=this.documentsService.getPreviewUrl(i),this.http.get(this.previewUrl,{responseType:"text"}).subscribe({next:o=>{this.previewText=o.toString()},error:o=>{this.previewText="An error occurred loading content: " + (o.message ?? o.toString()) + ""}}),this.thumbUrl=this.documentsService.getThumbUrl(i),this.documentsService.get(i)})).pipe(Mi(e=>{this.documentId=e.id,this.suggestions=null;const i=this.openDocumentService.getOpenDocument(this.documentId);if(i){if(new Date(e.modified)>new Date(i.modified)&&!this.modalService.hasOpenModals()){let o=this.modalService.open(Ui);o.componentInstance.title="Document changes detected",o.componentInstance.messageBold="The version of this document in your browser session appears older than the existing version.",o.componentInstance.message="Saving the document here may overwrite other changes that were made. To restore the existing version, discard your changes or close the document.",o.componentInstance.cancelBtnClass="visually-hidden",o.componentInstance.btnCaption="Ok",o.componentInstance.confirmClicked.subscribe(()=>o.close())}this.documentForm.dirty&&(Object.assign(i,this.documentForm.value),i.owner=this.documentForm.get("permissions_form").value.owner,i.permissions=this.documentForm.get("permissions_form").value.set_permissions,delete i.permissions_form),this.updateComponent(i)}else this.openDocumentService.openDocument(e),this.updateComponent(e);return this.titleSubject.pipe(Pr(1e3),h1(),Te(this.docChangeNotifier),Te(this.unsubscribeNotifier)).subscribe({next:o=>{o===this.titleInput.value&&(this.title=o,this.documentForm.patchValue({title:o}))},complete:()=>{this.store.getValue().title!==this.documentForm.get("title").value&&this.openDocumentService.setDirty(e,!0)}}),this.store=new ui({title:e.title,content:e.content,created_date:e.created_date,correspondent:e.correspondent,document_type:e.document_type,storage_path:e.storage_path,archive_serial_number:e.archive_serial_number,tags:[...e.tags],permissions_form:{owner:e.owner,set_permissions:e.permissions},custom_fields:[...e.custom_fields]}),this.isDirty$=rm(this.documentForm,this.store.asObservable()),this.isDirty$.pipe(Te(this.unsubscribeNotifier),Tt(o=>({doc:e,dirty:o})))})).subscribe({next:({doc:e,dirty:i})=>{this.openDocumentService.setDirty(e,i)},error:e=>{this.router.navigate(["404"],{replaceUrl:!0})}}),this.route.paramMap.subscribe(e=>{const i=e.get("section");if(i){const o=Object.keys(pg).find(s=>s.toLowerCase()==i);o&&(this.activeNavID=pg[o])}else e.get("id")&&this.router.navigate(["documents",+e.get("id"),"details"],{replaceUrl:!0})}),this.hotKeyService.addShortcut({keys:"control.arrowright",description:"Next document"}).pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.hasNext()&&this.nextDoc()}),this.hotKeyService.addShortcut({keys:"control.arrowleft",description:"Previous document"}).pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.hasPrevious()&&this.previousDoc()}),this.hotKeyService.addShortcut({keys:"escape",description:"Close document"}).pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.close()}),this.hotKeyService.addShortcut({keys:"control.s",description:"Save document"}).pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.openDocumentService.isDirty(this.document)&&this.save()}),this.hotKeyService.addShortcut({keys:"control.shift.s",description:"Save and close / next"}).pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.openDocumentService.isDirty(this.document)&&this.saveEditNext()})}ngOnDestroy(){this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}onNavChange(e){const[i]=Object.entries(pg).find(([,o])=>o==e.nextId);i&&this.router.navigate(["documents",this.documentId,i.toLowerCase()])}updateComponent(e){this.document=e,this.requiresPassword=!1,this.updateFormForCustomFields(),this.archiveContentRenderType===y0.TIFF&&this.tryRenderTiff(),this.documentsService.getMetadata(e.id).pipe(ut(),Te(this.unsubscribeNotifier),Te(this.docChangeNotifier)).subscribe({next:o=>{this.metadata=o,(this.archiveContentRenderType!==y0.PDF||this.useNativePdfViewer)&&(this.previewLoaded=!0)},error:o=>{this.metadata={},this.toastService.showError("Error retrieving metadata",o)}}),this.permissionsService.currentUserHasObjectPermissions(mt.Change,e)&&this.permissionsService.currentUserCan(mt.Change,Ct.Document)&&this.documentsService.getSuggestions(e.id).pipe(ut(),Te(this.unsubscribeNotifier),Te(this.docChangeNotifier)).subscribe({next:o=>{this.suggestions=o},error:o=>{this.suggestions=null,this.toastService.showError("Error retrieving suggestions.",o)}}),this.title=this.documentTitlePipe.transform(e.title);const i=Object.assign({},e);i.permissions_form={owner:e.owner,set_permissions:e.permissions},this.documentForm.patchValue(i,{emitEvent:!1}),this.userCanEdit||this.documentForm.disable()}get customFieldFormFields(){return this.documentForm.get("custom_fields")}createDocumentType(e){var i=this.modalService.open(Om,{backdrop:"static"});i.componentInstance.dialogMode=Oi.CREATE,e&&(i.componentInstance.object={name:e}),i.componentInstance.succeeded.pipe(Mi(o=>this.documentTypeService.listAll().pipe(Tt(s=>({newDocumentType:o,documentTypes:s}))))).pipe(Te(this.unsubscribeNotifier)).subscribe(({newDocumentType:o,documentTypes:s})=>{this.documentTypes=s.results,this.documentForm.get("document_type").setValue(o.id)})}createCorrespondent(e){var i=this.modalService.open(Am,{backdrop:"static"});i.componentInstance.dialogMode=Oi.CREATE,e&&(i.componentInstance.object={name:e}),i.componentInstance.succeeded.pipe(Mi(o=>this.correspondentService.listAll().pipe(Tt(s=>({newCorrespondent:o,correspondents:s}))))).pipe(Te(this.unsubscribeNotifier)).subscribe(({newCorrespondent:o,correspondents:s})=>{this.correspondents=s.results,this.documentForm.get("correspondent").setValue(o.id)})}createStoragePath(e){var i=this.modalService.open(ym,{backdrop:"static"});i.componentInstance.dialogMode=Oi.CREATE,e&&(i.componentInstance.object={name:e}),i.componentInstance.succeeded.pipe(Mi(o=>this.storagePathService.listAll().pipe(Tt(s=>({newStoragePath:o,storagePaths:s}))))).pipe(Te(this.unsubscribeNotifier)).subscribe(({newStoragePath:o,storagePaths:s})=>{this.storagePaths=s.results,this.documentForm.get("storage_path").setValue(o.id)})}createDisabled(e){switch(e){case wn.Correspondent:return!this.permissionsService.currentUserCan(mt.Add,Ct.Correspondent);case wn.DocumentType:return!this.permissionsService.currentUserCan(mt.Add,Ct.DocumentType);case wn.StoragePath:return!this.permissionsService.currentUserCan(mt.Add,Ct.StoragePath);case wn.Tag:return!this.permissionsService.currentUserCan(mt.Add,Ct.Tag)}}discard(){this.documentsService.get(this.documentId).pipe(ut()).subscribe({next:e=>{Object.assign(this.document,e),e.permissions_form={owner:e.owner,set_permissions:e.permissions},this.title=e.title,this.updateFormForCustomFields(),this.documentForm.patchValue(e),this.openDocumentService.setDirty(e,!1)},error:()=>{this.router.navigate(["404"],{replaceUrl:!0})}})}save(e=!1){this.networkActive=!0,document.activeElement?.dispatchEvent(new Event("change")),this.documentsService.update(this.document).pipe(ut()).subscribe({next:i=>{this.documentForm.patchValue(i);const o=Object.assign({},this.documentForm.value);o.tags=[...i.tags],o.custom_fields=[...i.custom_fields],this.store.next(o),this.openDocumentService.setDirty(this.document,!1),this.openDocumentService.save(),this.toastService.showInfo("Document \"" + o.title + "\" saved successfully."),this.networkActive=!1,this.error=null,e?this.close(()=>this.openDocumentService.refreshDocument(this.documentId)):this.openDocumentService.refreshDocument(this.documentId)},error:i=>{this.networkActive=!1,this.userCanEdit?(this.error=i.error,this.toastService.showError("Error saving document \"" + this.document.title + "\"",i)):(this.toastService.showInfo("Document \"" + this.document.title + "\" saved successfully."),e&&this.close())}})}saveEditNext(){this.networkActive=!0,this.store.next(this.documentForm.value),this.documentsService.update(this.document).pipe(Mi(e=>this.documentListViewService.getNext(this.documentId).pipe(Tt(i=>({nextDocId:i,updateResult:e}))))).pipe(Mi(({nextDocId:e,updateResult:i})=>{if(e&&i)return this.openDocumentService.setDirty(this.document,!1),this.openDocumentService.closeDocument(this.document).pipe(Tt(o=>({updateResult:i,nextDocId:e,closeResult:o})))})).pipe(ut()).subscribe({next:({updateResult:e,nextDocId:i,closeResult:o})=>{this.error=null,this.networkActive=!1,o&&e&&i&&(this.router.navigate(["documents",i]),this.titleInput?.focus())},error:e=>{this.networkActive=!1,this.error=e.error,this.toastService.showError("Error saving document",e)}})}close(e=null){this.openDocumentService.closeDocument(this.document).pipe(ut()).subscribe(i=>{i&&(e&&e(),this.documentListViewService.activeSavedViewId?this.router.navigate(["view",this.documentListViewService.activeSavedViewId]):this.componentRouterService.getComponentURLBefore()?this.router.navigate([this.componentRouterService.getComponentURLBefore()]):this.router.navigate(["documents"]))})}delete(){let e=this.modalService.open(Ui,{backdrop:"static"});e.componentInstance.title="Confirm",e.componentInstance.messageBold="Do you really want to move the document \"" + this.document.title + "\" to the trash?",e.componentInstance.message="Documents can be restored prior to permanent deletion.",e.componentInstance.btnClass="btn-danger",e.componentInstance.btnCaption="Move to trash",this.subscribeModalDelete(e)}subscribeModalDelete(e){e.componentInstance.confirmClicked.pipe(Mi(()=>(e.componentInstance.buttonsEnabled=!1,this.documentsService.delete(this.document)))).pipe(Te(this.unsubscribeNotifier)).subscribe({next:()=>{e.close(),this.close()},error:i=>{this.toastService.showError("Error deleting document",i),e.componentInstance.buttonsEnabled=!0,this.subscribeModalDelete(e)}})}moreLike(){this.documentListViewService.quickFilter([{rule_type:21,value:this.documentId.toString()}])}reprocess(){let e=this.modalService.open(Ui,{backdrop:"static"});e.componentInstance.title="Reprocess confirm",e.componentInstance.messageBold="This operation will permanently recreate the archive file for this document.",e.componentInstance.message="The archive file will be re-generated with the current settings.",e.componentInstance.btnClass="btn-danger",e.componentInstance.btnCaption="Proceed",e.componentInstance.confirmClicked.subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.documentsService.bulkEdit([this.document.id],"reprocess",{}).subscribe({next:()=>{this.toastService.showInfo("Reprocess operation for \"" + this.document.title + "\" will begin in the background. Close and re-open or reload this document after the operation has completed to see new content."),e&&e.close()},error:i=>{e&&(e.componentInstance.buttonsEnabled=!0),this.toastService.showError("Error executing operation",i)}})})}download(e=!1){this.downloading=!0;const i=this.documentsService.getDownloadUrl(this.documentId,e);this.http.get(i,{responseType:"blob"}).subscribe({next:o=>{this.downloading=!1;const r=new File([o],e?this.document.original_file_name:this.document.archived_file_name,{type:e?this.document.mime_type:"application/pdf"});if(!this.deviceDetectorService.isDesktop()&&navigator.canShare&&navigator.canShare({files:[r]}))navigator.share({files:[r]});else{const a=URL.createObjectURL(o),l=document.createElement("a");l.href=a,l.download=this.document.title,l.click(),URL.revokeObjectURL(a)}},error:o=>{this.downloading=!1,this.toastService.showError("Error downloading document",o)}})}hasNext(){return this.documentListViewService.hasNext(this.documentId)}hasPrevious(){return this.documentListViewService.hasPrevious(this.documentId)}nextDoc(){this.documentListViewService.getNext(this.document.id).subscribe(e=>{this.router.navigate(["documents",e])})}previousDoc(){this.documentListViewService.getPrevious(this.document.id).subscribe(e=>{this.router.navigate(["documents",e])})}pdfPreviewLoaded(e){this.previewNumPages=e.numPages,this.password&&(this.requiresPassword=!1),setTimeout(()=>{this.previewLoaded=!0},300)}onError(e){"PasswordException"==e.name&&(this.requiresPassword=!0,this.previewLoaded=!0)}onPasswordKeyUp(e){"Enter"==e.key&&(this.password=e.target.value)}setZoom(e){Xo.PageFit===e||Xo.PageWidth===e?(this.previewZoomScale=e,this.previewZoomSetting=Xo.One):(this.previewZoomSetting=e,this.previewZoomScale=Xo.PageWidth)}get zoomSettings(){return Object.values(Xo).filter(e=>e!==Xo.PageWidth)}isZoomSelected(e){return this.previewZoomScale===Xo.PageFit?e===Xo.PageFit:this.previewZoomSetting===e}getZoomSettingTitle(e){return e===Xo.PageFit?"Page Fit":100*parseFloat(e)+"%"}increaseZoom(){let e=Object.values(Xo).indexOf(this.previewZoomSetting);this.previewZoomScale===Xo.PageFit&&(e=5),this.previewZoomScale=Xo.PageWidth,this.previewZoomSetting=Object.values(Xo)[Math.min(Object.values(Xo).length-1,e+1)]}decreaseZoom(){let e=Object.values(Xo).indexOf(this.previewZoomSetting);this.previewZoomScale===Xo.PageFit&&(e=4),this.previewZoomScale=Xo.PageWidth,this.previewZoomSetting=Object.values(Xo)[Math.max(2,e-1)]}get showPermissions(){return this.permissionsService.currentUserCan(mt.View,Ct.User)&&this.userIsOwner}get notesEnabled(){return this.settings.get(Me.NOTES_ENABLED)&&this.permissionsService.currentUserCan(mt.View,Ct.Note)}get historyEnabled(){return this.settings.get(Me.AUDITLOG_ENABLED)&&this.userIsOwner&&this.permissionsService.currentUserCan(mt.View,Ct.History)}notesUpdated(e){this.document.notes=e,this.openDocumentService.refreshDocument(this.documentId)}get userIsOwner(){let e=Object.assign({},this.document);return this.document&&this.store?.value.permissions_form?.hasOwnProperty("owner")&&(e.owner=this.store.value.permissions_form.owner),!this.document||this.permissionsService.currentUserOwnsObject(e)}get userCanEdit(){let e=Object.assign({},this.document);return this.document&&this.store?.value.permissions_form?.hasOwnProperty("owner")&&(e.owner=this.store.value.permissions_form.owner),!this.document||this.permissionsService.currentUserCan(mt.Change,Ct.Document)&&this.permissionsService.currentUserHasObjectPermissions(mt.Change,e)}get userCanAdd(){return this.permissionsService.currentUserCan(mt.Add,Ct.Document)}filterDocuments(e,i){const o=e.flatMap(s=>{if(s.hasOwnProperty("year")){const r=new ob,a=new Date(r.toModel(s));a.setDate(a.getDate()-1);const l=new Date(r.toModel(s));return l.setDate(l.getDate()+1),[{rule_type:9,value:a.toISOString().substring(0,10)},{rule_type:8,value:l.toISOString().substring(0,10)}]}switch(i){case wn.Correspondent:return{rule_type:3,value:s.id.toString()};case wn.DocumentType:return{rule_type:4,value:s.id.toString()};case wn.StoragePath:return{rule_type:25,value:s.id.toString()};case wn.Tag:return{rule_type:6,value:s.id.toString()}}});this.documentListViewService.quickFilter(o)}getCustomFields(){this.customFieldsService.listAll().pipe(ut(),Te(this.unsubscribeNotifier)).subscribe(e=>this.customFields=e.results)}refreshCustomFields(){this.customFieldsService.clearCache(),this.getCustomFields()}getCustomFieldFromInstance(e){return this.customFields?.find(i=>i.id===e.field)}getCustomFieldError(e){const i=this.error?.custom_fields?.[e];return i?.non_field_errors??i?.value}updateFormForCustomFields(e=!1){this.customFieldFormFields.clear({emitEvent:!1}),this.document.custom_fields?.forEach(i=>{this.customFieldFormFields.push(new Kn({field:new de(this.getCustomFieldFromInstance(i)?.id),value:new de(i.value)}),{emitEvent:e})})}addField(e){this.document.custom_fields.push({field:e.id,value:null,document:this.documentId,created:new Date}),this.updateFormForCustomFields(!0)}removeField(e){this.document.custom_fields.splice(this.document.custom_fields.indexOf(e),1),this.updateFormForCustomFields(!0),this.documentForm.updateValueAndValidity()}splitDocument(){let e=this.modalService.open(Cot,{backdrop:"static",size:"lg"});e.componentInstance.title="Split confirm",e.componentInstance.messageBold="This operation will split the selected document(s) into new documents.",e.componentInstance.btnCaption="Proceed",e.componentInstance.documentID=this.document.id,e.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.documentsService.bulkEdit([this.document.id],"split",{pages:e.componentInstance.pagesString,delete_originals:e.componentInstance.deleteOriginal}).pipe(ut(),Te(this.unsubscribeNotifier)).subscribe({next:()=>{this.toastService.showInfo("Split operation for \"" + this.document.title + "\" will begin in the background."),e.close()},error:i=>{e&&(e.componentInstance.buttonsEnabled=!0),this.toastService.showError("Error executing split operation",i)}})})}rotateDocument(){let e=this.modalService.open(EB,{backdrop:"static",size:"lg"});e.componentInstance.title="Rotate confirm",e.componentInstance.messageBold="This operation will permanently rotate the original version of the current document.",e.componentInstance.btnCaption="Proceed",e.componentInstance.documentID=this.document.id,e.componentInstance.showPDFNote=!1,e.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.documentsService.bulkEdit([this.document.id],"rotate",{degrees:e.componentInstance.degrees}).pipe(ut(),Te(this.unsubscribeNotifier)).subscribe({next:()=>{this.toastService.show({content:"Rotation of \"" + this.document.title + "\" will begin in the background. Close and re-open the document after the operation has completed to see the changes.",delay:8e3,action:this.close.bind(this),actionName:"Close"}),e.close()},error:i=>{e&&(e.componentInstance.buttonsEnabled=!0),this.toastService.showError("Error executing rotate operation",i)}})})}deletePages(){let e=this.modalService.open(dot,{backdrop:"static"});e.componentInstance.title="Delete pages confirm",e.componentInstance.messageBold="This operation will permanently delete the selected pages from the original document.",e.componentInstance.btnCaption="Proceed",e.componentInstance.documentID=this.document.id,e.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.documentsService.bulkEdit([this.document.id],"delete_pages",{pages:e.componentInstance.pages}).pipe(ut(),Te(this.unsubscribeNotifier)).subscribe({next:()=>{this.toastService.showInfo("Delete pages operation for \"" + this.document.title + "\" will begin in the background. Close and re-open or reload this document after the operation has completed to see the changes."),e.close()},error:i=>{e&&(e.componentInstance.buttonsEnabled=!0),this.toastService.showError("Error executing delete pages operation",i)}})})}openShareLinks(){const e=this.modalService.open(frt);e.componentInstance.documentId=this.document.id,e.componentInstance.hasArchiveVersion=!!this.document?.archived_file_name}get emailEnabled(){return this.settings.get(Me.EMAIL_ENABLED)}openEmailDocument(){const e=this.modalService.open(ust,{backdrop:"static"});e.componentInstance.documentId=this.document.id,e.componentInstance.hasArchiveVersion=!!this.document?.archived_file_name}tryRenderTiff(){this.http.get(this.previewUrl,{responseType:"arraybuffer"}).subscribe({next:e=>{try{const f=sb.decode(e);var i=f,o=0,s=i[0];f[0].subIFD&&(i=i.concat(f[0].subIFD));for(var r=0;r<i.length;r++){var a=i[r];if(!(null==a.t258||a.t258.length<3)){var l=a.t256*a.t257;l>o&&(o=l,s=a)}}sb.decodeImage(e,s,f);const v=sb.toRGBA8(s),{width:C,height:E}=s;var c=document.createElement("canvas");c.width=C,c.height=E;var h=c.getContext("2d"),p=h.createImageData(C,E);for(r=0;r<v.length;r++)p.data[r]=v[r];h.putImageData(p,0,0),this.tiffURL=c.toDataURL()}catch(f){this.tiffError="An error occurred loading tiff: " + f.toString() + ""}},error:e=>{this.tiffError="An error occurred loading tiff: " + e.toString() + ""}})}static{this.\u0275fac=function(i){return new(i||t)(x(So),x(v1),x(ul),x(hl),x(Lo),x(Do),x(ug),x(Va),x(wc),x(Fi),x(En),x(Tc),x(ti),x(gs),x(C1),x(Ji),x(hg),x(xB),x(sat))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-document-detail"]],viewQuery:function(i,o){if(1&i&&(dn(rat,5),dn(aat,5),dn(lat,5)),2&i){let s;pt(s=gt())&&(o.titleInput=s.first),pt(s=gt())&&(o.nav=s.first),pt(s=gt())&&(o.pdfPreview=s.first)}},features:[st],decls:95,vars:37,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt,nt,Dt,Bt,Zt,Ge,Ft,It,yi,ci,St,kn,zi,Ni,yt,Ln,Di,Fo,Ps,Zs,Cr,Yt,Ua,Wa,ga;return e="Close",i="Previous",o="Next",s="Download",r="Actions",a="Reprocess",l="More like this",c="Split",h="Rotate",p="Delete page(s)",f="Send",v="Details",C="Content",E="Metadata",D="Preview",P="-",I="+",k="Page",R="of " + "\ufffd0\ufffd" + "",ee="Delete",re="Download original",fe="Share Links",pe="Email",ue="Title",me="Archive serial number",Fe="Date created",bt="Correspondent",nt="Document type",Dt="Storage path",Bt="Default",Zt="Original document metadata",Ge="Archived document metadata",Ft="Date modified",It="Date added",yi="Media filename",ci="Original filename",St="Original MD5 checksum",kn="Original file size",zi="Original mime type",Ni="Archive MD5 checksum",yt="Archive file size",Ln="Notes " + "\ufffd*3:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*3:1\ufffd" + "",Di="History",Fo="Permissions",Ps="Save",Zs="Discard",Cr="Save & next",Yt="Save & close",Ua="Document loading...",Wa="Loading...",ga="Enter Password",[["nav","ngbNav"],["pdfPreview",""],["saveButtons",""],["previewContent",""],["inputTitle",""],s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,Ft,It,yi,ci,St,kn,zi,Ni,yt,Ln,Di,Fo,Ps,Zs,Cr,Yt,Wa,[3,"titleChange","title"],["type","button","class","btn btn-sm btn-outline-danger me-md-4",3,"disabled","click",4,"pngxIfPermissions"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm"],["width","1.2em","height","1.2em","name","download"],[1,"d-none","d-lg-inline","ps-1"],["ngbDropdown","","role","group",1,"btn-group"],["ngbDropdown","",1,"ms-auto"],["id","actionsDropdown","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","three-dots"],[1,"d-none","d-sm-inline"],["ngbDropdownMenu","","aria-labelledby","actionsDropdown",1,"shadow"],["ngbDropdownItem","",3,"click","disabled"],["width","1em","height","1em","name","arrow-counterclockwise"],["ngbDropdownItem","",3,"click"],["width","1em","height","1em","name","diagram-3"],["width","1em","height","1em","name","scissors"],["name","arrow-clockwise"],["name","file-earmark-minus"],[3,"documentId","disabled","existingFields","created","added",4,"pngxIfPermissions"],["id","sendDropdown","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","send"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"row"],[1,"col-md-6","col-xl-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"btn-toolbar","mb-1","border-bottom"],[1,"btn-group","pb-3"],["type","button","title",e,1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1.2em","height","1.2em","name","x"],["type","button","title",i,1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","arrow-left"],["type","button","title",o,1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","arrow-right"],[4,"ngTemplateOutlet"],["ngbNav","",1,"nav-underline","flex-nowrap","flex-md-wrap","overflow-auto",3,"navChange","activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"d-md-none",3,"ngbNavItem"],[1,"mt-3",3,"ngbNavOutlet"],[1,"col-md-6","col-xl-8","mb-3","d-none","d-md-block","position-relative"],[1,"input-group","input-group-sm","d-none","d-md-flex"],[1,"input-group","input-group-sm","me-md-5","d-none","d-md-flex"],[1,"btn","btn-outline-secondary",3,"click"],[1,"form-select",3,"change"],[3,"value"],[1,"input-group-text"],["type","number","min","1",1,"form-control","flex-grow-0","w-auto",3,"ngModelChange","max","ngModel"],["type","button",1,"btn","btn-sm","btn-outline-danger","me-md-4",3,"click","disabled"],["width","1.2em","height","1.2em","name","trash"],["ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary","dropdown-toggle",3,"disabled"],["ngbDropdownMenu","",1,"dropdown-menu","shadow"],[3,"created","added","documentId","disabled","existingFields"],["name","link"],["name","envelope"],["title",ue,"formControlName","title",3,"keyup","horizontal","error"],["title",me,"formControlName","archive_serial_number",3,"error","horizontal"],["title",Fe,"formControlName","created_date",3,"filterDocuments","suggestions","showFilter","horizontal","error"],["title",bt,"formControlName","correspondent",3,"items","allowNull","showFilter","horizontal","hideAddButton","suggestions","filterDocuments","createNew",4,"pngxIfPermissions"],["title",nt,"formControlName","document_type",3,"items","allowNull","showFilter","horizontal","hideAddButton","suggestions","filterDocuments","createNew",4,"pngxIfPermissions"],["title",Dt,"formControlName","storage_path","placeholder",Bt,3,"items","allowNull","showFilter","horizontal","hideAddButton","suggestions","filterDocuments","createNew",4,"pngxIfPermissions"],["formControlName","tags",3,"suggestions","showFilter","horizontal","hideAddButton","filterDocuments",4,"pngxIfPermissions"],[3,"formGroup"],[1,"d-flex","border-top","pt-3"],["title",bt,"formControlName","correspondent",3,"filterDocuments","createNew","items","allowNull","showFilter","horizontal","hideAddButton","suggestions"],["title",nt,"formControlName","document_type",3,"filterDocuments","createNew","items","allowNull","showFilter","horizontal","hideAddButton","suggestions"],["title",Dt,"formControlName","storage_path","placeholder",Bt,3,"filterDocuments","createNew","items","allowNull","showFilter","horizontal","hideAddButton","suggestions"],["formControlName","tags",3,"filterDocuments","suggestions","showFilter","horizontal","hideAddButton"],["formControlName","value",3,"title","removable","horizontal","error"],["formControlName","value",3,"title","removable","horizontal","showAdd","error"],["formControlName","value",3,"title","removable","horizontal","showAdd","step","error"],["formControlName","value",3,"title","defaultCurrency","removable","horizontal","error"],["formControlName","value",3,"title","removable","horizontal"],["formControlName","value",3,"title","parentDocumentID","removable","horizontal","error"],["formControlName","value","bindLabel","label",3,"title","items","allowNull","horizontal","removable","error"],["formControlName","value",3,"removed","title","removable","horizontal","error"],["formControlName","value",3,"removed","title","removable","horizontal","showAdd","error"],["formControlName","value",3,"removed","title","removable","horizontal","showAdd","step","error"],["formControlName","value",3,"removed","title","defaultCurrency","removable","horizontal","error"],["formControlName","value",3,"removed","title","removable","horizontal"],["formControlName","value",3,"removed","title","parentDocumentID","removable","horizontal","error"],["formControlName","value","bindLabel","label",3,"removed","title","items","allowNull","horizontal","removable","error"],["id","content","rows","20","formControlName","content",1,"form-control"],[1,"table","table-borderless"],["title",Zt,3,"metadata"],["title",Ge,3,"metadata"],[1,"position-relative"],["ngbNavLink","",1,"text-nowrap"],[1,"badge","text-bg-secondary","ms-1"],[3,"updated","documentId","notes","addDisabled"],[1,"mb-3"],[3,"documentId"],["formControlName","permissions_form",3,"users"],[1,"btn-group","pb-3","ms-auto"],[4,"pngxIfPermissions"],["type","submit",1,"order-3","btn","btn-sm","btn-primary",3,"disabled"],["type","button",1,"order-1","btn","btn-sm","btn-outline-primary",3,"disabled"],["type","button",1,"order-2","btn","btn-sm","btn-outline-primary",3,"disabled"],["type","button",1,"order-0","btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["type","button",1,"order-1","btn","btn-sm","btn-outline-primary",3,"click","disabled"],["type","button",1,"order-2","btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"thumb-preview","position-absolute","pe-none","text-center"],["alt",Ua,1,"mx-auto",3,"src"],[1,"position-absolute","top-0","start-0","m-2","p-2","d-flex","align-items-center","justify-content-center"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["width","100%",1,"preview-sticky","bg-light","p-3","overflow-auto","whitespace-preserve"],[1,"preview-sticky"],["width","100%",1,"preview-sticky",3,"data"],[1,"password-prompt"],[1,"preview-sticky","pdf-viewer-container"],[3,"pageChange","error","after-load-complete","src","original-size","show-borders","show-all","page","zoom-scale","zoom"],["width","100%","height","100%",3,"src","alt"],["autocomplete","","autofocus","true","placeholder",ga,"type","password",1,"form-control",3,"keyup"]]},template:function(i,o){if(1&i){const s=F();d(0,"pngx-page-header",42),je("titleChange",function(a){return b(s),$e(o.title,a)||(o.title=a),S(a)}),y(1,_at,9,1)(2,pat,4,1,"button",43),d(3,"div",44)(4,"button",45),T("click",function(){return b(s),S(o.download())}),y(5,gat,1,0,"div",46)(6,fat,1,0,"i-bs",47),d(7,"span",48),M(8,5),u()(),y(9,mat,5,2,"div",49),u(),d(10,"div",50)(11,"button",51),w(12,"i-bs",52),d(13,"div",53),A(14,"\xa0"),ae(15),M(16,6),le(),u()(),d(17,"div",54)(18,"button",55),T("click",function(){return b(s),S(o.reprocess())}),w(19,"i-bs",56),A(20,"\xa0"),d(21,"span"),M(22,7),u()(),d(23,"button",57),T("click",function(){return b(s),S(o.moreLike())}),w(24,"i-bs",58),A(25,"\xa0"),d(26,"span"),M(27,8),u()(),d(28,"button",55),T("click",function(){return b(s),S(o.splitDocument())}),w(29,"i-bs",59),A(30,"\xa0"),d(31,"span"),M(32,9),u()(),d(33,"button",55),T("click",function(){return b(s),S(o.rotateDocument())}),w(34,"i-bs",60),A(35,"\xa0"),ae(36),M(37,10),le(),u(),d(38,"button",55),T("click",function(){return b(s),S(o.deletePages())}),w(39,"i-bs",61),A(40,"\xa0"),ae(41),M(42,11),le(),u()()(),y(43,vat,1,3,"pngx-custom-fields-dropdown",62),d(44,"div",50)(45,"button",63),w(46,"i-bs",64),d(47,"div",53),A(48,"\xa0"),ae(49),M(50,12),le(),u()(),d(51,"div",54),y(52,Cat,5,0,"button",65)(53,Mat,5,0,"button",66),u()()(),d(54,"div",67)(55,"div",68)(56,"form",69),T("ngSubmit",function(){return b(s),S(o.save())}),d(57,"div",70)(58,"div",71)(59,"button",72),T("click",function(){return b(s),S(o.close())}),w(60,"i-bs",73),u(),d(61,"button",74),T("click",function(){return b(s),S(o.previousDoc())}),w(62,"i-bs",75),u(),d(63,"button",76),T("click",function(){return b(s),S(o.nextDoc())}),w(64,"i-bs",77),u()(),y(65,Tat,1,0,"ng-container",78),u(),d(66,"ul",79,0),T("navChange",function(a){return b(s),S(o.onNavChange(a))}),je("activeIdChange",function(a){return b(s),$e(o.activeNavID,a)||(o.activeNavID=a),S(a)}),d(68,"li",80)(69,"a",81),M(70,13),u(),y(71,kat,13,25,"ng-template",82),u(),d(72,"li",80)(73,"a",81),M(74,14),u(),y(75,zat,2,2,"ng-template",82),u(),d(76,"li",80)(77,"a",81),M(78,15),u(),y(79,Uat,3,3,"ng-template",82),u(),d(80,"li",83)(81,"a",81),M(82,16),u(),y(83,jat,1,0,null,82),u(),y(84,qat,5,2,"li",80)(85,Qat,4,1,"li",80)(86,e1t,4,1,"li",80),u(),w(87,"div",84),u()(),d(88,"div",85,1),y(90,t1t,1,0,"ng-container",78),u()(),y(91,s1t,2,4,"ng-template",null,2,zt)(93,v1t,8,4,"ng-template",null,3,zt)}if(2&i){const s=Ve(67),r=Ve(89),a=Ve(92),l=Ve(94);Ze("title",o.title),_(),N(o.archiveContentRenderType!==o.ContentRenderType.PDF||o.useNativePdfViewer?-1:1),_(),m("pngxIfPermissions",Pe(28,Sc,o.PermissionAction.Delete,o.PermissionType.Document)),_(2),m("disabled",o.downloading),_(),N(o.downloading?5:6),_(4),N(null!=o.metadata&&o.metadata.has_archive_version?9:-1),_(9),m("disabled",!o.userCanEdit||!o.userIsOwner),_(10),m("disabled",!o.userCanAdd||o.originalContentRenderType!==o.ContentRenderType.PDF||1===o.previewNumPages),_(5),m("disabled",!o.userIsOwner||!o.userCanEdit||o.originalContentRenderType!==o.ContentRenderType.PDF),_(5),m("disabled",!o.userIsOwner||!o.userCanEdit||o.originalContentRenderType!==o.ContentRenderType.PDF||1===o.previewNumPages),_(5),m("pngxIfPermissions",Pe(31,Sc,o.PermissionAction.View,o.PermissionType.CustomField)),_(9),m("pngxIfPermissions",Pe(34,Sc,o.PermissionAction.Add,o.PermissionType.ShareLink)),_(),N(o.emailEnabled?53:-1),_(3),m("formGroup",o.documentForm),_(5),m("disabled",!o.hasPrevious()),_(2),m("disabled",!o.hasNext()),_(2),m("ngTemplateOutlet",a),_(),Ze("activeId",o.activeNavID),_(2),m("ngbNavItem",o.DocumentDetailNavIDs.Details),_(4),m("ngbNavItem",o.DocumentDetailNavIDs.Content),_(4),m("ngbNavItem",o.DocumentDetailNavIDs.Metadata),_(4),m("ngbNavItem",o.DocumentDetailNavIDs.Preview),_(3),N(r.offsetParent?-1:83),_(),N(o.notesEnabled?84:-1),_(),N(o.historyEnabled?85:-1),_(),N(o.showPermissions?86:-1),_(),m("ngbNavOutlet",s),_(3),m("ngTemplateOutlet",l)}},dependencies:[or,kot,Hrt,xrt,dl,OB,ab,Urt,Du,la,lb,gr,Nu,yB,NB,fr,wB,Ro,Aa,Xt,Oo,jl,Xl,Ti,Zl,jt,Mo,F_,X9,Rn,R_,qt,co,To,Uo,SB,nc,Z2,g0,tc,j2,X2,q0,K2,No,bo,Jo,yo,Vs,Rr,Gt,Jt,Lp,A4],styles:[".preview-sticky[_ngcontent-%COMP%]{height:calc(100vh - 160px);top:70px;position:sticky}.pdf-viewer-container[_ngcontent-%COMP%]{padding-top:10px;background-color:gray}.pdf-viewer-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}  .ng2-pdf-viewer-container .page{--page-margin: 0 auto 10px;--page-border: 0}.btn-group[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]{border-top-right-radius:inherit;border-bottom-right-radius:inherit}.password-prompt[_ngcontent-%COMP%]{position:absolute;top:30%;left:30%;right:30%}textarea.rtl[_ngcontent-%COMP%]{direction:rtl}.form-select[_ngcontent-%COMP%]{padding-right:2.5em}.input-group[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border-color:var(--bs-border-color)}.btn-group[_ngcontent-%COMP%]   .btn.order-0[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--bs-border-radius-sm);border-bottom-left-radius:var(--bs-border-radius-sm)}.btn-group[_ngcontent-%COMP%]   .btn.order-3[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--bs-border-radius-sm);border-bottom-right-radius:var(--bs-border-radius-sm)}.preview-sticky[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;object-position:top}.thumb-preview[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:calc(100vh - 160px);overflow:hidden;background-color:gray;padding:10px 8px;z-index:1000}@media screen and (min-width: 768px){.thumb-preview[_ngcontent-%COMP%]{left:calc(.5 * var(--bs-gutter-x));width:calc(100% - var(--bs-gutter-x))}}.thumb-preview[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{mix-blend-mode:difference}.thumb-preview[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{filter:blur(1px);max-width:100%;object-fit:contain;object-position:top}"]})}}return t})();const Rm=(t,n)=>({action:t,type:n});function C1t(t,n){1&t&&w(0,"div",62)}function M1t(t,n){1&t&&(d(0,"span",66),w(1,"i-bs",67),u())}function T1t(t,n){1&t&&(d(0,"span",66),w(1,"i-bs",68),u())}function w1t(t,n){if(1&t&&(w(0,"i-bs",65),y(1,M1t,2,0,"span",66)(2,T1t,2,0,"span",66)),2&t){const e=g(2);_(),N(e.systemStatusHasErrors?1:2)}}function b1t(t,n){if(1&t){const e=F();d(0,"button",61),T("click",function(){return b(e),S(g().showSystemStatus())}),y(1,C1t,1,0,"div",62)(2,w1t,3,1),ae(3),M(4,8),le(),u(),d(5,"a",63),ae(6),M(7,9),le(),A(8," \xa0"),w(9,"i-bs",64),u()}if(2&t){const e=g();m("disabled",!e.systemStatus),_(),N(e.systemStatus?2:1)}}function S1t(t,n){if(1&t&&(d(0,"span"),A(1),u()),2&t){const e=g().$implicit;_(),Le(" - ",e.englishName,"")}}function E1t(t,n){if(1&t&&(d(0,"option",75),A(1),y(2,S1t,2,1,"span"),u()),2&t){const e=n.$implicit,i=g(2);m("ngValue",e.code),_(),oe(e.name),_(),N(e.code&&"en-US"!==i.currentLocale?2:-1)}}function A1t(t,n){1&t&&(d(0,"small",76),M(1,35),u())}function O1t(t,n){if(1&t&&(d(0,"span"),A(1),ye(2,"customDate"),u()),2&t){const e=g().$implicit,i=g(2);_(),Le(" - ",t_(2,1,i.today,"shortDate",null,e.code),"")}}function y1t(t,n){if(1&t&&(d(0,"option",75),A(1),y(2,O1t,3,6,"span"),u()),2&t){const e=n.$implicit;m("ngValue",e.code),_(),oe(e.name),_(),N(e.code?2:-1)}}function N1t(t,n){1&t&&(d(0,"p"),M(1,36),u(),d(2,"p")(3,"em"),M(4,37),u()())}function D1t(t,n){if(1&t){const e=F();d(0,"div",69)(1,"div",70)(2,"h5"),M(3,10),u(),d(4,"div",71)(5,"div",72)(6,"span"),M(7,11),u()(),d(8,"div",73)(9,"select",74),Ue(10,E1t,3,3,"option",75,Ht),u(),y(12,A1t,2,0,"small",76),u()(),d(13,"div",71)(14,"div",72)(15,"span"),M(16,12),u()(),d(17,"div",73)(18,"select",77),Ue(19,y1t,3,3,"option",75,Ht),u()()(),d(21,"div",71)(22,"div",72)(23,"span"),M(24,13),u()(),d(25,"div",73)(26,"div",78),w(27,"input",79),d(28,"label",80),M(29,14),ye(30,"customDate"),u()(),d(31,"div",78),w(32,"input",81),d(33,"label",82),M(34,15),ye(35,"customDate"),u()(),d(36,"div",78),w(37,"input",83),d(38,"label",84),M(39,16),ye(40,"customDate"),u()()()(),d(41,"div",71)(42,"div",72)(43,"span"),M(44,17),u()(),d(45,"div",73)(46,"select",85)(47,"option",75),A(48,"10"),u(),d(49,"option",75),A(50,"25"),u(),d(51,"option",75),A(52,"50"),u(),d(53,"option",75),A(54,"100"),u()()()(),d(55,"div",71)(56,"div",72)(57,"span"),M(58,18),u()(),d(59,"div",73),w(60,"pngx-input-check",86),u()(),d(61,"div",71)(62,"div",72)(63,"span"),M(64,19),u()(),d(65,"div",73),w(66,"pngx-input-check",87)(67,"pngx-input-check",88)(68,"pngx-input-check",89),u()(),d(69,"div",71)(70,"div",72)(71,"span"),M(72,20),u()(),d(73,"div",90),w(74,"pngx-input-color",91),u(),d(75,"div",92)(76,"button",93),T("click",function(){return b(e),S(g().clearThemeColor())}),w(77,"i-bs",94),ae(78),M(79,21),le(),u()()(),d(80,"h5",95),M(81,22),u(),d(82,"div",71)(83,"div",96),w(84,"pngx-input-check",97),d(85,"button",98),w(86,"i-bs",99),u(),y(87,N1t,5,0,"ng-template",null,1,zt),u()(),d(89,"h5",100),M(90,23),u(),d(91,"div",71)(92,"div",73),w(93,"pngx-input-check",101),u()()(),d(94,"div",102)(95,"h5",103),M(96,24),u(),d(97,"div",71)(98,"div",73),w(99,"pngx-input-check",104),u()(),d(100,"div",71)(101,"div",92)(102,"span"),M(103,25),u()(),d(104,"div",73)(105,"select",105)(106,"option",75),M(107,26),u(),d(108,"option",75),M(109,27),u()(),d(110,"p",106),M(111,28),u()()(),d(112,"div",71)(113,"div",73),w(114,"pngx-input-check",107),u()(),d(115,"div",71)(116,"div",73),w(117,"pngx-input-check",108),u()(),d(118,"h5",100),M(119,29),u(),d(120,"div",71)(121,"div",73),w(122,"pngx-input-check",109),u()(),d(123,"h5",100),M(124,30),u(),d(125,"div",71)(126,"div",73),w(127,"pngx-input-check",110)(128,"pngx-input-check",111),u()(),d(129,"h5",100),M(130,31),u(),d(131,"div",71)(132,"div",73),w(133,"pngx-input-check",112),u()(),d(134,"div",71)(135,"div",73)(136,"div",69)(137,"div",72)(138,"span"),M(139,32),u()(),d(140,"div",73)(141,"select",113)(142,"option",75),M(143,33),u(),d(144,"option",75),M(145,34),u()()()()()()()()}if(2&t){const e=Ve(88),i=g();_(10),We(i.displayLanguageOptions),_(2),N(i.displayLanguageIsDirty?12:-1),_(7),We(i.dateLocaleOptions),_(11),bn(t_(30,17,i.today,"shortDate",null,i.computedDateLocale)),Sn(29),_(5),bn(t_(35,22,i.today,"mediumDate",null,i.computedDateLocale)),Sn(34),_(5),bn(t_(40,27,i.today,"longDate",null,i.computedDateLocale)),Sn(39),_(7),m("ngValue",10),_(2),m("ngValue",25),_(2),m("ngValue",50),_(2),m("ngValue",100),_(14),m("hidden",i.settingsForm.value.darkModeUseSystem),_(7),m("error",null==i.error?null:i.error.color),_(2),m("disabled",!i.settingsForm.get("themeColor").value),_(9),m("ngbPopover",e)("autoClose",!0),_(21),m("ngValue",i.ZoomSetting.PageWidth),_(2),m("ngValue",i.ZoomSetting.PageFit),_(34),m("ngValue",i.GlobalSearchType.TITLE_CONTENT),_(2),m("ngValue",i.GlobalSearchType.ADVANCED)}}function P1t(t,n){1&t&&(ae(0),w(1,"pngx-permissions-user",121),le())}function I1t(t,n){1&t&&(ae(0),w(1,"pngx-permissions-group",122),le())}function x1t(t,n){1&t&&(ae(0),w(1,"pngx-permissions-user",123),le())}function L1t(t,n){1&t&&(ae(0),w(1,"pngx-permissions-group",124),le())}function R1t(t,n){if(1&t&&(d(0,"h5"),M(1,38),u(),d(2,"div",71)(3,"div",73)(4,"p"),M(5,39),u()()(),d(6,"div",71)(7,"div",72)(8,"span"),M(9,40),u()(),d(10,"div",114),w(11,"pngx-input-select",115),d(12,"small",116),M(13,41),u()()(),d(14,"div",71)(15,"div",72)(16,"span"),M(17,42),u()(),d(18,"div",114)(19,"div",69)(20,"div",117)(21,"span",118),M(22,43),u()(),d(23,"div",73),y(24,P1t,2,0,"ng-container",119),u()(),d(25,"div",69)(26,"div",117)(27,"span",118),M(28,44),u()(),d(29,"div",73),y(30,I1t,2,0,"ng-container",119),u()()()(),d(31,"div",71)(32,"div",72)(33,"span"),M(34,45),u()(),d(35,"div",114)(36,"div",69)(37,"div",117)(38,"span",118),M(39,46),u()(),d(40,"div",73),y(41,x1t,2,0,"ng-container",119),u()(),d(42,"div",69)(43,"div",117)(44,"span",118),M(45,47),u()(),d(46,"div",73),y(47,L1t,2,0,"ng-container",119),u()(),d(48,"div",69)(49,"small",120),M(50,48),u()()()()),2&t){const e=g();_(11),m("items",e.users)("allowNull",!0),_(13),m("pngxIfPermissions",Pe(6,Rm,e.PermissionAction.View,e.PermissionType.User)),_(6),m("pngxIfPermissions",Pe(9,Rm,e.PermissionAction.View,e.PermissionType.Group)),_(11),m("pngxIfPermissions",Pe(12,Rm,e.PermissionAction.View,e.PermissionType.User)),_(6),m("pngxIfPermissions",Pe(15,Rm,e.PermissionAction.View,e.PermissionType.Group))}}function F1t(t,n){1&t&&(d(0,"h5"),M(1,49),u(),d(2,"div",71)(3,"div",73),w(4,"pngx-input-check",125)(5,"pngx-input-check",126)(6,"pngx-input-check",127)(7,"pngx-input-check",128),u()())}var gg=function(t){return t[t.General=1]="General",t[t.Permissions=2]="Permissions",t[t.Notifications=3]="Notifications",t[t.SavedViews=4]="SavedViews",t}(gg||{});const k1t={code:"",name:"Use system language"},z1t={code:"",name:"Use date format of display language"};let kB=(()=>{class t extends ca{get systemStatusHasErrors(){return this.systemStatus.database.status===Cc.ERROR||this.systemStatus.tasks.redis_status===Cc.ERROR||this.systemStatus.tasks.celery_status===Cc.ERROR||this.systemStatus.tasks.index_status===Cc.ERROR||this.systemStatus.tasks.classifier_status===Cc.ERROR||this.systemStatus.tasks.sanity_check_status===Cc.ERROR}get computedDateLocale(){return this.settingsForm.value.dateLocale||this.settingsForm.value.displayLanguage||this.currentLocale}constructor(e,i,o,s,r,a,l,c,h,p,f,v,C){super(),this.documentListViewService=e,this.toastService=i,this.settings=o,this.currentLocale=s,this.viewportScroller=r,this.activatedRoute=a,this.tourService=l,this.usersService=c,this.groupsService=h,this.router=p,this.permissionsService=f,this.modalService=v,this.systemStatusService=C,this.settingsForm=new Kn({bulkEditConfirmationDialogs:new de(null),bulkEditApplyOnClose:new de(null),documentListItemPerPage:new de(null),slimSidebarEnabled:new de(null),darkModeUseSystem:new de(null),darkModeEnabled:new de(null),darkModeInvertThumbs:new de(null),themeColor:new de(null),displayLanguage:new de(null),dateLocale:new de(null),dateFormat:new de(null),notesEnabled:new de(null),updateCheckingEnabled:new de(null),defaultPermsOwner:new de(null),defaultPermsViewUsers:new de(null),defaultPermsViewGroups:new de(null),defaultPermsEditUsers:new de(null),defaultPermsEditGroups:new de(null),useNativePdfViewer:new de(null),pdfViewerDefaultZoom:new de(null),documentEditingRemoveInboxTags:new de(null),documentEditingOverlayThumbnail:new de(null),searchDbOnly:new de(null),searchLink:new de(null),notificationsConsumerNewDocument:new de(null),notificationsConsumerSuccess:new de(null),notificationsConsumerFailed:new de(null),notificationsConsumerSuppressOnDashboard:new de(null),savedViewsWarnOnUnsavedChange:new de(null)}),this.SettingsNavIDs=gg,this.isDirty=!1,this.unsubscribeNotifier=new xe,this.savePending=!1,this.GlobalSearchType=am,this.ZoomSetting=Xo,this.settings.settingsSaved.subscribe(()=>{this.savePending||this.initialize()})}ngOnInit(){this.initialize(),this.permissionsService.currentUserCan(mt.View,Ct.User)&&this.usersService.listAll().pipe(ut()).subscribe({next:e=>{this.users=e.results},error:e=>{this.toastService.showError("Error retrieving users",e)}}),this.permissionsService.currentUserCan(mt.View,Ct.Group)&&this.groupsService.listAll().pipe(ut()).subscribe({next:e=>{this.groups=e.results},error:e=>{this.toastService.showError("Error retrieving groups",e)}}),this.activatedRoute.paramMap.subscribe(e=>{const i=e.get("section");if(i){const o=Object.keys(gg).find(s=>s.toLowerCase()==i);o&&(this.activeNavID=gg[o])}})}ngAfterViewInit(){this.activatedRoute.snapshot.fragment&&this.viewportScroller.scrollToAnchor(this.activatedRoute.snapshot.fragment)}getCurrentSettings(){return{bulkEditConfirmationDialogs:this.settings.get(Me.BULK_EDIT_CONFIRMATION_DIALOGS),bulkEditApplyOnClose:this.settings.get(Me.BULK_EDIT_APPLY_ON_CLOSE),documentListItemPerPage:this.settings.get(Me.DOCUMENT_LIST_SIZE),slimSidebarEnabled:this.settings.get(Me.SLIM_SIDEBAR),darkModeUseSystem:this.settings.get(Me.DARK_MODE_USE_SYSTEM),darkModeEnabled:this.settings.get(Me.DARK_MODE_ENABLED),darkModeInvertThumbs:this.settings.get(Me.DARK_MODE_THUMB_INVERTED),themeColor:this.settings.get(Me.THEME_COLOR),useNativePdfViewer:this.settings.get(Me.USE_NATIVE_PDF_VIEWER),pdfViewerDefaultZoom:this.settings.get(Me.PDF_VIEWER_ZOOM_SETTING),displayLanguage:this.settings.getLanguage(),dateLocale:this.settings.get(Me.DATE_LOCALE),dateFormat:this.settings.get(Me.DATE_FORMAT),notesEnabled:this.settings.get(Me.NOTES_ENABLED),updateCheckingEnabled:this.settings.get(Me.UPDATE_CHECKING_ENABLED),notificationsConsumerNewDocument:this.settings.get(Me.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT),notificationsConsumerSuccess:this.settings.get(Me.NOTIFICATIONS_CONSUMER_SUCCESS),notificationsConsumerFailed:this.settings.get(Me.NOTIFICATIONS_CONSUMER_FAILED),notificationsConsumerSuppressOnDashboard:this.settings.get(Me.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD),savedViewsWarnOnUnsavedChange:this.settings.get(Me.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE),defaultPermsOwner:this.settings.get(Me.DEFAULT_PERMS_OWNER),defaultPermsViewUsers:this.settings.get(Me.DEFAULT_PERMS_VIEW_USERS),defaultPermsViewGroups:this.settings.get(Me.DEFAULT_PERMS_VIEW_GROUPS),defaultPermsEditUsers:this.settings.get(Me.DEFAULT_PERMS_EDIT_USERS),defaultPermsEditGroups:this.settings.get(Me.DEFAULT_PERMS_EDIT_GROUPS),documentEditingRemoveInboxTags:this.settings.get(Me.DOCUMENT_EDITING_REMOVE_INBOX_TAGS),documentEditingOverlayThumbnail:this.settings.get(Me.DOCUMENT_EDITING_OVERLAY_THUMBNAIL),searchDbOnly:this.settings.get(Me.SEARCH_DB_ONLY),searchLink:this.settings.get(Me.SEARCH_FULL_TYPE)}}onNavChange(e){const[i]=Object.entries(gg).find(([,o])=>o==e.nextId);i&&this.router.navigate(["settings",i.toLowerCase()]).then(o=>{!o&&this.isDirty?this.activeNavID=e.activeId:o&&this.isDirty&&this.initialize()})}initialize(e=!0){this.unsubscribeNotifier.next(!0);const i=this.settingsForm.value;let o=this.getCurrentSettings();this.store=new ui(o),this.storeSub=this.store.asObservable().subscribe(s=>{this.settingsForm.patchValue(s,{emitEvent:!1})}),this.isDirty$=rm(this.settingsForm,this.store.asObservable()),this.isDirty$.pipe(Te(this.unsubscribeNotifier)).subscribe(s=>{this.isDirty=s}),this.settingsForm.valueChanges.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.settings.updateAppearanceSettings(this.settingsForm.get("darkModeUseSystem").value,this.settingsForm.get("darkModeEnabled").value,this.settingsForm.get("themeColor").value)}),!e&&i&&this.settingsForm.patchValue(i),this.permissionsService.isAdmin()&&this.systemStatusService.get().subscribe(s=>{this.systemStatus=s})}ngOnDestroy(){this.isDirty&&this.settings.updateAppearanceSettings(),this.storeSub&&this.storeSub.unsubscribe()}saveSettings(){this.savePending=!0;const e=this.settingsForm.value.displayLanguage!=this.store?.getValue().displayLanguage||this.settingsForm.value.updateCheckingEnabled!=this.store?.getValue().updateCheckingEnabled&&this.settingsForm.value.updateCheckingEnabled;this.settings.set(Me.BULK_EDIT_APPLY_ON_CLOSE,this.settingsForm.value.bulkEditApplyOnClose),this.settings.set(Me.BULK_EDIT_CONFIRMATION_DIALOGS,this.settingsForm.value.bulkEditConfirmationDialogs),this.settings.set(Me.DOCUMENT_LIST_SIZE,this.settingsForm.value.documentListItemPerPage),this.settings.set(Me.SLIM_SIDEBAR,this.settingsForm.value.slimSidebarEnabled),this.settings.set(Me.DARK_MODE_USE_SYSTEM,this.settingsForm.value.darkModeUseSystem),this.settings.set(Me.DARK_MODE_ENABLED,(1==this.settingsForm.value.darkModeEnabled).toString()),this.settings.set(Me.DARK_MODE_THUMB_INVERTED,(1==this.settingsForm.value.darkModeInvertThumbs).toString()),this.settings.set(Me.THEME_COLOR,this.settingsForm.value.themeColor),this.settings.set(Me.USE_NATIVE_PDF_VIEWER,this.settingsForm.value.useNativePdfViewer),this.settings.set(Me.PDF_VIEWER_ZOOM_SETTING,this.settingsForm.value.pdfViewerDefaultZoom),this.settings.set(Me.DATE_LOCALE,this.settingsForm.value.dateLocale),this.settings.set(Me.DATE_FORMAT,this.settingsForm.value.dateFormat),this.settings.set(Me.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT,this.settingsForm.value.notificationsConsumerNewDocument),this.settings.set(Me.NOTIFICATIONS_CONSUMER_SUCCESS,this.settingsForm.value.notificationsConsumerSuccess),this.settings.set(Me.NOTIFICATIONS_CONSUMER_FAILED,this.settingsForm.value.notificationsConsumerFailed),this.settings.set(Me.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD,this.settingsForm.value.notificationsConsumerSuppressOnDashboard),this.settings.set(Me.NOTES_ENABLED,this.settingsForm.value.notesEnabled),this.settings.set(Me.UPDATE_CHECKING_ENABLED,this.settingsForm.value.updateCheckingEnabled),this.settings.set(Me.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE,this.settingsForm.value.savedViewsWarnOnUnsavedChange),this.settings.set(Me.DEFAULT_PERMS_OWNER,this.settingsForm.value.defaultPermsOwner),this.settings.set(Me.DEFAULT_PERMS_VIEW_USERS,this.settingsForm.value.defaultPermsViewUsers),this.settings.set(Me.DEFAULT_PERMS_VIEW_GROUPS,this.settingsForm.value.defaultPermsViewGroups),this.settings.set(Me.DEFAULT_PERMS_EDIT_USERS,this.settingsForm.value.defaultPermsEditUsers),this.settings.set(Me.DEFAULT_PERMS_EDIT_GROUPS,this.settingsForm.value.defaultPermsEditGroups),this.settings.set(Me.DOCUMENT_EDITING_REMOVE_INBOX_TAGS,this.settingsForm.value.documentEditingRemoveInboxTags),this.settings.set(Me.DOCUMENT_EDITING_OVERLAY_THUMBNAIL,this.settingsForm.value.documentEditingOverlayThumbnail),this.settings.set(Me.SEARCH_DB_ONLY,this.settingsForm.value.searchDbOnly),this.settings.set(Me.SEARCH_FULL_TYPE,this.settingsForm.value.searchLink),this.settings.setLanguage(this.settingsForm.value.displayLanguage),this.settings.storeSettings().pipe(ut()).pipe(un(()=>this.savePending=!1)).subscribe({next:()=>{this.store.next(this.settingsForm.value),this.settings.updateAppearanceSettings(),this.settings.initializeDisplayFields();let i={content:"Settings were saved successfully.",delay:5e3};e&&(i.content="Settings were saved successfully. Reload is required to apply some changes.",i.actionName="Reload now",i.action=()=>{location.reload()}),this.toastService.show(i)},error:i=>{this.toastService.showError("An error occurred while saving settings.",i)}})}get displayLanguageOptions(){return[k1t].concat(this.settings.getLanguageOptions())}get dateLocaleOptions(){return[z1t].concat(this.settings.getDateLocaleOptions())}get today(){return new Date}reset(){this.settingsForm.patchValue(this.store.getValue())}clearThemeColor(){this.settingsForm.get("themeColor").patchValue("")}showSystemStatus(){this.modalService.open(eot,{size:"xl"}).componentInstance.status=this.systemStatus}static{this.\u0275fac=function(i){return new(i||t)(x(Va),x(Fi),x(En),x(ea),x(pI),x(v1),x(dc),x(gs),x(ag),x(Lo),x(ti),x(Do),x(bB))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-settings"]],features:[st],decls:29,vars:13,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt,nt,Dt,Bt,Zt,Ge,Ft,It,yi,ci,St,kn,zi,Ni,yt,Ln,Di,Fo,Ps,Zs,Cr,Yt,Ua,Wa,ga,tt,_5,p5,Za,P0,yc,Nc,fl,Dc,Pc,Ic,xc,yg,Ng,Dg,Pg,Ig,xg,Lg;return e="Settings",i="Options to customize appearance, notifications and more. Settings apply to the <strong>current user only</strong>.",o="Start tour",s="General",r="Permissions",a="Notifications",l="Save",c="Cancel",h="System Status",p="Open Django Admin",f="Use 'slim' sidebar (icons only)",v="Use system settings",C="Enable dark mode",E="Invert thumbnails in dark mode",D="Enable update checking",P="What's this?",I="Show warning when closing saved views with unsaved changes",k="Use PDF viewer provided by the browser",R="This is usually faster for displaying large PDF documents, but it might not work on some browsers.",ee="Automatically remove inbox tag(s) on save",re="Show document thumbnail during loading",fe="Enable notes",pe="Show confirmation dialogs",ue="Apply on close",me="Do not include advanced search results",Fe="Appearance",bt="Display language",nt="Date display",Dt="Date format",Bt="Short: " + "\ufffd0\ufffd" + "",Zt="Medium: " + "\ufffd0\ufffd" + "",Ge="Long: " + "\ufffd0\ufffd" + "",Ft="Items per page",It="Sidebar",yi="Dark mode",ci="Theme Color",St="Reset",kn="Update checking",zi="Saved Views",Ni="Document editing",yt="Default zoom:",Ln="Fit width",Di="Fit page",Fo="Only applies to the Paperless-ngx PDF viewer.",Ps="Notes",Zs="Bulk editing",Cr="Global search",Yt="Full search links to",Ua="Title and content search",Wa="Advanced search",ga="You need to reload the page after applying a new language.",tt=" Update checking works by pinging the public GitHub API for the latest release to determine whether a new version is available. Actual updating of the app must still be performed manually. ",_5="No tracking data is collected by the app in any way.",p5="Default Permissions",Za=" Settings apply to this user account for objects (Tags, Mail Rules, etc.) created via the web UI ",P0="Default Owner",yc="Objects without an owner can be viewed and edited by all users",Nc="Default View Permissions",fl="Users:",Dc="Groups:",Pc="Default Edit Permissions",Ic="Users:",xc="Groups:",yg="Edit permissions also grant viewing permissions",Ng="Show notifications when new documents are detected",Dg="Show notifications when document processing completes successfully",Pg="Show notifications when document processing fails",Ig="Suppress notifications on dashboard",xg="This will suppress all messages about document processing status on the dashboard.",Lg="Document processing",[["nav","ngbNav"],["updatesPopover",""],o,s,r,a,l,c,h,p,Fe,bt,nt,Dt,Bt,Zt,Ge,Ft,It,yi,ci,St,kn,zi,Ni,yt,Ln,Di,Fo,Ps,Zs,Cr,Yt,Ua,Wa,ga,tt,_5,p5,Za,P0,yc,Nc,fl,Dc,Pc,Ic,xc,yg,Lg,["title",e,"info",i],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","airplane",1,"me-1"],[3,"ngSubmit","formGroup"],["ngbNav","",1,"nav-tabs",3,"navChange","activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"border-start","border-end","border-bottom","p-3","mb-3","shadow-sm",3,"ngbNavOutlet"],["type","submit",1,"btn","btn-primary","mb-2",3,"disabled"],["type","button",1,"btn","btn-secondary","ms-2","mb-2",3,"click","disabled"],[1,"btn","btn-sm","btn-outline-primary","position-relative","ms-md-5","me-1",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-1","h-75"],["href","admin/","target","_blank",1,"btn","btn-sm","btn-primary"],["name","arrow-up-right"],["name","card-checklist",1,"me-2"],[1,"badge","bg-body","position-absolute","top-0","start-100","translate-middle","rounded-pill","p-0"],["name","exclamation-circle-fill","width","1.75em","height","1.75em",1,"text-danger"],["name","check-circle-fill","width","1.75em","height","1.75em",1,"text-primary"],[1,"row"],[1,"col-xl-6","pe-xl-5"],[1,"row","mb-3"],[1,"col-md-3","col-form-label","pt-0"],[1,"col"],["formControlName","displayLanguage",1,"form-select"],[3,"ngValue"],[1,"form-text","text-primary"],["formControlName","dateLocale",1,"form-select"],[1,"form-check"],["type","radio","id","dateFormatShort","name","dateFormat","formControlName","dateFormat","value","shortDate",1,"form-check-input"],["for","dateFormatShort",1,"form-check-label"],["type","radio","id","dateFormatMedium","name","dateFormat","formControlName","dateFormat","value","mediumDate",1,"form-check-input"],["for","dateFormatMedium",1,"form-check-label"],["type","radio","id","dateFormatLong","name","dateFormat","formControlName","dateFormat","value","longDate",1,"form-check-input"],["for","dateFormatLong",1,"form-check-label"],["formControlName","documentListItemPerPage",1,"form-select"],["title",f,"formControlName","slimSidebarEnabled"],["title",v,"formControlName","darkModeUseSystem"],["title",C,"formControlName","darkModeEnabled",3,"hidden"],["title",E,"formControlName","darkModeInvertThumbs"],[1,"col","col-md-4"],["formControlName","themeColor",3,"error"],[1,"col-2"],[1,"btn","btn-link","btn-sm","pt-2","ps-0",3,"click","disabled"],["width","1em","height","1em","name","x"],["id","update-checking",1,"mt-3"],[1,"col","d-flex","flex-row","align-items-start"],["title",D,"formControlName","updateCheckingEnabled"],["title",P,"type","button","triggers","mouseenter:mouseleave",1,"btn","btn-sm","btn-link","text-muted","me-auto","p-0","ms-2",3,"ngbPopover","autoClose"],["name","question-circle"],[1,"mt-3"],["title",I,"formControlName","savedViewsWarnOnUnsavedChange"],[1,"col-xl-6","ps-xl-5"],[1,"mt-3","mt-md-0"],["title",k,"hint",R,"formControlName","useNativePdfViewer"],["formControlName","pdfViewerDefaultZoom",1,"form-select"],[1,"small","text-muted","mt-1"],["title",ee,"formControlName","documentEditingRemoveInboxTags"],["title",re,"formControlName","documentEditingOverlayThumbnail"],["title",fe,"formControlName","notesEnabled"],["title",pe,"formControlName","bulkEditConfirmationDialogs"],["title",ue,"formControlName","bulkEditApplyOnClose"],["title",me,"formControlName","searchDbOnly"],["formControlName","searchLink",1,"form-select"],[1,"col-md-5"],["bindLabel","username","formControlName","defaultPermsOwner",3,"items","allowNull"],[1,"form-text","text-muted","text-end","d-block","mt-n2"],[1,"col-3"],[1,"d-block","pt-1"],[4,"pngxIfPermissions"],[1,"form-text","text-muted","text-end","d-block"],["type","view","formControlName","defaultPermsViewUsers"],["type","view","formControlName","defaultPermsViewGroups"],["type","view","formControlName","defaultPermsEditUsers"],["type","view","formControlName","defaultPermsEditGroups"],["title",Ng,"formControlName","notificationsConsumerNewDocument"],["title",Dg,"formControlName","notificationsConsumerSuccess"],["title",Pg,"formControlName","notificationsConsumerFailed"],["title",Ig,"formControlName","notificationsConsumerSuppressOnDashboard","hint",xg]]},template:function(i,o){if(1&i){const s=F();d(0,"pngx-page-header",50)(1,"button",51),T("click",function(){return b(s),S(o.tourService.start())}),w(2,"i-bs",52),A(3,"\xa0"),ae(4),M(5,2),le(),u(),y(6,b1t,10,2),u(),d(7,"form",53),T("ngSubmit",function(){return b(s),S(o.saveSettings())}),d(8,"ul",54,0),T("navChange",function(a){return b(s),S(o.onNavChange(a))}),je("activeIdChange",function(a){return b(s),$e(o.activeNavID,a)||(o.activeNavID=a),S(a)}),d(10,"li",55)(11,"a",56),M(12,3),u(),y(13,D1t,146,32,"ng-template",57),u(),d(14,"li",55)(15,"a",56),M(16,4),u(),y(17,R1t,51,18,"ng-template",57),u(),d(18,"li",55)(19,"a",56),M(20,5),u(),y(21,F1t,8,0,"ng-template",57),u()(),w(22,"div",58),d(23,"button",59),ye(24,"async"),M(25,6),u(),d(26,"button",60),ye(27,"async"),T("click",function(){return b(s),S(o.reset())}),M(28,7),u()()}if(2&i){const s=Ve(9);_(6),N(o.permissionsService.isAdmin()?6:-1),_(),m("formGroup",o.settingsForm),_(),Ze("activeId",o.activeNavID),_(2),m("ngbNavItem",o.SettingsNavIDs.General),_(4),m("ngbNavItem",o.SettingsNavIDs.Permissions),_(4),m("ngbNavItem",o.SettingsNavIDs.Notifications),_(4),m("ngbNavOutlet",s),_(),m("disabled",!1===Ke(24,9,o.isDirty$)),_(3),m("disabled",!1===Ke(27,11,o.isDirty$))}},dependencies:[or,dl,TB,la,tb,nb,fr,Ro,Aa,Xt,Oo,jl,Xl,Ti,j0,R2,jt,Mo,qt,co,To,nc,Z2,g0,tc,j2,X2,q0,K2,Pa,Da,Gt,Jt],encapsulation:2})}}return t})();const zB=(t,n)=>n.id,gb=(t,n)=>({action:t,type:n}),Fm=t=>({tasks:t});function V1t(t,n){if(1&t){const e=F();d(0,"button",48),T("click",function(){return b(e),S(g().dismissTasks())}),w(1,"i-bs",49),A(2),u()}if(2&t){const e=g();m("disabled",0===e.tasksService.total),_(2),Le("\xa0",e.dismissButtonText," ")}}function H1t(t,n){if(1&t){const e=F();d(0,"button",53),T("click",function(){const o=b(e).$implicit;return S(g(2).filterTargetID=o.id)}),A(1),u()}if(2&t){const e=n.$implicit;Ce("active",g(2).filterTargetID===e.id),_(),oe(e.name)}}function $1t(t,n){if(1&t&&(d(0,"div",31)(1,"button",50),A(2),u(),d(3,"div",51),Ue(4,H1t,2,3,"button",52,zB),u()()),2&t){const e=g();_(2),oe(e.filterTargetName),_(2),We(e.filterTargets)}}function G1t(t,n){if(1&t&&(d(0,"span",32),A(1),u()),2&t){const e=g();_(),oe(e.filterTargetName)}}function B1t(t,n){if(1&t){const e=F();d(0,"button",54),T("click",function(){return b(e),S(g().resetFilter())}),w(1,"i-bs",55),u()}}function U1t(t,n){1&t&&(w(0,"div",56),d(1,"div",57),M(2,12),u())}function W1t(t,n){1&t&&(d(0,"th",63),M(1,17),u())}function Z1t(t,n){if(1&t){const e=F();d(0,"div",85),T("click",function(o){b(e);const s=g(2).$implicit;return g(2).expandTask(s),S(o.stopPropagation())}),d(1,"span",84),A(2),ye(3,"slice"),u()()}if(2&t){g();const e=Ve(4),i=g().$implicit;m("ngbPopover",e),_(2),Le("",cd(3,2,i.result,0,50),"\u2026")}}function j1t(t,n){if(1&t&&(d(0,"span",84),A(1),u()),2&t){const e=g(2).$implicit;_(),oe(e.result)}}function X1t(t,n){1&t&&A(0,"\n                  \u2026\n                ")}function K1t(t,n){1&t&&(w(0,"br"),d(1,"em"),A(2,"("),ae(3),M(4,18),le(),A(5,")"),u())}function q1t(t,n){if(1&t&&(d(0,"pre",86),A(1),ye(2,"slice"),y(3,X1t,1,0),u(),y(4,K1t,6,0)),2&t){const e=g(2).$implicit;_(),oe(cd(2,3,e.result,0,300)),_(2),N(e.result.length>300?3:-1),_(),N((null==e.result?null:e.result.length)>300?4:-1)}}function Y1t(t,n){if(1&t&&(d(0,"td",72),y(1,Z1t,4,6,"div",83)(2,j1t,2,1,"span",84)(3,q1t,5,7,"ng-template",null,4,zt),u()),2&t){const e=g().$implicit;_(),N((null==e.result?null:e.result.length)>50?1:-1),_(),N((null==e.result?null:e.result.length)<=50?2:-1)}}function Q1t(t,n){if(1&t){const e=F();d(0,"button",87),T("click",function(o){b(e);const s=g().$implicit;return g(2).dismissTask(s),S(o.stopPropagation())}),w(1,"i-bs",88),A(2,"\xa0"),ae(3),M(4,19),le(),u()}}function J1t(t,n){if(1&t){const e=F();d(0,"button",90),T("click",function(o){b(e);const s=g(2).$implicit;return g(2).dismissAndGo(s),S(o.stopPropagation())}),w(1,"i-bs",91),A(2,"\xa0"),ae(3),M(4,20),le(),u()}}function e0t(t,n){if(1&t&&(ae(0),y(1,J1t,5,0,"button",89),le()),2&t){const e=g().$implicit;_(),N(e.related_document?1:-1)}}function t0t(t,n){if(1&t){const e=F();d(0,"tr",68),T("click",function(o){const s=b(e).$implicit;return g(2).toggleSelected(s,o),S(o.stopPropagation())}),d(1,"td")(2,"div",60)(3,"input",69),T("click",function(o){const s=b(e).$implicit;return g(2).toggleSelected(s,o),S(o.stopPropagation())}),u(),w(4,"label",70),u()(),d(5,"td",71),A(6),u(),d(7,"td",72),A(8),ye(9,"customDate"),u(),y(10,Y1t,5,2,"td",72),d(11,"td",73)(12,"button",74),T("click",function(o){const s=b(e).$implicit;return g(2).expandTask(s),S(o.stopPropagation())}),w(13,"i-bs",75),u()(),d(14,"td",76)(15,"div",77),y(16,Q1t,5,0,"button",78)(17,e0t,2,1,"ng-container",79),u()()(),d(18,"tr")(19,"td",80)(20,"pre",81,3)(22,"div",82),A(23),u()()()()}if(2&t){const e=n.$implicit,i=g(2);_(3),Kt("id","task",e.id,""),m("checked",i.selectedTasks.has(e.id)),_(),Kt("for","task",e.id,""),_(2),oe(e.task_file_name),_(2),oe(Yo(9,14,e.date_created,"short")),_(2),N("started"!==i.activeTab&&"queued"!==i.activeTab?10:-1),_(6),m("pngxIfPermissions",Pe(17,gb,i.PermissionAction.Change,i.PermissionType.PaperlessTask)),_(),m("pngxIfPermissions",Pe(20,gb,i.PermissionAction.View,i.PermissionType.Document)),_(2),Ce("border-0",i.expandedTask!==e.id),_(),m("ngbCollapse",i.expandedTask!==e.id),_(3),oe(e.result)}}function n0t(t,n){if(1&t&&(ae(0),M(1,22),le()),2&t){const e=g(3);_(),bn(e.selectedTasks.size),Sn(1)}}function i0t(t,n){if(1&t&&(d(0,"div",66),ae(1),M(2,21),le(),y(3,n0t,2,1,"ng-container"),u()),2&t){const e=g().tasks,i=g();_(2),bn(e.length)(i.activeTabLocalized)(e.length||0),Sn(2),_(),N(i.selectedTasks.size>0?3:-1)}}function o0t(t,n){if(1&t){const e=F();d(0,"ngb-pagination",92),je("pageChange",function(o){b(e);const s=g(2);return $e(s.page,o)||(s.page=o),S(o)}),u()}if(2&t){const e=g().tasks,i=g();Ze("page",i.page),m("pageSize",i.pageSize)("collectionSize",e.length)}}function s0t(t,n){if(1&t){const e=F();d(0,"table",58)(1,"thead")(2,"tr")(3,"th",59)(4,"div",60)(5,"input",61),je("ngModelChange",function(o){b(e);const s=g();return $e(s.togggleAll,o)||(s.togggleAll=o),S(o)}),T("click",function(o){return b(e),g().toggleAll(o),S(o.stopPropagation())}),u(),w(6,"label",62),u()(),d(7,"th",59),M(8,13),u(),d(9,"th",63),M(10,14),u(),y(11,W1t,2,0,"th",63),d(12,"th",64),M(13,15),u(),d(14,"th",59),M(15,16),u()()(),d(16,"tbody"),Ue(17,t0t,24,23,null,null,zB),ye(19,"slice"),u()(),d(20,"div",65),y(21,i0t,4,4,"div",66)(22,o0t,1,3,"ngb-pagination",67),u()}if(2&t){const e=n.tasks,i=g();_(5),m("disabled",0===i.currentTasks.length),Ze("ngModel",i.togggleAll),_(6),N("started"!==i.activeTab&&"queued"!==i.activeTab?11:-1),_(6),We(cd(19,5,e,(i.page-1)*i.pageSize,i.page*i.pageSize)),_(4),N(e.length>0?21:-1),_(),N(e.length>i.pageSize?22:-1)}}function r0t(t,n){if(1&t&&(Qr(0,8,1),w(1,"span",41),Jr()),2&t){const e=g();_(),bn(e.tasksService.failedFileTasks.length),Sn(0)}}function a0t(t,n){if(1&t&&Nn(0,93),2&t){const e=g();m("ngTemplateOutlet",Ve(23))("ngTemplateOutletContext",Wn(2,Fm,e.currentTasks))}}function l0t(t,n){if(1&t&&(Qr(0,9,1),w(1,"span",44),Jr()),2&t){const e=g();_(),bn(e.tasksService.completedFileTasks.length),Sn(0)}}function c0t(t,n){if(1&t&&Nn(0,93),2&t){const e=g();m("ngTemplateOutlet",Ve(23))("ngTemplateOutletContext",Wn(2,Fm,e.currentTasks))}}function d0t(t,n){if(1&t&&(Qr(0,10,1),w(1,"span",44),Jr()),2&t){const e=g();_(),bn(e.tasksService.startedFileTasks.length),Sn(0)}}function u0t(t,n){if(1&t&&Nn(0,93),2&t){const e=g();m("ngTemplateOutlet",Ve(23))("ngTemplateOutletContext",Wn(2,Fm,e.currentTasks))}}function h0t(t,n){if(1&t&&(Qr(0,11,1),w(1,"span",44),Jr()),2&t){const e=g();_(),bn(e.tasksService.queuedFileTasks.length),Sn(0)}}function _0t(t,n){if(1&t&&Nn(0,93),2&t){const e=g();m("ngTemplateOutlet",Ve(23))("ngTemplateOutletContext",Wn(2,Fm,e.currentTasks))}}var G1=function(t){return t.Queued="queued",t.Started="started",t.Completed="completed",t.Failed="failed",t}(G1||{}),t5=function(t){return t[t.Name=0]="Name",t[t.Result=1]="Result",t}(t5||{});const VB=[{id:t5.Name,name:"Name"},{id:t5.Result,name:"Result"}];let p0t=(()=>{class t extends ns{get filterText(){return this._filterText}set filterText(e){this.filterDebounce.next(e)}get filterTargetName(){return this.filterTargets.find(e=>e.id==this.filterTargetID).name}get filterTargets(){return[G1.Failed,G1.Completed].includes(this.activeTab)?VB:VB.slice(0,1)}get dismissButtonText(){return this.selectedTasks.size>0?"Dismiss selected":"Dismiss all"}constructor(e,i,o){super(),this.tasksService=e,this.modalService=i,this.router=o,this.selectedTasks=new Set,this.togggleAll=!1,this.pageSize=25,this.page=1,this.autoRefreshEnabled=!0,this._filterText="",this.filterTargetID=t5.Name,this.filterDebounce=new xe}ngOnInit(){this.tasksService.reload(),hd(5e3,5e3).pipe(li(()=>this.autoRefreshEnabled),Te(this.unsubscribeNotifier)).subscribe(()=>{this.tasksService.reload()}),this.filterDebounce.pipe(Te(this.unsubscribeNotifier),Pr(100),h1(),li(e=>!e.length||e.length>2)).subscribe(e=>this._filterText=e)}ngOnDestroy(){super.ngOnDestroy(),this.tasksService.cancelPending()}dismissTask(e){this.dismissTasks(e)}dismissTasks(e=void 0){let i=e?new Set([e.id]):new Set(this.selectedTasks.values());if(!e&&0==i.size&&(i=new Set(this.tasksService.allFileTasks.map(o=>o.id))),i.size>1){let o=this.modalService.open(Ui,{backdrop:"static"});o.componentInstance.title="Confirm Dismiss All",o.componentInstance.messageBold="Dismiss all " + i.size + " tasks?",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="Dismiss",o.componentInstance.confirmClicked.pipe(ut()).subscribe(()=>{o.componentInstance.buttonsEnabled=!1,o.close(),this.tasksService.dismissTasks(i),this.clearSelection()})}else this.tasksService.dismissTasks(i),this.clearSelection()}dismissAndGo(e){this.dismissTask(e),this.router.navigate(["documents",e.related_document])}expandTask(e){this.expandedTask=this.expandedTask==e.id?void 0:e.id}toggleSelected(e){this.selectedTasks.has(e.id)?this.selectedTasks.delete(e.id):this.selectedTasks.add(e.id)}get currentTasks(){let e=[];switch(this.activeTab){case G1.Queued:e=this.tasksService.queuedFileTasks;break;case G1.Started:e=this.tasksService.startedFileTasks;break;case G1.Completed:e=this.tasksService.completedFileTasks;break;case G1.Failed:e=this.tasksService.failedFileTasks}return this._filterText.length&&(e=e.filter(i=>this.filterTargetID==t5.Name?i.task_file_name.toLowerCase().includes(this._filterText.toLowerCase()):this.filterTargetID==t5.Result?i.result.toLowerCase().includes(this._filterText.toLowerCase()):void 0)),e}toggleAll(e){e.target.checked?this.selectedTasks=new Set(this.currentTasks.map(i=>i.id)):this.clearSelection()}clearSelection(){this.togggleAll=!1,this.selectedTasks.clear()}duringTabChange(){this.page=1}beforeTabChange(){this.resetFilter(),this.filterTargetID=t5.Name}get activeTabLocalized(){switch(this.activeTab){case G1.Queued:return "queued";case G1.Started:return "started";case G1.Completed:return "completed";case G1.Failed:return "failed"}}resetFilter(){this._filterText=""}filterInputKeyup(e){"Enter"==e.key?this._filterText=e.target.value:"Escape"===e.key&&this.resetFilter()}static{this.\u0275fac=function(i){return new(i||t)(x(wm),x(Do),x(Lo))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-tasks"]],features:[st],decls:47,vars:16,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee;return e="File Tasks",i="File Tasks shows you documents that have been consumed, are waiting to be, or may have failed during the process.",o="Clear selection",s="Filter by",r="Auto refresh",a="Failed" + "\ufffd*29:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*29:1\ufffd" + "",l="Complete" + "\ufffd*34:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*34:1\ufffd" + "",c="Started" + "\ufffd*39:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*39:1\ufffd" + "",h="Queued" + "\ufffd*44:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*44:1\ufffd" + "",p="Loading...",f="Name",v="Created",C="Info",E="Actions",D="Results",P="click for full output",I="Dismiss",k="Open Document",R="{VAR_PLURAL, plural, =1 {One {INTERPOLATION} task} other {{INTERPOLATION_1} total {INTERPOLATION} tasks}}",R=ba(R,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),ee="\xA0(" + "\ufffd0\ufffd" + " selected)",[["filterInput",""],["tasksTemplate",""],["nav","ngbNav"],["collapse","ngbCollapse"],["resultPopover",""],o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,["title",e,"info",i],[1,"btn-toolbar","col","col-md-auto","align-items-center","gap-2"],[1,"btn","btn-sm","btn-outline-secondary","me-2",3,"click","hidden"],["name","x"],["class","btn btn-sm btn-outline-primary me-2",3,"disabled","click",4,"pngxIfPermissions"],[1,"form-inline","d-flex","align-items-center"],[1,"input-group","input-group-sm","flex-fill","w-auto","flex-nowrap"],[1,"input-group-text","text-muted"],["ngbDropdown",""],[1,"input-group-text"],[1,"btn","btn-link","btn-sm","px-2","position-absolute","top-0","end-0","z-10"],["type","text",1,"form-control","form-control-sm",3,"keyup","ngModelChange","ngModel"],[1,"form-check","form-switch","mb-0","ms-2"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModelChange","ngModel"],["for","autoRefreshSwitch",1,"form-check-label"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","hidden","navChange","activeId"],["ngbNavItem","failed"],["ngbNavLink",""],[1,"badge","bg-danger","ms-2"],["ngbNavContent",""],["ngbNavItem","completed"],[1,"badge","bg-secondary","ms-2"],["ngbNavItem","started"],["ngbNavItem","queued"],[3,"ngbNavOutlet"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click","disabled"],["name","check2-all"],["ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["ngbDropdownMenu","",1,"dropdown-menu","shadow"],["ngbDropdownItem","",3,"active"],["ngbDropdownItem","",3,"click"],[1,"btn","btn-link","btn-sm","px-2","position-absolute","top-0","end-0","z-10",3,"click"],["width","1em","height","1em","name","x"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"],[1,"table","table-striped","align-middle","border","shadow-sm"],["scope","col"],[1,"form-check"],["type","checkbox","id","all-tasks",1,"form-check-input",3,"ngModelChange","click","disabled","ngModel"],["for","all-tasks",1,"form-check-label"],["scope","col",1,"d-none","d-lg-table-cell"],["scope","col",1,"d-table-cell","d-lg-none"],[1,"pb-3","d-sm-flex","justify-content-between","align-items-center"],[1,"pb-2","pb-sm-0"],["maxSize","8","size","sm",3,"page","pageSize","collectionSize"],[3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],[1,"overflow-auto","name-col"],[1,"d-none","d-lg-table-cell"],[1,"d-lg-none"],[1,"btn","btn-link",3,"click"],["width","1.2em","height","1.2em","name","info-circle"],["scope","row"],["role","group",1,"btn-group"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],[4,"pngxIfPermissions"],["colspan","5",1,"p-0"],[1,"small","mb-0",3,"ngbCollapse"],[1,"small","p-1","p-lg-3","ms-lg-3"],["popoverClass","shadow small mobile","triggers","mouseenter:mouseleave","container","body",1,"result",3,"ngbPopover"],[1,"small","d-none","d-md-inline-block","font-monospace","text-muted"],["popoverClass","shadow small mobile","triggers","mouseenter:mouseleave","container","body",1,"result",3,"click","ngbPopover"],[1,"small","mb-0"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","check"],[1,"btn","btn-sm","btn-outline-primary"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","file-text"],["maxSize","8","size","sm",3,"pageChange","page","pageSize","collectionSize"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]]},template:function(i,o){if(1&i){const s=F();d(0,"pngx-page-header",23)(1,"div",24)(2,"button",25),T("click",function(){return b(s),S(o.clearSelection())}),w(3,"i-bs",26),A(4,"\xa0"),ae(5),M(6,5),le(),u(),y(7,V1t,3,2,"button",27),d(8,"div",28)(9,"div",29)(10,"span",30),M(11,6),u(),y(12,$1t,6,1,"div",31)(13,G1t,2,1,"span",32)(14,B1t,2,0,"button",33),d(15,"input",34,0),T("keyup",function(a){return b(s),S(o.filterInputKeyup(a))}),je("ngModelChange",function(a){return b(s),$e(o.filterText,a)||(o.filterText=a),S(a)}),u()()(),d(17,"div",35)(18,"input",36),je("ngModelChange",function(a){return b(s),$e(o.autoRefreshEnabled,a)||(o.autoRefreshEnabled=a),S(a)}),u(),d(19,"label",37),M(20,7),u()()()(),y(21,U1t,3,0)(22,s0t,23,9,"ng-template",null,1,zt),d(24,"ul",38,2),je("activeIdChange",function(a){return b(s),$e(o.activeTab,a)||(o.activeTab=a),S(a)}),T("hidden",function(){return b(s),S(o.duringTabChange())})("navChange",function(){return b(s),S(o.beforeTabChange())}),d(26,"li",39)(27,"a",40),Qr(28,8),y(29,r0t,2,1,"span",41),Jr(),u(),y(30,a0t,1,4,"ng-template",42),u(),d(31,"li",43)(32,"a",40),Qr(33,9),y(34,l0t,2,1,"span",44),Jr(),u(),y(35,c0t,1,4,"ng-template",42),u(),d(36,"li",45)(37,"a",40),Qr(38,10),y(39,d0t,2,1,"span",44),Jr(),u(),y(40,u0t,1,4,"ng-template",42),u(),d(41,"li",46)(42,"a",40),Qr(43,11),y(44,h0t,2,1,"span",44),Jr(),u(),y(45,_0t,1,4,"ng-template",42),u()(),w(46,"div",47)}if(2&i){const s=Ve(25);_(2),m("hidden",0===o.selectedTasks.size),_(5),m("pngxIfPermissions",Pe(13,gb,o.PermissionAction.Change,o.PermissionType.PaperlessTask)),_(5),N(o.filterTargets.length>1?12:13),_(2),N(null!=o.filterText&&o.filterText.length?14:-1),_(),Ze("ngModel",o.filterText),_(3),Ze("ngModel",o.autoRefreshEnabled),_(3),N(!o.tasksService.completedFileTasks&&o.tasksService.loading?21:-1),_(3),Ze("activeId",o.activeTab),_(5),N(o.tasksService.failedFileTasks.length>0?29:-1),_(5),N(o.tasksService.completedFileTasks.length>0?34:-1),_(5),N(o.tasksService.startedFileTasks.length>0?39:-1),_(5),N(o.tasksService.queuedFileTasks.length>0?44:-1),_(2),m("ngbNavOutlet",s)}},dependencies:[or,Ro,fr,uI,Xt,Ti,Zo,jt,Rn,qt,Uo,J_,X_,No,bo,Jo,yo,Vs,Rr,nc,Z2,g0,tc,j2,X2,q0,K2,f0,ic,Pa,Da,Gt,Jt],styles:[".popover{max-width:350px}  .popover pre{white-space:pre-wrap;word-break:break-word}pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word}.result[_ngcontent-%COMP%]{cursor:pointer}.btn[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:.8rem;height:.8rem}@media (max-width: 575.98px){.name-col[_ngcontent-%COMP%]{max-width:150px}}.input-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0}.z-10[_ngcontent-%COMP%]{z-index:10}"]})}}return t})();const g0t=["popover"],f0t=["pdfViewer"],m0t=["*"];function v0t(t,n){1&t&&(d(0,"div",6)(1,"p",7),M(2,3),u()())}function C0t(t,n){if(1&t&&(d(0,"div",8),A(1),u()),2&t){const e=g(4);_(),oe(e.previewText)}}function M0t(t,n){if(1&t&&(w(0,"object",10),ye(1,"safeUrl")),2&t){const e=g(4);Ce("p-2",!e.isPdf),m("data",Ke(1,3,e.previewURL),vh)}}function T0t(t,n){1&t&&y(0,C0t,2,1,"div",8)(1,M0t,2,5,"object",9),2&t&&N(g(3).previewText?0:1)}function w0t(t,n){1&t&&(d(0,"div",6),w(1,"i-bs",12),u())}function b0t(t,n){if(1&t){const e=F();d(0,"pdf-viewer",13,2),T("text-layer-rendered",function(){return b(e),S(g(4).onPageRendered())})("error",function(o){return b(e),S(g(4).onError(o))}),u()}2&t&&m("src",g(4).previewURL)("original-size",!1)("show-borders",!1)("show-all",!0)}function S0t(t,n){if(1&t&&y(0,w0t,2,0,"div",6)(1,b0t,2,4,"pdf-viewer",11),2&t){const e=g(3);N(e.requiresPassword?0:-1),_(),N(e.requiresPassword?-1:1)}}function E0t(t,n){1&t&&y(0,T0t,2,1)(1,S0t,2,2),2&t&&N(g(2).renderAsObject?0:1)}function A0t(t,n){if(1&t){const e=F();d(0,"div",5),T("mouseenter",function(){return b(e),S(g().mouseEnterPreview())})("mouseleave",function(){b(e);const o=g();return o.mouseLeavePreview(),S(o.close())}),y(1,v0t,3,0,"div",6)(2,E0t,2,1),u()}if(2&t){const e=g();_(),N(e.error?1:2)}}let fg=(()=>{class t{set document(e){this._document=e,this.init()}get document(){return this._document}get renderAsObject(){return this.isPdf&&this.useNativePdfViewer||!this.isPdf}get previewURL(){return this.documentService.getPreviewUrl(this.document.id)}get useNativePdfViewer(){return this.settingsService.get(Me.USE_NATIVE_PDF_VIEWER)}get isPdf(){return this.document?.archived_file_name?.length>0||this.document?.mime_type?.includes("pdf")}constructor(e,i,o){this.settingsService=e,this.documentService=i,this.http=o,this.linkClasses="btn btn-sm btn-outline-secondary",this.linkTarget="_blank",this.linkTitle="Open preview",this.unsubscribeNotifier=new xe,this.error=!1,this.requiresPassword=!1,this.mouseOnPreview=!1,this.popoverClass="shadow popover-preview"}ngOnDestroy(){this.unsubscribeNotifier.next(this)}init(){this.document.mime_type?.includes("text")&&this.http.get(this.previewURL,{responseType:"text"}).pipe(ut(),Te(this.unsubscribeNotifier)).subscribe({next:e=>{this.previewText=e.toString()},error:e=>{this.error=e}})}onError(e){"PasswordException"==e.name?this.requiresPassword=!0:this.error=!0}onPageRendered(){this.documentService.searchQuery&&this.pdfViewer.eventBus.dispatch("find",{query:this.documentService.searchQuery,caseSensitive:!1,highlightAll:!0,phraseSearch:!0})}get previewUrl(){return this.documentService.getPreviewUrl(this.document.id)}mouseEnterPreview(){this.mouseOnPreview=!0,this.popover.isOpen()||(this.popover.open(),this.popoverClass="shadow popover-preview pe-none opacity-0",setTimeout(()=>{this.mouseOnPreview?this.popoverClass=this.popoverClass.replace("pe-none opacity-0",""):this.popover.close(!0)},600))}mouseLeavePreview(){this.mouseOnPreview=!1}close(e=!1){setTimeout(()=>{this.mouseOnPreview||this.popover.close()},e?0:300)}static{this.\u0275fac=function(i){return new(i||t)(x(En),x(So),x(Ji))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-preview-popup"]],viewQuery:function(i,o){if(1&i&&(dn(g0t,5),dn(f0t,5)),2&i){let s;pt(s=gt())&&(o.popover=s.first),pt(s=gt())&&(o.pdfViewer=s.first)}},inputs:{document:"document",link:"link",linkClasses:"linkClasses",linkTarget:"linkTarget",linkTitle:"linkTitle"},ngContentSelectors:m0t,decls:6,vars:11,consts:()=>{let e;return e="Error loading preview",[["popover","ngbPopover"],["previewContent",""],["pdfViewer",""],e,["container","body","autoClose","true",3,"mouseenter","mouseleave","href","target","title","ngbPopover","popoverTitle","popoverClass"],[1,"preview-popup-container",3,"mouseenter","mouseleave"],[1,"w-100","h-100","position-relative"],[1,"fst-italic","position-absolute","top-50","start-50","translate-middle"],["width","100%",1,"bg-light","p-3","overflow-auto","whitespace-preserve"],["width","100%",1,"bg-light",3,"data","p-2"],["width","100%",1,"bg-light",3,"data"],[3,"src","original-size","show-borders","show-all"],["width","2em","height","2em","name","file-earmark-lock",1,"position-absolute","top-50","start-50","translate-middle"],[3,"text-layer-rendered","error","src","original-size","show-borders","show-all"]]},template:function(i,o){if(1&i){const s=F();Ys(),d(0,"a",4,0),ye(2,"documentTitle"),T("mouseenter",function(){return b(s),S(o.mouseEnterPreview())})("mouseleave",function(){return b(s),S(o.mouseLeavePreview())}),ks(3),u(),y(4,A0t,3,1,"ng-template",null,1,zt)}if(2&i){let s;const r=Ve(5);lo(o.linkClasses),m("href",null!==(s=o.link)&&void 0!==s?s:o.previewUrl,cs)("target",o.linkTarget)("title",o.linkTitle)("ngbPopover",r)("popoverTitle",Ke(2,9,o.document.title))("popoverClass",o.popoverClass)}},dependencies:[Pa,Da,wc,Lp,A4,SB,Gt,Jt],styles:[".preview-popup-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:30rem!important;height:22rem!important}  .popover.popover-preview{max-width:32rem}"]})}}return t})(),O0t=(()=>{class t{constructor(e){this.http=e}getTrash(e=1){const i=(new na).set("page",e.toString());return this.http.get(`${gi.apiBaseUrl}trash/`,{params:i})}emptyTrash(e){const i={action:"empty"};return e?.length&&(i.documents=e),this.http.post(`${gi.apiBaseUrl}trash/`,i)}restoreDocuments(e){return this.http.post(`${gi.apiBaseUrl}trash/`,{action:"restore",documents:e})}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const y0t=(t,n)=>n.id;function N0t(t,n){1&t&&(d(0,"tr")(1,"td",34),w(2,"div",35),ae(3),M(4,8),le(),u()())}function D0t(t,n){if(1&t){const e=F();d(0,"tr",36),T("click",function(o){const s=b(e).$implicit;return g().toggleSelected(s),S(o.stopPropagation())})("mouseleave",function(){return b(e),S(Ve(8).close())}),d(1,"td")(2,"div",27)(3,"input",37),T("click",function(o){const s=b(e).$implicit;return g().toggleSelected(s),S(o.stopPropagation())}),u(),w(4,"label",38),u()(),d(5,"td",39),A(6),d(7,"pngx-preview-popup",40,0),w(9,"i-bs",41),u()(),d(10,"td",42),M(11,9),u(),d(12,"td",39)(13,"div",43)(14,"div",44)(15,"button",45),T("click",function(o){return b(e),S(o.stopPropagation())}),w(16,"i-bs",46),u(),d(17,"div",47)(18,"button",48),T("click",function(){const o=b(e).$implicit;return S(g().restore(o))}),M(19,10),u(),d(20,"button",48),T("click",function(){const o=b(e).$implicit;return S(g().delete(o))}),M(21,11),u()()()(),d(22,"div",49)(23,"button",50),T("click",function(o){const s=b(e).$implicit;return g().restore(s),S(o.stopPropagation())}),w(24,"i-bs",51),A(25,"\xa0"),ae(26),M(27,12),le(),u(),d(28,"button",52),T("click",function(o){const s=b(e).$implicit;return g().delete(s),S(o.stopPropagation())}),w(29,"i-bs",53),A(30,"\xa0"),ae(31),M(32,13),le(),u()()()()}if(2&t){const e=n.$implicit,i=g();Ce("show",i.show),_(3),ai("id",e.id),m("checked",i.selectedDocuments.has(e.id)),_(),ai("for",e.id),_(2),Le(" ",e.title," "),_(),m("document",e),_(4),bn(i.getDaysRemaining(e)),Sn(11)}}function P0t(t,n){1&t&&A(0),2&t&&Le(" \xa0(",g(2).selectedDocuments.size," selected) ")}function I0t(t,n){if(1&t){const e=F();d(0,"ngb-pagination",55),je("pageChange",function(o){b(e);const s=g(2);return $e(s.page,o)||(s.page=o),S(o)}),T("pageChange",function(){return b(e),S(g(2).reload())}),u()}if(2&t){const e=g(2);m("pageSize",25)("collectionSize",e.totalDocuments),Ze("page",e.page),m("maxSize",5)}}function x0t(t,n){if(1&t&&(d(0,"div",33)(1,"div"),ae(2),M(3,14),le(),y(4,P0t,1,1),u(),y(5,I0t,1,4,"ngb-pagination",54),u()),2&t){const e=g();_(3),bn(e.totalDocuments)(e.totalDocuments||0),Sn(3),_(),N(e.selectedDocuments.size>0?4:-1),_(),N(e.documentsInTrash.length>20?5:-1)}}let L0t=(()=>{class t extends ns{constructor(e,i,o,s,r){super(),this.trashService=e,this.toastService=i,this.modalService=o,this.settingsService=s,this.router=r,this.documentsInTrash=[],this.selectedDocuments=new Set,this.allToggled=!1,this.page=1,this.reload()}reload(){this.loading=!0,this.trashService.getTrash(this.page).pipe(un(e=>{this.documentsInTrash=e.results,this.totalDocuments=e.count,this.selectedDocuments.clear(),this.loading=!1}),I1(100)).subscribe(()=>{this.show=!0})}delete(e){let i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Confirm delete",i.componentInstance.messageBold="This operation will permanently delete this document.",i.componentInstance.message="This operation cannot be undone.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="Delete",i.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.trashService.emptyTrash([e.id]).subscribe({next:()=>{this.toastService.showInfo("Document \"" + e.title + "\" deleted"),i.close(),this.reload()},error:o=>{this.toastService.showError("Error deleting document \"" + e.title + "\"",o),i.close()}})})}emptyTrash(e){let i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Confirm delete",i.componentInstance.messageBold=e?"This operation will permanently delete the selected documents.":"This operation will permanently delete all documents in the trash.",i.componentInstance.message="This operation cannot be undone.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="Delete",i.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.trashService.emptyTrash(e?Array.from(e):null).subscribe({next:()=>{this.toastService.showInfo("Document(s) deleted"),this.allToggled=!1,i.close(),this.reload()},error:o=>{this.toastService.showError("Error deleting document(s)",o),i.close()}})})}restore(e){this.trashService.restoreDocuments([e.id]).subscribe({next:()=>{this.toastService.show({content:"Document \"" + e.title + "\" restored",delay:5e3,actionName:"Open document",action:()=>{this.router.navigate(["documents",e.id])}}),this.reload()},error:i=>{this.toastService.showError("Error restoring document \"" + e.title + "\"",i)}})}restoreAll(e=null){this.trashService.restoreDocuments(e?Array.from(e):null).subscribe({next:()=>{this.toastService.showInfo("Document(s) restored"),this.allToggled=!1,this.reload()},error:i=>{this.toastService.showError("Error restoring document(s)",i)}})}toggleAll(e){e.target.checked?this.selectedDocuments=new Set(this.documentsInTrash.map(i=>i.id)):this.clearSelection()}toggleSelected(e){this.selectedDocuments.has(e.id)?this.selectedDocuments.delete(e.id):this.selectedDocuments.add(e.id)}clearSelection(){this.allToggled=!1,this.selectedDocuments.clear()}getDaysRemaining(e){const i=this.settingsService.get(Me.EMPTY_TRASH_DELAY),o=(new Date).getTime()-new Date(e.deleted_at).getTime();return i-Math.ceil(o/864e5)}static{this.\u0275fac=function(i){return new(i||t)(x(O0t),x(Fi),x(Do),x(En),x(Lo))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-trash"]],features:[st],decls:42,vars:12,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P;return e="Trash",i="Manage trashed documents that are pending deletion.",o="Clear selection",s="Restore selected",r="Delete selected",a="Empty trash",l="Name",c="Remaining",h="Actions",p="Loading...",f="" + "\ufffd0\ufffd" + " days",v="Restore",C="Delete",E="Restore",D="Delete",P="{VAR_PLURAL, plural, =1 {One document in trash} other {{INTERPOLATION} total documents in trash}}",P=ba(P,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[["popupPreview",""],o,s,r,a,l,c,h,p,f,v,C,E,D,P,["title",e,"info",i,"infoLink","usage/#document-trash"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","arrow-counterclockwise"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],[1,"row","mb-3"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col",1,"fw-normal"],["scope","col",1,"fw-normal","d-none","d-sm-table-cell"],[1,"data-row","fade",3,"show"],[1,"d-flex","mb-2"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"data-row","fade",3,"click","mouseleave"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row"],["linkClasses","btn btn-sm btn-link",3,"document"],["name","eye"],["scope","row",1,"d-none","d-sm-table-cell"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click"],[1,"btn-group","d-none","d-sm-block"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","arrow-counterclockwise"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1em","height","1em","name","trash"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"]]},template:function(i,o){1&i&&(d(0,"pngx-page-header",15)(1,"button",16),T("click",function(){return o.clearSelection()}),w(2,"i-bs",17),A(3,"\xa0"),ae(4),M(5,1),le(),u(),d(6,"button",18),T("click",function(){return o.restoreAll(o.selectedDocuments)}),w(7,"i-bs",19),A(8,"\xa0"),ae(9),M(10,2),le(),u(),d(11,"button",20),T("click",function(){return o.emptyTrash(o.selectedDocuments)}),w(12,"i-bs",21),A(13,"\xa0"),ae(14),M(15,3),le(),u(),d(16,"button",20),T("click",function(){return o.emptyTrash()}),w(17,"i-bs",21),A(18,"\xa0"),ae(19),M(20,4),le(),u()(),d(21,"div",22)(22,"ngb-pagination",23),je("pageChange",function(r){return $e(o.page,r)||(o.page=r),r}),T("pageChange",function(){return o.reload()}),u()(),d(23,"div",24)(24,"table",25)(25,"thead")(26,"tr")(27,"th",26)(28,"div",27)(29,"input",28),je("ngModelChange",function(r){return $e(o.allToggled,r)||(o.allToggled=r),r}),T("click",function(r){return o.toggleAll(r),r.stopPropagation()}),u(),w(30,"label",29),u()(),d(31,"th",30),M(32,5),u(),d(33,"th",31),M(34,6),u(),d(35,"th",30),M(36,7),u()()(),d(37,"tbody"),y(38,N0t,5,0,"tr"),Ue(39,D0t,33,8,"tr",32,y0t),u()()(),y(41,x0t,6,4,"div",33)),2&i&&(_(),m("hidden",0===o.selectedDocuments.size),_(5),m("disabled",0===o.selectedDocuments.size),_(5),m("disabled",0===o.selectedDocuments.size),_(5),m("disabled",0===o.documentsInTrash.length),_(6),m("pageSize",25)("collectionSize",o.totalDocuments),Ze("page",o.page),m("maxSize",5),_(7),Ze("ngModel",o.allToggled),m("disabled",0===o.documentsInTrash.length),_(9),N(o.loading?38:-1),_(),We(o.documentsInTrash),_(2),N(o.loading?-1:41))},dependencies:[or,fg,Xt,Zo,jt,Rn,qt,No,bo,Jo,yo,Vs,Rr,f0,ic,Gt,Jt],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}}return t})();function R0t(t,n){1&t&&(d(0,"p"),M(1,7),u(),d(2,"a",20),M(3,8),u(),w(4,"i-bs",21))}function F0t(t,n){if(1&t&&(d(0,"div",25),w(1,"input",26),d(2,"label",24),A(3),u()()),2&t){const e=n.$implicit,i=g().$implicit,o=g();m("ngbPopover",o.inheritedWarning)("disablePopover",!o.isInherited(i,e.key)),_(),a1("id","",i,"_",e.key,""),ai("formControlName",e.key),_(),a1("for","",i,"_",e.key,""),_(),oe(e.key)}}function k0t(t,n){if(1&t){const e=F();d(0,"li",18)(1,"div",16),A(2),u(),d(3,"div",22)(4,"input",23),T("change",function(o){const s=b(e).$implicit;return S(g().toggleAll(o,s))}),u(),d(5,"label",24),M(6,9),u()(),Ue(7,F0t,4,10,"div",25,Ht),ye(9,"keyvalue"),u()}if(2&t){const e=n.$implicit,i=g();m("formGroupName",e),_(2),Le("",e,":"),_(),m("ngbPopover",i.inheritedWarning)("disablePopover",!i.isInherited(e)),_(),Kt("id","",e,"_all"),m("checked",i.typesWithAllActions.has(e)||i.isInherited(e)),Un("disabled",!(!i.disabled&&!i.isInherited(e))||null),_(),Kt("for","",e,"_all"),_(2),We(Ke(9,10,i.PermissionAction))}}function z0t(t,n){if(1&t&&(d(0,"div",19),A(1),u()),2&t){const e=g();_(),oe(e.error)}}let HB=(()=>{class t extends ca{set inheritedPermissions(e){const i=e?.length?e.map(o=>o.replace(/^\w+\./g,"")):[];this._inheritedPermissions!==i&&(this._inheritedPermissions=i,this.writeValue(this.permissions)),this.updateDisabledStates()}constructor(e,i){super(),this.permissionsService=e,this.settingsService=i,this.title="Permissions",this.form=new Kn({}),this.typesWithAllActions=new Set,this._inheritedPermissions=[],this.inheritedWarning="Inherited from group",this.allowedTypes=Object.keys(Ct),this.onChange=o=>{},this.onTouched=()=>{},this.disabled=!1,this.settingsService.get(Me.AUDITLOG_ENABLED)||this.allowedTypes.splice(this.allowedTypes.indexOf("History"),1),this.allowedTypes.forEach(o=>{const s=new Kn({});for(const r in mt)s.addControl(r,new de(null));this.form.addControl(o,s)})}writeValue(e){this.permissions!==e&&(this.permissions=e??[],this._inheritedPermissions.concat(this.permissions).forEach(o=>{const{actionKey:s,typeKey:r}=this.permissionsService.getPermissionKeys(o);s&&r&&this.form.get(r)?.get(s)&&this.form.get(r).get(s).patchValue(!0,{emitEvent:!1})}),this.allowedTypes.forEach(o=>{Object.values(this.form.get(o).value).every(s=>1==s)?this.typesWithAllActions.add(o):this.typesWithAllActions.delete(o)}),this.updateDisabledStates())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}ngOnInit(){this.form.valueChanges.subscribe(e=>{let i=[];Object.entries(e).forEach(([o,s])=>{const r=Object.entries(s).filter(([a,l])=>1==l);r.forEach(([a,l])=>{i.push(Ct[o].replace("%s",mt[a]))}),r.length==Object.entries(s).length?this.typesWithAllActions.add(o):this.typesWithAllActions.delete(o)}),this.onChange(i.filter(o=>!this._inheritedPermissions.includes(o)))})}toggleAll(e,i){const o=this.form.get(i);e.target.checked?(Object.keys(mt).forEach(s=>{o.get(s).patchValue(!0)}),this.typesWithAllActions.add(i)):(Object.keys(mt).forEach(s=>{o.get(s).patchValue(!1)}),this.typesWithAllActions.delete(i))}isInherited(e,i=null){return 0!=this._inheritedPermissions.length&&(i?this._inheritedPermissions.includes(this.permissionsService.getPermissionCode(mt[i],Ct[e])):Object.values(mt).every(o=>this._inheritedPermissions.includes(this.permissionsService.getPermissionCode(o,Ct[e]))))}updateDisabledStates(){this.allowedTypes.forEach(e=>{const i=this.form.get(e);let o;for(const s in mt)o=i.get(s),this.isInherited(e,s)||this.disabled?o.disable():o.enable()})}static{this.\u0275fac=function(i){return new(i||t)(x(ti),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-permissions-select"]],inputs:{title:"title",error:"error",inheritedPermissions:"inheritedPermissions"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:24,vars:7,consts:()=>{let e,i,o,s,r,a,l,c,h,p;return e="What's this?",i="Type",o="All",s="Add",r="Change",a="Delete",l="View",c="Global permissions define what areas of the app and API endpoints users can access.",h="Read more",p="All",[["infoPopover",""],i,o,s,r,a,l,c,h,p,[3,"formGroup"],[1,"form-label"],["title",e,"type","button","container","body",1,"btn","btn-sm","btn-link","text-muted","me-auto","p-0","p-md-2",3,"ngbPopover","autoClose"],["name","question-circle"],[1,"list-group"],[1,"list-group-item","d-flex"],[1,"col-3"],[1,"col"],[1,"list-group-item","d-flex",3,"formGroupName"],[1,"invalid-feedback","d-block"],["href","https://docs.paperless-ngx.com/usage/#global-permissions","target","_blank","referrerpolicy","noopener noreferrer"],["width",".8em","height",".8em","name","box-arrow-up-right",1,"ms-1"],["placement","left","triggers","mouseenter:mouseleave",1,"col","form-check","form-check-inline","form-switch",3,"ngbPopover","disablePopover"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label","visually-hidden",3,"for"],["placement","left","triggers","mouseenter:mouseleave",1,"col","form-check","form-check-inline",3,"ngbPopover","disablePopover"],["type","checkbox",1,"form-check-input",3,"id","formControlName"]]},template:function(i,o){if(1&i&&(d(0,"form",10)(1,"label",11),A(2),d(3,"button",12),w(4,"i-bs",13),u(),y(5,R0t,5,0,"ng-template",null,0,zt),u(),d(7,"ul",14)(8,"li",15)(9,"div",16),M(10,1),u(),d(11,"div",17),M(12,2),u(),d(13,"div",17),M(14,3),u(),d(15,"div",17),M(16,4),u(),d(17,"div",17),M(18,5),u(),d(19,"div",17),M(20,6),u()(),Ue(21,k0t,10,12,"li",18,Ht),y(23,z0t,2,1,"div",19),u()()),2&i){const s=Ve(6);Ce("opacity-50",o.disabled),m("formGroup",o.form),_(2),Le(" ",o.title," "),_(),m("ngbPopover",s)("autoClose",!0),_(18),We(o.allowedTypes),_(2),N(o.error?23:-1)}},dependencies:[WC,Gt,Jt,Pa,Da,Xt,Oo,Zo,jt,Mo,qt,co,To,F2],encapsulation:2})}}return t})();function V0t(t,n){if(1&t&&(d(0,"span",5),A(1),u()),2&t){const e=g();_(),Le("ID: ",e.object.id,"")}}let $B=(()=>{class t extends A0{constructor(e,i,o,s){super(e,i,o,s)}getCreateTitle(){return "Create new user group"}getEditTitle(){return "Edit user group"}getForm(){return new Kn({name:new de(""),permissions:new de(null)})}static{this.\u0275fac=function(i){return new(i||t)(x(ag),x(io),x(gs),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-group-edit-dialog"]],features:[st],decls:16,vars:8,consts:()=>{let e,i,o,s;return e="Name",i="Permissions",o="Cancel",s="Save",[o,s,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","permissions",3,"error"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"]]},template:function(i,o){1&i&&(d(0,"form",2),T("ngSubmit",function(){return o.save()}),d(1,"div",3)(2,"h4",4),A(3),u(),y(4,V0t,2,1,"span",5),d(5,"button",6),T("click",function(){return o.cancel()}),u()(),d(6,"div",7)(7,"div",8)(8,"div",9),w(9,"pngx-input-text",10)(10,"pngx-permissions-select",11),u()()(),d(11,"div",12)(12,"button",13),T("click",function(){return o.cancel()}),M(13,0),u(),d(14,"button",14),M(15,1),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),N(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(4),m("error",null==o.error?null:o.error.name),_(),m("error",null==o.error?null:o.error.permissions),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[HB,gr,Xt,Oo,jt,Mo,qt,co,To],encapsulation:2})}}return t})();function H0t(t,n){if(1&t){const e=F();d(0,"button",8),T("click",function(){return b(e),S(g().toggleVisibility())}),w(1,"i-bs",9),u()}if(2&t){const e=g();m("disabled",e.disabled||e.disableRevealToggle)}}function $0t(t,n){1&t&&(w(0,"small",7),ye(1,"safeHtml")),2&t&&m("innerHTML",Ke(1,1,g().hint),vo)}let fb=(()=>{class t extends Gs{constructor(){super(...arguments),this.showReveal=!1,this.textVisible=!1}toggleVisibility(){this.textVisible=!this.textVisible}onFocus(){0===this.value?.replace(/\*/g,"").length&&this.writeValue("")}onFocusOut(){0===this.value?.length&&(this.writeValue("**********"),this.onChange(this.value))}get disableRevealToggle(){return 0===this.value?.replace(/\*/g,"").length}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-password"]],inputs:{showReveal:"showReveal",autocomplete:"autocomplete"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:10,vars:14,consts:()=>{let e;return e="Show password",[["inputField",""],[1,"mb-3"],[1,"form-label",3,"for"],[1,"input-group"],[1,"form-control",3,"ngModelChange","focus","focusout","change","type","id","ngModel","disabled","autocomplete"],["type","button","title",e,1,"btn","btn-outline-secondary",3,"disabled"],[1,"invalid-feedback"],[1,"form-text","text-muted",3,"innerHTML"],["type","button","title",e,1,"btn","btn-outline-secondary",3,"click","disabled"],["name","eye"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",1)(1,"label",2),A(2),u(),d(3,"div",3)(4,"input",4,0),je("ngModelChange",function(a){return b(s),$e(o.value,a)||(o.value=a),S(a)}),T("focus",function(){return b(s),S(o.onFocus())})("focusout",function(){return b(s),S(o.onFocusOut())})("change",function(){return b(s),S(o.onChange(o.value))}),u(),y(6,H0t,2,1,"button",5),u(),d(7,"div",6),A(8),u(),y(9,$0t,2,3,"small",7),u()}2&i&&(_(),m("for",o.inputId),_(),oe(o.title),_(),Ce("is-invalid",o.error),_(),Ce("is-invalid",o.error),m("type",o.showReveal&&o.textVisible?"text":"password")("id",o.inputId),Ze("ngModel",o.value),m("disabled",o.disabled)("autocomplete",o.autocomplete),_(2),N(o.showReveal?6:-1),_(2),Le(" ",o.error," "),_(),N(o.hint?9:-1))},dependencies:[Xt,Ti,jt,Rn,qt,Gt,Jt],encapsulation:2})}}return t})();function G0t(t,n){if(1&t&&(d(0,"span",11),A(1),u()),2&t){const e=g();_(),Le("ID: ",e.object.id,"")}}function B0t(t,n){if(1&t){const e=F();d(0,"label",36),M(1,7),u(),d(2,"pngx-confirm-button",37),T("confirm",function(){return b(e),S(g().deactivateTotp())}),u()}if(2&t){const e=g();_(2),m("disabled",e.totpLoading)}}let GB=(()=>{class t extends A0{constructor(e,i,o,s,r,a){super(e,i,e,s),this.toastService=r,this.permissionsService=a,this.passwordIsSet=!1,this.totpLoading=!1,o.listAll().pipe(ut()).subscribe(l=>this.groups=l.results)}ngOnInit(){super.ngOnInit(),this.onToggleSuperUser(),this.currentUserIsSuperUser?this.objectForm.get("is_superuser").enable():this.objectForm.get("is_superuser").disable()}getCreateTitle(){return "Create new user account"}getEditTitle(){return "Edit user account"}getForm(){return new Kn({username:new de(""),email:new de(""),password:new de(null),first_name:new de(""),last_name:new de(""),is_active:new de(!0),is_staff:new de(!0),is_superuser:new de(!1),groups:new de([]),user_permissions:new de([])})}onToggleSuperUser(){this.objectForm.get("is_superuser").value?this.objectForm.get("user_permissions").disable():this.objectForm.get("user_permissions").enable()}get inheritedPermissions(){const e=this.objectForm.get("groups").value;return e?e.flatMap(i=>this.groups.find(o=>o.id==i)?.permissions):[]}save(){this.passwordIsSet=this.objectForm.get("password").value?.toString().replaceAll("*","").length>0,super.save()}get currentUserIsSuperUser(){return this.permissionsService.isSuperUser()}deactivateTotp(){this.totpLoading=!0,this.service.deactivateTotp(this.object).pipe(ut()).subscribe({next:e=>{this.totpLoading=!1,e?(this.toastService.showInfo("Totp deactivated"),this.object.is_mfa_enabled=!1):this.toastService.showError("Totp deactivation failed")},error:e=>{this.totpLoading=!1,this.toastService.showError("Totp deactivation failed",e)}})}static{this.\u0275fac=function(i){return new(i||t)(x(gs),x(io),x(ag),x(En),x(Fi),x(ti))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-user-edit-dialog"]],features:[st],decls:42,vars:15,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I;return e="Username",i="Email",o="Password",s="First name",r="Last name",a="Groups",l="Permissions",c="Active",h="Admin",p="Access logs, Django backend",f="Superuser",v="(Grants all permissions and can view objects)",C="Cancel",E="Save",D="Disable Two-factor Authentication",P="Disable Two-factor Authentication",I="Two-factor Authentication",[c,h,p,f,v,C,E,I,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col-md-4"],["title",e,"formControlName","username",3,"error"],["title",i,"formControlName","email",3,"error"],["title",o,"formControlName","password",3,"error"],["title",s,"formControlName","first_name",3,"error"],["title",r,"formControlName","last_name",3,"error"],[1,"mb-2","d-flex","flex-column"],[1,"form-check","form-switch","form-check-inline"],["type","checkbox","id","is_active","formControlName","is_active",1,"form-check-input"],["for","is_active",1,"form-check-label"],["type","checkbox","id","is_staff","formControlName","is_staff",1,"form-check-input"],["for","is_staff",1,"form-check-label"],[1,"form-text","text-muted","ms-1"],["type","checkbox","id","is_superuser","formControlName","is_superuser",1,"form-check-input",3,"change"],["for","is_superuser",1,"form-check-label"],["title",a,"multiple","true","formControlName","groups",3,"items"],[1,"col"],["title",l,"formControlName","user_permissions",3,"error","inheritedPermissions"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"form-label"],["label",D,"title",P,"buttonClasses","btn-outline-danger btn-sm","iconName","trash",3,"confirm","disabled"]]},template:function(i,o){1&i&&(d(0,"form",8),T("ngSubmit",function(){return o.save()}),d(1,"div",9)(2,"h4",10),A(3),u(),y(4,G0t,2,1,"span",11),d(5,"button",12),T("click",function(){return o.cancel()}),u()(),d(6,"div",13)(7,"div",14)(8,"div",15),w(9,"pngx-input-text",16)(10,"pngx-input-text",17)(11,"pngx-input-password",18)(12,"pngx-input-text",19)(13,"pngx-input-text",20),d(14,"div",21)(15,"div",22),w(16,"input",23),d(17,"label",24),M(18,0),u()(),d(19,"div",22),w(20,"input",25),d(21,"label",26),ae(22),M(23,1),le(),d(24,"small",27),M(25,2),u()()(),d(26,"div",22)(27,"input",28),T("change",function(){return o.onToggleSuperUser()}),u(),d(28,"label",29),ae(29),M(30,3),le(),d(31,"small",27),M(32,4),u()()()(),w(33,"pngx-input-select",30),y(34,B0t,3,1),u(),d(35,"div",31),w(36,"pngx-permissions-select",32),u()()(),d(37,"div",33)(38,"button",34),T("click",function(){return o.cancel()}),M(39,5),u(),d(40,"button",35),M(41,6),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),N(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(4),m("error",null==o.error?null:o.error.username),_(),m("error",null==o.error?null:o.error.email),_(),m("error",null==o.error?null:o.error.password),_(),m("error",null==o.error?null:o.error.first_name),_(),m("error",null==o.error?null:o.error.first_name),_(20),m("items",o.groups),_(),N(null!=o.object&&o.object.is_mfa_enabled&&o.currentUserIsSuperUser?34:-1),_(2),m("error",null==o.error?null:o.error.user_permissions)("inheritedPermissions",o.inheritedPermissions),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[HB,la,gr,fb,Xt,Oo,Zo,jt,Mo,qt,co,To],encapsulation:2})}}return t})();const Ru=(t,n)=>({action:t,type:n});function U0t(t,n){if(1&t){const e=F();d(0,"button",23),T("click",function(){return b(e),S(g(2).editUser())}),w(1,"i-bs",24),A(2,"\xa0"),ae(3),M(4,5),le(),u()}}function W0t(t,n){if(1&t){const e=F();d(0,"button",30),T("click",function(){b(e);const o=g().$implicit;return S(g(2).editUser(o))}),w(1,"i-bs",31),A(2,"\xa0"),ae(3),M(4,6),le(),u()}}function Z0t(t,n){if(1&t){const e=F();d(0,"button",32),T("click",function(){b(e);const o=g().$implicit;return S(g(2).deleteUser(o))}),w(1,"i-bs",33),A(2,"\xa0"),ae(3),M(4,7),le(),u()}}function j0t(t,n){if(1&t){const e=F();d(0,"li",20)(1,"div",21)(2,"div",25)(3,"button",26),T("click",function(){const o=b(e).$implicit;return S(g(2).editUser(o))}),A(4),u()(),d(5,"div",25),A(6),u(),d(7,"div",25),A(8),u(),d(9,"div",22)(10,"div",27),y(11,W0t,5,0,"button",28)(12,Z0t,5,0,"button",29),u()()()()}if(2&t){const e=n.$implicit,i=g(2);_(3),m("disabled",!i.permissionsService.currentUserCan(i.PermissionAction.Change,i.PermissionType.User)),_(),oe(e.username),_(2),Sa("",e.first_name," ",e.last_name,""),_(2),oe(null==e.groups?null:e.groups.map(i.getGroupName,i).join(", ")),_(3),m("pngxIfPermissions",Pe(7,Ru,i.PermissionAction.Change,i.PermissionType.User)),_(),m("pngxIfPermissions",Pe(10,Ru,i.PermissionAction.Delete,i.PermissionType.User))}}function X0t(t,n){if(1&t&&(d(0,"h4",17),ae(1),M(2,0),le(),y(3,U0t,5,0,"button",18),u(),d(4,"ul",19)(5,"li",20)(6,"div",21)(7,"div",22),M(8,1),u(),d(9,"div",22),M(10,2),u(),d(11,"div",22),M(12,3),u(),d(13,"div",22),M(14,4),u()()(),Ue(15,j0t,13,13,"li",20,Ht),u()),2&t){const e=g();_(3),m("pngxIfPermissions",Pe(1,Ru,e.PermissionAction.Add,e.PermissionType.User)),_(12),We(e.users)}}function K0t(t,n){if(1&t){const e=F();d(0,"button",23),T("click",function(){return b(e),S(g(2).editGroup())}),w(1,"i-bs",24),A(2,"\xa0"),ae(3),M(4,11),le(),u()}}function q0t(t,n){if(1&t){const e=F();d(0,"button",30),T("click",function(){b(e);const o=g().$implicit;return S(g(2).editGroup(o))}),w(1,"i-bs",31),A(2,"\xa0"),ae(3),M(4,12),le(),u()}}function Y0t(t,n){if(1&t){const e=F();d(0,"button",32),T("click",function(){b(e);const o=g().$implicit;return S(g(2).deleteGroup(o))}),w(1,"i-bs",33),A(2,"\xa0"),ae(3),M(4,13),le(),u()}}function Q0t(t,n){if(1&t){const e=F();d(0,"li",20)(1,"div",21)(2,"div",25)(3,"button",26),T("click",function(){const o=b(e).$implicit;return S(g(2).editGroup(o))}),A(4),u()(),w(5,"div",22)(6,"div",22),d(7,"div",22)(8,"div",27),y(9,q0t,5,0,"button",28)(10,Y0t,5,0,"button",29),u()()()()}if(2&t){const e=n.$implicit,i=g(2);_(3),m("disabled",!i.permissionsService.currentUserCan(i.PermissionAction.Change,i.PermissionType.Group)),_(),oe(e.name),_(5),m("pngxIfPermissions",Pe(4,Ru,i.PermissionAction.Change,i.PermissionType.Group)),_(),m("pngxIfPermissions",Pe(7,Ru,i.PermissionAction.Delete,i.PermissionType.Group))}}function J0t(t,n){1&t&&(d(0,"li",20),M(1,14),u())}function elt(t,n){if(1&t&&(d(0,"h4",34),ae(1),M(2,8),le(),y(3,K0t,5,0,"button",18),u(),d(4,"ul",19)(5,"li",20)(6,"div",21)(7,"div",22),M(8,9),u(),w(9,"div",22)(10,"div",22),d(11,"div",22),M(12,10),u()()(),Ue(13,Q0t,11,10,"li",20,Ht),y(15,J0t,2,0,"li",20),u()),2&t){const e=g();_(3),m("pngxIfPermissions",Pe(2,Ru,e.PermissionAction.Add,e.PermissionType.Group)),_(10),We(e.groups),_(2),N(0===e.groups.length?15:-1)}}function tlt(t,n){1&t&&(d(0,"div"),w(1,"div",35),d(2,"div",36),M(3,15),u()())}let nlt=(()=>{class t extends ca{constructor(e,i,o,s,r,a){super(),this.usersService=e,this.groupsService=i,this.toastService=o,this.modalService=s,this.permissionsService=r,this.settings=a,this.unsubscribeNotifier=new xe}ngOnInit(){this.usersService.listAll(null,null,{full_perms:!0}).pipe(ut(),Te(this.unsubscribeNotifier)).subscribe({next:e=>{this.users=e.results},error:e=>{this.toastService.showError("Error retrieving users",e)}}),this.groupsService.listAll(null,null,{full_perms:!0}).pipe(ut(),Te(this.unsubscribeNotifier)).subscribe({next:e=>{this.groups=e.results},error:e=>{this.toastService.showError("Error retrieving groups",e)}})}ngOnDestroy(){this.unsubscribeNotifier.next(!0)}editUser(e=null){var i=this.modalService.open(GB,{backdrop:"static",size:"xl"});i.componentInstance.dialogMode=e?Oi.EDIT:Oi.CREATE,i.componentInstance.object=e,i.componentInstance.succeeded.pipe(Te(this.unsubscribeNotifier)).subscribe(o=>{o.id===this.settings.currentUser.id&&i.componentInstance.passwordIsSet?(this.toastService.showInfo("Password has been changed, you will be logged out momentarily."),setTimeout(()=>{window.location.href=`${window.location.origin}/accounts/logout/?next=/accounts/login/?next=/`},2500)):(this.toastService.showInfo("Saved user \"" + o.username + "\"."),this.usersService.listAll().subscribe(s=>{this.users=s.results}))}),i.componentInstance.failed.pipe(Te(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Error saving user.",o)})}deleteUser(e){let i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Confirm delete user account",i.componentInstance.messageBold="This operation will permanently delete this user account.",i.componentInstance.message="This operation cannot be undone.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="Proceed",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.usersService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted user \"" + e.username + "\""),this.usersService.listAll().subscribe(o=>{this.users=o.results})},error:o=>{this.toastService.showError("Error deleting user \"" + e.username + "\".",o)}})})}editGroup(e=null){var i=this.modalService.open($B,{backdrop:"static",size:"lg"});i.componentInstance.dialogMode=e?Oi.EDIT:Oi.CREATE,i.componentInstance.object=e,i.componentInstance.succeeded.pipe(Te(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("Saved group \"" + o.name + "\"."),this.groupsService.listAll().subscribe(s=>{this.groups=s.results})}),i.componentInstance.failed.pipe(Te(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Error saving group.",o)})}deleteGroup(e){let i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Confirm delete user group",i.componentInstance.messageBold="This operation will permanently delete this user group.",i.componentInstance.message="This operation cannot be undone.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="Proceed",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.groupsService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted group \"" + e.name + "\""),this.groupsService.listAll().subscribe(o=>{this.groups=o.results})},error:o=>{this.toastService.showError("Error deleting group \"" + e.name + "\".",o)}})})}getGroupName(e){return this.groups?.find(i=>i.id===e)?.name??""}static{this.\u0275fac=function(i){return new(i||t)(x(gs),x(ag),x(Fi),x(Do),x(ti),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-users-groups"]],features:[st],decls:4,vars:3,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k;return e="Users & Groups",i="Create, delete and edit users and groups.",o="Users",s="Username",r="Name",a="Groups",l="Actions",c="Add User",h="Edit",p="Delete",f="Groups",v="Name",C="Actions",E="Add Group",D="Edit",P="Delete",I="No groups defined",k="Loading...",[o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,["title",e,"info",i,"infoLink","usage/#users-and-groups"],[1,"d-flex"],["type","button","class","btn btn-sm btn-outline-primary ms-4",3,"click",4,"pngxIfPermissions"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-4",3,"click"],["name","plus-circle"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],[1,"btn-group"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger","type","button",3,"click",4,"pngxIfPermissions"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1em","height","1em","name","trash"],[1,"mt-4","d-flex"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"]]},template:function(i,o){1&i&&(w(0,"pngx-page-header",16),y(1,X0t,17,4)(2,elt,16,5)(3,tlt,4,0,"div")),2&i&&(_(),N(o.users?1:-1),_(),N(o.groups?2:-1),_(),N(o.users&&o.groups?-1:3))},dependencies:[or,Ro,Gt,Jt],encapsulation:2})}}return t})();var Fu=function(t){return t.DEBUG="debug",t.INFO="info",t.SUCCESS="success",t.WARNING="warning",t.ERROR="error",t}(Fu||{});let ilt=(()=>{class t{constructor(){}get(){return window.DJANGO_MESSAGES??[]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const olt=["popover"];function slt(t,n){if(1&t&&w(0,"i-bs",4),2&t){const e=g();Ce("me-1",e.label),ai("name",e.iconName)}}function rlt(t,n){if(1&t){const e=F();d(0,"div"),A(1),d(2,"button",5),T("click",function(o){return b(e),S(g().onConfirm(o))}),A(3,"Yes"),u()()}if(2&t){const e=g();_(),Le(" ",e.confirmMessage,"\xa0")}}let mb=(()=>{class t{constructor(){this.confirmMessage="Are you sure?",this.buttonClasses="btn-primary",this.disabled=!1,this.confirm=new Ee,this.confirming=!1}onClick(e){this.confirming||(this.confirming=!0,this.popover.open()),e.preventDefault(),e.stopImmediatePropagation()}onConfirm(e){this.confirm.emit(),this.confirming=!1,e.preventDefault(),e.stopImmediatePropagation()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-confirm-button"]],viewQuery:function(i,o){if(1&i&&dn(olt,5),2&i){let s;pt(s=gt())&&(o.popover=s.first)}},inputs:{label:"label",confirmMessage:"confirmMessage",buttonClasses:"buttonClasses",iconName:"iconName",disabled:"disabled"},outputs:{confirm:"confirm"},decls:7,vars:8,consts:[["popover","ngbPopover"],["popoverContent",""],["type","button","popoverClass","popover-slim",3,"click","hidden","disabled","ngbPopover","autoClose"],[3,"me-1","name"],[3,"name"],["type","button",1,"btn","btn-link","btn-sm","text-danger","p-0","m-0","lh-1",3,"click"]],template:function(i,o){if(1&i){const s=F();d(0,"button",2,0),T("click",function(a){return b(s),S(o.onClick(a))})("hidden",function(){return b(s),S(o.confirming=!1)}),y(2,slt,1,3,"i-bs",3),ae(3),A(4),le(),u(),y(5,rlt,4,1,"ng-template",null,1,zt)}if(2&i){const s=Ve(6);jh("btn ",o.buttonClasses,""),m("disabled",o.disabled)("ngbPopover",s)("autoClose",!0),_(2),N(o.iconName?2:-1),_(2),oe(o.label)}},dependencies:[Pa,Da,Gt,Jt],styles:[".input-group>pngx-confirm-button:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback)>button,   .btn-group>pngx-confirm-button:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback)>button{border-top-left-radius:0;border-bottom-left-radius:0}  .input-group:not(.has-validation)>pngx-confirm-button:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating)>button,   .btn-group:not(.has-validation)>pngx-confirm-button:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating)>button{border-top-right-radius:0;border-bottom-right-radius:0}"]})}}return t})(),alt=(()=>{class t{constructor(e){this.http=e,this.endpoint="profile"}get(){return this.http.get(`${gi.apiBaseUrl}${this.endpoint}/`)}update(e){return this.http.patch(`${gi.apiBaseUrl}${this.endpoint}/`,e)}generateAuthToken(){return this.http.post(`${gi.apiBaseUrl}${this.endpoint}/generate_auth_token/`,{})}disconnectSocialAccount(e){return this.http.post(`${gi.apiBaseUrl}${this.endpoint}/disconnect_social_account/`,{id:e})}getSocialAccountProviders(){return this.http.get(`${gi.apiBaseUrl}${this.endpoint}/social_account_providers/`)}getTotpSettings(){return this.http.get(`${gi.apiBaseUrl}${this.endpoint}/totp/`)}activateTotp(e,i){return this.http.post(`${gi.apiBaseUrl}${this.endpoint}/totp/`,{secret:e,code:i})}deactivateTotp(){return this.http.delete(`${gi.apiBaseUrl}${this.endpoint}/totp/`,{})}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const llt=(t,n)=>n.id,clt=(t,n)=>n.name;function dlt(t,n){1&t&&w(0,"i-bs",45)}function ult(t,n){1&t&&w(0,"i-bs",46)}function hlt(t,n){if(1&t){const e=F();d(0,"li",55),A(1),d(2,"pngx-confirm-button",56),T("confirm",function(){const o=b(e).$implicit;return S(g(2).disconnectSocialAccount(o.id))}),iC(3,21),u()()}if(2&t){const e=n.$implicit,i=g(2);m("disablePopover",i.hasUsablePassword),_(),Sa(" ",e.name," (",e.provider,") "),_(),bn(e.name),Sn(3),m("disabled",!i.hasUsablePassword)}}function _lt(t,n){if(1&t&&(d(0,"div",39)(1,"p"),M(2,7),u(),d(3,"ul",54),Ue(4,hlt,4,5,"li",55,llt),u(),d(6,"div",50),M(7,8),u()()),2&t){const e=g();_(4),We(e.socialAccounts)}}function plt(t,n){if(1&t&&(d(0,"a",57),A(1),w(2,"i-bs",58),u()),2&t){const e=n.$implicit;ai("href",e.login_url,cs),_(),Le(" ",e.name,"\xa0")}}function glt(t,n){if(1&t&&(d(0,"div",39)(1,"p"),M(2,9),u(),d(3,"div",54),Ue(4,plt,3,2,"a",57,clt),u()()),2&t){const e=g();_(4),We(e.socialAccountProviders)}}function flt(t,n){1&t&&(w(0,"div",63),d(1,"div",47),M(2,11),u())}function mlt(t,n){1&t&&(w(0,"div",70),d(1,"div",47),M(2,16),u())}function vlt(t,n){if(1&t){const e=F();d(0,"figure",64),w(1,"div",65),ye(2,"safeHtml"),d(3,"figcaption",66),M(4,12),u()(),d(5,"p"),ae(6),M(7,13),le(),A(8,": "),d(9,"code"),A(10),u(),A(11,". "),ae(12),M(13,14),le(),u(),d(14,"div",67),w(15,"input",68),d(16,"button",69),T("click",function(){return b(e),S(g(3).activateTotp())}),ae(17),M(18,15),le(),y(19,mlt,3,0),u()()}if(2&t){const e=g(3);_(),m("innerHTML",Ke(2,4,e.totpSettings.qr_svg),vo),_(9),oe(e.totpSettings.secret),_(6),m("disabled",e.totpLoading),_(3),N(e.totpLoading?19:-1)}}function Clt(t,n){if(1&t&&y(0,flt,3,0)(1,vlt,20,6),2&t){const e=g(2);N(e.totpSettingsLoading?0:e.totpSettings?1:-1)}}function Mlt(t,n){if(1&t){const e=F();d(0,"div",30)(1,"div",59)(2,"h2",60)(3,"button",61),T("click",function(){return b(e),S(g().gettotpSettings())}),M(4,10),u()(),d(5,"div",32)(6,"div",62),y(7,Clt,2,1,"ng-template"),u()()()()}}function Tlt(t,n){if(1&t&&(d(0,"code"),A(1),u()),2&t){const e=g(2).$index,i=g(3);_(),oe(i.recoveryCodes[e+1])}}function wlt(t,n){if(1&t&&(d(0,"li",78)(1,"code"),A(2),u(),y(3,Tlt,2,1,"code"),u()),2&t){const e=g(),i=e.$implicit,o=e.$index,s=g(3);_(2),oe(i),_(),N(s.recoveryCodes[o+1]?3:-1)}}function blt(t,n){1&t&&y(0,wlt,4,2,"li",78),2&t&&N(n.$index%2==0?0:-1)}function Slt(t,n){1&t&&(w(0,"i-bs",45),A(1," \xa0"),d(2,"span"),M(3,19),u())}function Elt(t,n){1&t&&(w(0,"i-bs",79),A(1," \xa0"),d(2,"span",80),M(3,20),u())}function Alt(t,n){if(1&t){const e=F();d(0,"div",73),w(1,"i-bs",74),A(2,"\xa0"),ae(3),M(4,18),le(),u(),d(5,"div",75)(6,"ul",76),Ue(7,blt,1,1,null,null,Ht),u(),d(9,"button",77),T("click",function(){return b(e),S(g(2).copyRecoveryCodes())}),y(10,Slt,4,0)(11,Elt,4,0),u()()}if(2&t){const e=g(2);_(7),We(e.recoveryCodes),_(3),N(e.codesCopied?-1:10),_(),N(e.codesCopied?11:-1)}}function Olt(t,n){if(1&t){const e=F();d(0,"label",71),M(1,17),u(),y(2,Alt,12,2),d(3,"pngx-confirm-button",72),T("confirm",function(){return b(e),S(g().deactivateTotp())}),u()}if(2&t){const e=g();_(2),N(e.recoveryCodes?2:-1),_(),m("disabled",e.totpLoading)}}let ylt=(()=>{class t extends ns{constructor(e,i,o,s){super(),this.profileService=e,this.activeModal=i,this.toastService=o,this.clipboard=s,this.networkActive=!1,this.form=new Kn({email:new de(""),email_confirm:new de({value:null,disabled:!0}),password:new de(null),password_confirm:new de({value:null,disabled:!0}),first_name:new de(""),last_name:new de(""),auth_token:new de(""),totp_code:new de("")}),this.showPasswordConfirm=!1,this.hasUsablePassword=!1,this.showEmailConfirm=!1,this.isTotpEnabled=!1,this.totpSettingsLoading=!1,this.totpLoading=!1,this.copied=!1,this.codesCopied=!1,this.socialAccounts=[],this.socialAccountProviders=[]}ngOnInit(){this.networkActive=!0,this.profileService.get().pipe(Te(this.unsubscribeNotifier)).subscribe(e=>{this.networkActive=!1,this.form.patchValue(e),this.currentEmail=e.email,this.form.get("email").valueChanges.subscribe(i=>{this.newEmail=i,this.onEmailChange()}),this.currentPassword=e.password,this.hasUsablePassword=e.has_usable_password,this.form.get("password").valueChanges.subscribe(i=>{this.newPassword=i,this.onPasswordChange()}),this.socialAccounts=e.social_accounts,this.isTotpEnabled=e.is_mfa_enabled}),this.profileService.getSocialAccountProviders().pipe(Te(this.unsubscribeNotifier)).subscribe(e=>{this.socialAccountProviders=e})}get saveDisabled(){return this.error?.password_confirm||this.error?.email_confirm}onEmailKeyUp(e){this.newEmail=e.target?.value,this.onEmailChange()}onEmailConfirmKeyUp(e){this.emailConfirm=e.target?.value,this.onEmailChange()}onEmailChange(){this.showEmailConfirm=this.currentEmail!==this.newEmail,this.showEmailConfirm?(this.form.get("email_confirm").enable(),this.newEmail!==this.emailConfirm?(this.error||(this.error={}),this.error.email_confirm="Emails must match"):delete this.error?.email_confirm):(this.form.get("email_confirm").disable(),delete this.error?.email_confirm)}onPasswordKeyUp(e){"input"===e.target.tagName&&(this.newPassword=e.target?.value,this.onPasswordChange())}onPasswordConfirmKeyUp(e){this.passwordConfirm=e.target?.value,this.onPasswordChange()}onPasswordChange(){this.showPasswordConfirm=this.currentPassword!==this.newPassword,this.showPasswordConfirm?(this.form.get("password_confirm").enable(),this.newPassword!==this.passwordConfirm?(this.error||(this.error={}),this.error.password_confirm="Passwords must match"):delete this.error?.password_confirm):(this.form.get("password_confirm").disable(),delete this.error?.password_confirm)}save(){const e=this.newPassword&&this.currentPassword!==this.newPassword,i=Object.assign({},this.form.value);delete i.totp_code,this.networkActive=!0,this.profileService.update(i).pipe(Te(this.unsubscribeNotifier)).subscribe({next:()=>{this.toastService.showInfo("Profile updated successfully"),e&&(this.toastService.showInfo("Password has been changed, you will be logged out momentarily."),setTimeout(()=>{window.location.href=`${window.location.origin}/accounts/logout/?next=/accounts/login/?next=/`},2500)),this.activeModal.close()},error:o=>{this.toastService.showError("Error saving profile",o),this.networkActive=!1}})}cancel(){this.activeModal.close()}generateAuthToken(){this.profileService.generateAuthToken().subscribe({next:e=>{this.form.patchValue({auth_token:e})},error:e=>{this.toastService.showError("Error generating auth token",e)}})}copyAuthToken(){this.clipboard.copy(this.form.get("auth_token").value),this.copied=!0,setTimeout(()=>{this.copied=!1},3e3)}disconnectSocialAccount(e){this.profileService.disconnectSocialAccount(e).pipe(Te(this.unsubscribeNotifier)).subscribe({next:i=>{this.socialAccounts=this.socialAccounts.filter(o=>o.id!=i)},error:i=>{this.toastService.showError("Error disconnecting social account",i)}})}gettotpSettings(){this.totpSettingsLoading=!0,this.profileService.getTotpSettings().pipe(Te(this.unsubscribeNotifier)).subscribe({next:e=>{this.totpSettingsLoading=!1,this.totpSettings=e},error:e=>{this.toastService.showError("Error fetching TOTP settings",e),this.totpSettingsLoading=!1}})}activateTotp(){this.totpLoading=!0,this.form.get("totp_code").disable(),this.profileService.activateTotp(this.totpSettings.secret,this.form.get("totp_code").value).pipe(Te(this.unsubscribeNotifier)).subscribe({next:e=>{this.totpLoading=!1,this.isTotpEnabled=e.success,this.recoveryCodes=e.recovery_codes,this.form.get("totp_code").enable(),e.success?this.toastService.showInfo("TOTP activated successfully"):this.toastService.showError("Error activating TOTP")},error:e=>{this.totpLoading=!1,this.form.get("totp_code").enable(),this.toastService.showError("Error activating TOTP",e)}})}deactivateTotp(){this.totpLoading=!0,this.profileService.deactivateTotp().pipe(Te(this.unsubscribeNotifier)).subscribe({next:e=>{this.totpLoading=!1,this.isTotpEnabled=!e,this.recoveryCodes=null,e?this.toastService.showInfo("TOTP deactivated successfully"):this.toastService.showError("Error deactivating TOTP")},error:e=>{this.totpLoading=!1,this.toastService.showError("Error deactivating TOTP",e)}})}copyRecoveryCodes(){this.clipboard.copy(this.recoveryCodes.join("\n")),this.codesCopied=!0,setTimeout(()=>{this.codesCopied=!1},3e3)}static{this.\u0275fac=function(i){return new(i||t)(x(alt),x(io),x(Fi),x(Tm))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-profile-edit-dialog"]],features:[st],decls:48,vars:19,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt,nt,Dt,Bt,Zt,Ge,Ft,It,yi,ci;return e="Email",i="Confirm Email",o="Password",s="Confirm Password",r="First name",a="Last name",l="Copy",c="Regenerate auth token",h="Edit Profile",p="API Auth Token",f="Copy",v="Copied!",C="Warning: changing the token cannot be undone",E="Cancel",D="Save",P="Set a password before disconnecting social account.",I="Connected social accounts",k="Warning: disconnecting social accounts cannot be undone",R="Disconnect",ee="Disconnect " + "\ufffd0\ufffd" + " social account",re="Connect new social account",fe="Two-factor Authentication",pe="Loading...",ue="Code",me="Scan the QR code with your authenticator app and then enter the code below",Fe="Authenticator secret",bt="You can store this secret and use it to reinstall your authenticator app at a later time.",nt="Enable",Dt="Loading...",Bt="Disable Two-factor Authentication",Zt="Disable Two-factor Authentication",Ge="Two-factor Authentication",Ft="Copy",It="Recovery codes will not be shown again, make sure to save them.",yi="Copy codes",ci="Copied!",[h,p,f,v,C,E,D,I,k,re,fe,pe,me,Fe,bt,nt,Dt,Ge,It,yi,ci,["title",ee],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","col-md-6"],["title",e,"formControlName","email",3,"keyup","error"],["ngbAccordion",""],["ngbAccordionItem","first",1,"border-0","bg-transparent",3,"collapsed"],["ngbAccordionCollapse",""],["ngbAccordionBody","",1,"p-0","pb-3"],["title",i,"formControlName","email_confirm","autocomplete","email",3,"keyup","error"],["title",o,"formControlName","password","autocomplete","current-password",3,"keyup","showReveal","error"],["title",s,"formControlName","password_confirm","autocomplete","new-password",3,"keyup","error"],["title",r,"formControlName","first_name",3,"error"],["title",a,"formControlName","last_name",3,"error"],[1,"mb-3"],[1,"form-label"],[1,"position-relative"],[1,"input-group"],["type","text","formControlName","auth_token","readonly","",1,"form-control"],["type","button","title",l,1,"btn","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","clipboard-fill"],["width","1em","height","1em","name","clipboard-check-fill"],[1,"visually-hidden"],["title",c,"buttonClasses"," btn-outline-secondary","iconName","arrow-repeat",3,"confirm"],[1,"badge","copied-badge","bg-primary","small","fade","ms-4","position-absolute","top-50","translate-middle-y","pe-none","z-3"],[1,"form-text","text-muted","text-end","fst-italic"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"list-group"],["ngbPopover",P,"triggers","mouseenter:mouseleave",1,"list-group-item",3,"disablePopover"],["label",R,"buttonClasses","btn-outline-danger btn-sm ms-2 align-baseline","iconName","trash",3,"confirm","disabled",6,"title"],["rel","noopener noreferrer",1,"list-group-item","list-group-item-action","text-primary","d-flex","align-items-center",3,"href"],["name","box-arrow-up-right",1,"pb-1","ps-1"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton","",3,"click"],["ngbAccordionBody",""],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"figure"],[1,"bg-white","d-inline-block",3,"innerHTML"],[1,"figure-caption","text-end","mt-2"],[1,"input-group","mb-3"],["type","text","formControlName","totp_code","placeholder",ue,1,"form-control"],["type","button",1,"btn","btn-primary","ml-auto",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2"],[1,"d-block","mb-2"],["label",Bt,"title",Zt,"buttonClasses","btn-outline-danger btn-sm","iconName","trash",3,"confirm","disabled"],["role","alert",1,"alert","alert-warning"],["name","exclamation-triangle"],[1,"d-flex","flex-row","align-items-start","mb-3"],[1,"list-group","w-50"],["type","button","title",Ft,1,"btn","btn-sm","btn-outline-secondary","ms-2",3,"click"],[1,"list-group-item","d-flex","justify-content-around","align-items-center"],["width","1em","height","1em","name","clipboard-check-fill",1,"text-primary"],[1,"text-primary"]]},template:function(i,o){1&i&&(d(0,"form",22),T("ngSubmit",function(){return o.save()}),d(1,"div",23)(2,"h4",24),M(3,0),u(),d(4,"button",25),T("click",function(){return o.cancel()}),u()(),d(5,"div",26)(6,"div",27)(7,"div",28)(8,"pngx-input-text",29),T("keyup",function(r){return o.onEmailKeyUp(r)}),u(),d(9,"div",30)(10,"div",31)(11,"div",32)(12,"div",33)(13,"pngx-input-text",34),T("keyup",function(r){return o.onEmailConfirmKeyUp(r)}),u()()()()(),d(14,"pngx-input-password",35),T("keyup",function(r){return o.onPasswordKeyUp(r)}),u(),d(15,"div",30)(16,"div",31)(17,"div",32)(18,"div",33)(19,"pngx-input-password",36),T("keyup",function(r){return o.onPasswordConfirmKeyUp(r)}),u()()()()(),w(20,"pngx-input-text",37)(21,"pngx-input-text",38),d(22,"div",39)(23,"label",40),M(24,1),u(),d(25,"div",41)(26,"div",42),w(27,"input",43),d(28,"button",44),T("click",function(){return o.copyAuthToken()}),y(29,dlt,1,0,"i-bs",45)(30,ult,1,0,"i-bs",46),d(31,"span",47),M(32,2),u()(),d(33,"pngx-confirm-button",48),T("confirm",function(){return o.generateAuthToken()}),u()(),d(34,"span",49),M(35,3),u()(),d(36,"div",50),M(37,4),u()()(),d(38,"div",28),y(39,_lt,8,0,"div",39)(40,glt,6,0,"div",39)(41,Mlt,8,0,"div",30)(42,Olt,4,2),u()()(),d(43,"div",51)(44,"button",52),T("click",function(){return o.cancel()}),M(45,5),u(),d(46,"button",53),M(47,6),u()()()),2&i&&(m("formGroup",o.form),_(8),m("error",null==o.error?null:o.error.email),_(2),m("collapsed",!o.showEmailConfirm),_(3),m("error",null==o.error?null:o.error.email_confirm),_(),m("showReveal",!0)("error",null==o.error?null:o.error.password),_(2),m("collapsed",!o.showPasswordConfirm),_(3),m("error",null==o.error?null:o.error.password_confirm),_(),m("error",null==o.error?null:o.error.first_name),_(),m("error",null==o.error?null:o.error.first_name),_(8),N(o.copied?-1:29),_(),N(o.copied?30:-1),_(4),Ce("show",o.copied),_(5),N((null==o.socialAccounts?null:o.socialAccounts.length)>0?39:-1),_(),N((null==o.socialAccountProviders?null:o.socialAccountProviders.length)>0?40:-1),_(),N(o.isTotpEnabled?42:41),_(3),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive||o.saveDisabled))},dependencies:[mb,gr,fb,Xt,Oo,Ti,jt,Mo,qt,co,To,vc,Ed,q_,Sd,R1,Y_,K_,B2,Pa,Da,Gt,Jt],styles:[".accordion-body .mb-3{margin:0!important}.copied-badge[_ngcontent-%COMP%]{right:8em}"]})}}return t})();var mg=function(t){return t[t.None=1]="None",t[t.SSL=2]="SSL",t[t.STARTTLS=3]="STARTTLS",t}(mg||{}),BB=function(t){return t[t.IMAP=1]="IMAP",t[t.Gmail_OAuth=2]="Gmail_OAuth",t[t.Outlook_OAuth=3]="Outlook_OAuth",t}(BB||{});let vb=(()=>{class t extends cl{constructor(e){super(e,"mail_accounts"),this.mailAccounts=[]}reload(){this.loading=!0,this.listAll().subscribe(e=>{this.mailAccounts=e.results,this.loading=!1})}get allAccounts(){return this.mailAccounts}create(e){return super.create(e).pipe(un(()=>this.reload()))}update(e){return delete e.expiration,super.update(e).pipe(un(()=>this.reload()))}delete(e){return super.delete(e).pipe(un(()=>this.reload()))}test(e){const i=Object.assign({},e);return delete i.set_permissions,this.http.post(this.getResourceUrl()+"test/",i)}processAccount(e){return this.http.post(this.getResourceUrl(e.id,"process"),{})}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Nlt=["testResultAlert"];function Dlt(t,n){if(1&t&&(d(0,"span",8),A(1),u()),2&t){const e=g();_(),Le("ID: ",e.object.id,"")}}function Plt(t,n){if(1&t){const e=F();d(0,"ngb-alert",27,0),T("closed",function(){return b(e),S(g().testResult=null)}),A(2),u()}if(2&t){const e=g();m("type",e.testResult),_(2),oe(e.testResultMessage)}}function Ilt(t,n){1&t&&(w(0,"div",28),d(1,"span",29),M(2,4),u())}const xlt=[{id:mg.None,name:"No encryption"},{id:mg.SSL,name:"SSL"},{id:mg.STARTTLS,name:"STARTTLS"}];let UB=(()=>{class t extends A0{constructor(e,i,o,s){super(e,i,o,s),this.testActive=!1}getCreateTitle(){return "Create new mail account"}getEditTitle(){return "Edit mail account"}getForm(){return new Kn({name:new de(null),imap_server:new de(null),imap_port:new de(null),imap_security:new de(mg.SSL),username:new de(null),password:new de(null),is_token:new de(!1),character_set:new de("UTF-8")})}get imapSecurityOptions(){return xlt}test(){this.testActive=!0,this.testResult=null,clearTimeout(this.alertTimeout);const e=this.service,i=Object.assign(Object.assign({},this.object),this.objectForm.value);e.test(i).subscribe({next:o=>{this.testActive=!1,this.testResult=o.success?"success":"danger",this.alertTimeout=setTimeout(()=>this.testResultAlert.close(),5e3)},error:o=>{this.testActive=!1,this.testResult="danger",this.alertTimeout=setTimeout(()=>this.testResultAlert.close(),5e3)}})}get testResultMessage(){return"success"===this.testResult?"Successfully connected to the mail server":"Unable to connect to the mail server"}static{this.\u0275fac=function(i){return new(i||t)(x(vb),x(io),x(gs),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-mail-account-edit-dialog"]],viewQuery:function(i,o){if(1&i&&dn(Nlt,5),2&i){let s;pt(s=gt())&&(o.testResultAlert=s.first)}},features:[st],decls:29,vars:17,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C;return e="Name",i="IMAP Server",o="IMAP Port",s="IMAP Security",r="Username",a="Password",l="Password is token",c="Check if the password above is a token used for authentication",h="Character Set",p="Test",f="Cancel",v="Save",C="Loading...",[["testResultAlert",""],p,f,v,C,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","imap_server",3,"error"],["title",o,"formControlName","imap_port",3,"error"],["title",s,"formControlName","imap_security",3,"items"],["title",r,"formControlName","username",3,"error"],["title",a,"formControlName","password",3,"error"],["title",l,"hint",c,"formControlName","is_token",3,"error"],["title",h,"formControlName","character_set",3,"error"],[1,"modal-footer"],[1,"m-0","me-2"],[1,"mb-0","py-2",3,"type"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mb-0","py-2",3,"closed","type"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden","mr-1"]]},template:function(i,o){1&i&&(d(0,"form",5),T("ngSubmit",function(){return o.save()}),d(1,"div",6)(2,"h4",7),A(3),u(),y(4,Dlt,2,1,"span",8),d(5,"button",9),T("click",function(){return o.cancel()}),u()(),d(6,"div",10)(7,"div",11)(8,"div",12),w(9,"pngx-input-text",13)(10,"pngx-input-text",14)(11,"pngx-input-text",15)(12,"pngx-input-select",16),u(),d(13,"div",12),w(14,"pngx-input-text",17)(15,"pngx-input-password",18)(16,"pngx-input-check",19)(17,"pngx-input-text",20),u()()(),d(18,"div",21)(19,"div",22),y(20,Plt,3,2,"ngb-alert",23),u(),d(21,"button",24),T("click",function(){return o.test()}),y(22,Ilt,3,0),ae(23),M(24,1),le(),u(),d(25,"button",25),T("click",function(){return o.cancel()}),M(26,2),u(),d(27,"button",26),M(28,3),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),N(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(4),m("error",null==o.error?null:o.error.name),_(),m("error",null==o.error?null:o.error.imap_server),_(),m("error",null==o.error?null:o.error.imap_port),_(),m("items",o.imapSecurityOptions),_(2),m("error",null==o.error?null:o.error.username),_(),m("error",null==o.error?null:o.error.password),_(),m("error",null==o.error?null:o.error.is_token),_(),m("error",null==o.error?null:o.error.character_set),_(3),N(o.testResult?20:-1),_(),m("disabled",o.networkActive||o.testActive),_(),N(o.testActive?22:-1),_(3),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[gr,dl,fb,la,Xt,Oo,jt,Mo,qt,co,To,Q_,R6],styles:[".alert-dismissible .btn-close{padding-top:.75rem!important;padding-bottom:.75rem!important}"]})}}return t})();var km=function(t){return t[t.Attachments=1]="Attachments",t[t.Everything=2]="Everything",t}(km||{}),vg=function(t){return t[t.Attachments=1]="Attachments",t[t.EmailOnly=2]="EmailOnly",t[t.Everything=3]="Everything",t}(vg||{}),n5=function(t){return t[t.Default=0]="Default",t[t.TextHtml=1]="TextHtml",t[t.HtmlText=2]="HtmlText",t[t.HtmlOnly=3]="HtmlOnly",t[t.TextOnly=4]="TextOnly",t}(n5||{}),_l=function(t){return t[t.Delete=1]="Delete",t[t.Move=2]="Move",t[t.MarkRead=3]="MarkRead",t[t.Flag=4]="Flag",t[t.Tag=5]="Tag",t}(_l||{}),Cg=function(t){return t[t.FromSubject=1]="FromSubject",t[t.FromFilename=2]="FromFilename",t[t.None=3]="None",t}(Cg||{}),i5=function(t){return t[t.FromNothing=1]="FromNothing",t[t.FromEmail=2]="FromEmail",t[t.FromName=3]="FromName",t[t.FromCustom=4]="FromCustom",t}(i5||{});let Cb=(()=>{class t extends cl{constructor(e){super(e,"mail_rules"),this.mailRules=[]}reload(){this.loading=!0,this.listAll().subscribe(e=>{this.mailRules=e.results,this.loading=!1})}get allRules(){return this.mailRules}create(e){return super.create(e).pipe(un(()=>this.reload()))}update(e){return super.update(e).pipe(un(()=>this.reload()))}delete(e){return super.delete(e).pipe(un(()=>this.reload()))}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Llt(t,n){if(1&t&&(d(0,"span",7),A(1),u()),2&t){const e=g();_(),Le("ID: ",e.object.id,"")}}function Rlt(t,n){if(1&t&&w(0,"pngx-input-text",33),2&t){const e=g();m("horizontal",!0)("error",null==e.error?null:e.error.action_parameter)}}function Flt(t,n){if(1&t&&w(0,"pngx-input-select",39),2&t){const e=g();m("horizontal",!0)("items",e.correspondents)("allowNull",!0)}}function klt(t,n){if(1&t&&(d(0,"span",41),ae(1),M(2,3),le(),A(3),u()),2&t){const e=g();_(3),Le(": ",e.error.non_field_errors,"")}}const zlt=[{id:km.Attachments,name:"Only process attachments"},{id:km.Everything,name:"Process all files, including 'inline' attachments"}],Vlt=[{id:vg.Attachments,name:"Only process attachments"},{id:vg.EmailOnly,name:"Process message as .eml"},{id:vg.Everything,name:"Process message as .eml and attachments separately"}],Hlt=[{id:n5.Default,name:"System default"},{id:n5.TextHtml,name:"Text, then HTML"},{id:n5.HtmlText,name:"HTML, then text"},{id:n5.HtmlOnly,name:"HTML only"},{id:n5.TextOnly,name:"Text only"}],$lt=[{id:_l.Delete,name:"Delete"},{id:_l.Move,name:"Move to specified folder"},{id:_l.MarkRead,name:"Mark as read, don't process read mails"},{id:_l.Flag,name:"Flag the mail, don't process flagged mails"},{id:_l.Tag,name:"Tag the mail with specified tag, don't process tagged mails"}],Glt=[{id:Cg.FromSubject,name:"Use subject as title"},{id:Cg.FromFilename,name:"Use attachment filename as title"},{id:Cg.None,name:"Do not assign title from this rule"}],Blt=[{id:i5.FromNothing,name:"Do not assign a correspondent"},{id:i5.FromEmail,name:"Use mail address"},{id:i5.FromName,name:"Use name (or mail address if not available)"},{id:i5.FromCustom,name:"Use correspondent selected below"}];let WB=(()=>{class t extends A0{constructor(e,i,o,s,r,a,l){super(e,i,a,l),o.listAll().pipe(ut()).subscribe(c=>this.accounts=c.results),s.listAll().pipe(ut()).subscribe(c=>this.correspondents=c.results),r.listAll().pipe(ut()).subscribe(c=>this.documentTypes=c.results)}getCreateTitle(){return "Create new mail rule"}getEditTitle(){return "Edit mail rule"}getForm(){return new Kn({name:new de(null),account:new de(null),enabled:new de(!0),folder:new de("INBOX"),filter_from:new de(null),filter_to:new de(null),filter_subject:new de(null),filter_body:new de(null),filter_attachment_filename_include:new de(null),filter_attachment_filename_exclude:new de(null),maximum_age:new de(null),attachment_type:new de(km.Attachments),pdf_layout:new de(n5.Default),consumption_scope:new de(vg.Attachments),order:new de(null),action:new de(_l.MarkRead),action_parameter:new de(null),assign_title_from:new de(Cg.FromSubject),assign_tags:new de([]),assign_document_type:new de(null),assign_correspondent_from:new de(i5.FromNothing),assign_correspondent:new de(null),assign_owner_from_rule:new de(!0)})}get showCorrespondentField(){return this.objectForm?.get("assign_correspondent_from")?.value==i5.FromCustom}get showActionParamField(){return this.objectForm?.get("action")?.value==_l.Move||this.objectForm?.get("action")?.value==_l.Tag}get attachmentTypeOptions(){return zlt}get actionOptions(){return $lt}get metadataTitleOptions(){return Glt}get metadataCorrespondentOptions(){return Blt}get consumptionScopeOptions(){return Vlt}get pdfLayoutOptions(){return Hlt}static{this.\u0275fac=function(i){return new(i||t)(x(Cb),x(io),x(vb),x(ul),x(hl),x(gs),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-mail-rule-edit-dialog"]],features:[st],decls:56,vars:52,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt,nt,Dt,Bt,Zt;return e="Name",i="Account",o="Order",s="Enabled",r="Folder",a="Subfolders must be separated by a delimiter, often a dot ('.') or slash ('/'), but it varies by mail server.",l="Maximum age (days)",c="Filter from",h="Filter to",p="Filter subject",f="Filter body",v="Consumption scope",C="See docs for .eml processing requirements",E="Attachment type",D="PDF layout",P="Include only files matching",I="Optional. Wildcards e.g. *.pdf or *invoice* allowed. Can be comma-separated list. Case insensitive.",k="Exclude files matching",R="Optional. Wildcards e.g. *.pdf or *invoice* allowed. Can be comma-separated list. Case insensitive.",ee="Action",re="Only performed if the mail is processed.",fe="Action parameter",pe="Assign title from",ue="Assign owner from rule",me="Assign document type",Fe="Assign correspondent from",bt="Assign correspondent",nt="Paperless will only process mails that match " + "\ufffd#20\ufffd" + "all" + "\ufffd/#20\ufffd" + " of the criteria specified below.",Dt="Cancel",Bt="Save",Zt="Error",[nt,Dt,Bt,Zt,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col-md-4"],["title",e,"formControlName","name","autocomplete","off",3,"horizontal","error"],[1,"col-md-3"],["title",i,"formControlName","account",3,"horizontal","items"],["title",o,"formControlName","order",3,"horizontal","showAdd","error"],[1,"col-md-2","pt-2"],["title",s,"formControlName","enabled",3,"horizontal"],[1,"mt-0"],[1,"small"],[1,"col-md-6"],["title",r,"formControlName","folder","hint",a,3,"horizontal","error"],["title",l,"formControlName","maximum_age",3,"horizontal","showAdd","error"],["title",c,"formControlName","filter_from",3,"horizontal","error"],["title",h,"formControlName","filter_to",3,"horizontal","error"],["title",p,"formControlName","filter_subject",3,"horizontal","error"],["title",f,"formControlName","filter_body",3,"horizontal","error"],["title",v,"formControlName","consumption_scope","hint",C,3,"horizontal","items"],["title",E,"formControlName","attachment_type",3,"horizontal","items"],["title",D,"formControlName","pdf_layout",3,"horizontal","items"],["title",P,"formControlName","filter_attachment_filename_include","hint",I,3,"horizontal","error"],["title",k,"formControlName","filter_attachment_filename_exclude","hint",R,3,"horizontal","error"],["title",ee,"formControlName","action","hint",re,3,"horizontal","items"],["title",fe,"formControlName","action_parameter",3,"horizontal","error"],["title",pe,"formControlName","assign_title_from",3,"horizontal","items"],["title",ue,"formControlName","assign_owner_from_rule",3,"horizontal"],["formControlName","assign_tags",3,"horizontal","allowCreate"],["title",me,"formControlName","assign_document_type",3,"horizontal","items","allowNull"],["title",Fe,"formControlName","assign_correspondent_from",3,"horizontal","items"],["title",bt,"formControlName","assign_correspondent",3,"horizontal","items","allowNull"],[1,"modal-footer"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"]]},template:function(i,o){1&i&&(d(0,"form",4),T("ngSubmit",function(){return o.save()}),d(1,"div",5)(2,"h4",6),A(3),u(),y(4,Llt,2,1,"span",7),d(5,"button",8),T("click",function(){return o.cancel()}),u()(),d(6,"div",9)(7,"div",10)(8,"div",11),w(9,"pngx-input-text",12),u(),d(10,"div",13),w(11,"pngx-input-select",14),u(),d(12,"div",13),w(13,"pngx-input-number",15),u(),d(14,"div",16),w(15,"pngx-input-switch",17),u()(),w(16,"hr",18),d(17,"div",10)(18,"p",19),Qr(19,0),w(20,"em"),Jr(),u(),d(21,"div",20),w(22,"pngx-input-text",21)(23,"pngx-input-number",22),u(),d(24,"div",20),w(25,"pngx-input-text",23)(26,"pngx-input-text",24)(27,"pngx-input-text",25)(28,"pngx-input-text",26),u()(),w(29,"hr",18),d(30,"div",10)(31,"div",20),w(32,"pngx-input-select",27)(33,"pngx-input-select",28)(34,"pngx-input-select",29),u(),d(35,"div",20),w(36,"pngx-input-text",30)(37,"pngx-input-text",31),u()(),w(38,"hr",18),d(39,"div",10)(40,"div",20),w(41,"pngx-input-select",32),y(42,Rlt,1,2,"pngx-input-text",33),w(43,"pngx-input-select",34)(44,"pngx-input-check",35),u(),d(45,"div",20),w(46,"pngx-input-tags",36)(47,"pngx-input-select",37)(48,"pngx-input-select",38),y(49,Flt,1,3,"pngx-input-select",39),u()()(),d(50,"div",40),y(51,klt,4,1,"span",41),d(52,"button",42),T("click",function(){return o.cancel()}),M(53,1),u(),d(54,"button",43),M(55,2),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),N(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(4),m("horizontal",!0)("error",null==o.error?null:o.error.name),_(2),m("horizontal",!0)("items",o.accounts),_(2),m("horizontal",!0)("showAdd",!1)("error",null==o.error?null:o.error.order),_(2),m("horizontal",!0),_(7),m("horizontal",!0)("error",null==o.error?null:o.error.folder),_(),m("horizontal",!0)("showAdd",!1)("error",null==o.error?null:o.error.maximum_age),_(2),m("horizontal",!0)("error",null==o.error?null:o.error.filter_from),_(),m("horizontal",!0)("error",null==o.error?null:o.error.filter_to),_(),m("horizontal",!0)("error",null==o.error?null:o.error.filter_subject),_(),m("horizontal",!0)("error",null==o.error?null:o.error.filter_body),_(4),m("horizontal",!0)("items",o.consumptionScopeOptions),_(),m("horizontal",!0)("items",o.attachmentTypeOptions),_(),m("horizontal",!0)("items",o.pdfLayoutOptions),_(2),m("horizontal",!0)("error",null==o.error?null:o.error.filter_attachment_filename_include),_(),m("horizontal",!0)("error",null==o.error?null:o.error.filter_attachment_filename_exclude),_(4),m("horizontal",!0)("items",o.actionOptions),_(),N(o.showActionParamField?42:-1),_(),m("horizontal",!0)("items",o.metadataTitleOptions),_(),m("horizontal",!0),_(2),m("horizontal",!0)("allowCreate",!1),_(),m("horizontal",!0)("items",o.documentTypes)("allowNull",!0),_(),m("horizontal",!0)("items",o.metadataCorrespondentOptions),_(),N(o.showCorrespondentField?49:-1),_(2),N(null!=o.error&&o.error.non_field_errors?51:-1),_(),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[la,lb,dl,gr,Nu,vm,Xt,Oo,jt,Mo,qt,co,To],encapsulation:2})}}return t})();var B1=function(t){return t[t.Assignment=1]="Assignment",t[t.Removal=2]="Removal",t[t.Email=3]="Email",t[t.Webhook=4]="Webhook",t}(B1||{}),Mg=function(t){return t[t.ConsumeFolder=1]="ConsumeFolder",t[t.ApiUpload=2]="ApiUpload",t[t.MailFetch=3]="MailFetch",t[t.WebUI=4]="WebUI",t}(Mg||{}),o5=function(t){return t[t.Consumption=1]="Consumption",t[t.DocumentAdded=2]="DocumentAdded",t[t.DocumentUpdated=3]="DocumentUpdated",t[t.Scheduled=4]="Scheduled",t}(o5||{}),ku=function(t){return t.Added="added",t.Created="created",t.Modified="modified",t.CustomField="custom_field",t}(ku||{});const Ult=(t,n)=>n[0];function Wlt(t,n){if(1&t&&(d(0,"label",11),A(1),u()),2&t){const e=g();Ce("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function Zlt(t,n){if(1&t){const e=F();d(0,"div",8)(1,"input",12),je("ngModelChange",function(o){const s=b(e).$implicit;return $e(s[0],o)||(s[0]=o),S(o)}),T("change",function(){return b(e),S(g().inputChange())}),u(),d(2,"input",12),je("ngModelChange",function(o){const s=b(e).$implicit;return $e(s[1],o)||(s[1]=o),S(o)}),T("change",function(){return b(e),S(g().inputChange())}),u(),d(3,"button",13),T("click",function(){const o=b(e).$index;return S(g().removeEntry(o))}),w(4,"i-bs",14),u()()}if(2&t){const e=n.$implicit,i=g();_(),Ze("ngModel",e[0]),m("disabled",i.disabled),_(),Ze("ngModel",e[1]),m("disabled",i.disabled)}}function jlt(t,n){1&t&&(w(0,"small",9),ye(1,"safeHtml")),2&t&&m("innerHTML",Ke(1,1,g().hint),vo)}let Xlt=(()=>{class t extends Gs{constructor(){super(),this.entries=[]}inputChange(){this.onChange(Object.fromEntries(this.entries.filter(([e])=>e?.length)))}writeValue(e){e||(e={}),this.entries=Object.entries(e),this.value=e}addEntry(){this.entries.push(["",""]),this.inputChange()}removeEntry(e){this.entries.splice(e,1),this.inputChange()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-entries"]],features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:15,vars:5,consts:()=>{let e;return e="Add",[e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","mb-2"],[1,"form-label","mb-0",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-4",3,"click"],["name","plus-circle"],[1,"position-relative"],[1,"input-group","mb-3"],[1,"form-text","text-muted",3,"innerHTML"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-label","mb-0",3,"for"],["type","text","autocomplete","off",1,"form-control",3,"ngModelChange","change","ngModel","disabled"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["name","trash",1,"text-danger"]]},template:function(i,o){1&i&&(d(0,"div",1)(1,"div",2)(2,"div",3),y(3,Wlt,2,4,"label",4),d(4,"button",5),T("click",function(){return o.addEntry()}),w(5,"i-bs",6),A(6,"\xa0"),ae(7),M(8,0),le(),u()(),d(9,"div",7),Ue(10,Zlt,5,4,"div",8,Ult),y(12,jlt,2,3,"small",9),d(13,"div",10),A(14),u()()()()),2&i&&(Ce("pb-3",o.error),_(3),N(o.title?3:-1),_(7),We(o.entries),_(2),N(o.hint?12:-1),_(2),Le(" ",o.error," "))},dependencies:[Xt,Ti,jt,Rn,qt,Gt,Jt],encapsulation:2})}}return t})(),ZB=(()=>{class t extends cl{constructor(e){super(e,"workflows"),this.workflows=[]}reload(){this.loading=!0,this.listAll().subscribe(e=>{this.workflows=e.results,this.loading=!1})}get allWorkflows(){return this.workflows}create(e){return super.create(e).pipe(un(()=>this.reload()))}update(e){return super.update(e).pipe(un(()=>this.reload()))}delete(e){return super.delete(e).pipe(un(()=>this.reload()))}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Klt=(t,n)=>({formGroup:t,trigger:n}),qlt=(t,n)=>({formGroup:t,action:n});function Ylt(t,n){if(1&t&&(d(0,"span",37),A(1),u()),2&t){const e=g();_(),Le("ID: ",e.object.id,"")}}function Qlt(t,n){if(1&t&&(d(0,"span",37),A(1),u()),2&t){const e=g().$implicit;_(),Le("ID: ",e.id,"")}}function Jlt(t,n){}function ect(t,n){if(1&t){const e=F();d(0,"div",48)(1,"div",49)(2,"button",50),A(3),y(4,Qlt,2,1,"span",37),d(5,"pngx-confirm-button",64),T("confirm",function(){const o=b(e).$index;return S(g(2).removeTrigger(o))}),u()()(),d(6,"div",51)(7,"div",52),y(8,Jlt,0,0,"ng-template",65),u()()()}if(2&t){const e=n.$implicit,i=n.$index,o=g(2),s=Ve(36);_(3),Sa("",i+1,". ",o.getTriggerTypeOptionName(o.triggerFields.controls[i].value.type)," "),_(),N(e.id?4:-1),_(4),m("ngTemplateOutlet",s)("ngTemplateOutletContext",Pe(5,Klt,o.triggerFields.controls[i],e))}}function tct(t,n){if(1&t){const e=F();d(0,"div",59)(1,"p",60),M(2,6),u(),d(3,"button",61),T("click",function(){return b(e),S(g().addTrigger())}),w(4,"i-bs",62),A(5,"\xa0"),ae(6),M(7,7),le(),u()(),d(8,"div",63),Ue(9,ect,9,8,"div",48,Ht),u()}if(2&t){const e=g();_(8),m("closeOthers",!0),_(),We(null==e.object?null:e.object.triggers)}}function nct(t,n){if(1&t&&(d(0,"span",37),A(1),u()),2&t){const e=g().$implicit;_(),Le("ID: ",e.id,"")}}function ict(t,n){}function oct(t,n){if(1&t){const e=F();d(0,"div",67)(1,"div",49)(2,"button",50),A(3),y(4,nct,2,1,"span",37),d(5,"pngx-confirm-button",68),T("confirm",function(){const o=b(e).$index;return S(g(2).removeAction(o))}),u()()(),d(6,"div",51)(7,"div",52),y(8,ict,0,0,"ng-template",65),u()()()}if(2&t){const e=n.$implicit,i=n.$index,o=g(2),s=Ve(38);m("formGroup",o.actionFields.controls[i]),_(3),Sa("",i+1,". ",o.getActionTypeOptionName(o.actionFields.controls[i].value.type)," "),_(),N(e.id?4:-1),_(4),m("ngTemplateOutlet",s)("ngTemplateOutletContext",Pe(6,qlt,o.actionFields.controls[i],e))}}function sct(t,n){if(1&t){const e=F();d(0,"div",59)(1,"p",60),M(2,8),u(),d(3,"button",61),T("click",function(){return b(e),S(g().addAction())}),w(4,"i-bs",62),A(5,"\xa0"),ae(6),M(7,9),le(),u()(),d(8,"div",66),T("cdkDropListDropped",function(o){return b(e),S(g().onActionDrop(o))}),Ue(9,oct,9,9,"div",67,Ht),u()}if(2&t){const e=g();_(8),m("closeOthers",!0),_(),We(null==e.object?null:e.object.actions)}}function rct(t,n){if(1&t&&(d(0,"span",55),ae(1),M(2,10),le(),A(3),u()),2&t){const e=g();_(3),Le(": ",e.error.non_field_errors,"")}}function act(t,n){if(1&t&&(d(0,"div",43),w(1,"pngx-input-select",78),u()),2&t){const e=g(3);_(),m("items",e.dateCustomFields)("error",null==e.error?null:e.error.schedule_date_custom_field)}}function lct(t,n){if(1&t&&w(0,"pngx-input-number",77),2&t){const e=g(3);m("showAdd",!1)("error",null==e.error?null:e.error.schedule_recurring_interval_days)}}function cct(t,n){if(1&t&&(d(0,"p",72),M(1,12),u(),d(2,"div",40)(3,"div",43),w(4,"pngx-input-number",74),u(),d(5,"div",43),w(6,"pngx-input-select",75),u(),y(7,act,2,2,"div",43),u(),d(8,"div",40)(9,"div",43),w(10,"pngx-input-check",76),u(),d(11,"div",43),y(12,lct,1,2,"pngx-input-number",77),u()()),2&t){const e=g().formGroup,i=g();_(4),m("showAdd",!1)("error",null==i.error?null:i.error.schedule_offset_days),_(2),m("items",i.scheduleDateFieldOptions)("error",null==i.error?null:i.error.schedule_date_field),_(),N("custom_field"===e.get("schedule_date_field").value?7:-1),_(3),m("error",null==i.error?null:i.error.schedule_is_recurring),_(2),N(!0===e.get("schedule_is_recurring").value?12:-1)}}function dct(t,n){if(1&t&&w(0,"pngx-input-select",79)(1,"pngx-input-text",80)(2,"pngx-input-select",81),2&t){const e=g(2);m("items",e.sourceOptions)("multiple",!0)("error",null==e.error?null:e.error.sources),_(),m("error",null==e.error?null:e.error.filter_path),_(),m("items",e.mailRules)("allowNull",!0)("error",null==e.error?null:e.error.filter_mailrule)}}function uct(t,n){if(1&t&&w(0,"pngx-input-text",83),2&t){const e=g(3);m("error",null==e.error?null:e.error.match)}}function hct(t,n){1&t&&w(0,"pngx-input-check",84)}function _ct(t,n){if(1&t&&(w(0,"pngx-input-select",82),y(1,uct,1,1,"pngx-input-text",83)(2,hct,1,0,"pngx-input-check",84)),2&t){const e=g(2);m("items",e.getMatchingAlgorithms()),_(),N(e.patternRequired?1:-1),_(),N(e.patternRequired?2:-1)}}function pct(t,n){if(1&t&&(d(0,"div",41),w(1,"pngx-input-tags",85)(2,"pngx-input-select",86)(3,"pngx-input-select",87),u()),2&t){const e=g(2);_(),m("allowCreate",!1),_(),m("items",e.correspondents)("allowNull",!0),_(),m("items",e.documentTypes)("allowNull",!0)}}function gct(t,n){if(1&t&&(d(0,"div",69),w(1,"input",70)(2,"pngx-input-select",71),y(3,cct,13,7),d(4,"p",72),Qr(5,11),w(6,"em"),Jr(),u(),d(7,"div",40)(8,"div",45),w(9,"pngx-input-text",73),y(10,dct,3,7)(11,_ct,3,3),u(),y(12,pct,4,5,"div",41),u()()),2&t){const e=n.formGroup,i=g();m("formGroup",e),_(2),m("horizontal",!0)("items",i.triggerTypeOptions),_(),N(e.get("type").value===i.WorkflowTriggerType.Scheduled?3:-1),_(6),m("error",null==i.error?null:i.error.filter_filename),_(),N(e.get("type").value===i.WorkflowTriggerType.Consumption?10:-1),_(),N(e.get("type").value===i.WorkflowTriggerType.DocumentAdded||e.get("type").value===i.WorkflowTriggerType.DocumentUpdated||e.get("type").value===i.WorkflowTriggerType.Scheduled?11:-1),_(),N(e.get("type").value===i.WorkflowTriggerType.DocumentAdded||e.get("type").value===i.WorkflowTriggerType.DocumentUpdated||e.get("type").value===i.WorkflowTriggerType.Scheduled?12:-1)}}function fct(t,n){if(1&t&&(d(0,"div",40)(1,"div",45),w(2,"pngx-input-text",90)(3,"pngx-input-tags",91)(4,"pngx-input-select",92)(5,"pngx-input-select",93)(6,"pngx-input-select",94)(7,"pngx-input-select",95),u(),d(8,"div",45),w(9,"pngx-input-select",96),d(10,"div")(11,"label",97),M(12,13),u(),d(13,"div",98)(14,"div",99)(15,"div",100)(16,"label",101),M(17,14),u()(),d(18,"div",102),w(19,"pngx-permissions-user",103),u()(),d(20,"div",40)(21,"div",100)(22,"label",101),M(23,15),u()(),d(24,"div",102),w(25,"pngx-permissions-group",104),u()()(),d(26,"label",97),M(27,16),u(),d(28,"div")(29,"div",99)(30,"div",100)(31,"label",101),M(32,17),u()(),d(33,"div",102),w(34,"pngx-permissions-user",105),u()(),d(35,"div",40)(36,"div",100)(37,"label",101),M(38,18),u()(),d(39,"div",102),w(40,"pngx-permissions-group",106),u()(),d(41,"small",107),M(42,19),u()()()()()),2&t){const e=g(2);_(2),m("error",null==e.error||null==e.error.actions||null==e.error.actions[e.i]?null:e.error.actions[e.i].assign_title),_(),m("allowCreate",!1),_(),m("items",e.documentTypes)("allowNull",!0),_(),m("items",e.correspondents)("allowNull",!0),_(),m("items",e.storagePaths)("allowNull",!0),_(),m("items",e.customFields)("allowNull",!0),_(2),m("items",e.users)("allowNull",!0)}}function mct(t,n){if(1&t&&(d(0,"div",40)(1,"div",45)(2,"h6",97),M(3,20),u(),w(4,"pngx-input-switch",108),d(5,"div",109),w(6,"pngx-input-tags",110),u(),d(7,"h6",97),M(8,21),u(),w(9,"pngx-input-switch",111),d(10,"div",109),w(11,"pngx-input-select",112),u(),d(12,"h6",97),M(13,22),u(),w(14,"pngx-input-switch",113),d(15,"div",109),w(16,"pngx-input-select",114),u(),d(17,"h6",97),M(18,23),u(),w(19,"pngx-input-switch",115),d(20,"div",109),w(21,"pngx-input-select",116),u(),d(22,"h6",97),M(23,24),u(),w(24,"pngx-input-switch",117),d(25,"div",109),w(26,"pngx-input-select",118),u()(),d(27,"div",45)(28,"h6",97),M(29,25),u(),w(30,"pngx-input-switch",119),d(31,"div",109),w(32,"pngx-input-select",120),u(),d(33,"h6",97),M(34,26),u(),w(35,"pngx-input-switch",121),d(36,"div")(37,"label",97),M(38,27),u(),d(39,"div",98)(40,"div",99)(41,"div",100)(42,"label",101),M(43,28),u()(),d(44,"div",102),w(45,"pngx-permissions-user",122),u()(),d(46,"div",40)(47,"div",100)(48,"label",101),M(49,29),u()(),d(50,"div",102),w(51,"pngx-permissions-group",123),u()()(),d(52,"label",97),M(53,30),u(),d(54,"div")(55,"div",99)(56,"div",100)(57,"label",101),M(58,31),u()(),d(59,"div",102),w(60,"pngx-permissions-user",124),u()(),d(61,"div",40)(62,"div",100)(63,"label",101),M(64,32),u()(),d(65,"div",102),w(66,"pngx-permissions-group",125),u()(),d(67,"small",107),M(68,33),u()()()()()),2&t){const e=g(2);_(4),m("horizontal",!0),_(2),m("allowCreate",!1),_(3),m("horizontal",!0),_(2),m("items",e.correspondents),_(3),m("horizontal",!0),_(2),m("items",e.documentTypes),_(3),m("horizontal",!0),_(2),m("items",e.storagePaths),_(3),m("horizontal",!0),_(2),m("items",e.customFields),_(4),m("horizontal",!0),_(2),m("items",e.users),_(3),m("horizontal",!0)}}function vct(t,n){if(1&t&&(d(0,"div",89),w(1,"input",70),d(2,"div",45),w(3,"pngx-input-text",126)(4,"pngx-input-textarea",127)(5,"pngx-input-text",128)(6,"pngx-input-switch",129),u()()),2&t){const e=g().formGroup,i=g();m("formGroup",e.get("email")),_(3),m("error",null==i.error||null==i.error.actions||null==i.error.actions[i.i]||null==i.error.actions[i.i].email?null:i.error.actions[i.i].email.subject),_(),m("error",null==i.error||null==i.error.actions||null==i.error.actions[i.i]||null==i.error.actions[i.i].email?null:i.error.actions[i.i].email.body),_(),m("error",null==i.error||null==i.error.actions||null==i.error.actions[i.i]||null==i.error.actions[i.i].email?null:i.error.actions[i.i].email.to)}}function Cct(t,n){if(1&t&&w(0,"pngx-input-entries",133),2&t){const e=g(3);m("error",null==e.error||null==e.error.actions||null==e.error.actions[e.i]?null:e.error.actions[e.i].params)}}function Mct(t,n){if(1&t&&w(0,"pngx-input-textarea",134),2&t){const e=g(3);m("error",null==e.error||null==e.error.actions||null==e.error.actions[e.i]?null:e.error.actions[e.i].body)}}function Tct(t,n){if(1&t&&(d(0,"div",89),w(1,"input",70),d(2,"div",45),w(3,"pngx-input-text",130),d(4,"div",59),w(5,"pngx-input-switch",131)(6,"pngx-input-switch",132),u(),y(7,Cct,1,1,"pngx-input-entries",133)(8,Mct,1,1,"pngx-input-textarea",134),w(9,"pngx-input-entries",135)(10,"pngx-input-switch",136),u()()),2&t){const e=g().formGroup,i=g();m("formGroup",e.get("webhook")),_(3),m("error",null==i.error||null==i.error.actions||null==i.error.actions[i.i]?null:i.error.actions[i.i].url),_(2),m("horizontal",!0),_(),m("horizontal",!0),_(),N(e.get("webhook").value.use_params?7:8),_(2),m("error",null==i.error||null==i.error.actions||null==i.error.actions[i.i]?null:i.error.actions[i.i].headers)}}function wct(t,n){if(1&t&&(d(0,"div",69),w(1,"input",70)(2,"pngx-input-select",88),y(3,fct,43,12,"div",40)(4,mct,69,13,"div",40)(5,vct,7,4,"div",89)(6,Tct,11,6,"div",89),u()),2&t){let e;const i=n.formGroup,o=g();m("formGroup",i),_(2),m("horizontal",!0)("items",o.actionTypeOptions),_(),N((e=i.get("type").value)===o.WorkflowActionType.Assignment?3:e===o.WorkflowActionType.Removal?4:e===o.WorkflowActionType.Email?5:e===o.WorkflowActionType.Webhook?6:-1)}}const bct=[{id:Mg.ConsumeFolder,name:"Consume Folder"},{id:Mg.ApiUpload,name:"API Upload"},{id:Mg.MailFetch,name:"Mail Fetch"},{id:Mg.WebUI,name:"Web UI"}],Sct=[{id:ku.Added,name:"Added"},{id:ku.Created,name:"Created"},{id:ku.Modified,name:"Modified"},{id:ku.CustomField,name:"Custom Field"}],jB=[{id:o5.Consumption,name:"Consumption Started"},{id:o5.DocumentAdded,name:"Document Added"},{id:o5.DocumentUpdated,name:"Document Updated"},{id:o5.Scheduled,name:"Scheduled"}],XB=[{id:B1.Assignment,name:"Assignment"},{id:B1.Removal,name:"Removal"},{id:B1.Email,name:"Email"},{id:B1.Webhook,name:"Webhook"}],Ect=rb.filter(t=>6!==t.id);let KB=(()=>{class t extends A0{constructor(e,i,o,s,r,a,l,c,h){super(e,i,l,c),this.WorkflowTriggerType=o5,this.WorkflowActionType=B1,this.expandedItem=null,this.allowedActionTypes=[],o.listAll().pipe(ut()).subscribe(p=>this.correspondents=p.results),s.listAll().pipe(ut()).subscribe(p=>this.documentTypes=p.results),r.listAll().pipe(ut()).subscribe(p=>this.storagePaths=p.results),a.listAll().pipe(ut()).subscribe(p=>this.mailRules=p.results),h.listAll().pipe(ut()).subscribe(p=>{this.customFields=p.results,this.dateCustomFields=this.customFields?.filter(f=>f.data_type===Bi.Date)})}getCreateTitle(){return "Create new workflow"}getEditTitle(){return "Edit workflow"}getForm(){return new Kn({name:new de(null),order:new de(null),enabled:new de(!0),triggers:new k2([]),actions:new k2([])})}getMatchingAlgorithms(){return Ect}ngOnInit(){super.ngOnInit(),this.updateAllTriggerActionFields(),this.objectForm.valueChanges.subscribe(this.checkRemovalActionFields.bind(this)),this.checkRemovalActionFields(this.objectForm.value),this.allowedActionTypes=this.settingsService.get(Me.EMAIL_ENABLED)?XB:XB.filter(e=>e.id!==B1.Email)}checkRemovalActionFields(e){e.actions.filter(i=>i.type===B1.Removal).forEach((i,o)=>{i.remove_all_tags?this.actionFields.at(o).get("remove_tags").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_tags").enable({emitEvent:!1}),i.remove_all_document_types?this.actionFields.at(o).get("remove_document_types").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_document_types").enable({emitEvent:!1}),i.remove_all_correspondents?this.actionFields.at(o).get("remove_correspondents").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_correspondents").enable({emitEvent:!1}),i.remove_all_storage_paths?this.actionFields.at(o).get("remove_storage_paths").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_storage_paths").enable({emitEvent:!1}),i.remove_all_custom_fields?this.actionFields.at(o).get("remove_custom_fields").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_custom_fields").enable({emitEvent:!1}),i.remove_all_owners?this.actionFields.at(o).get("remove_owners").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_owners").enable({emitEvent:!1}),i.remove_all_permissions?(this.actionFields.at(o).get("remove_view_users").disable({emitEvent:!1}),this.actionFields.at(o).get("remove_view_groups").disable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_users").disable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_groups").disable({emitEvent:!1})):(this.actionFields.at(o).get("remove_view_users").enable({emitEvent:!1}),this.actionFields.at(o).get("remove_view_groups").enable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_users").enable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_groups").enable({emitEvent:!1}))})}get triggerFields(){return this.objectForm.get("triggers")}get actionFields(){return this.objectForm.get("actions")}createTriggerField(e,i=!1){this.triggerFields.push(new Kn({id:new de(e.id),type:new de(e.type),sources:new de(e.sources),filter_filename:new de(e.filter_filename),filter_path:new de(e.filter_path),filter_mailrule:new de(e.filter_mailrule),matching_algorithm:new de(e.matching_algorithm),match:new de(e.match),is_insensitive:new de(e.is_insensitive),filter_has_tags:new de(e.filter_has_tags),filter_has_correspondent:new de(e.filter_has_correspondent),filter_has_document_type:new de(e.filter_has_document_type),schedule_offset_days:new de(e.schedule_offset_days),schedule_is_recurring:new de(e.schedule_is_recurring),schedule_recurring_interval_days:new de(e.schedule_recurring_interval_days),schedule_date_field:new de(e.schedule_date_field),schedule_date_custom_field:new de(e.schedule_date_custom_field)}),{emitEvent:i})}createActionField(e,i=!1){this.actionFields.push(new Kn({id:new de(e.id),type:new de(e.type),assign_title:new de(e.assign_title),assign_tags:new de(e.assign_tags),assign_owner:new de(e.assign_owner),assign_document_type:new de(e.assign_document_type),assign_correspondent:new de(e.assign_correspondent),assign_storage_path:new de(e.assign_storage_path),assign_view_users:new de(e.assign_view_users),assign_view_groups:new de(e.assign_view_groups),assign_change_users:new de(e.assign_change_users),assign_change_groups:new de(e.assign_change_groups),assign_custom_fields:new de(e.assign_custom_fields),remove_tags:new de(e.remove_tags),remove_all_tags:new de(e.remove_all_tags),remove_document_types:new de(e.remove_document_types),remove_all_document_types:new de(e.remove_all_document_types),remove_correspondents:new de(e.remove_correspondents),remove_all_correspondents:new de(e.remove_all_correspondents),remove_storage_paths:new de(e.remove_storage_paths),remove_all_storage_paths:new de(e.remove_all_storage_paths),remove_owners:new de(e.remove_owners),remove_all_owners:new de(e.remove_all_owners),remove_view_users:new de(e.remove_view_users),remove_view_groups:new de(e.remove_view_groups),remove_change_users:new de(e.remove_change_users),remove_change_groups:new de(e.remove_change_groups),remove_all_permissions:new de(e.remove_all_permissions),remove_custom_fields:new de(e.remove_custom_fields),remove_all_custom_fields:new de(e.remove_all_custom_fields),email:new Kn({id:new de(e.email?.id),subject:new de(e.email?.subject),body:new de(e.email?.body),to:new de(e.email?.to),include_document:new de(!!e.email?.include_document)}),webhook:new Kn({id:new de(e.webhook?.id),url:new de(e.webhook?.url),use_params:new de(e.webhook?.use_params),as_json:new de(e.webhook?.as_json),params:new de(e.webhook?.params),body:new de(e.webhook?.body),headers:new de(e.webhook?.headers),include_document:new de(!!e.webhook?.include_document)})}),{emitEvent:i})}updateAllTriggerActionFields(e=!1){this.triggerFields.clear({emitEvent:!1}),this.object?.triggers.forEach(i=>{this.createTriggerField(i,e)}),this.actionFields.clear({emitEvent:!1}),this.object?.actions.forEach(i=>{this.createActionField(i,e)})}get sourceOptions(){return bct}get triggerTypeOptions(){return jB}get scheduleDateFieldOptions(){return Sct}getTriggerTypeOptionName(e){return this.triggerTypeOptions.find(i=>i.id===e)?.name??""}addTrigger(){this.object||(this.object=Object.assign({},this.objectForm.value));const e={type:o5.Consumption,sources:[],filter_filename:null,filter_path:null,filter_mailrule:null,filter_has_tags:[],filter_has_correspondent:null,filter_has_document_type:null,matching_algorithm:0,match:"",is_insensitive:!0,schedule_offset_days:0,schedule_is_recurring:!1,schedule_recurring_interval_days:1,schedule_date_field:ku.Added,schedule_date_custom_field:null};this.object.triggers.push(e),this.createTriggerField(e)}get actionTypeOptions(){return this.allowedActionTypes}getActionTypeOptionName(e){return this.actionTypeOptions.find(i=>i.id===e)?.name??""}addAction(){this.object||(this.object=Object.assign({},this.objectForm.value));const e={type:B1.Assignment,assign_title:null,assign_tags:[],assign_document_type:null,assign_correspondent:null,assign_storage_path:null,assign_owner:null,assign_view_users:[],assign_view_groups:[],assign_change_users:[],assign_change_groups:[],assign_custom_fields:[],remove_tags:[],remove_all_tags:!1,remove_document_types:[],remove_all_document_types:!1,remove_correspondents:[],remove_all_correspondents:!1,remove_storage_paths:[],remove_all_storage_paths:!1,remove_owners:[],remove_all_owners:!1,remove_view_users:[],remove_view_groups:[],remove_change_users:[],remove_change_groups:[],remove_all_permissions:!1,remove_custom_fields:[],remove_all_custom_fields:!1,email:{id:null,subject:null,body:null,to:null,include_document:!1},webhook:{id:null,url:null,use_params:!0,as_json:!1,params:null,body:null,headers:null,include_document:!1}};this.object.actions.push(e),this.createActionField(e)}removeTrigger(e){this.object.triggers.splice(e,1).pop(),this.triggerFields.removeAt(e)}removeAction(e){this.object.actions.splice(e,1),this.actionFields.removeAt(e)}onActionDrop(e){gd(this.object.actions,e.previousIndex,e.currentIndex);const i=this.actionFields.at(e.previousIndex);this.actionFields.removeAt(e.previousIndex),this.actionFields.insert(e.currentIndex,i),this.object.actions.forEach(o=>o.id=null),this.actionFields.controls.forEach(o=>o.get("id").setValue(null,{emitEvent:!1}))}save(){this.objectForm.get("actions").value.forEach((e,i)=>{e.type!==B1.Webhook&&(e.webhook=null),e.type!==B1.Email&&(e.email=null)}),super.save()}static{this.\u0275fac=function(i){return new(i||t)(x(ZB),x(io),x(ul),x(hl),x(Tc),x(Cb),x(gs),x(En),x(C1))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-workflow-edit-dialog"]],features:[st],decls:39,vars:11,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt,nt,Dt,Bt,Zt,Ge,Ft,It,yi,ci,St,kn,zi,Ni,yt,Ln,Di,Fo,Ps,Zs,Cr,Yt,Ua,Wa,ga,tt,_5,p5,Za,P0,yc,Nc,fl,Dc,Pc,Ic,xc,yg,Ng,Dg,Pg,Ig,xg,Lg,Pt,SU,EU,AU,OU,yU,NU,DU,PU,IU,xU,LU,RU,FU,kU,zU;return e="Name",i="Sort order",o="Enabled",s="Triggers",r="Actions",a="Cancel",l="Save",c="Trigger Workflow On:",h="Add Trigger",p="Delete",f="Apply Actions:",v="Add Action",C="Delete",E="Error",D="Trigger type",P="Filter filename",I="Apply to documents that match this filename. Wildcards such as *.pdf or *invoice* are allowed. Case insensitive.",k="Trigger for documents that match " + "\ufffd#6\ufffd" + "all" + "\ufffd/#6\ufffd" + " filters specified below.",R="Offset days",ee="Relative to",re="Recurring",fe="Trigger is recurring.",pe="Recurring interval days",ue="Repeat the trigger every n days.",me="Set scheduled trigger offset and which date field to use.",Fe="Custom field",bt="Custom field to use for date.",nt="Filter sources",Dt="Filter path",Bt="Apply to documents that match this path. Wildcards specified as * are allowed. Case-normalized.</a>",Zt="Filter mail rule",Ge="Apply to documents consumed via this mail rule.",Ft="Content matching algorithm",It="Content matching pattern",yi="Case insensitive",ci="Has any of tags",St="Has correspondent",kn="Has document type",zi="Action type",Ni="Assign title",yt="Can include some placeholders, see <a target='_blank' href='https://docs.paperless-ngx.com/usage/#workflows'>documentation</a>.",Ln="Assign tags",Di="Assign document type",Fo="Assign correspondent",Ps="Assign storage path",Zs="Assign custom fields",Cr="Assign owner",Yt="Assign view permissions",Ua="Users:",Wa="Groups:",ga="Assign edit permissions",tt="Users:",_5="Groups:",p5="Edit permissions also grant viewing permissions",Za="Remove all",P0="Remove all",yc="Remove all",Nc="Remove all",fl="Remove all",Dc="Remove all",Pc="Remove all",Ic="Remove tags",xc="Remove correspondents",yg="Remove document types",Ng="Remove storage paths",Dg="Remove custom fields",Pg="Remove owners",Ig="Remove permissions",xg="View permissions",Lg="Users:",Pt="Groups:",SU="Edit permissions",EU="Users:",AU="Groups:",OU="Edit permissions also grant viewing permissions",yU="Email subject",NU="Email body",DU="Email recipients",PU="Attach document",IU="Webhook url",xU="Use parameters for webhook body",LU="Send webhook payload as JSON",RU="Webhook params",FU="Webhook body",kU="Webhook headers",zU="Include document",[["triggerForm",""],["actionForm",""],s,r,a,l,c,h,f,v,E,k,me,Yt,Ua,Wa,ga,tt,_5,p5,Ic,xc,yg,Ng,Dg,Pg,Ig,xg,Lg,Pt,SU,EU,AU,OU,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],["title",e,"formControlName","name","autocomplete","off",3,"error"],[1,"col-4"],["title",i,"formControlName","order",3,"showAdd","error"],[1,"col"],["title",o,"formControlName","enabled",3,"error"],["ngbAccordion",""],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["ngbAccordionButton","",1,"btn-lg"],[1,"modal-footer"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["let","","action","action"],[1,"d-flex"],[1,"p-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-auto","mb-3",3,"click"],["name","plus-circle"],["ngbAccordion","",3,"closeOthers"],["label",p,"buttonClasses","btn-link text-danger ms-2","iconName","trash",3,"confirm"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["ngbAccordion","","cdkDropList","",3,"cdkDropListDropped","closeOthers"],["ngbAccordionItem","","cdkDrag","",3,"formGroup"],["label",C,"buttonClasses","btn-link text-danger ms-2","iconName","trash",3,"confirm"],[3,"formGroup"],["type","hidden","formControlName","id"],["title",D,"formControlName","type",3,"horizontal","items"],[1,"small"],["title",P,"formControlName","filter_filename","hint",I,3,"error"],["title",R,"formControlName","schedule_offset_days",3,"showAdd","error"],["title",ee,"formControlName","schedule_date_field",3,"items","error"],["title",re,"formControlName","schedule_is_recurring","hint",fe,3,"error"],["title",pe,"formControlName","schedule_recurring_interval_days","hint",ue,3,"showAdd","error"],["title",Fe,"formControlName","schedule_date_custom_field","hint",bt,3,"items","error"],["title",nt,"formControlName","sources",3,"items","multiple","error"],["title",Dt,"formControlName","filter_path","hint",Bt,3,"error"],["title",Zt,"formControlName","filter_mailrule","hint",Ge,3,"items","allowNull","error"],["title",Ft,"formControlName","matching_algorithm",3,"items"],["title",It,"formControlName","match",3,"error"],["title",yi,"formControlName","is_insensitive"],["title",ci,"formControlName","filter_has_tags",3,"allowCreate"],["title",St,"formControlName","filter_has_correspondent",3,"items","allowNull"],["title",kn,"formControlName","filter_has_document_type",3,"items","allowNull"],["title",zi,"formControlName","type",3,"horizontal","items"],[1,"row",3,"formGroup"],["title",Ni,"formControlName","assign_title","hint",yt,3,"error"],["title",Ln,"formControlName","assign_tags",3,"allowCreate"],["title",Di,"formControlName","assign_document_type",3,"items","allowNull"],["title",Fo,"formControlName","assign_correspondent",3,"items","allowNull"],["title",Ps,"formControlName","assign_storage_path",3,"items","allowNull"],["title",Zs,"multiple","true","formControlName","assign_custom_fields",3,"items","allowNull"],["title",Cr,"bindLabel","username","formControlName","assign_owner",3,"items","allowNull"],[1,"form-label"],[1,"mb-2"],[1,"row","mb-1"],[1,"col-lg-3"],[1,"form-label","d-block","my-2","text-nowrap"],[1,"col-lg-9"],["type","view","formControlName","assign_view_users"],["type","view","formControlName","assign_view_groups"],["type","change","formControlName","assign_change_users"],["type","change","formControlName","assign_change_groups"],[1,"form-text","text-muted","text-end","d-block"],["title",Za,"formControlName","remove_all_tags",3,"horizontal"],[1,"mt-n3"],["title","","formControlName","remove_tags",3,"allowCreate"],["title",P0,"formControlName","remove_all_correspondents",3,"horizontal"],["title","","multiple","true","formControlName","remove_correspondents",3,"items"],["title",yc,"formControlName","remove_all_document_types",3,"horizontal"],["title","","multiple","true","formControlName","remove_document_types",3,"items"],["title",Nc,"formControlName","remove_all_storage_paths",3,"horizontal"],["title","","multiple","true","formControlName","remove_storage_paths",3,"items"],["title",fl,"formControlName","remove_all_custom_fields",3,"horizontal"],["title","","multiple","true","formControlName","remove_custom_fields",3,"items"],["title",Dc,"formControlName","remove_all_owners",3,"horizontal"],["title","","multiple","true","bindLabel","username","formControlName","remove_owners",3,"items"],["title",Pc,"formControlName","remove_all_permissions",3,"horizontal"],["type","view","formControlName","remove_view_users"],["type","view","formControlName","remove_view_groups"],["type","change","formControlName","remove_change_users"],["type","change","formControlName","remove_change_groups"],["title",yU,"formControlName","subject",3,"error"],["title",NU,"formControlName","body",3,"error"],["title",DU,"formControlName","to",3,"error"],["title",PU,"formControlName","include_document"],["title",IU,"formControlName","url",3,"error"],["title",xU,"formControlName","use_params",3,"horizontal"],["title",LU,"formControlName","as_json",1,"ms-5",3,"horizontal"],["title",RU,"formControlName","params",3,"error"],["title",FU,"formControlName","body",3,"error"],["title",kU,"formControlName","headers",3,"error"],["title",zU,"formControlName","include_document"]]},template:function(i,o){if(1&i){const s=F();d(0,"form",34),T("ngSubmit",function(){return b(s),S(o.save())}),d(1,"div",35)(2,"h4",36),A(3),u(),y(4,Ylt,2,1,"span",37),d(5,"button",38),T("click",function(){return b(s),S(o.cancel())}),u()(),d(6,"div",39)(7,"div",40)(8,"div",41),w(9,"pngx-input-text",42),u(),d(10,"div",43),w(11,"pngx-input-number",44),u(),d(12,"div",45),w(13,"pngx-input-switch",46),u()(),d(14,"div",47)(15,"div",48)(16,"h2",49)(17,"button",50),M(18,2),u()(),d(19,"div",51)(20,"div",52),y(21,tct,11,1,"ng-template"),u()()(),d(22,"div",48)(23,"h2",49)(24,"button",53),M(25,3),u()(),d(26,"div",51)(27,"div",52),y(28,sct,11,1,"ng-template"),u()()()()(),d(29,"div",54),y(30,rct,4,1,"span",55),d(31,"button",56),T("click",function(){return b(s),S(o.cancel())}),M(32,4),u(),d(33,"button",57),M(34,5),u()()(),y(35,gct,13,8,"ng-template",null,0,zt)(37,wct,7,4,"ng-template",58,1,zt)}2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),N(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(4),m("error",null==o.error?null:o.error.name),_(2),m("showAdd",!1)("error",null==o.error?null:o.error.order),_(2),m("error",null==o.error?null:o.error.enabled),_(17),N(null!=o.error&&o.error.non_field_errors?30:-1),_(),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[dl,Xlt,vm,Nu,gr,la,AB,lb,tb,nb,mb,Xt,Oo,Ti,jt,Mo,qt,co,To,Ed,q_,Sd,R1,Y_,K_,B2,Uo,fd,D2,N2,Gt,Jt],styles:[".btn.text-danger[_ngcontent-%COMP%]:hover, .btn.text-danger[_ngcontent-%COMP%]:focus{color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.accordion-button[_ngcontent-%COMP%]{font-size:1rem}"]})}}return t})(),qB=(()=>{class t{constructor(e,i){this.http=e,this.settingsService=i,this.searchResultObjectLimit=3}autocomplete(e){return this.http.get(`${gi.apiBaseUrl}search/autocomplete/`,{params:(new na).set("term",e)})}globalSearch(e){let i=(new na).set("query",e);return this.searchDbOnly&&(i=i.set("db_only",!0)),this.http.get(`${gi.apiBaseUrl}search/`,{params:i})}get searchDbOnly(){return this.settingsService.get(Me.SEARCH_DB_ONLY)}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji),Be(En))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Act=["searchInput"],Oct=["resultsDropdown"],yct=["resultItem"],Nct=["primaryButton"],Dct=["secondaryButton"],M1=(t,n)=>n.id,Pct=(t,n,e)=>({item:t,nameProp:"title",type:n,icon:"file-text",date:e}),Ict=(t,n)=>({item:t,nameProp:"name",type:n,icon:"funnel"}),xct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"tag"}),Lct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"person"}),Rct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"file-earmark"}),Fct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"folder"}),kct=(t,n)=>({item:t,nameProp:"username",type:n,icon:"person-square"}),zct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"people"}),Vct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"ui-radios"}),Hct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"envelope-at"}),$ct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"envelope"}),Gct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"boxes"});function Bct(t,n){1&t&&w(0,"div",34)}function Uct(t,n){1&t&&(ae(0),M(1,6),le())}function Wct(t,n){1&t&&(ae(0),M(1,7),le())}function Zct(t,n){if(1&t){const e=F();d(0,"button",39),T("click",function(){return b(e),S(g().runFullSearch())}),y(1,Uct,2,0,"ng-container")(2,Wct,2,0,"ng-container"),w(3,"i-bs",40),u()}if(2&t){const e=g();_(),N(e.useAdvancedForFullSearch?1:2)}}function jct(t,n){if(1&t&&(d(0,"small",44),A(1),ye(2,"customDate"),u()),2&t){const e=g().date;_(),oe(Ke(2,1,e))}}function Xct(t,n){1&t&&(w(0,"i-bs",48),d(1,"span"),A(2,"\xa0"),ae(3),M(4,8),le(),u())}function Kct(t,n){1&t&&(w(0,"i-bs",49),d(1,"span"),A(2,"\xa0"),ae(3),M(4,9),le(),u())}function qct(t,n){1&t&&(w(0,"i-bs",50),d(1,"span"),A(2,"\xa0"),ae(3),M(4,10),le(),u())}function Yct(t,n){1&t&&(w(0,"i-bs",51),d(1,"span"),A(2,"\xa0"),ae(3),M(4,11),le(),u())}function Qct(t,n){1&t&&(w(0,"i-bs",52),d(1,"span"),A(2,"\xa0"),ae(3),M(4,12),le(),u())}function Jct(t,n){1&t&&(w(0,"i-bs",48),d(1,"span"),A(2,"\xa0"),ae(3),M(4,13),le(),u())}function edt(t,n){if(1&t){const e=F();d(0,"button",46,5),T("click",function(o){b(e);const s=g(),r=s.item,a=s.type;return g().secondaryAction(a,r,o),S(o.stopImmediatePropagation())})("keydown",function(o){return b(e),S(g(2).onButtonKeyDown(o))})("mouseenter",function(o){return b(e),S(g(2).onButtonHover(o))}),y(2,Qct,5,0)(3,Jct,5,0),u()}if(2&t){const e=g(),i=e.item,o=e.type,s=g();m("disabled",s.disableSecondaryButton(o,i)),_(2),N(o===s.DataType.Document?2:3)}}function tdt(t,n){if(1&t){const e=F();d(0,"div",41,3),T("click",function(o){const s=b(e),r=s.item,a=s.type;return S(g().primaryAction(a,r,o))})("mouseenter",function(o){return b(e),S(g().onItemHover(o))}),w(2,"i-bs",42),d(3,"div",43),A(4),y(5,jct,3,3,"small",44),u(),d(6,"div",45)(7,"button",46,4),T("click",function(o){const s=b(e),r=s.item,a=s.type;return g().primaryAction(a,r,o),S(o.stopImmediatePropagation())})("keydown",function(o){return b(e),S(g().onButtonKeyDown(o))})("mouseenter",function(o){return b(e),S(g().onButtonHover(o))}),y(9,Xct,5,0)(10,Kct,5,0)(11,qct,5,0)(12,Yct,5,0),u(),y(13,edt,4,2,"button",47),u()()}if(2&t){const e=n.item,i=n.nameProp,o=n.type,s=n.icon,r=n.date,a=g();_(2),ai("name",s),_(2),Le(" ",e[i]," "),_(),N(r?5:-1),_(2),m("disabled",a.disablePrimaryButton(o,e)),_(2),N(o===a.DataType.Document?9:o===a.DataType.SavedView?10:o===a.DataType.Workflow||o===a.DataType.CustomField||o===a.DataType.Group||o===a.DataType.User||o===a.DataType.MailAccount||o===a.DataType.MailRule?11:12),_(4),N(o!==a.DataType.SavedView&&o!==a.DataType.Workflow&&o!==a.DataType.CustomField&&o!==a.DataType.Group&&o!==a.DataType.User&&o!==a.DataType.MailAccount&&o!==a.DataType.MailRule?13:-1)}}function ndt(t,n){1&t&&(d(0,"h6",38),M(1,14),u())}function idt(t,n){1&t&&Nn(0)}function odt(t,n){if(1&t&&y(0,idt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",ld(2,Pct,e,i.DataType.Document,e.added))}}function sdt(t,n){if(1&t&&(d(0,"h6",38),M(1,15),u(),Ue(2,odt,1,6,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.documents)}}function rdt(t,n){1&t&&Nn(0)}function adt(t,n){if(1&t&&y(0,rdt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Pe(2,Ict,e,i.DataType.SavedView))}}function ldt(t,n){if(1&t&&(d(0,"h6",38),M(1,16),u(),Ue(2,adt,1,5,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.saved_views)}}function cdt(t,n){1&t&&Nn(0)}function ddt(t,n){if(1&t&&y(0,cdt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Pe(2,xct,e,i.DataType.Tag))}}function udt(t,n){if(1&t&&(d(0,"h6",38),M(1,17),u(),Ue(2,ddt,1,5,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.tags)}}function hdt(t,n){1&t&&Nn(0)}function _dt(t,n){if(1&t&&y(0,hdt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Pe(2,Lct,e,i.DataType.Correspondent))}}function pdt(t,n){if(1&t&&(d(0,"h6",38),M(1,18),u(),Ue(2,_dt,1,5,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.correspondents)}}function gdt(t,n){1&t&&Nn(0)}function fdt(t,n){if(1&t&&y(0,gdt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Pe(2,Rct,e,i.DataType.DocumentType))}}function mdt(t,n){if(1&t&&(d(0,"h6",38),M(1,19),u(),Ue(2,fdt,1,5,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.document_types)}}function vdt(t,n){1&t&&Nn(0)}function Cdt(t,n){if(1&t&&y(0,vdt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Pe(2,Fct,e,i.DataType.StoragePath))}}function Mdt(t,n){if(1&t&&(d(0,"h6",38),M(1,20),u(),Ue(2,Cdt,1,5,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.storage_paths)}}function Tdt(t,n){1&t&&Nn(0)}function wdt(t,n){if(1&t&&y(0,Tdt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Pe(2,kct,e,i.DataType.User))}}function bdt(t,n){if(1&t&&(d(0,"h6",38),M(1,21),u(),Ue(2,wdt,1,5,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.users)}}function Sdt(t,n){1&t&&Nn(0)}function Edt(t,n){if(1&t&&y(0,Sdt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Pe(2,zct,e,i.DataType.Group))}}function Adt(t,n){if(1&t&&(d(0,"h6",38),M(1,22),u(),Ue(2,Edt,1,5,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.groups)}}function Odt(t,n){1&t&&Nn(0)}function ydt(t,n){if(1&t&&y(0,Odt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Pe(2,Vct,e,i.DataType.CustomField))}}function Ndt(t,n){if(1&t&&(d(0,"h6",38),M(1,23),u(),Ue(2,ydt,1,5,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.custom_fields)}}function Ddt(t,n){1&t&&Nn(0)}function Pdt(t,n){if(1&t&&y(0,Ddt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Pe(2,Hct,e,i.DataType.MailAccount))}}function Idt(t,n){if(1&t&&(d(0,"h6",38),M(1,24),u(),Ue(2,Pdt,1,5,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.mail_accounts)}}function xdt(t,n){1&t&&Nn(0)}function Ldt(t,n){if(1&t&&y(0,xdt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Pe(2,$ct,e,i.DataType.MailRule))}}function Rdt(t,n){if(1&t&&(d(0,"h6",38),M(1,25),u(),Ue(2,Ldt,1,5,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.mail_rules)}}function Fdt(t,n){1&t&&Nn(0)}function kdt(t,n){if(1&t&&y(0,Fdt,1,0,"ng-container",53),2&t){const e=n.$implicit,i=g(3);m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Pe(2,Gct,e,i.DataType.Workflow))}}function zdt(t,n){if(1&t&&(d(0,"h6",38),M(1,26),u(),Ue(2,kdt,1,5,"ng-container",null,M1)),2&t){const e=g(2);_(2),We(e.searchResults.workflows)}}function Vdt(t,n){if(1&t&&y(0,sdt,4,0)(1,ldt,4,0)(2,udt,4,0)(3,pdt,4,0)(4,mdt,4,0)(5,Mdt,4,0)(6,bdt,4,0)(7,Adt,4,0)(8,Ndt,4,0)(9,Idt,4,0)(10,Rdt,4,0)(11,zdt,4,0),2&t){const e=g();N(null!=e.searchResults&&e.searchResults.documents.length?0:-1),_(),N(null!=e.searchResults&&e.searchResults.saved_views.length?1:-1),_(),N(null!=e.searchResults&&e.searchResults.tags.length?2:-1),_(),N(null!=e.searchResults&&e.searchResults.correspondents.length?3:-1),_(),N(null!=e.searchResults&&e.searchResults.document_types.length?4:-1),_(),N(null!=e.searchResults&&e.searchResults.storage_paths.length?5:-1),_(),N(null!=e.searchResults&&e.searchResults.users.length?6:-1),_(),N(null!=e.searchResults&&e.searchResults.groups.length?7:-1),_(),N(null!=e.searchResults&&e.searchResults.custom_fields.length?8:-1),_(),N(null!=e.searchResults&&e.searchResults.mail_accounts.length?9:-1),_(),N(null!=e.searchResults&&e.searchResults.mail_rules.length?10:-1),_(),N(null!=e.searchResults&&e.searchResults.workflows.length?11:-1)}}let Hdt=(()=>{class t{get useAdvancedForFullSearch(){return this.settingsService.get(Me.SEARCH_FULL_TYPE)===am.ADVANCED}constructor(e,i,o,s,r,a,l,c,h){this.searchService=e,this.router=i,this.modalService=o,this.documentService=s,this.documentListViewService=r,this.permissionsService=a,this.toastService=l,this.hotkeyService=c,this.settingsService=h,this.DataType=wn,this.currentItemIndex=-1,this.domIndex=-1,this.loading=!1,this.queryDebounce=new xe,this.queryDebounce.pipe(Pr(400),li(p=>!p?.length||p?.length>2),h1()).subscribe(p=>{this.query=p,p&&this.search(p)})}ngOnInit(){this.hotkeyService.addShortcut({keys:"/",description:"Global search"}).subscribe(()=>{this.searchInput.nativeElement.focus()})}search(e){this.loading=!0,this.searchService.globalSearch(e.trim()).subscribe(i=>{this.searchResults=i,this.loading=!1,this.resultsDropdown.open()})}primaryAction(e,i,o=null){const s=o?.metaKey||o?.ctrlKey;this.reset(!0);let r,a,l="md";switch(e){case wn.Document:return void this.navigateOrOpenInNewWindow(["/documents",i.id],s);case wn.SavedView:return void this.navigateOrOpenInNewWindow(["/view",i.id],s);case wn.Correspondent:r=26;break;case wn.DocumentType:r=28;break;case wn.StoragePath:r=30;break;case wn.Tag:r=6;break;case wn.User:a=GB,l="lg";break;case wn.Group:a=$B,l="lg";break;case wn.MailAccount:a=UB,l="xl";break;case wn.MailRule:a=WB,l="xl";break;case wn.CustomField:a=Em;break;case wn.Workflow:a=KB,l="xl"}if(r){let c=Yw({filterRules:[{rule_type:r,value:i.id.toString()}],currentPage:1,sortField:this.documentListViewService.sortField??"created",sortReverse:this.documentListViewService.sortReverse});this.navigateOrOpenInNewWindow(["/documents"],s,{queryParams:c})}else if(a){const c=this.modalService.open(a,{size:l});c.componentInstance.dialogMode=Oi.EDIT,c.componentInstance.object=i,c.componentInstance.succeeded.subscribe(()=>{this.toastService.showInfo("Successfully updated object.")}),c.componentInstance.failed.subscribe(h=>{this.toastService.showError("Error occurred saving object.",h)})}}secondaryAction(e,i){let o;switch(this.reset(!0),e){case wn.Document:window.open(this.documentService.getDownloadUrl(i.id));break;case wn.Correspondent:o=Am;break;case wn.DocumentType:o=Om;break;case wn.StoragePath:o=ym;break;case wn.Tag:o=Nm}if(o){const r=this.modalService.open(o,{size:"md"});r.componentInstance.dialogMode=Oi.EDIT,r.componentInstance.object=i,r.componentInstance.succeeded.subscribe(()=>{this.toastService.showInfo("Successfully updated object.")}),r.componentInstance.failed.subscribe(a=>{this.toastService.showError("Error occurred saving object.",a)})}}reset(e=!1){this.queryDebounce.next(null),this.query=null,this.searchResults=null,this.currentItemIndex=-1,e&&this.resultsDropdown.close()}setCurrentItem(){const e=this.resultItems.first.nativeElement.parentNode.querySelectorAll(".dropdown-item").item(this.currentItemIndex);this.domIndex=this.resultItems.toArray().indexOf(this.resultItems.find(o=>o.nativeElement===e)),this.primaryButtons.get(this.domIndex).nativeElement.focus()}onItemHover(e){const i=this.resultItems.toArray().find(o=>o.nativeElement===e.currentTarget);this.currentItemIndex=this.resultItems.toArray().indexOf(i),this.setCurrentItem()}onButtonHover(e){e.currentTarget.focus()}searchInputKeyDown(e){"ArrowDown"===e.key&&this.searchResults?.total&&this.resultsDropdown.isOpen()?(e.preventDefault(),this.currentItemIndex=0,this.setCurrentItem()):"ArrowUp"===e.key&&this.searchResults?.total&&this.resultsDropdown.isOpen()?(e.preventDefault(),this.currentItemIndex=this.searchResults.total-1,this.setCurrentItem()):"Enter"===e.key?1===this.searchResults?.total&&this.resultsDropdown.isOpen()?(this.primaryButtons.first.nativeElement.click(),this.searchInput.nativeElement.blur()):this.query?.length&&(this.runFullSearch(),this.reset(!0)):"Escape"===e.key&&!this.resultsDropdown.isOpen()&&(this.query?.length?this.reset(!0):this.searchInput.nativeElement.blur())}dropdownKeyDown(e){this.searchResults?.total&&this.resultsDropdown.isOpen()&&document.activeElement!==this.searchInput.nativeElement&&("ArrowDown"===e.key?(e.preventDefault(),e.stopImmediatePropagation(),this.currentItemIndex<this.searchResults.total-1?(this.currentItemIndex++,this.setCurrentItem()):(this.searchInput.nativeElement.focus(),this.currentItemIndex=-1)):"ArrowUp"===e.key?(e.preventDefault(),e.stopImmediatePropagation(),this.currentItemIndex>0?(this.currentItemIndex--,this.setCurrentItem()):(this.searchInput.nativeElement.focus(),this.currentItemIndex=-1)):"ArrowRight"===e.key?(e.preventDefault(),e.stopImmediatePropagation(),this.secondaryButtons.get(this.domIndex)?.nativeElement.focus()):"ArrowLeft"===e.key?(e.preventDefault(),e.stopImmediatePropagation(),this.primaryButtons.get(this.domIndex).nativeElement.focus()):"Escape"===e.key&&(e.preventDefault(),e.stopImmediatePropagation(),this.reset(!0),this.searchInput.nativeElement.focus()))}onButtonKeyDown(e){"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&e.target.dispatchEvent(new MouseEvent("click",{ctrlKey:!0}))}onDropdownOpenChange(e){e||this.reset()}disablePrimaryButton(e,i){return!![wn.Workflow,wn.CustomField,wn.Group,wn.User].includes(e)&&!this.permissionsService.currentUserHasObjectPermissions(mt.Change,i)}disableSecondaryButton(e,i){return wn.Document!==e&&!this.permissionsService.currentUserHasObjectPermissions(mt.Change,i)}runFullSearch(){this.documentListViewService.quickFilter([{rule_type:this.useAdvancedForFullSearch?20:19,value:this.query}]),this.reset(!0)}navigateOrOpenInNewWindow(e,i=!1,o={}){if(i){const s=this.router.serializeUrl(this.router.createUrlTree(e,o));window.open(s,"_blank")}else this.router.navigate(e,o)}static{this.\u0275fac=function(i){return new(i||t)(x(qB),x(Lo),x(Do),x(So),x(Va),x(ti),x(Fi),x(hg),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-global-search"]],viewQuery:function(i,o){if(1&i&&(dn(Act,5),dn(Oct,5),dn(yct,5),dn(Nct,5),dn(Dct,5)),2&i){let s;pt(s=gt())&&(o.searchInput=s.first),pt(s=gt())&&(o.resultsDropdown=s.first),pt(s=gt())&&(o.resultItems=s),pt(s=gt())&&(o.primaryButtons=s),pt(s=gt())&&(o.secondaryButtons=s)}},decls:17,vars:4,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe;return e="Search",i="Advanced search",o="Search",s="Open",r="Open",a="Open",l="Filter documents",c="Download",h="Open",p="No results",f="Documents",v="Saved Views",C="Tags",E="Correspondents",D="Document types",P="Storage paths",I="Users",k="Groups",R="Custom fields",ee="Mail accounts",re="Mail rules",fe="Workflows",[["resultsDropdown","ngbDropdown"],["searchInput",""],["resultItemTemplate",""],["resultItem",""],["primaryButton",""],["secondaryButton",""],i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,["ngbDropdown","",3,"openChange"],[1,"form-inline","position-relative"],["width","1em","height","1em","name","search"],[1,"input-group"],[1,"form-control","form-control-sm"],["type","text","name","query","placeholder",e,"aria-label","Search","autocomplete","off","spellcheck","false","ngbDropdownAnchor","",1,"bg-transparent","border-0","w-100","h-100",3,"ngModelChange","keydown","ngModel"],[1,"position-absolute","top-50","end-0","translate-middle"],[1,"spinner-border","spinner-border-sm","text-muted","mt-1"],["type","button",1,"btn","btn-sm","btn-outline-secondary"],["ngbDropdownMenu","",1,"w-100","mh-75","overflow-y-scroll","shadow-lg"],[3,"keydown"],[1,"dropdown-header"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","arrow-right-short"],["ngbDropdownItem","","tabindex","-1",1,"py-2","d-flex","align-items-center","focus-ring","border-0","cursor-pointer",3,"click","mouseenter"],["width","1.2em","height","1.2em",1,"me-2","text-muted",3,"name"],[1,"text-truncate"],[1,"small","text-muted"],[1,"btn-group","ms-auto"],["type","button",1,"btn","btn-sm","btn-outline-primary","d-flex",3,"click","keydown","mouseenter","disabled"],["type","button",1,"btn","btn-sm","btn-outline-primary","d-flex",3,"disabled"],["width","1em","height","1em","name","file-earmark-richtext"],["width","1em","height","1em","name","eye"],["width","1em","height","1em","name","pencil"],["width","1em","height","1em","name","filter"],["width","1em","height","1em","name","download"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",27,0),T("openChange",function(){return b(s),S(o.onDropdownOpenChange)}),d(2,"form",28),w(3,"i-bs",29),d(4,"div",30)(5,"div",31)(6,"input",32,1),je("ngModelChange",function(a){return b(s),$e(o.query,a)||(o.query=a),S(a)}),T("ngModelChange",function(a){return b(s),S(o.queryDebounce.next(a))})("keydown",function(a){return b(s),S(o.searchInputKeyDown(a))}),u(),d(8,"div",33),y(9,Bct,1,0,"div",34),u()(),y(10,Zct,4,1,"button",35),u()(),y(11,tdt,14,6,"ng-template",null,2,zt),d(13,"div",36)(14,"div",37),T("keydown",function(a){return b(s),S(o.dropdownKeyDown(a))}),y(15,ndt,2,0,"h6",38)(16,Vdt,12,12),u()()()}2&i&&(_(6),Ze("ngModel",o.query),_(3),N(o.loading?9:-1),_(),N(o.query?10:-1),_(5),N(0===(null==o.searchResults?null:o.searchResults.total)?15:16))},dependencies:[fr,Xt,Oo,Ti,jt,Mo,Rn,R_,qt,Gt,Jt,No,bo,ap,yo,Vs,Uo],styles:["form[_ngcontent-%COMP%]{position:relative}form[_ngcontent-%COMP%] > i-bs[name=search][_ngcontent-%COMP%]{position:absolute;left:.6rem;top:.35rem;color:#fff9}@media screen and (min-width: 768px){form[_ngcontent-%COMP%] > i-bs[name=search][_ngcontent-%COMP%]{top:.25rem}}form[_ngcontent-%COMP%]:focus-within   i-bs[name=search][_ngcontent-%COMP%], form[_ngcontent-%COMP%]:focus-within   .badge[_ngcontent-%COMP%]{display:none!important}form[_ngcontent-%COMP%]:focus-within   .form-control[_ngcontent-%COMP%]::placeholder{color:#fff0}form[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem}form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-color:#fff3;color:var(--pngx-primary-text-contrast);padding-top:.15rem;padding-bottom:.15rem;min-height:calc(1.3em + .5rem + var(--bs-border-width) * 2)!important}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:#ffffff4d;background-color:#00000026;padding-left:1.8rem;border-color:#fff3;transition:all .3s ease,padding-left 0s ease,background-color 0s ease}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{outline:none;color:var(--pngx-primary-text-contrast)}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]::placeholder{color:#fff6}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus-within{background-color:#0000004d;color:var(--bs-light);flex-grow:1;padding-left:.5rem}*[_ngcontent-%COMP%]{--pngx-focus-alpha: 0}.mh-75[_ngcontent-%COMP%]{max-height:75vh}.dropdown-item[_ngcontent-%COMP%]:has(button:focus){background-color:var(--pngx-bg-darker)}.dropdown-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .3s ease,color .15s ease;max-width:2rem;overflow:hidden}.dropdown-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:0;transition:inherit}.dropdown-item[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:has(button:focus)   button[_ngcontent-%COMP%]{max-width:10rem}.dropdown-item[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:has(button:focus)   span[_ngcontent-%COMP%]{opacity:1}"]})}}return t})();function $dt(t,n){if(1&t&&(w(0,"ngb-progressbar",11),d(1,"span",12),A(2),ye(3,"number"),u()),2&t){const e=g();m("max",e.toast.delay)("value",e.toast.delayRemaining),_(2),Le("",Yo(3,3,e.toast.delayRemaining/1e3,"1.0-0")," seconds")}}function Gdt(t,n){1&t&&w(0,"i-bs",5)}function Bdt(t,n){1&t&&w(0,"i-bs",6)}function Udt(t,n){if(1&t&&(d(0,"dl",14)(1,"dt",18),A(2,"URL"),u(),d(3,"dd",19),A(4),u(),d(5,"dt",18),M(6,1),u(),d(7,"dd",19),A(8),d(9,"em"),A(10),u()(),d(11,"dt",18),M(12,2),u(),d(13,"dd",19),A(14),u()()),2&t){const e=g(2);_(4),oe(e.toast.error.url),_(4),Le("",e.toast.error.status," "),_(2),oe(e.toast.error.statusText),_(4),oe(e.getErrorText(e.toast.error))}}function Wdt(t,n){1&t&&(w(0,"i-bs",20),A(1,"\xa0 "))}function Zdt(t,n){1&t&&(w(0,"i-bs",21),A(1,"\xa0 "))}function jdt(t,n){if(1&t){const e=F();d(0,"details",8)(1,"div",13),y(2,Udt,15,4,"dl",14),d(3,"div",15)(4,"div",16)(5,"button",17),T("click",function(){b(e);const o=g();return S(o.copyError(o.toast.error))}),y(6,Wdt,2,0)(7,Zdt,2,0),ae(8),M(9,0),le(),u()()()()()}if(2&t){const e=g();_(2),N(e.isDetailedError(e.toast.error)?2:-1),_(4),N(e.copied?-1:6),_(),N(e.copied?7:-1)}}function Xdt(t,n){if(1&t){const e=F();d(0,"p",9)(1,"button",17),T("click",function(){b(e);const o=g();return o.close.emit(o.toast),S(o.toast.action())}),A(2),u()()}if(2&t){const e=g();_(2),oe(e.toast.actionName)}}let YB=(()=>{class t{constructor(e){this.clipboard=e,this.autohide=!0,this.hidden=new Ee,this.close=new Ee,this.copied=!1}onShown(e){if(!this.autohide)return;const o=e.delay-500;nx(150).pipe(Js(Math.round(o/150))).subscribe(s=>{e.delayRemaining=Math.max(0,o-150*(s+1))})}isDetailedError(e){return"object"==typeof e&&"status"in e&&"statusText"in e&&"url"in e&&"message"in e&&"error"in e}copyError(e){this.clipboard.copy(JSON.stringify(e)),this.copied=!0,setTimeout(()=>{this.copied=!1},3e3)}getErrorText(e){let i=e.error?.detail??e.error??"";return"object"==typeof i&&(i=JSON.stringify(i)),`${i.slice(0,200)}${i.length>200?"...":""}`}static{this.\u0275fac=function(i){return new(i||t)(x(Tm))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-toast"]],inputs:{toast:"toast",autohide:"autohide"},outputs:{hidden:"hidden",close:"close"},decls:11,vars:12,consts:()=>{let e,i,o;return e="Copy Raw Error",i="Status",o="Error",[e,i,o,[3,"shown","hidden","autohide","delay"],[1,"d-flex","align-items-top"],["width","0.9em","height","0.9em","name","info-circle"],["width","0.9em","height","0.9em","name","exclamation-triangle"],[1,"ms-2","mb-0"],[1,"ms-2"],[1,"mb-0","mt-2"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","ms-auto","flex-shrink-0",3,"click"],["type","dark",1,"position-absolute","h-100","w-100","top-90","start-0","bottom-0","end-0","pe-none",3,"max","value"],[1,"visually-hidden"],[1,"mt-2","ms-n4","me-n2","small"],[1,"row","mb-0"],[1,"row"],[1,"col","offset-sm-3"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"col-sm-3","fw-normal","text-end"],[1,"col-sm-9"],["name","clipboard"],["name","clipboard-check"]]},template:function(i,o){1&i&&(d(0,"ngb-toast",3),T("shown",function(){return o.onShown(o.toast)})("hidden",function(){return o.hidden.emit(o.toast)}),y(1,$dt,4,6),d(2,"div",4),y(3,Gdt,1,0,"i-bs",5)(4,Bdt,1,0,"i-bs",6),d(5,"div")(6,"p",7),A(7),u(),y(8,jdt,10,3,"details",8)(9,Xdt,3,1,"p",9),u(),d(10,"button",10),T("click",function(){return o.close.emit(o.toast)}),u()()()),2&i&&(lo(o.toast.classname),Ce("mb-2",!0),m("autohide",o.autohide)("delay",o.toast.delay),_(),N(o.autohide?1:-1),_(2),N(o.toast.error?-1:3),_(),N(o.toast.error?4:-1),_(3),oe(o.toast.content),_(),N(o.toast.error?8:-1),_(),N(o.toast.action?9:-1))},dependencies:[q3,NM,a2e,Y0,Z6,Gt,Jt],styles:[".toast-body{position:relative}  .toast.error{border-color:#b7153066}  .toast.error .toast-body{background-color:#b71530cc;border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.progress[_ngcontent-%COMP%]{background-color:var(--pngx-primary);opacity:.07}"]})}}return t})();const Kdt=(t,n)=>n.id;function qdt(t,n){if(1&t&&(d(0,"span",4),A(1),u()),2&t){const e=g();_(),oe(e.toasts.length)}}function Ydt(t,n){1&t&&(d(0,"p",11)(1,"em"),M(2,2),u()())}function Qdt(t,n){if(1&t){const e=F();d(0,"pngx-toast",14),T("hidden",function(){const o=b(e).$implicit;return S(g().onHidden(o))})("close",function(){const o=b(e).$implicit;return S(g().toastService.closeToast(o))}),u()}if(2&t){const e=n.$implicit;m("autohide",!1)("toast",e)}}let Jdt=(()=>{class t{constructor(e){this.toastService=e,this.toasts=[]}ngOnDestroy(){this.subscription?.unsubscribe()}ngOnInit(){this.subscription=this.toastService.getToasts().subscribe(e=>{this.toasts=[...e]})}onOpenChange(e){this.toastService.suppressPopupToasts=e}static{this.\u0275fac=function(i){return new(i||t)(x(Fi))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-toasts-dropdown"]],decls:15,vars:3,consts:()=>{let e,i,o;return e="Notifications",i="Clear All",o="No notifications",[e,i,o,["ngbDropdown","",1,"nav-item",3,"openChange"],[1,"badge","rounded-pill","z-3","pe-none","bg-secondary","me-2","position-absolute","top-0","left-0"],["id","notificationsDropdown","ngbDropdownToggle","",1,"btn","border-0"],["width","1.3em","height","1.3em","name","bell"],["ngbDropdownMenu","","aria-labelledby","notificationsDropdown",1,"dropdown-menu-end","shadow","p-3"],["role","toolbar",1,"btn-toolbar","align-items-center"],[1,"btn-group","ms-auto"],[1,"btn","btn-sm","btn-outline-secondary","mb-2","ms-auto",3,"click","disabled"],[1,"text-center","mb-0","small","text-muted"],[1,"scroll-list"],[3,"autohide","toast"],[3,"hidden","close","autohide","toast"]]},template:function(i,o){1&i&&(d(0,"li",3),T("openChange",function(r){return o.onOpenChange(r)}),y(1,qdt,2,1,"span",4),d(2,"button",5),w(3,"i-bs",6),u(),d(4,"div",7)(5,"div",8)(6,"h6"),M(7,0),u(),d(8,"div",9)(9,"button",10),T("click",function(){return o.toastService.clearToasts()}),M(10,1),u()()(),y(11,Ydt,3,0,"p",11),d(12,"div",12),Ue(13,Qdt,1,2,"pngx-toast",13,Kdt),u()()()),2&i&&(_(),N(o.toasts.length?1:-1),_(8),m("disabled",0===o.toasts.length),_(2),N(0===o.toasts.length?11:-1),_(2),We(o.toasts))},dependencies:[YB,No,bo,Jo,yo,Y0,Gt,Jt],styles:[".dropdown-menu[_ngcontent-%COMP%]{width:var(--pngx-toast-max-width)}.dropdown-menu[_ngcontent-%COMP%]   .scroll-list[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-item[_ngcontent-%COMP%]{white-space:initial}@media screen and (max-width: 400px){[_nghost-%COMP%]     .dropdown-menu-end{right:-3rem}}"]})}}return t})(),Tg=(()=>{class t extends cl{constructor(e,i){super(e,"saved_views"),this.http=e,this.settingsService=i,this.loading=!0,this.savedViews=[]}list(e,i,o,s,r){return super.list(e,i,o,s,r).pipe(un({next:a=>{this.savedViews=a.results,this.loading=!1,this.settingsService.dashboardIsEmpty=0===this.dashboardViews.length},error:()=>{this.loading=!1,this.settingsService.dashboardIsEmpty=!0}}))}reload(){this.listAll().subscribe()}get allViews(){return this.savedViews}get sidebarViews(){const e=this.savedViews.filter(o=>o.show_in_sidebar),i=this.settingsService.get(Me.SIDEBAR_VIEWS_SORT_ORDER);return i?.length>0?i.map(o=>e.find(s=>s.id===o)).concat(e.filter(o=>!i.includes(o.id))).filter(o=>o):[...e]}get dashboardViews(){const e=this.savedViews.filter(o=>o.show_on_dashboard),i=this.settingsService.get(Me.DASHBOARD_VIEWS_SORT_ORDER);return i?.length>0?i.map(o=>e.find(s=>s.id===o)).concat(e.filter(o=>!i.includes(o.id))).filter(o=>o):[...e]}create(e){return super.create(e).pipe(un(()=>this.reload()))}patch(e,i=!1){return 0===e.display_fields?.length&&(e.display_fields=null),super.patch(e).pipe(un(()=>{i&&this.reload()}))}patchMany(e){return Fp(e.map(i=>this.patch(i,!1))).pipe(un(()=>this.reload()))}delete(e){return super.delete(e).pipe(un(()=>this.reload()))}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji),Be(En))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),e5t=(()=>{class t{constructor(e){this.http=e}checkForUpdates(){return this.http.get(`${gi.apiBaseUrl}remote_version/`)}static{this.\u0275fac=function(i){return new(i||t)(Be(Ji))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const t5t=(t,n)=>n.id,n5t=(t,n,e,i)=>({slim:t,"col-auto col-md-3 col-lg-2 col-xxxl-1":n,"py-3":e,"py-2":i}),Bs=(t,n)=>({action:t,type:n}),i5t=()=>[];function o5t(t,n){if(1&t&&(d(0,"div",41)(1,"span",92),A(2),u()()),2&t){const e=g();_(2),oe(e.customAppTitle)}}function s5t(t,n){1&t&&A(0," Paperless-ngx ")}function r5t(t,n){if(1&t){const e=F();d(0,"a",93),T("click",function(){return b(e),S(g().closeMenu())}),w(1,"i-bs",94),ae(2),M(3,9),le(),u()}}function a5t(t,n){1&t&&w(0,"i-bs",63)}function l5t(t,n){1&t&&w(0,"i-bs",64)}function c5t(t,n){if(1&t){const e=F();d(0,"li",67)(1,"a",95),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",96),d(3,"span"),A(4,"\xa0"),ae(5),M(6,10),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function d5t(t,n){1&t&&(d(0,"h6",73)(1,"span"),M(2,11),u(),w(3,"div",97),u())}function u5t(t,n){1&t&&(d(0,"div",104),w(1,"i-bs",105),u()),2&t&&Ce("me-n3",g(4).slimSidebarEnabled)}function h5t(t,n){if(1&t){const e=F();d(0,"li",100),T("cdkDragStarted",function(o){return b(e),S(g(3).onDragStart(o))})("cdkDragEnded",function(o){return b(e),S(g(3).onDragEnd(o))}),d(1,"a",101),T("click",function(){return b(e),S(g(3).closeMenu())}),w(2,"i-bs",102),d(3,"span"),A(4),u()(),y(5,u5t,2,2,"div",103),u()}if(2&t){const e=n.$implicit,i=g(3);m("cdkDragDisabled",!i.settingsService.organizingSidebarSavedViews),_(),Ce("text-truncate",!i.slimSidebarEnabled),Kt("routerLink","view/",e.id,""),m("ngbPopover",e.name)("disablePopover",!i.slimSidebarEnabled),_(3),Le("\xa0",e.name,""),_(),N(i.settingsService.organizingSidebarSavedViews?5:-1)}}function _5t(t,n){if(1&t){const e=F();d(0,"h6",73)(1,"span"),M(2,12),u()(),d(3,"ul",98),T("cdkDropListDropped",function(o){return b(e),S(g(2).onDrop(o))}),Ue(4,h5t,6,9,"li",99,t5t),u()}if(2&t){const e=g(2);_(4),We(e.savedViewService.sidebarViews)}}function p5t(t,n){if(1&t&&(d(0,"div",72),y(1,d5t,4,0,"h6",73)(2,_5t,6,0),u()),2&t){const e=g();_(),N(e.savedViewService.loading?1:(null==e.savedViewService.sidebarViews?null:e.savedViewService.sidebarViews.length)>0?2:-1)}}function g5t(t,n){1&t&&(d(0,"h6",73)(1,"span"),M(2,13),u()())}function f5t(t,n){if(1&t){const e=F();d(0,"li",106)(1,"a",107),ye(2,"documentTitle"),T("click",function(){return b(e),S(g(2).closeMenu())}),w(3,"i-bs",108),d(4,"span"),A(5),ye(6,"documentTitle"),u(),d(7,"span",109),T("click",function(o){const s=b(e).$implicit;return g(2).closeDocument(s),S(o.preventDefault())}),w(8,"i-bs",110),u()()()}if(2&t){const e=n.$implicit,i=g(2);_(),Ce("text-truncate",!i.slimSidebarEnabled),Kt("routerLink","documents/",e.id,""),m("ngbPopover",Ke(2,7,e.title))("disablePopover",!i.slimSidebarEnabled),_(4),Le("\xa0",Ke(6,9,e.title),"")}}function m5t(t,n){if(1&t){const e=F();d(0,"li",106)(1,"a",111),T("click",function(){return b(e),S(g(2).closeAll())}),w(2,"i-bs",112),d(3,"span"),A(4,"\xa0"),ae(5),M(6,14),le(),u()()()}if(2&t){const e=g(2);_(),Ce("text-truncate",!e.slimSidebarEnabled),m("routerLink",kl(4,i5t))("disablePopover",!e.slimSidebarEnabled)}}function v5t(t,n){if(1&t&&(d(0,"div",72),y(1,g5t,3,0,"h6",73),d(2,"ul",74),Ue(3,f5t,9,11,"li",106,Ht),y(5,m5t,7,5,"li",106),u()()),2&t){const e=g();_(),N(e.openDocuments.length>0?1:-1),_(2),We(e.openDocuments),_(2),N(e.openDocuments.length>=1?5:-1)}}function C5t(t,n){if(1&t){const e=F();d(0,"li",67)(1,"a",113),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",114),d(3,"span"),A(4,"\xa0"),ae(5),M(6,15),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function M5t(t,n){if(1&t){const e=F();d(0,"li",115)(1,"a",116),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",117),d(3,"span"),A(4,"\xa0"),ae(5),M(6,16),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function T5t(t,n){if(1&t){const e=F();d(0,"li",67)(1,"a",118),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",119),d(3,"span"),A(4,"\xa0"),ae(5),M(6,17),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function w5t(t,n){if(1&t){const e=F();d(0,"li",67)(1,"a",120),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",121),d(3,"span"),A(4,"\xa0"),ae(5),M(6,18),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function b5t(t,n){if(1&t){const e=F();d(0,"li",67)(1,"a",122),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",123),d(3,"span"),A(4,"\xa0"),ae(5),M(6,19),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function S5t(t,n){if(1&t){const e=F();d(0,"li",67)(1,"a",124),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",125),d(3,"span"),A(4,"\xa0"),ae(5),M(6,20),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function E5t(t,n){if(1&t){const e=F();d(0,"li",126)(1,"a",127),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",128),d(3,"span"),A(4,"\xa0"),ae(5),M(6,21),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function A5t(t,n){if(1&t){const e=F();d(0,"li",129)(1,"a",130),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",131),d(3,"span"),A(4,"\xa0"),ae(5),M(6,22),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function O5t(t,n){if(1&t){const e=F();d(0,"li",67)(1,"a",132),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",133),d(3,"span"),A(4,"\xa0"),ae(5),M(6,23),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function y5t(t,n){if(1&t){const e=F();d(0,"li",134)(1,"a",135),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",136),d(3,"span"),A(4,"\xa0"),ae(5),M(6,24),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function N5t(t,n){if(1&t){const e=F();d(0,"li",67)(1,"a",137),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",138),d(3,"span"),A(4,"\xa0"),ae(5),M(6,25),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function D5t(t,n){if(1&t){const e=F();d(0,"li",67)(1,"a",139),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",140),d(3,"span"),A(4,"\xa0"),ae(5),M(6,26),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function P5t(t,n){if(1&t&&(d(0,"span")(1,"span",145),A(2),u()()),2&t){const e=g(2);_(2),oe(e.tasksService.failedFileTasks.length)}}function I5t(t,n){if(1&t&&(d(0,"span",144),A(1),u()),2&t){const e=g(2);_(),oe(e.tasksService.failedFileTasks.length)}}function x5t(t,n){if(1&t){const e=F();d(0,"li",141)(1,"a",142),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",143),d(3,"span"),A(4,"\xa0"),ae(5),M(6,27),le(),y(7,P5t,3,1,"span"),u(),y(8,I5t,2,1,"span",144),u()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled),_(6),N(e.tasksService.failedFileTasks.length>0?7:-1),_(),N(e.tasksService.failedFileTasks.length>0&&e.slimSidebarEnabled?8:-1)}}function L5t(t,n){if(1&t){const e=F();d(0,"li",67)(1,"a",146),T("click",function(){return b(e),S(g().closeMenu())}),w(2,"i-bs",147),d(3,"span"),A(4,"\xa0"),ae(5),M(6,28),le(),u()()()}if(2&t){const e=g();_(),m("disablePopover",!e.slimSidebarEnabled)}}function R5t(t,n){if(1&t&&(d(0,"span",149),A(1),ae(2),M(3,29),le(),w(4,"br"),ae(5),M(6,30),le(),u()),2&t){const e=g(2);_(),Le("Paperless-ngx ",e.appRemoteVersion.version," ")}}function F5t(t,n){if(1&t){const e=F();d(0,"p",150),ae(1),M(2,31),le(),u(),d(3,"div",151)(4,"button",152),T("click",function(){return b(e),S(g(2).setUpdateChecking(!0))}),A(5,"Enable"),u(),d(6,"button",153),T("click",function(){return b(e),S(g(2).setUpdateChecking(!1))}),A(7,"Disable"),u()(),d(8,"p",154)(9,"a",155),M(10,32),u()()}}function k5t(t,n){1&t&&(A(0," \xa0"),ae(1),M(2,33),le())}function z5t(t,n){if(1&t&&(d(0,"a",156),w(1,"i-bs",157),y(2,k5t,3,0),u()),2&t){g(2);const e=Ve(2),i=g();m("ngbPopover",e),_(2),N(null!=i.appRemoteVersion&&i.appRemoteVersion.update_available?2:-1)}}function V5t(t,n){1&t&&y(0,z5t,3,2,"a",156),2&t&&N(g(2).appRemoteVersion.update_available?0:-1)}function H5t(t,n){1&t&&(d(0,"a",148),w(1,"i-bs",157),u()),2&t&&(g(2),m("ngbPopover",Ve(4)))}function $5t(t,n){if(1&t&&y(0,H5t,2,1,"a",158),2&t){const e=g(2);m("pngxIfPermissions",Pe(1,Bs,e.PermissionAction.Change,e.PermissionType.UISettings))}}function G5t(t,n){if(1&t&&(d(0,"div",90),y(1,R5t,7,1,"ng-template",null,0,zt)(3,F5t,11,0,"ng-template",null,1,zt)(5,V5t,1,1)(6,$5t,1,4,"a",148),u()),2&t){const e=g();_(5),N(e.settingsService.updateCheckingIsSet?5:6)}}let B5t=(()=>{class t extends ca{constructor(e,i,o,s,r,a,l,c,h,p,f){super(),this.router=e,this.activatedRoute=i,this.openDocumentsService=o,this.savedViewService=s,this.remoteVersionService=r,this.settingsService=a,this.tasksService=l,this.toastService=c,this.modalService=h,this.permissionsService=p,this.djangoMessagesService=f,this.versionString=`${gi.appTitle} ${gi.version}`,this.isMenuCollapsed=!0,this.slimSidebarAnimating=!1,p.currentUserCan(mt.View,Ct.SavedView)&&this.savedViewService.reload()}ngOnInit(){this.settingsService.get(Me.UPDATE_CHECKING_ENABLED)&&this.checkForUpdates(),this.permissionsService.currentUserCan(mt.View,Ct.PaperlessTask)&&this.tasksService.reload(),this.djangoMessagesService.get().forEach(e=>{switch(e.level){case Fu.ERROR:case Fu.WARNING:this.toastService.showError(e.message);break;case Fu.SUCCESS:case Fu.INFO:case Fu.DEBUG:this.toastService.showInfo(e.message)}})}toggleSlimSidebar(){this.slimSidebarAnimating=!0,this.slimSidebarEnabled=!this.slimSidebarEnabled,setTimeout(()=>{this.slimSidebarAnimating=!1},200)}get customAppTitle(){return this.settingsService.get(Me.APP_TITLE)}get slimSidebarEnabled(){return this.settingsService.get(Me.SLIM_SIDEBAR)}set slimSidebarEnabled(e){this.settingsService.set(Me.SLIM_SIDEBAR,e),this.settingsService.storeSettings().pipe(ut()).subscribe({error:i=>{this.toastService.showError("An error occurred while saving settings."),console.warn(i)}})}closeMenu(){this.isMenuCollapsed=!0}editProfile(){this.modalService.open(ylt,{backdrop:"static",size:"xl"}),this.closeMenu()}get openDocuments(){return this.openDocumentsService.getOpenDocuments()}canDeactivate(){return!this.openDocumentsService.hasDirty()}closeDocument(e){this.openDocumentsService.closeDocument(e).pipe(ut()).subscribe(i=>{if(i){this.closeMenu();let o=this.activatedRoute.snapshot;for(;o.firstChild;)o=o.firstChild;o.component==Lm&&o.params.id==e.id&&this.router.navigate([""])}})}closeAll(){this.openDocumentsService.closeAll().pipe(ut()).subscribe(e=>{if(e){this.closeMenu();let i=this.activatedRoute;for(;i.firstChild;)i=i.firstChild;i.component===Lm&&this.router.navigate([""])}})}onDragStart(e){this.settingsService.globalDropzoneEnabled=!1}onDragEnd(e){this.settingsService.globalDropzoneEnabled=!0}onDrop(e){const i=this.savedViewService.sidebarViews.concat([]);gd(i,e.previousIndex,e.currentIndex),this.settingsService.updateSidebarViewsSort(i).subscribe({next:()=>{this.toastService.showInfo("Sidebar views updated")},error:o=>{this.toastService.showError("Error updating sidebar views",o)}})}checkForUpdates(){this.remoteVersionService.checkForUpdates().subscribe(e=>{this.appRemoteVersion=e})}setUpdateChecking(e){this.settingsService.set(Me.UPDATE_CHECKING_ENABLED,e),this.settingsService.storeSettings().pipe(ut()).subscribe({error:i=>{this.toastService.showError("An error occurred while saving update checking settings."),console.warn(i)}}),e&&this.checkForUpdates()}onLogout(){this.openDocumentsService.closeAll()}static{this.\u0275fac=function(i){return new(i||t)(x(Lo),x(v1),x(ug),x(Tg),x(e5t),x(En),x(wm),x(Fi),x(Do),x(ti),x(ilt))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-app-frame"]],hostBindings:function(i,o){1&i&&T("beforeunload",function(){return o.canDeactivate()},0,t0)},features:[st],decls:92,vars:93,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt,nt,Dt,Bt,Zt,Ge,Ft,It,yi,ci,St,kn,zi,Ni,yt,Ln,Di,Fo,Ps,Zs,Cr,Yt,Ua,Wa,ga;return e="Dashboard",i="Documentation",o="GitHub",s="Logged in as " + "\ufffd0\ufffd" + "",r="My Profile",a="Logout",l="Dashboard",c="Manage",h="Administration",p="Documentation",f="Settings",v="Documents",C="Documents",E="Saved views",D="Saved views",P="Open documents",I="Close all",k="Close all",R="Correspondents",ee="Correspondents",re="Tags",fe="Tags",pe="Document Types",ue="Document Types",me="Storage Paths",Fe="Storage Paths",bt="Custom Fields",nt="Custom Fields",Dt="Saved Views",Bt="Saved Views",Zt="Workflows",Ge="Workflows",Ft="Mail",It="Mail",yi="Trash",ci="Trash",St="Settings",kn="Settings",zi="Configuration",Ni="Configuration",yt="Users & Groups",Ln="Users & Groups",Di="File Tasks",Fo="File Tasks",Ps="Logs",Zs="Logs",Cr="is available.",Yt="Click to view.",Ua="Paperless-ngx can automatically check for updates",Wa=" How does this work? ",ga="Update available",[["updateAvailablePopContent",""],["updateCheckingNotEnabledPopContent",""],s,r,a,l,c,h,p,f,C,E,D,P,k,ee,fe,ue,Fe,nt,Bt,Ge,It,ci,kn,Ni,Ln,Fo,Zs,Cr,Yt,Ua,Wa,ga,[1,"navbar","navbar-dark","fixed-top","bg-primary","flex-md-nowrap","p-0","shadow-sm"],["type","button","data-toggle","collapse","data-target","#sidebarMenu","aria-controls","sidebarMenu","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","d-md-none","collapsed","border-0",3,"click"],[1,"navbar-toggler-icon"],["routerLink","/dashboard","tourAnchor","tour.intro",1,"navbar-brand","d-flex","align-items-center","me-0","px-3","py-3","order-sm-0",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 198.43 238.91","width","1em","height","1.5em","fill","currentColor"],["d","M194.7,0C164.22,70.94,17.64,79.74,64.55,194.06c.58,1.47-10.85,17-18.47,29.9-1.76-6.45-3.81-13.48-3.52-14.07,38.11-45.14-27.26-70.65-30.78-107.58C-4.64,131.62-10.5,182.92,39,212.53c.3,0,2.64,11.14,3.81,16.71a58.55,58.55,0,0,0-2.93,6.45c-1.17,2.93,7.62,2.64,7.62,3.22.88-.29,21.7-36.93,22.28-37.23C187.67,174.72,208.48,68.6,194.7,0ZM134.61,74.75C79.5,124,70.12,160.64,71.88,178.53,53.41,134.85,107.64,86.77,134.61,74.75ZM28.2,145.11c10.55,9.67,28.14,39.28,13.19,56.57C44.91,193.77,46.08,175.89,28.2,145.11Z","transform","translate(0 0)"],[1,"ms-2","ms-md-3","d-inline-block"],[1,"d-flex","flex-column","align-items-start"],[1,"search-container","flex-grow-1","py-2","pb-3","pb-sm-2","px-3","ps-md-4","me-sm-auto","order-3","order-sm-1"],[1,"col-12","col-md-7"],["ngbNav","",1,"order-sm-3"],["ngbDropdown","",1,"nav-item","dropdown"],["id","userDropdown","ngbDropdownToggle","",1,"btn","ps-1","border-0"],["width","1.3em","height","1.3em","name","person-circle"],[1,"small","ms-2","d-none","d-sm-inline"],["ngbDropdownMenu","","aria-labelledby","userDropdown",1,"dropdown-menu-end","shadow","me-2"],[1,"d-sm-none"],[1,"small","mb-0","px-3","text-muted"],[1,"dropdown-divider"],["ngbDropdownItem","",1,"nav-link",3,"click"],["name","person",1,"me-2"],["ngbDropdownItem","","class","nav-link","routerLink","settings",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem","","href","accounts/logout/",1,"nav-link","d-flex",3,"click"],["name","door-open",1,"me-2"],["ngbDropdownItem","","target","_blank","rel","noopener noreferrer","href","https://docs.paperless-ngx.com",1,"nav-link"],[1,"container-fluid"],[1,"row"],["id","sidebarMenu",1,"d-md-block","bg-light","sidebar","collapse",3,"ngClass","ngbCollapse"],[1,"btn","btn-sm","btn-dark","sidebar-slim-toggler",3,"click"],["width","0.9em","height","0.9em","name","chevron-double-right"],["width","0.9em","height","0.9em","name","chevron-double-left"],[1,"sidebar-sticky","pt-3","d-flex","flex-column","justify-space-around"],[1,"nav","flex-column"],[1,"nav-item","app-link"],["routerLink","dashboard","routerLinkActive","active","ngbPopover",e,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","house",1,"me-1"],["class","nav-item app-link",4,"pngxIfPermissions"],["class","nav-group mt-3 mb-1",4,"pngxIfPermissions"],[1,"nav-group","mt-3","mb-1"],[1,"sidebar-heading","px-3","text-muted"],[1,"nav","flex-column","mb-2"],["class","nav-item app-link","tourAnchor","tour.tags",4,"pngxIfPermissions"],["class","nav-item app-link","tourAnchor","tour.workflows",4,"pngxIfPermissions"],["class","nav-item app-link","tourAnchor","tour.mail",4,"pngxIfPermissions"],[1,"nav-group","mt-auto","mb-1"],[1,"sidebar-heading","px-3","pt-4","text-muted"],["class","nav-item app-link","tourAnchor","tour.settings",4,"pngxIfPermissions"],["class","nav-item app-link","tourAnchor","tour.file-tasks",4,"pngxIfPermissions"],["tourAnchor","tour.outro",1,"nav-item","mt-2"],["target","_blank","rel","noopener noreferrer","href","https://docs.paperless-ngx.com","ngbPopover",i,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"px-3","py-2","text-muted","small","d-flex","align-items-center","flex-wrap","text-decoration-none",3,"disablePopover"],["name","question-circle",1,"d-flex"],[1,"ms-1"],[1,"nav-item"],[1,"px-3","py-0","text-muted","small","d-flex","align-items-center","flex-wrap"],[1,"me-3"],["target","_blank","rel","noopener noreferrer","href","https://github.com/paperless-ngx/paperless-ngx","ngbPopover",o,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"text-muted","text-decoration-none",3,"disablePopover"],[1,"version-check"],["role","main",1,"ms-sm-auto","px-md-4",3,"ngClass"],[1,"title"],["ngbDropdownItem","","routerLink","settings",1,"nav-link",3,"click"],["name","gear",1,"me-2"],["routerLink","documents","routerLinkActive","active","ngbPopover",v,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","files",1,"me-1"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2"],["cdkDropList","",1,"nav","flex-column","mb-2",3,"cdkDropListDropped"],["cdkDrag","","cdkDragPreviewContainer","parent","cdkDragPreviewClass","navItemDrag",1,"nav-item","w-100","app-link",3,"cdkDragDisabled"],["cdkDrag","","cdkDragPreviewContainer","parent","cdkDragPreviewClass","navItemDrag",1,"nav-item","w-100","app-link",3,"cdkDragStarted","cdkDragEnded","cdkDragDisabled"],["routerLinkActive","active","placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","routerLink","ngbPopover","disablePopover"],["name","funnel",1,"me-1"],["cdkDragHandle","",1,"position-absolute","end-0","top-0","px-3","py-2",3,"me-n3"],["cdkDragHandle","",1,"position-absolute","end-0","top-0","px-3","py-2"],["name","grip-vertical"],[1,"nav-item","w-100","app-link"],["routerLinkActive","active","placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link","app-link",3,"click","routerLink","ngbPopover","disablePopover"],["name","file-text",1,"me-1"],[1,"close",3,"click"],["name","x"],["ngbPopover",I,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link","app-link",3,"click","routerLink","disablePopover"],["name","x",1,"me-1"],["routerLink","correspondents","routerLinkActive","active","ngbPopover",R,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","person",1,"me-1"],["tourAnchor","tour.tags",1,"nav-item","app-link"],["routerLink","tags","routerLinkActive","active","ngbPopover",re,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","tags",1,"me-1"],["routerLink","documenttypes","routerLinkActive","active","ngbPopover",pe,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","hash",1,"me-1"],["routerLink","storagepaths","routerLinkActive","active","ngbPopover",me,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","folder",1,"me-1"],["routerLink","customfields","routerLinkActive","active","ngbPopover",bt,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","ui-radios",1,"me-1"],["routerLink","savedviews","routerLinkActive","active","ngbPopover",Dt,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","window-stack",1,"me-1"],["tourAnchor","tour.workflows",1,"nav-item","app-link"],["routerLink","workflows","routerLinkActive","active","ngbPopover",Zt,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","boxes",1,"me-1"],["tourAnchor","tour.mail",1,"nav-item","app-link"],["routerLink","mail","routerLinkActive","active","ngbPopover",Ft,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","envelope",1,"me-1"],["routerLink","trash","routerLinkActive","active","ngbPopover",yi,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","trash",1,"me-1"],["tourAnchor","tour.settings",1,"nav-item","app-link"],["routerLink","settings","routerLinkActive","active","ngbPopover",St,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","gear",1,"me-1"],["routerLink","config","routerLinkActive","active","ngbPopover",zi,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","sliders2-vertical",1,"me-1"],["routerLink","usersgroups","routerLinkActive","active","ngbPopover",yt,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","people",1,"me-1"],["tourAnchor","tour.file-tasks",1,"nav-item","app-link"],["routerLink","tasks","routerLinkActive","active","ngbPopover",Di,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","list-task",1,"me-1"],[1,"badge","bg-danger","position-absolute","top-0","end-0","d-none","d-md-block"],[1,"badge","bg-danger","ms-2","d-inline"],["routerLink","logs","routerLinkActive","active","ngbPopover",Ps,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","text-left",1,"me-1"],["routerLink","/settings","fragment","update-checking","popoverClass","shadow","triggers","mouseenter","container","body",1,"small","text-decoration-none",3,"ngbPopover"],[1,"small"],[1,"small","mb-2"],[1,"btn-group","btn-group-xs","flex-fill","w-100"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],[1,"small","mb-0","mt-2"],["routerLink","/settings","fragment","update-checking",1,"small","text-decoration-none","fst-italic"],["target","_blank","rel","noopener noreferrer","href","https://github.com/paperless-ngx/paperless-ngx/releases","popoverClass","shadow","triggers","mouseenter:mouseleave","container","body",1,"small","text-decoration-none",3,"ngbPopover"],["width","1.2em","height","1.2em","name","info-circle"],["class","small text-decoration-none","routerLink","/settings","fragment","update-checking","popoverClass","shadow","triggers","mouseenter","container","body",3,"ngbPopover",4,"pngxIfPermissions"]]},template:function(i,o){1&i&&(d(0,"nav",34)(1,"button",35),T("click",function(){return o.isMenuCollapsed=!o.isMenuCollapsed}),w(2,"span",36),u(),d(3,"a",37),qu(),d(4,"svg",38),w(5,"path",39),u(),function IS(){!function QW(){Tn.lFrame.currentNamespace=null}()}(),d(6,"div",40),y(7,o5t,3,1,"div",41)(8,s5t,1,0),u()(),d(9,"div",42)(10,"div",43),w(11,"pngx-global-search"),u()(),d(12,"ul",44),w(13,"pngx-toasts-dropdown"),d(14,"li",45)(15,"button",46),w(16,"i-bs",47),d(17,"span",48),A(18),u()(),d(19,"div",49)(20,"div",50)(21,"p",51),M(22,2),u(),w(23,"div",52),u(),d(24,"button",53),T("click",function(){return o.editProfile()}),w(25,"i-bs",54),ae(26),M(27,3),le(),u(),y(28,r5t,4,0,"a",55),d(29,"a",56),T("click",function(){return o.onLogout()}),w(30,"i-bs",57),ae(31),M(32,4),le(),u(),w(33,"div",52)(34,"a",58),u()()()(),d(35,"div",59)(36,"div",60)(37,"nav",61)(38,"button",62),T("click",function(){return o.toggleSlimSidebar()}),y(39,a5t,1,0,"i-bs",63)(40,l5t,1,0,"i-bs",64),u(),d(41,"div",65)(42,"ul",66)(43,"li",67)(44,"a",68),T("click",function(){return o.closeMenu()}),w(45,"i-bs",69),d(46,"span"),A(47,"\xa0"),ae(48),M(49,5),le(),u()()(),y(50,c5t,7,1,"li",70),u(),y(51,p5t,3,1,"div",71)(52,v5t,6,2,"div",71),d(53,"div",72)(54,"h6",73)(55,"span"),M(56,6),u()(),d(57,"ul",74),y(58,C5t,7,1,"li",70)(59,M5t,7,1,"li",75)(60,T5t,7,1,"li",70)(61,w5t,7,1,"li",70)(62,b5t,7,1,"li",70)(63,S5t,7,1,"li",70)(64,E5t,7,1,"li",76)(65,A5t,7,1,"li",77)(66,O5t,7,1,"li",70),u()(),d(67,"div",78)(68,"h6",79)(69,"span"),M(70,7),u()(),d(71,"ul",74),y(72,y5t,7,1,"li",80)(73,N5t,7,1,"li",70)(74,D5t,7,1,"li",70)(75,x5t,9,3,"li",81)(76,L5t,7,1,"li",67),d(77,"li",82)(78,"a",83),w(79,"i-bs",84),d(80,"span",85),A(81,"\xa0"),ae(82),M(83,8),le(),u()()(),d(84,"li",86)(85,"div",87)(86,"div",88)(87,"a",89),A(88),u()(),y(89,G5t,7,1,"div",90),u()()()()()(),d(90,"main",91),w(91,"router-outlet"),u()()()),2&i&&(_(3),m("ngClass",uC(37,n5t,o.slimSidebarEnabled,!o.slimSidebarEnabled,!(null!=o.customAppTitle&&o.customAppTitle.length)||o.slimSidebarEnabled,null==o.customAppTitle?null:o.customAppTitle.length)),_(3),Ce("d-md-none",o.slimSidebarEnabled),_(),N(null!=o.customAppTitle&&o.customAppTitle.length?7:8),_(11),Le(" ",o.settingsService.displayName," "),_(4),bn(o.settingsService.displayName),Sn(22),_(6),m("pngxIfPermissions",Pe(42,Bs,o.PermissionAction.Change,o.PermissionType.UISettings)),_(9),Ce("animating",o.slimSidebarAnimating),m("ngClass",o.slimSidebarEnabled?"slim":"col-md-3 col-lg-2 col-xxxl-1")("ngbCollapse",o.isMenuCollapsed),_(2),N(o.slimSidebarEnabled?39:40),_(5),m("disablePopover",!o.slimSidebarEnabled),_(6),m("pngxIfPermissions",Pe(45,Bs,o.PermissionAction.View,o.PermissionType.Document)),_(),m("pngxIfPermissions",Pe(48,Bs,o.PermissionAction.View,o.PermissionType.SavedView)),_(),m("pngxIfPermissions",Pe(51,Bs,o.PermissionAction.View,o.PermissionType.Document)),_(6),m("pngxIfPermissions",Pe(54,Bs,o.PermissionAction.View,o.PermissionType.Correspondent)),_(),m("pngxIfPermissions",Pe(57,Bs,o.PermissionAction.View,o.PermissionType.Tag)),_(),m("pngxIfPermissions",Pe(60,Bs,o.PermissionAction.View,o.PermissionType.DocumentType)),_(),m("pngxIfPermissions",Pe(63,Bs,o.PermissionAction.View,o.PermissionType.StoragePath)),_(),m("pngxIfPermissions",Pe(66,Bs,o.PermissionAction.View,o.PermissionType.CustomField)),_(),m("pngxIfPermissions",Pe(69,Bs,o.PermissionAction.View,o.PermissionType.SavedView)),_(),m("pngxIfPermissions",Pe(72,Bs,o.PermissionAction.View,o.PermissionType.Workflow)),_(),m("pngxIfPermissions",Pe(75,Bs,o.PermissionAction.View,o.PermissionType.MailAccount)),_(),m("pngxIfPermissions",Pe(78,Bs,o.PermissionAction.Delete,o.PermissionType.Document)),_(6),m("pngxIfPermissions",Pe(81,Bs,o.PermissionAction.Change,o.PermissionType.UISettings)),_(),m("pngxIfPermissions",Pe(84,Bs,o.PermissionAction.Change,o.PermissionType.AppConfig)),_(),m("pngxIfPermissions",Pe(87,Bs,o.PermissionAction.View,o.PermissionType.User)),_(),m("pngxIfPermissions",Pe(90,Bs,o.PermissionAction.View,o.PermissionType.PaperlessTask)),_(),N(o.permissionsService.isAdmin()?76:-1),_(2),m("disablePopover",!o.slimSidebarEnabled),_(6),Ce("visually-hidden",o.slimSidebarEnabled),_(3),m("disablePopover",!o.slimSidebarEnabled),_(),Le(" ",o.versionString," "),_(),N(!o.settingsService.updateCheckingIsSet||o.appRemoteVersion?89:-1),_(),m("ngClass",o.slimSidebarEnabled?"col-slim":"col-md-9 col-lg-10 col-xxxl-11"))},dependencies:[Hdt,wc,Ro,Jdt,aa,W4,Vr,H$,Dr,No,bo,Jo,yo,Vs,Rr,Pa,Da,J_,X_,nc,g0,Gt,Jt,fd,D2,N2,w9,hc,uc],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;z-index:995;padding:50px 0 0;box-shadow:inset -1px 0 #0000001a;overflow-y:auto;--pngx-sidebar-width: 100%;max-width:var(--pngx-sidebar-width);transition:all .2s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:.8em;height:.8em}.sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]:not(:has(.app-link))   .sidebar-heading[_ngcontent-%COMP%]{display:none!important}@media (min-width: 768px){.sidebar[_ngcontent-%COMP%]{--pngx-sidebar-width: 25%}}@media (min-width: 992px){.sidebar[_ngcontent-%COMP%]{--pngx-sidebar-width: 16.66666667%}}@media (min-width: 2400px){.sidebar[_ngcontent-%COMP%]{--pngx-sidebar-width: 8.33333333%}}@media (max-width: 767.98px){.sidebar[_ngcontent-%COMP%]{top:3.5rem}}main[_ngcontent-%COMP%]{transition:all .2s ease;padding-top:110px}@media (min-width: 768px){main[_ngcontent-%COMP%]{padding-top:56px}}.sidebar-slim-toggler[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:all .1s ease}@media (min-width: 768px){.sidebar.slim[_ngcontent-%COMP%]{max-width:50px}.sidebar.slim[_ngcontent-%COMP%]:not(.animating)   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar.slim[_ngcontent-%COMP%]:not(.animating)   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sidebar.animating[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar.animating[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:unset;position:absolute;opacity:0;overflow:hidden}.sidebar[_ngcontent-%COMP%]:not(.slim):not(.animating)   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]:not(.slim):not(.animating)   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:unset;opacity:1;overflow:auto}.sidebar.slim[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%], .sidebar.animating[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%]{text-overflow:unset!important;word-wrap:break-word!important}.sidebar.slim[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{display:inline-block;margin-right:2px}.sidebar-slim-toggler[_ngcontent-%COMP%]{display:block;position:fixed;left:calc(var(--pngx-sidebar-width) - 12px);top:60px;z-index:996;--bs-btn-padding-x: .35rem;--bs-btn-padding-y: .125rem;transition:all .2s ease}.sidebar.slim[_ngcontent-%COMP%]   .sidebar-slim-toggler[_ngcontent-%COMP%]{--pngx-sidebar-width: 50px !important}}  .popover-slim .popover-body{--bs-popover-body-padding-x: .5rem;--bs-popover-body-padding-y: .5rem}.sidebar-sticky[_ngcontent-%COMP%]{position:relative;top:0;height:100%;padding-top:.5rem;overflow-x:hidden;overflow-y:auto;min-height:min-content}@supports (position: sticky){.sidebar-sticky[_ngcontent-%COMP%]{position:sticky}}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;white-space:nowrap}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:var(--bs-primary)}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus-visible{outline:none;background-color:var(--bs-body-bg)}.sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{font-weight:700}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{position:relative;top:-1px}.sidebar-heading[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase}.nav[_ngcontent-%COMP%]{flex-wrap:nowrap}.nav-item[_ngcontent-%COMP%]{position:relative;list-style-type:none}.nav-item[_ngcontent-%COMP%]:hover   .close[_ngcontent-%COMP%]{display:block}.nav-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{display:none;position:absolute!important;cursor:pointer;opacity:1;top:0;padding:.25rem .3rem 0;right:.4rem;width:1.8rem;height:100%}.nav-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{opacity:.5}.nav-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover   i-bs[_ngcontent-%COMP%]{opacity:1}.nav-item[_ngcontent-%COMP%]   .nav-link-additional[_ngcontent-%COMP%]{margin-top:.1rem;margin-left:.25rem;padding-top:.5rem;text-decoration:none}.nav-item[_ngcontent-%COMP%]   .nav-link-additional[_ngcontent-%COMP%]:hover{text-decoration:underline}.nav-item[_ngcontent-%COMP%]   .nav-link-additional[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{margin-bottom:2px}.navbar-brand[_ngcontent-%COMP%]{font-size:1rem}.navbar-brand[_ngcontent-%COMP%]   .flex-column[_ngcontent-%COMP%]{padding:.15rem 0}.navbar-brand[_ngcontent-%COMP%]   .byline[_ngcontent-%COMP%]{font-size:.5rem;letter-spacing:.1rem}@media screen and (max-width: 768px){.navbar-toggler[_ngcontent-%COMP%]{margin-right:45px}}@media screen and (min-width: 768px){.navbar-brand.slim[_ngcontent-%COMP%]{max-width:50px}}[_nghost-%COMP%]     .dropdown.show .dropdown-toggle, [_nghost-%COMP%]     .dropdown-toggle:hover{opacity:.7}.dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:.4em;vertical-align:.155em}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{font-size:.875rem}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{opacity:.6}.version-check[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s ease-in-out 0s 1}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:0}25%{opacity:100%}75%{opacity:0}to{opacity:100%}}.nav-item[_ngcontent-%COMP%] > .position-absolute[_ngcontent-%COMP%]{cursor:move}  .navItemDrag .position-absolute i-bs{display:none}"]})}}return t})();function U5t(t,n){if(1&t&&(d(0,"div",6),A(1),u()),2&t){const e=g(3);_(),Le(" ",e.field.name," ")}}function W5t(t,n){if(1&t&&(d(0,"span",2),A(1),ye(2,"currency"),u()),2&t){g();const e=Ve(1),i=g(2);m("ngbTooltip",e),_(),oe(Yo(2,2,i.value,i.currency))}}function Z5t(t,n){if(1&t&&(d(0,"span",2),A(1),ye(2,"customDate"),u()),2&t){g();const e=Ve(1),i=g(2);m("ngbTooltip",e),_(),oe(Ke(2,2,i.value))}}function j5t(t,n){if(1&t&&(d(0,"a",3),A(1),u()),2&t){g();const e=Ve(1),i=g(2);m("ngbTooltip",e)("href",i.value,cs),_(),oe(i.value)}}function X5t(t,n){if(1&t&&(d(0,"a",7),w(1,"i-bs",8),A(2,"\xa0"),d(3,"span"),A(4),u()()),2&t){const e=g().$implicit,i=g(4);Kt("routerLink","/documents/",e,""),_(4),oe(i.getDocumentTitle(e))}}function K5t(t,n){if(1&t&&y(0,X5t,5,3,"a",7),2&t){const e=n.$implicit;N(g(4).getDocumentTitle(e)?0:-1)}}function q5t(t,n){if(1&t&&(d(0,"div",4),Ue(1,K5t,1,1,null,null,Ht),u()),2&t){g();const e=Ve(1),i=g(2);m("ngbTooltip",e),_(),We(i.value)}}function Y5t(t,n){if(1&t&&(d(0,"div",5)(1,"span"),A(2),u(),w(3,"input",9),u()),2&t){const e=g(3);_(2),Le("",e.field.name,":"),_(),ai("id",e.field.name),ai("name",e.field.name),m("checked",e.value)}}function Q5t(t,n){if(1&t&&(d(0,"span",2),A(1),u()),2&t){g();const e=Ve(1),i=g(2);m("ngbTooltip",e),_(),oe(i.getSelectValue(i.field,i.value))}}function J5t(t,n){if(1&t&&(d(0,"span",2),A(1),u()),2&t){g();const e=Ve(1),i=g(2);m("ngbTooltip",e),_(),oe(i.value)}}function e2t(t,n){if(1&t&&y(0,U5t,2,1,"ng-template",null,0,zt)(2,W5t,3,5,"span",2)(3,Z5t,3,4,"span",2)(4,j5t,2,3,"a",3)(5,q5t,3,1,"div",4)(6,Y5t,4,4,"div",5)(7,Q5t,2,2,"span",2)(8,J5t,2,2,"span",2),2&t){let e;const i=g(2);_(2),N((e=i.field.data_type)===i.CustomFieldDataType.Monetary?2:e===i.CustomFieldDataType.Date?3:e===i.CustomFieldDataType.Url?4:e===i.CustomFieldDataType.DocumentLink?5:e===i.CustomFieldDataType.Boolean?6:e===i.CustomFieldDataType.Select?7:8)}}function t2t(t,n){if(1&t&&(d(0,"span",1),A(1),u()),2&t){const e=g(2);_(),oe(e.field.name)}}function n2t(t,n){if(1&t&&y(0,e2t,9,1)(1,t2t,2,1,"span",1),2&t){const e=g();N((null==e.value?null:e.value.toString().length)>0?0:e.showNameIfEmpty?1:-1)}}let zm=(()=>{class t extends ns{set document(e){this._document=e,this.init()}get document(){return this._document}set fieldId(e){this._fieldId=e,this.init()}get fieldId(){return this._fieldId}set fieldDisplayKey(e){this.fieldId=parseInt(e.replace(vi.CUSTOM_FIELD,""),10)}constructor(e,i,o){super(),this.customFieldService=e,this.documentService=i,this.CustomFieldDataType=Bi,this.showNameIfEmpty=!1,this.customFields=[],this.docLinkDocuments=[],this.defaultCurrencyCode=XP(o),this.customFieldService.listAll().subscribe(s=>{this.customFields=s.results,this.init()})}ngOnInit(){this.init()}init(){this.value||!this._fieldId||!this._document||!this.customFields||(this.field=this.customFields.find(e=>e.id===this._fieldId),this.value=this._document.custom_fields.find(e=>e.field===this._fieldId)?.value,this.value&&this.field.data_type===Bi.Monetary?(this.currency=this.value.match(/([A-Z]{3})/)?.[0]??this.field.extra_data?.default_currency??this.defaultCurrencyCode,this.value=parseFloat(this.value.replace(this.currency,""))):this.value?.length&&this.field.data_type===Bi.DocumentLink&&this.getDocuments())}getDocuments(){this.documentService.getFew(this.value,{fields:"id,title"}).pipe(Te(this.unsubscribeNotifier)).subscribe(e=>{this.docLinkDocuments=this.value.map(i=>e.results.find(o=>o.id===i)).filter(i=>i)})}getDocumentTitle(e){return this.docLinkDocuments?.find(i=>i.id===e)?.title}getSelectValue(e,i){return e.extra_data.select_options?.find(o=>o.id===i)?.label}static{this.\u0275fac=function(i){return new(i||t)(x(C1),x(So),x(ea))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-custom-field-display"]],inputs:{document:"document",fieldId:"fieldId",fieldDisplayKey:"fieldDisplayKey",showNameIfEmpty:"showNameIfEmpty"},features:[st],decls:1,vars:1,consts:()=>{let e;return e="View",[["nameTooltip",""],[1,"fst-italic","text-muted"],[3,"ngbTooltip"],["target","_blank",1,"btn-link","text-dark","text-decoration-none",3,"ngbTooltip","href"],[1,"d-flex","gap-1","flex-wrap",3,"ngbTooltip"],[1,"d-flex","flex-row","align-items-center"],[1,"d-flex","flex-column","text-light"],["title",e,1,"badge","bg-body","text-primary",3,"routerLink"],["width","0.9em","height","0.9em","name","file-text"],["type","checkbox","value","",1,"form-check-input","ms-2","mt-0","pe-none",3,"id","name","checked"]]},template:function(i,o){1&i&&y(0,n2t,2,1),2&i&&N(o.field?0:-1)},dependencies:[fr,ZC,Pd,lp],encapsulation:2})}}return t})(),Mb=(()=>{class t{constructor(e,i,o){this.permissionsService=e,this.permissionType=i,this.objectService=o}transform(e){return this.permissionsService.currentUserCan(mt.View,this.permissionType)?this.objectService.listAll().pipe(Tt(i=>(this.objects=i.results,this.objects.find(o=>o.id===e)?.name||"")),m1(()=>Et(""))):Et("Private")}static{this.\u0275fac=function(i){return new(i||t)(x(ti,16),x(Ct,16),x(Mc,16))}}static{this.\u0275pipe=eo({name:"objectName",type:t,pure:!0})}}return t})(),wg=(()=>{class t extends Mb{constructor(e,i){super(e,Ct.Correspondent,i)}static{this.\u0275fac=function(i){return new(i||t)(x(ti,16),x(ul,16))}}static{this.\u0275pipe=eo({name:"correspondentName",type:t,pure:!0})}}return t})(),bg=(()=>{class t extends Mb{constructor(e,i){super(e,Ct.DocumentType,i)}static{this.\u0275fac=function(i){return new(i||t)(x(ti,16),x(hl,16))}}static{this.\u0275pipe=eo({name:"documentTypeName",type:t,pure:!0})}}return t})(),QB=(()=>{class t{transform(e){return"number"==typeof e&&!isNaN(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=eo({name:"isNumber",type:t,pure:!0})}}return t})(),Sg=(()=>{class t extends Mb{constructor(e,i){super(e,Ct.StoragePath,i)}static{this.\u0275fac=function(i){return new(i||t)(x(ti,16),x(Tc,16))}}static{this.\u0275pipe=eo({name:"storagePathName",type:t,pure:!0})}}return t})(),Eg=(()=>{class t{constructor(e,i){this.permissionsService=e,this.userService=i}transform(e){return this.permissionsService.currentUserCan(mt.View,Ct.User)?this.userService.listAll().pipe(Tt(i=>(this.users=i.results,this.getName(this.users.find(o=>o.id===e)))),m1(()=>Et(""))):Et("Shared")}getName(e){if(!e)return"";const i=[e.first_name,e.last_name].join(" ");return i.length>1?i.trim():e.username}static{this.\u0275fac=function(i){return new(i||t)(x(ti,16),x(gs,16))}}static{this.\u0275pipe=eo({name:"username",type:t,pure:!0})}}return t})();const i2t=["popupPreview"],o2t=(t,n)=>n.field,s2t=(t,n)=>({action:t,type:n});function r2t(t,n){if(1&t){const e=F();w(0,"img",25),d(1,"div",26)(2,"div",27)(3,"input",28),T("click",function(o){return b(e),S(g().toggleSelected.emit(o))}),u(),w(4,"label",29),u()()}if(2&t){const e=g();Ce("inverted",e.getIsThumbInverted()),m("src",e.getThumbUrl(),cs),_(3),Kt("id","smallCardCheck",e.document.id,""),m("checked",e.selected),_(),Kt("for","smallCardCheck",e.document.id,"")}}function a2t(t,n){1&t&&w(0,"div",15)}function l2t(t,n){if(1&t){const e=F();d(0,"a",31),T("click",function(o){b(e);const s=g(3);return s.clickCorrespondent.emit(s.document.correspondent),S(o.stopPropagation())}),A(1),ye(2,"correspondentName"),ye(3,"async"),u()}if(2&t){const e=g(3);_(),oe(Ke(3,3,Ke(2,1,e.document.correspondent)))}}function c2t(t,n){1&t&&(A(0),ye(1,"correspondentName"),ye(2,"async")),2&t&&Le(" ",Ke(2,3,Ke(1,1,g(3).document.correspondent))," ")}function d2t(t,n){1&t&&A(0,":")}function u2t(t,n){if(1&t&&y(0,l2t,4,5,"a",30)(1,c2t,3,5)(2,d2t,1,0),2&t){const e=g(2);N(e.clickCorrespondent.observers.length?0:1),_(2),N(e.displayFields.includes(e.DisplayField.TITLE)?2:-1)}}function h2t(t,n){1&t&&(A(0),ye(1,"documentTitle")),2&t&&Le(" ",Ke(1,1,g(2).document.title)," ")}function _2t(t,n){if(1&t){const e=F();d(0,"pngx-tag",33),T("click",function(o){const s=b(e).$implicit;return g(3).clickTag.emit(s),S(o.stopPropagation())}),u()}if(2&t){const e=n.$implicit,i=g(3);m("tagID",e)("clickable",i.clickTag.observers.length)}}function p2t(t,n){1&t&&Ue(0,_2t,1,2,"pngx-tag",32,Ht),2&t&&We(g(2).document.tags)}function g2t(t,n){if(1&t&&y(0,u2t,3,2)(1,h2t,2,3)(2,p2t,2,0),2&t){const e=g();N(e.displayFields.includes(e.DisplayField.CORRESPONDENT)&&e.document.correspondent?0:-1),_(),N(e.displayFields.includes(e.DisplayField.TITLE)?1:-1),_(),N(e.displayFields.includes(e.DisplayField.TAGS)?2:-1)}}function f2t(t,n){1&t&&(d(0,"div",20),A(1,"\xa0"),u())}function m2t(t,n){1&t&&w(0,"span",34),2&t&&m("innerHtml",g(2).document.__search_hit__.highlights,vo)}function v2t(t,n){if(1&t&&(d(0,"span",35),w(1,"i-bs",37)(2,"span",34),u()),2&t){const e=n.$implicit;_(2),m("innerHtml",e,vo)}}function C2t(t,n){if(1&t&&(d(0,"span",36),A(1),u()),2&t){const e=g(2);_(),oe(e.contentTrimmed)}}function M2t(t,n){if(1&t&&(y(0,m2t,1,1,"span",34),Ue(1,v2t,3,1,"span",35,Ht),y(3,C2t,2,1,"span",36)),2&t){const e=g();N(e.document.__search_hit__&&e.document.__search_hit__.highlights?0:-1),_(),We(e.searchNoteHighlights),_(2),N(null!=e.document.__search_hit__&&e.document.__search_hit__.score?-1:3)}}function T2t(t,n){1&t&&w(0,"div",38)(1,"div",39)(2,"div",40)}function w2t(t,n){1&t&&(d(0,"a",49),w(1,"i-bs",50),A(2,"\xa0"),d(3,"span",43),M(4,5),u()()),2&t&&Kt("routerLink","/documents/",g(2).document.id,"")}function b2t(t,n){if(1&t){const e=F();d(0,"a",41),T("click",function(){return b(e),S(g().clickMoreLike.emit())}),w(1,"i-bs",42),A(2,"\xa0"),d(3,"span",43),M(4,2),u()(),y(5,w2t,5,2,"a",44),d(6,"pngx-preview-popup",45,0),w(8,"i-bs",46),A(9,"\xa0"),d(10,"span",43),M(11,3),u()(),d(12,"a",47),w(13,"i-bs",48),A(14,"\xa0"),d(15,"span",43),M(16,4),u()()}if(2&t){const e=g();_(5),m("pngxIfPermissions",Pe(3,s2t,e.PermissionAction.Change,e.PermissionType.Document)),_(),m("document",e.document),_(6),m("href",e.getDownloadUrl(),cs)}}function S2t(t,n){1&t&&(d(0,"div",51),A(1,"\xa0"),u(),d(2,"div",51),A(3,"\xa0"),u(),d(4,"div",51),A(5,"\xa0"),u(),d(6,"div",51),A(7,"\xa0"),u())}function E2t(t,n){if(1&t&&(d(0,"button",52),w(1,"i-bs",58),d(2,"small"),A(3),u()()),2&t){const e=g(2);Kt("routerLink","/documents/",e.document.id,"/notes"),_(3),Le("",e.document.notes.length," Notes")}}function A2t(t,n){if(1&t){const e=F();d(0,"button",59),T("click",function(o){b(e);const s=g(2);return s.clickDocumentType.emit(s.document.document_type),S(o.stopPropagation())}),w(1,"i-bs",60),d(2,"small"),A(3),ye(4,"documentTypeName"),ye(5,"async"),u()()}if(2&t){const e=g(2);_(3),oe(Ke(5,3,Ke(4,1,e.document.document_type)))}}function O2t(t,n){if(1&t){const e=F();d(0,"button",61),T("click",function(o){b(e);const s=g(2);return s.clickStoragePath.emit(s.document.storage_path),S(o.stopPropagation())}),w(1,"i-bs",62),d(2,"small"),A(3),ye(4,"storagePathName"),ye(5,"async"),u()()}if(2&t){const e=g(2);_(3),oe(Ke(5,3,Ke(4,1,e.document.storage_path)))}}function y2t(t,n){if(1&t&&(d(0,"div",55),w(1,"i-bs",63),d(2,"small"),A(3),u()()),2&t){const e=g(2);_(3),Le("#",e.document.archive_serial_number,"")}}function N2t(t,n){if(1&t&&(d(0,"div",65)(1,"span"),M(2,6),ye(3,"customDate"),u(),d(4,"span"),M(5,7),ye(6,"customDate"),u(),d(7,"span"),M(8,8),ye(9,"customDate"),u()()),2&t){const e=g(3);_(3),bn(Ke(3,3,e.document.created_date)),Sn(2),_(3),bn(Ke(6,5,e.document.added)),Sn(5),_(3),bn(Ke(9,7,e.document.modified)),Sn(8)}}function D2t(t,n){if(1&t&&(d(0,"div",64),w(1,"i-bs",66),d(2,"small"),A(3),ye(4,"customDate"),u()()),2&t){g();const e=Ve(1),i=g(2);m("ngbTooltip",e),_(3),oe(Yo(4,2,i.document.created_date,"mediumDate"))}}function P2t(t,n){if(1&t&&(d(0,"div",64),w(1,"i-bs",66),d(2,"small"),A(3),ye(4,"customDate"),u()()),2&t){g();const e=Ve(1),i=g(2);m("ngbTooltip",e),_(3),oe(Yo(4,2,i.document.added,"mediumDate"))}}function I2t(t,n){if(1&t&&y(0,N2t,10,9,"ng-template",null,1,zt)(2,D2t,5,5,"div",64)(3,P2t,5,5,"div",64),2&t){const e=g(2);_(2),N(e.displayFields.includes(e.DisplayField.CREATED)?2:-1),_(),N(e.displayFields.includes(e.DisplayField.ADDED)?3:-1)}}function x2t(t,n){if(1&t&&(d(0,"div",56),w(1,"i-bs",67),d(2,"small"),M(3,9),u()()),2&t){const e=g(2);_(3),bn(e.document.page_count)(e.document.page_count),Sn(3)}}function L2t(t,n){if(1&t&&(d(0,"div",56),w(1,"i-bs",68),d(2,"small"),A(3),ye(4,"username"),ye(5,"async"),u()()),2&t){const e=g(2);_(3),oe(Ke(5,3,Ke(4,1,e.document.owner)))}}function R2t(t,n){1&t&&(d(0,"div",56),w(1,"i-bs",69),d(2,"small"),M(3,10),u()())}function F2t(t,n){if(1&t&&(d(0,"div",57)(1,"small",70),M(2,11),u(),w(3,"ngb-progressbar",71),u()),2&t){const e=g(2);_(3),m("type",e.searchScoreClass)("value",e.document.__search_hit__.score)("max",1)}}function k2t(t,n){if(1&t&&(d(0,"div",56),w(1,"i-bs",72),d(2,"small"),w(3,"pngx-custom-field-display",73),u()()),2&t){const e=g().$implicit,i=g(2);_(3),m("document",i.document)("fieldId",e.field)}}function z2t(t,n){if(1&t&&y(0,k2t,4,2,"div",56),2&t){const e=n.$implicit,i=g(2);N(i.displayFields.includes(i.DisplayField.CUSTOM_FIELD+e.field)?0:-1)}}function V2t(t,n){if(1&t&&(y(0,E2t,4,3,"button",52)(1,A2t,6,5,"button",53)(2,O2t,6,5,"button",54)(3,y2t,4,1,"div",55),ye(4,"isNumber"),y(5,I2t,4,2)(6,x2t,4,2,"div",56)(7,L2t,6,5,"div",56)(8,R2t,4,0,"div",56)(9,F2t,4,3,"div",57),Ue(10,z2t,1,1,null,null,o2t)),2&t){const e=g();N(e.displayFields.includes(e.DisplayField.NOTES)&&e.notesEnabled&&e.document.notes.length?0:-1),_(),N(e.displayFields.includes(e.DisplayField.DOCUMENT_TYPE)&&e.document.document_type?1:-1),_(),N(e.displayFields.includes(e.DisplayField.STORAGE_PATH)&&e.document.storage_path?2:-1),_(),N(Ke(4,9,e.displayFields.includes(e.DisplayField.ASN)&&e.document.archive_serial_number)?3:-1),_(2),N(e.displayFields.includes(e.DisplayField.CREATED)||e.displayFields.includes(e.DisplayField.ADDED)?5:-1),_(),N(e.displayFields.includes(e.DisplayField.PAGE_COUNT)&&e.document.page_count?6:-1),_(),N(e.displayFields.includes(e.DisplayField.OWNER)&&e.document.owner&&e.document.owner!==e.settingsService.currentUser.id?7:-1),_(),N(e.displayFields.includes(e.DisplayField.SHARED)&&e.document.is_shared_by_requester?8:-1),_(),N(null!=e.document.__search_hit__&&e.document.__search_hit__.score?9:-1),_(),We(e.document.custom_fields)}}function H2t(t,n){1&t&&(d(0,"div",74),A(1,"\xa0"),u(),d(2,"div",74),A(3,"\xa0"),u(),d(4,"div",74),A(5,"\xa0"),u(),d(6,"div",74),A(7,"\xa0"),u(),d(8,"div",74),A(9,"\xa0"),u())}let JB=(()=>{class t extends ns{constructor(e,i){super(),this.documentService=e,this.settingsService=i,this.DisplayField=vi,this.selected=!1,this.displayFields=Qd.map(o=>o.id),this.toggleSelected=new Ee,this.dblClickDocument=new Ee,this.clickTag=new Ee,this.clickCorrespondent=new Ee,this.clickDocumentType=new Ee,this.clickStoragePath=new Ee,this.clickMoreLike=new Ee,this.mouseOnPreview=!1,this.popoverHidden=!0}get selectable(){return this.toggleSelected.observers.length>0}ngAfterViewInit(){Et(!0).pipe(I1(50)).subscribe(()=>{this.show=!0})}get searchScoreClass(){if(this.document.__search_hit__)return this.document.__search_hit__.score>.7?"success":this.document.__search_hit__.score>.3?"warning":"danger"}get searchNoteHighlights(){let e=[];return this.document.__search_hit__&&this.document.__search_hit__.note_highlights&&(e=this.document.__search_hit__.note_highlights.split(",").filter(i=>i.includes("<span"))),e}getIsThumbInverted(){return this.settingsService.get(Me.DARK_MODE_THUMB_INVERTED)}getThumbUrl(){return this.documentService.getThumbUrl(this.document.id)}getDownloadUrl(){return this.documentService.getDownloadUrl(this.document.id)}mouseLeaveCard(){this.popupPreview?.close()}get contentTrimmed(){return this.document.content.substring(0,500)+(this.document.content.length>500?"...":"")}get notesEnabled(){return this.settingsService.get(Me.NOTES_ENABLED)}static{this.\u0275fac=function(i){return new(i||t)(x(So),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-document-card-large"]],viewQuery:function(i,o){if(1&i&&dn(i2t,5),2&i){let s;pt(s=gt())&&(o.popupPreview=s.first)}},inputs:{selected:"selected",displayFields:"displayFields",document:"document"},outputs:{toggleSelected:"toggleSelected",dblClickDocument:"dblClickDocument",clickTag:"clickTag",clickCorrespondent:"clickCorrespondent",clickDocumentType:"clickDocumentType",clickStoragePath:"clickStoragePath",clickMoreLike:"clickMoreLike"},features:[st],decls:21,vars:11,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D;return e="Filter by correspondent",i="Filter by tag",o="More like this",s="View",r="Download",a="Open",l="View notes",c="Filter by document type",h="Filter by storage path",p="Created: " + "\ufffd0\ufffd" + "",f="Added: " + "\ufffd0\ufffd" + "",v="Modified: " + "\ufffd0\ufffd" + "",C="{VAR_PLURAL, plural, =1 {1 page} other {{INTERPOLATION} pages}}",C=ba(C,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),E="Shared",D="Score:",[["popupPreview",""],["dateTooltip",""],o,s,r,a,p,f,v,C,E,D,[1,"card","document-card-large","mb-3","shadow-sm","bg-light","placeholder-glow","fade",3,"mouseleave"],[1,"row","g-0"],[1,"col-md-2","doc-img-container","rounded-start",3,"click","dblclick"],[1,"placeholder","bg-secondary","w-100","card-img","doc-img","border-end","rounded-start"],[1,"col"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center"],[1,"card-title","w-100"],[1,"placeholder","bg-secondary","w-75","mb-3"],[1,"card-text"],[1,"d-flex","flex-column","flex-md-row","align-items-md-center"],[1,"btn-group"],[1,"list-group","list-group-horizontal","border-0","card-info","ms-md-auto","mt-2","mt-md-0"],[1,"card-img","doc-img","border-end","rounded-start",3,"src"],[1,"border-end","border-bottom","bg-light","document-card-check"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["title",e,1,"fw-bold","btn-link"],["title",e,1,"fw-bold","btn-link",3,"click"],["linkTitle",i,1,"ms-1",3,"tagID","clickable"],["linkTitle",i,1,"ms-1",3,"click","tagID","clickable"],[3,"innerHtml"],[1,"d-block"],[1,"result-content"],["name","chat-left-text"],[1,"placeholder","bg-secondary","w-100","d-block","mb-2"],[1,"placeholder","bg-secondary","w-75","d-block","mb-2"],[1,"placeholder","bg-secondary","w-25","d-block"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","diagram-3"],[1,"d-none","d-md-inline"],["class","btn btn-sm btn-outline-secondary",3,"routerLink",4,"pngxIfPermissions"],[3,"document"],["name","eye"],[1,"btn","btn-sm","btn-outline-secondary",3,"href"],["name","download"],[1,"btn","btn-sm","btn-outline-secondary",3,"routerLink"],["name","file-earmark-richtext"],[1,"placeholder","btn","btn-sm","btn-outline-secondary","bg-secondary",2,"width","60px"],["title",l,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center",3,"routerLink"],["type","button","title",c,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center"],["type","button","title",h,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center"],[1,"list-group-item","me-2","bg-light","text-dark","p-1","border-0","d-flex","align-items-center"],[1,"list-group-item","bg-light","text-dark","p-1","border-0","d-flex","align-items-center"],[1,"list-group-item","bg-light","text-dark","border-0","d-flex","p-0","ps-4","search-score"],["width",".9em","height",".9em","name","chat-left-text",1,"me-2","text-muted"],["type","button","title",c,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center",3,"click"],["width",".9em","height",".9em","name","file-earmark",1,"me-2","text-muted"],["type","button","title",h,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center",3,"click"],["width",".9em","height",".9em","name","archive",1,"me-2","text-muted"],["width",".9em","height",".9em","name","upc-scan",1,"me-2","text-muted"],[1,"list-group-item","bg-light","text-dark","p-1","border-0","d-flex","align-items-center",3,"ngbTooltip"],[1,"d-flex","flex-column","text-light"],["width",".9em","height",".9em","name","calendar-event",1,"me-2","text-muted"],["width",".9em","height",".9em","name","files",1,"me-2","text-muted"],["width",".9em","height",".9em","name","person-fill-lock",1,"me-2","text-muted"],["width",".9em","height",".9em","name","people-fill",1,"me-2","text-muted"],[1,"me-2","text-muted"],[1,"search-score-bar","mx-2","mt-1",3,"type","value","max"],["width",".9em","height",".9em","name","ui-radios",1,"me-2","text-muted"],["showNameIfEmpty","true",3,"document","fieldId"],[1,"placeholder","list-group-item","bg-secondary","w-25"]]},template:function(i,o){1&i&&(d(0,"div",12),T("mouseleave",function(){return o.mouseLeaveCard()}),d(1,"div",13)(2,"div",14),T("click",function(r){return o.toggleSelected.emit(r)})("dblclick",function(){return o.dblClickDocument.emit()}),y(3,r2t,5,8)(4,a2t,1,0,"div",15),u(),d(5,"div",16)(6,"div",17)(7,"div",18)(8,"h5",19),y(9,g2t,3,3)(10,f2t,2,0,"div",20),u()(),d(11,"p",21),y(12,M2t,4,2)(13,T2t,3,0),u(),d(14,"div",22)(15,"div",23),y(16,b2t,17,6)(17,S2t,8,0),u(),d(18,"div",24),y(19,V2t,12,11)(20,H2t,10,0),u()()()()()()),2&i&&(Ce("show",o.show)("card-selected",o.selected)("document-card",o.selectable),_(3),N(o.document?3:4),_(6),N(o.document?9:10),_(3),N(o.document?12:13),_(4),N(o.document?16:17),_(3),N(o.document?19:20))},dependencies:[wc,QB,fg,Iu,zm,Aa,Eg,wg,bg,Sg,Ro,fr,aa,Vr,Pd,lp,Y0,Z6,Gt,Jt],styles:[".result-content[_ngcontent-%COMP%]{overflow-wrap:anywhere}.doc-img-container[_ngcontent-%COMP%]{position:relative}.doc-img[_ngcontent-%COMP%]{object-fit:cover;object-position:top left;height:100%;position:absolute}.card-title[_ngcontent-%COMP%]{word-break:break-word}.search-score-bar[_ngcontent-%COMP%]{width:100px;height:5px;margin-top:1px}.document-card-check[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;padding:.5rem;border-top-left-radius:.25rem;border-bottom-right-radius:.25rem;pointer-events:none}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:0;min-height:0;margin-bottom:0}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-left:0}.document-card[_ngcontent-%COMP%]:hover   .document-card-check[_ngcontent-%COMP%]{display:block}.card-info[_ngcontent-%COMP%], .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:1}.card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:transparent!important}.card-info[_ngcontent-%COMP%]   .search-score[_ngcontent-%COMP%]{padding-top:.35rem!important}span[_ngcontent-%COMP%]     .match{color:#000;background-color:#ffd342}a[_ngcontent-%COMP%]{cursor:pointer}"]})}}return t})();const $2t=["popupPreview"],G2t=(t,n)=>n.field,B2t=(t,n)=>({action:t,type:n});function U2t(t,n){if(1&t){const e=F();w(0,"img",23),d(1,"div",24)(2,"div",25)(3,"input",26),T("click",function(o){return b(e),S(g().toggleSelected.emit(o))}),u(),w(4,"label",27),u()()}if(2&t){const e=g();Ce("inverted",e.getIsThumbInverted()),m("src",e.getThumbUrl(),cs),_(3),Kt("id","smallCardCheck",e.document.id,""),m("checked",e.selected),_(),Kt("for","smallCardCheck",e.document.id,"")}}function W2t(t,n){1&t&&w(0,"div",13)}function Z2t(t,n){if(1&t){const e=F();d(0,"pngx-tag",29),T("click",function(o){const s=b(e).$implicit;return g(2).clickTag.emit(s),S(o.stopPropagation())}),u()}2&t&&m("tagID",n.$implicit)("clickable",!0)}function j2t(t,n){if(1&t&&(d(0,"div")(1,"span",30),A(2),u()()),2&t){const e=g(2);_(2),Le("+ ",e.moreTags,"")}}function X2t(t,n){if(1&t&&(d(0,"div",14),Ue(1,Z2t,1,2,"pngx-tag",28,Ht),y(3,j2t,3,1,"div"),u()),2&t){const e=g();_(),We(e.tagIDs),_(2),N(e.moreTags?3:-1)}}function K2t(t,n){if(1&t&&(d(0,"a",15)(1,"span",31),w(2,"i-bs",32),A(3),u()()),2&t){const e=g();Kt("routerLink","/documents/",e.document.id,"/notes"),_(3),Le(" ",e.document.notes.length,"")}}function q2t(t,n){1&t&&A(0,":")}function Y2t(t,n){if(1&t){const e=F();d(0,"a",33),T("click",function(o){b(e);const s=g(2);return s.clickCorrespondent.emit(s.document.correspondent),S(o.stopPropagation())}),A(1),ye(2,"correspondentName"),ye(3,"async"),u(),y(4,q2t,1,0)}if(2&t){const e=g(2);_(),oe(Ke(3,4,Ke(2,2,e.document.correspondent))),_(3),N(e.displayFields.includes(e.DisplayField.TITLE)?4:-1)}}function Q2t(t,n){1&t&&(A(0),ye(1,"documentTitle")),2&t&&Le(" ",Ke(1,1,g(2).document.title)," ")}function J2t(t,n){if(1&t&&y(0,Y2t,5,6)(1,Q2t,2,3),2&t){const e=g();N(e.displayFields.includes(e.DisplayField.CORRESPONDENT)&&e.document.correspondent?0:-1),_(),N(e.displayFields.includes(e.DisplayField.TITLE)?1:-1)}}function eut(t,n){1&t&&w(0,"div",20)(1,"div",34)}function tut(t,n){if(1&t){const e=F();d(0,"button",39),T("click",function(o){b(e);const s=g(2);return s.clickDocumentType.emit(s.document.document_type),S(o.stopPropagation())}),w(1,"i-bs",40),d(2,"small"),A(3),ye(4,"documentTypeName"),ye(5,"async"),u()()}if(2&t){const e=g(2);_(3),oe(Ke(5,3,Ke(4,1,e.document.document_type)))}}function nut(t,n){if(1&t){const e=F();d(0,"button",41),T("click",function(o){b(e);const s=g(2);return s.clickStoragePath.emit(s.document.storage_path),S(o.stopPropagation())}),w(1,"i-bs",42),d(2,"small"),A(3),ye(4,"storagePathName"),ye(5,"async"),u()()}if(2&t){const e=g(2);_(3),oe(Ke(5,3,Ke(4,1,e.document.storage_path)))}}function iut(t,n){if(1&t&&(d(0,"div",45)(1,"span"),M(2,2),ye(3,"customDate"),u(),d(4,"span"),M(5,3),ye(6,"customDate"),u(),d(7,"span"),M(8,4),ye(9,"customDate"),u()()),2&t){const e=g(3);_(3),bn(Ke(3,3,e.document.created_date)),Sn(2),_(3),bn(Ke(6,5,e.document.added)),Sn(5),_(3),bn(Ke(9,7,e.document.modified)),Sn(8)}}function out(t,n){if(1&t&&(d(0,"div",37),y(1,iut,10,9,"ng-template",null,0,zt),d(3,"div",43),w(4,"i-bs",44),d(5,"small"),A(6),ye(7,"customDate"),u()()()),2&t){const e=Ve(2),i=g(2);_(3),m("ngbTooltip",e),_(3),oe(Yo(7,2,i.document.created_date,"mediumDate"))}}function sut(t,n){if(1&t&&(d(0,"div",45)(1,"span"),M(2,5),ye(3,"customDate"),u(),d(4,"span"),M(5,6),ye(6,"customDate"),u(),d(7,"span"),M(8,7),ye(9,"customDate"),u()()),2&t){const e=g(3);_(3),bn(Ke(3,3,e.document.created)),Sn(2),_(3),bn(Ke(6,5,e.document.added)),Sn(5),_(3),bn(Ke(9,7,e.document.modified)),Sn(8)}}function rut(t,n){if(1&t&&(d(0,"div",37),y(1,sut,10,9,"ng-template",null,0,zt),d(3,"div",43),w(4,"i-bs",44),d(5,"small"),A(6),ye(7,"customDate"),u()()()),2&t){const e=Ve(2),i=g(2);_(3),m("ngbTooltip",e),_(3),oe(Yo(7,2,i.document.added,"mediumDate"))}}function aut(t,n){if(1&t&&(d(0,"div",37)(1,"div",46),w(2,"i-bs",47),d(3,"small"),M(4,8),u()()()),2&t){const e=g(2);_(4),bn(e.document.page_count)(e.document.page_count),Sn(4)}}function lut(t,n){if(1&t&&(d(0,"div",38),w(1,"i-bs",48),d(2,"small"),A(3),u()()),2&t){const e=g(2);_(3),Le("#",e.document.archive_serial_number,"")}}function cut(t,n){if(1&t&&(d(0,"div",38),w(1,"i-bs",49),d(2,"small"),A(3),ye(4,"username"),ye(5,"async"),u()()),2&t){const e=g(2);_(3),oe(Ke(5,3,Ke(4,1,e.document.owner)))}}function dut(t,n){1&t&&(d(0,"div",38),w(1,"i-bs",50),d(2,"small"),M(3,9),u()())}function uut(t,n){if(1&t&&(d(0,"div",51),w(1,"i-bs",52),d(2,"small"),w(3,"pngx-custom-field-display",53),u()()),2&t){const e=g().$implicit,i=g(2);_(3),m("document",i.document)("fieldId",e.field)}}function hut(t,n){if(1&t&&y(0,uut,4,2,"div",51),2&t){const e=n.$implicit,i=g(2);N(i.displayFields.includes(i.DisplayField.CUSTOM_FIELD+e.field)?0:-1)}}function _ut(t,n){if(1&t&&(y(0,tut,6,5,"button",35)(1,nut,6,5,"button",36)(2,out,8,5,"div",37)(3,rut,8,5,"div",37)(4,aut,5,2,"div",37)(5,lut,4,1,"div",38),ye(6,"isNumber"),y(7,cut,6,5,"div",38)(8,dut,4,0,"div",38),Ue(9,hut,1,1,null,null,G2t)),2&t){const e=g();N(e.displayFields.includes(e.DisplayField.DOCUMENT_TYPE)&&e.document.document_type?0:-1),_(),N(e.displayFields.includes(e.DisplayField.STORAGE_PATH)&&e.document.storage_path?1:-1),_(),N(e.displayFields.includes(e.DisplayField.CREATED)?2:-1),_(),N(e.displayFields.includes(e.DisplayField.ADDED)?3:-1),_(),N(e.displayFields.includes(e.DisplayField.PAGE_COUNT)&&e.document.page_count?4:-1),_(),N(Ke(6,8,e.displayFields.includes(e.DisplayField.ASN)&&e.document.archive_serial_number)?5:-1),_(2),N(e.displayFields.includes(e.DisplayField.OWNER)&&e.document.owner&&e.document.owner!==e.settingsService.currentUser.id?7:-1),_(),N(e.displayFields.includes(e.DisplayField.SHARED)&&e.document.is_shared_by_requester?8:-1),_(),We(e.document.custom_fields)}}function put(t,n){1&t&&w(0,"div",20)}function gut(t,n){1&t&&(d(0,"a",59),w(1,"i-bs",60),u()),2&t&&Kt("routerLink","/documents/",g(2).document.id,"")}function fut(t,n){if(1&t){const e=F();y(0,gut,2,2,"a",54),d(1,"pngx-preview-popup",55,1),w(3,"i-bs",56),u(),d(4,"a",57),T("click",function(o){return b(e),S(o.stopPropagation())}),w(5,"i-bs",58),u()}if(2&t){const e=g();m("pngxIfPermissions",Pe(3,B2t,e.PermissionAction.Change,e.PermissionType.Document)),_(),m("document",e.document),_(3),m("href",e.getDownloadUrl(),cs)}}function mut(t,n){1&t&&w(0,"button",61)(1,"button",61)(2,"button",61)}let eU=(()=>{class t extends ns{constructor(e,i){super(),this.documentService=e,this.settingsService=i,this.DisplayField=vi,this.selected=!1,this.toggleSelected=new Ee,this.displayFields=Qd.map(o=>o.id),this.dblClickDocument=new Ee,this.clickTag=new Ee,this.clickCorrespondent=new Ee,this.clickDocumentType=new Ee,this.clickStoragePath=new Ee,this.moreTags=null}ngAfterViewInit(){Et(!0).pipe(I1(50)).subscribe(()=>{this.show=!0})}getIsThumbInverted(){return this.settingsService.get(Me.DARK_MODE_THUMB_INVERTED)}getThumbUrl(){return this.documentService.getThumbUrl(this.document.id)}getDownloadUrl(){return this.documentService.getDownloadUrl(this.document.id)}get tagIDs(){const e=this.document.notes.length>0?6:7;return this.document.tags.length>e?(this.moreTags=this.document.tags.length-(e-1),this.document.tags.slice(0,e-1)):this.document.tags}mouseLeaveCard(){this.popupPreview?.close()}get notesEnabled(){return this.settingsService.get(Me.NOTES_ENABLED)}static{this.\u0275fac=function(i){return new(i||t)(x(So),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-document-card-small"]],viewQuery:function(i,o){if(1&i&&dn($2t,5),2&i){let s;pt(s=gt())&&(o.popupPreview=s.first)}},inputs:{selected:"selected",document:"document",displayFields:"displayFields"},outputs:{toggleSelected:"toggleSelected",dblClickDocument:"dblClickDocument",clickTag:"clickTag",clickCorrespondent:"clickCorrespondent",clickDocumentType:"clickDocumentType",clickStoragePath:"clickStoragePath"},features:[st],decls:19,vars:12,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E;return e="Toggle tag filter",i="Toggle correspondent filter",o="Toggle document type filter",s="Toggle storage path filter",r="Created: " + "\ufffd0\ufffd" + "",a="Added: " + "\ufffd0\ufffd" + "",l="Modified: " + "\ufffd0\ufffd" + "",c="Created: " + "\ufffd0\ufffd" + "",h="Added: " + "\ufffd0\ufffd" + "",p="Modified: " + "\ufffd0\ufffd" + "",f="{VAR_PLURAL, plural, =1 {1 page} other {{INTERPOLATION} pages}}",f=ba(f,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),v="Shared",C="Open",E="Download",[["dateTooltip",""],["popupPreview",""],r,a,l,c,h,p,f,v,[1,"col","p-2","h-100","fade"],[1,"card","h-100","shadow-sm","document-card",3,"mouseleave"],[1,"border-bottom","doc-img-container","rounded-top",3,"click","dblclick"],[1,"placeholder","bg-secondary","w-100","card-img","doc-img"],[1,"tags","d-flex","flex-column","text-end","position-absolute","me-1","fs-6"],[1,"document-card-notes","py-2","px-1",3,"routerLink"],[1,"card-body","bg-light","p-2"],[1,"card-text"],[1,"card-footer","pt-0","pb-2","px-2"],[1,"list-group","list-group-flush","border-0","pt-1","pb-2","card-info"],[1,"placeholder","bg-secondary","w-100"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group","w-100"],[1,"card-img","doc-img",3,"src"],[1,"border-end","border-bottom","bg-light","py-1","px-2","document-card-check"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["linkTitle",e,3,"tagID","clickable"],["linkTitle",e,3,"click","tagID","clickable"],[1,"badge","text-dark"],[1,"badge","rounded-pill","bg-light","border","text-primary"],["width","1.2em","height","1.2em","name","chat-left-text",1,"ms-1","me-1"],["title",i,1,"fw-bold","btn-link",3,"click"],[1,"placeholder","bg-secondary","w-50"],["type","button","title",o,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0"],["type","button","title",s,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0"],[1,"list-group-item","bg-transparent","p-0","border-0","d-flex","flex-wrap-reverse","justify-content-between"],[1,"ps-0","p-1"],["type","button","title",o,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0",3,"click"],["width","1em","height","1em","name","file-earmark",1,"me-2","text-muted"],["type","button","title",s,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0",3,"click"],["width","1em","height","1em","name","folder",1,"me-2","text-muted"],["placement","top",1,"ps-0","p-1",3,"ngbTooltip"],["width","1em","height","1em","name","calendar-event",1,"me-2","text-muted"],[1,"d-flex","flex-column","text-light"],["placement","top",1,"ps-0","p-1"],["width","1em","height","1em","name","files",1,"me-2","text-muted"],["width","1em","height","1em","name","upc-scan",1,"me-2","text-muted"],["width","1em","height","1em","name","person-fill-lock",1,"me-2","text-muted"],["width","1em","height","1em","name","people-fill",1,"me-2","text-muted"],[1,"ps-0","p-1","d-flex","align-items-center","overflow-hidden"],["width","1em","height","1em","name","ui-radios",1,"me-2","text-muted"],["showNameIfEmpty","true",3,"document","fieldId"],["class","btn btn-sm btn-outline-secondary","title",C,3,"routerLink",4,"pngxIfPermissions"],[3,"document"],["name","eye"],["title",E,1,"btn","btn-sm","btn-outline-secondary",3,"click","href"],["name","download"],["title",C,1,"btn","btn-sm","btn-outline-secondary",3,"routerLink"],["name","file-earmark-richtext"],[1,"btn","btn-sm","btn-outline-secondary","placeholder","bg-secondary"]]},template:function(i,o){1&i&&(d(0,"div",10)(1,"div",11),T("mouseleave",function(){return o.mouseLeaveCard()}),d(2,"div",12),T("click",function(r){return o.toggleSelected.emit(r)})("dblclick",function(){return o.dblClickDocument.emit(o)}),y(3,U2t,5,8)(4,W2t,1,0,"div",13)(5,X2t,4,1,"div",14),u(),y(6,K2t,4,3,"a",15),d(7,"div",16)(8,"p",17),y(9,J2t,2,2)(10,eut,2,0),u()(),d(11,"div",18)(12,"div",19),y(13,_ut,11,10)(14,put,1,0,"div",20),u(),d(15,"div",21)(16,"div",22),y(17,fut,6,6)(18,mut,3,0),u()()()()()),2&i&&(Ce("show",o.show),_(),Ce("placeholder-glow",!o.document)("card-selected",o.selected),_(2),N(o.document?3:4),_(2),N(o.document&&null!=o.displayFields&&o.displayFields.includes(o.DisplayField.TAGS)?5:-1),_(),N(o.document&&o.displayFields.includes(o.DisplayField.NOTES)&&o.notesEnabled&&o.document.notes.length?6:-1),_(3),N(o.document?9:10),_(4),N(o.document?13:14),_(4),N(o.document?17:18))},dependencies:[wc,QB,fg,Iu,zm,Aa,Eg,wg,bg,Sg,Ro,fr,aa,Vr,Pd,lp,Y0,Gt,Jt],styles:[".card-text[_ngcontent-%COMP%]{font-size:90%}.doc-img[_ngcontent-%COMP%]{object-fit:cover;object-position:top left;height:180px}.document-card-check[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;padding:.5rem;border-top-left-radius:.25rem;border-bottom-right-radius:.25rem;pointer-events:none}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:0;min-height:0;margin-bottom:0}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-left:0}.document-card[_ngcontent-%COMP%]:hover   .document-card-check[_ngcontent-%COMP%]{display:block}.document-card-notes[_ngcontent-%COMP%]{position:absolute;right:0;top:142px}.card-info[_ngcontent-%COMP%], .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:1}.card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:transparent!important;color:var(--bs-primary)}.card-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding-top:.1rem}  .tooltip-inner{text-align:left!important;font-size:90%}a[_ngcontent-%COMP%]{cursor:pointer}.tags[_ngcontent-%COMP%]{top:.2rem;right:0;max-width:80%;row-gap:.2rem;line-height:1}"]})}}return t})();const vut=[[["","header-buttons",""]],[["","content",""]]],Cut=["[header-buttons]","[content]"];function Mut(t,n){1&t&&(d(0,"div",8),w(1,"i-bs",12),u())}function Tut(t,n){1&t&&(w(0,"div",13),d(1,"div",14),M(2,1),u())}function wut(t,n){if(1&t&&(d(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),y(4,Mut,2,0,"div",8),d(5,"h6",9),A(6),u()(),y(7,Tut,3,0),ks(8),u()(),d(9,"div",10),Nn(10,11),u()()),2&t){const e=g(),i=Ve(3);Ce("show",e.show),m("cdkDragDisabled",!e.draggable),_(4),N(e.draggable?4:-1),_(2),oe(e.title),_(),N(e.loading?7:-1),_(3),m("ngTemplateOutlet",i)}}function but(t,n){if(1&t&&(d(0,"div",15),Nn(1,11),u()),2&t){const e=g(),i=Ve(3);Ce("show",e.show),_(),m("ngTemplateOutlet",i)}}function Sut(t,n){1&t&&ks(0,1)}let Tb=(()=>{class t extends ns{constructor(){super(),this.loading=!1,this.cardless=!1}ngAfterViewInit(){setTimeout(()=>{this.show=!0},100)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-widget-frame"]],inputs:{title:"title",loading:"loading",draggable:"draggable",cardless:"cardless"},features:[st],ngContentSelectors:Cut,decls:4,vars:1,consts:()=>{let e;return e="Loading...",[["content",""],e,["cdkDrag","","cdkDragPreviewContainer","parent",1,"card","shadow-sm","bg-light","fade",3,"show","cdkDragDisabled"],[1,"fade",3,"show"],["cdkDrag","","cdkDragPreviewContainer","parent",1,"card","shadow-sm","bg-light","fade",3,"cdkDragDisabled"],[1,"card-header"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex"],["cdkDragHandle","",1,"ms-n2","me-1"],[1,"card-title","mb-0"],[1,"card-body","text-dark"],[3,"ngTemplateOutlet"],["name","grip-vertical"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"],[1,"fade"]]},template:function(i,o){1&i&&(Ys(vut),y(0,wut,11,7,"div",2)(1,but,2,3,"div",3)(2,Sut,1,0,"ng-template",null,0,zt)),2&i&&N(o.cardless?1:0)},dependencies:[fd,N2,w9,Gt,Jt,Uo],styles:["i-bs[_ngcontent-%COMP%]{cursor:move}"]})}}return t})();var wb=function(t){return t.STATUS_UPDATE="status_update",t.DOCUMENTS_DELETED="documents_deleted",t}(wb||{}),Vi=function(t){return t[t.STARTED=0]="STARTED",t[t.UPLOADING=1]="UPLOADING",t[t.WORKING=2]="WORKING",t[t.SUCCESS=3]="SUCCESS",t[t.FAILED=4]="FAILED",t}(Vi||{});const tU={document_already_exists:"Document already exists.",document_already_exists_in_trash:"Document already exists. Note: existing document is in the trash.",asn_already_exists:"Document with ASN already exists.",asn_already_exists_in_trash:"Document with ASN already exists. Note: existing document is in the trash.",file_not_found:"File not found.",pre_consume_script_not_found:"Pre-consume script does not exist.",pre_consume_script_error:"Error while executing pre-consume script.",post_consume_script_not_found:"Post-consume script does not exist.",post_consume_script_error:"Error while executing post-consume script.",new_file:"Received new file.",unsupported_type:"File type not supported.",parsing_document:"Processing document...",generating_thumbnail:"Generating thumbnail...",parse_date:"Retrieving date from document...",save_document:"Saving document...",finished:"Finished."};class nU{constructor(){this.phase=Vi.STARTED}getProgress(){switch(this.phase){case Vi.STARTED:return 0;case Vi.UPLOADING:return this.currentPhaseProgress/this.currentPhaseMaxProgress*.2;case Vi.WORKING:return this.currentPhaseProgress/this.currentPhaseMaxProgress*.8+.2;case Vi.SUCCESS:case Vi.FAILED:return 1}}updateProgress(n,e,i){n>=this.phase&&(this.phase=n,null!=e&&(this.currentPhaseProgress=e),null!=i&&(this.currentPhaseMaxProgress=i))}}let zu=(()=>{class t{constructor(e){this.settingsService=e,this.consumerStatus=[],this.documentDetectedSubject=new xe,this.documentConsumptionFinishedSubject=new xe,this.documentConsumptionFailedSubject=new xe,this.documentDeletedSubject=new xe}get(e,i){let o=this.consumerStatus.find(r=>r.taskId==e)||this.consumerStatus.find(r=>r.filename==i&&null==r.taskId),s=!1;return o||(o=new nU,this.consumerStatus.push(o),s=!0),o.taskId=e,o.filename=i,{status:o,created:s}}newFileUpload(e){let i=new nU;return i.filename=e,this.consumerStatus.push(i),i}getConsumerStatus(e){return null!=e?this.consumerStatus.filter(i=>i.phase==e):this.consumerStatus}getConsumerStatusNotCompleted(){return this.consumerStatus.filter(e=>e.phase<Vi.SUCCESS)}getConsumerStatusCompleted(){return this.consumerStatus.filter(e=>e.phase==Vi.FAILED||e.phase==Vi.SUCCESS)}connect(){this.disconnect(),this.statusWebSocket=new WebSocket(`${gi.webSocketProtocol}//${gi.webSocketHost}${gi.webSocketBaseUrl}status/`),this.statusWebSocket.onmessage=e=>{const{type:i,data:o}=JSON.parse(e.data);switch(i){case wb.DOCUMENTS_DELETED:this.documentDeletedSubject.next(!0);break;case wb.STATUS_UPDATE:this.handleProgressUpdate(o)}}}handleProgressUpdate(e){if(e.owner_id&&e.owner_id!==this.settingsService.currentUser?.id&&!this.settingsService.currentUser?.is_superuser)return;let i=this.get(e.task_id,e.filename),o=i.status,s=i.created;switch(o.updateProgress(Vi.WORKING,e.current_progress,e.max_progress),e.message&&e.message in tU?o.message=tU[e.message]:e.message&&(o.message=e.message),o.documentId=e.document_id,e.status in Vi&&(o.phase=Vi[e.status]),o.phase){case Vi.STARTED:s&&this.documentDetectedSubject.next(o);break;case Vi.SUCCESS:this.documentConsumptionFinishedSubject.next(o);break;case Vi.FAILED:this.documentConsumptionFailedSubject.next(o)}}fail(e,i){e.message=i,e.phase=Vi.FAILED,this.documentConsumptionFailedSubject.next(e)}disconnect(){this.statusWebSocket&&(this.statusWebSocket.close(),this.statusWebSocket=null)}dismiss(e){let i;i=this.consumerStatus.findIndex(null!=e.taskId?o=>o.taskId==e.taskId:o=>o.filename==e.filename),i>-1&&this.consumerStatus.splice(i,1)}dismissCompleted(){this.consumerStatus=this.consumerStatus.filter(e=>![Vi.SUCCESS,Vi.FAILED].includes(e.phase))}onDocumentConsumptionFinished(){return this.documentConsumptionFinishedSubject}onDocumentConsumptionFailed(){return this.documentConsumptionFailedSubject}onDocumentDetected(){return this.documentDetectedSubject}onDocumentDeleted(){return this.documentDeletedSubject}static{this.\u0275fac=function(i){return new(i||t)(Be(En))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Eut=["popover"],bb=(t,n)=>n.id,Aut=(t,n)=>({action:t,type:n}),Out=()=>[],yut=(t,n)=>({"d-none d-md-table-cell":t,"w-25":n}),Nut=t=>({"d-none d-md-table-cell":t}),Sb=t=>({opacity:t});function Dut(t,n){if(1&t){const e=F();d(0,"a",13),T("click",function(){return b(e),S(g(2).showAll())}),M(1,1),u()}2&t&&m("routerLink",kl(1,Out))}function Put(t,n){if(1&t&&(d(0,"th",14),A(1),u()),2&t){const e=g(),i=e.$implicit,o=e.$index,s=g(3);m("ngClass",Pe(2,yut,o>1,i===s.DisplayField.CREATED||i===s.DisplayField.ADDED)),_(),Le(" ",s.getColumnTitle(i)," ")}}function Iut(t,n){if(1&t&&y(0,Put,2,5,"th",14),2&t){const e=n.$implicit;N(g(3).displayFields.includes(e)?0:-1)}}function xut(t,n){if(1&t&&(d(0,"div",16),w(1,"span",17),u()),2&t){const e=g(2).$index,i=g(3);_(),m("ngStyle",Wn(1,Sb,1-1*e/i.documents.length))}}function Lut(t,n){if(1&t&&(d(0,"a",18),A(1),ye(2,"customDate"),u()),2&t){const e=g(3).$implicit;Kt("routerLink","/documents/",e.id,""),_(),oe(Ke(2,3,e.added))}}function Rut(t,n){if(1&t&&(d(0,"a",19),A(1),ye(2,"customDate"),u()),2&t){const e=g(3).$implicit;Kt("routerLink","/documents/",e.id,""),_(),oe(Ke(2,3,e.created_date))}}function Fut(t,n){if(1&t&&(d(0,"a",20),A(1),ye(2,"documentTitle"),u()),2&t){const e=g(3).$implicit;Kt("routerLink","/documents/",e.id,""),_(),oe(Ke(2,3,e.title))}}function kut(t,n){if(1&t){const e=F();d(0,"a",24),T("click",function(o){b(e);const s=g(4).$implicit;return S(g(3).clickCorrespondent(s.correspondent,o))}),A(1),ye(2,"correspondentName"),ye(3,"async"),u()}if(2&t){const e=g(4).$implicit;_(),oe(Ke(3,3,Ke(2,1,e.correspondent)))}}function zut(t,n){1&t&&y(0,kut,4,5,"a",23),2&t&&N(g(3).$implicit.correspondent?0:-1)}function Vut(t,n){if(1&t){const e=F();d(0,"pngx-tag",26),T("click",function(o){const s=b(e).$implicit;return S(g(7).clickTag(s,o))}),u()}2&t&&m("tagID",n.$implicit)("clickable",!0)}function Hut(t,n){1&t&&Ue(0,Vut,1,2,"pngx-tag",25,Ht),2&t&&We(g(3).$implicit.tags)}function $ut(t,n){if(1&t){const e=F();d(0,"a",28),T("click",function(o){b(e);const s=g(4).$implicit;return S(g(3).clickDocType(s.document_type,o))}),A(1),ye(2,"documentTypeName"),ye(3,"async"),u()}if(2&t){const e=g(4).$implicit;_(),oe(Ke(3,3,Ke(2,1,e.document_type)))}}function Gut(t,n){1&t&&y(0,$ut,4,5,"a",27),2&t&&N(g(3).$implicit.document_type?0:-1)}function But(t,n){if(1&t){const e=F();d(0,"a",30),T("click",function(o){b(e);const s=g(4).$implicit;return S(g(3).clickStoragePath(s.storage_path,o))}),A(1),ye(2,"storagePathName"),ye(3,"async"),u()}if(2&t){const e=g(4).$implicit;_(),oe(Ke(3,3,Ke(2,1,e.storage_path)))}}function Uut(t,n){1&t&&y(0,But,4,5,"a",29),2&t&&N(g(3).$implicit.storage_path?0:-1)}function Wut(t,n){if(1&t){const e=F();d(0,"a",32),T("click",function(o){b(e);const s=g(4).$implicit;return S(g(3).clickOwner(s.owner,o))}),A(1),ye(2,"username"),ye(3,"async"),u()}if(2&t){const e=g(4).$implicit;_(),oe(Ke(3,3,Ke(2,1,e.owner)))}}function Zut(t,n){1&t&&y(0,Wut,4,5,"a",31),2&t&&N(g(3).$implicit.owner?0:-1)}function jut(t,n){1&t&&A(0),2&t&&Le(" ",g(3).$implicit.archive_serial_number," ")}function Xut(t,n){1&t&&A(0),2&t&&Le(" ",g(3).$implicit.page_count," ")}function Kut(t,n){1&t&&(ae(0),M(1,2),le())}function qut(t,n){1&t&&(ae(0),M(1,3),le())}function Yut(t,n){1&t&&y(0,Kut,2,0,"ng-container")(1,qut,2,0,"ng-container"),2&t&&N(g(3).$implicit.is_shared_by_requester?0:1)}function Qut(t,n){if(1&t&&(d(0,"a",33)(1,"span",34),w(2,"i-bs",35),A(3),u()()),2&t){const e=g(4).$implicit;Kt("routerLink","/documents/",e.id,"/notes"),_(3),Le(" ",e.notes.length,"")}}function Jut(t,n){1&t&&y(0,Qut,4,3,"a",33),2&t&&N(g(3).$implicit.notes.length?0:-1)}function eht(t,n){if(1&t&&w(0,"pngx-custom-field-display",21),2&t){const e=g(2).$implicit;m("document",g().$implicit)("fieldDisplayKey",e)}}function tht(t,n){if(1&t){const e=F();d(0,"div",36),T("mouseleave",function(){return b(e),S(Ve(2).close())}),d(1,"pngx-preview-popup",37,0),w(3,"i-bs",38),u(),d(4,"a",39),T("click",function(o){return b(e),S(o.stopPropagation())}),w(5,"i-bs",40),u()()}if(2&t){const e=g(3).$implicit,i=g(3);_(),m("document",e),_(3),m("href",i.getDownloadUrl(e),cs)}}function nht(t,n){if(1&t&&y(0,Lut,3,5,"a",18)(1,Rut,3,5,"a",19)(2,Fut,3,5,"a",20)(3,zut,1,1)(4,Hut,2,0)(5,Gut,1,1)(6,Uut,1,1)(7,Zut,1,1)(8,jut,1,1)(9,Xut,1,1)(10,Yut,2,1)(11,Jut,1,1)(12,eht,1,2,"pngx-custom-field-display",21)(13,tht,6,2,"div",22),2&t){let e;const i=g(),o=i.$implicit,s=i.$index,r=g(4);N((e=o)===r.DisplayField.ADDED?0:e===r.DisplayField.CREATED?1:e===r.DisplayField.TITLE?2:e===r.DisplayField.CORRESPONDENT?3:e===r.DisplayField.TAGS?4:e===r.DisplayField.DOCUMENT_TYPE?5:e===r.DisplayField.STORAGE_PATH?6:e===r.DisplayField.OWNER?7:e===r.DisplayField.ASN?8:e===r.DisplayField.PAGE_COUNT?9:e===r.DisplayField.SHARED?10:e===r.DisplayField.NOTES?11:-1),_(12),N(o.startsWith(r.DisplayField.CUSTOM_FIELD)?12:-1),_(),N(s===r.displayFields.length-1?13:-1)}}function iht(t,n){if(1&t&&(d(0,"td",15),y(1,xut,2,3,"div",16)(2,nht,14,3),u()),2&t){const e=n.$index,i=g(4);m("ngClass",Wn(2,Nut,e>1)),_(),N(i.loading&&i.show?1:2)}}function oht(t,n){if(1&t&&(d(0,"tr"),Ue(1,iht,3,4,"td",15,Ht),u()),2&t){const e=g(3);_(),We(e.displayFields)}}function sht(t,n){if(1&t&&(d(0,"table",9)(1,"thead")(2,"tr"),Ue(3,Iut,1,1,null,null,Ht),u()(),d(5,"tbody"),Ue(6,oht,3,0,"tr",null,bb),u()()),2&t){const e=g(2);_(3),We(e.displayFields),_(3),We(e.documents)}}function rht(t,n){if(1&t){const e=F();d(0,"pngx-document-card-small",42),T("dblClickDocument",function(){const o=b(e).$implicit;return S(g(3).openDocumentDetail(o))})("clickTag",function(o){return b(e),S(g(3).clickTag(o))})("clickCorrespondent",function(o){return b(e),S(g(3).clickCorrespondent(o))})("clickStoragePath",function(o){return b(e),S(g(3).clickStoragePath(o))})("clickDocumentType",function(o){return b(e),S(g(3).clickDocumentType(o))}),u()}if(2&t){const e=n.$implicit,i=n.$index,o=g(3);m("ngStyle",Wn(3,Sb,!o.loading&&o.show?1:1-1*i/o.documents.length))("document",!o.loading&&o.show?e:null)("displayFields",o.displayFields)}}function aht(t,n){if(1&t&&(d(0,"div",10),Ue(1,rht,1,5,"pngx-document-card-small",41,bb),u()),2&t){const e=g(2);_(),We(e.documents)}}function lht(t,n){if(1&t){const e=F();d(0,"pngx-document-card-large",44),T("dblClickDocument",function(){const o=b(e).$implicit;return S(g(3).openDocumentDetail(o))})("clickTag",function(o){return b(e),S(g(3).clickTag(o))})("clickCorrespondent",function(o){return b(e),S(g(3).clickCorrespondent(o))})("clickStoragePath",function(o){return b(e),S(g(3).clickStoragePath(o))})("clickDocumentType",function(o){return b(e),S(g(3).clickDocumentType(o))})("clickMoreLike",function(){const o=b(e).$implicit;return S(g(3).clickMoreLike(o.id))}),u()}if(2&t){const e=n.$implicit,i=n.$index,o=g(3);m("document",!o.loading&&o.show?e:null)("ngStyle",Wn(3,Sb,!o.loading&&o.show?1:1-1*i/o.documents.length))("displayFields",o.displayFields)}}function cht(t,n){if(1&t&&(d(0,"div",11),Ue(1,lht,1,5,"pngx-document-card-large",43,bb),u()),2&t){const e=g(2);_(),We(e.documents)}}function dht(t,n){1&t&&(d(0,"p",12),M(1,4),u())}function uht(t,n){if(1&t&&(d(0,"pngx-widget-frame",6),y(1,Dut,2,2,"a",7),d(2,"div",8),y(3,sht,8,0,"table",9)(4,aht,3,0,"div",10)(5,cht,3,0,"div",11)(6,dht,2,0,"p",12),u()()),2&t){const e=g();m("title",e.savedView.name)("loading",e.loading)("draggable",e.savedView),_(),N(e.documents.length?1:-1),_(),Ce("show",e.show),_(),N(e.displayMode===e.DisplayMode.TABLE?3:e.displayMode===e.DisplayMode.SMALL_CARDS?4:e.displayMode===e.DisplayMode.LARGE_CARDS?5:6)}}let hht=(()=>{class t extends ns{constructor(e,i,o,s,r,a,l,c,h){super(),this.documentService=e,this.router=i,this.list=o,this.websocketStatusService=s,this.openDocumentsService=r,this.documentListViewService=a,this.permissionsService=l,this.settingsService=c,this.customFieldService=h,this.DisplayMode=_c,this.DisplayField=vi,this.CustomFieldDataType=Bi,this.customFields=[],this.documents=[],this.unsubscribeNotifier=new xe,this.mouseOnPreview=!1,this.popoverHidden=!0,this.displayFields=ctt}ngOnInit(){this.reload(),this.displayMode=this.savedView.display_mode??_c.TABLE,this.websocketStatusService.onDocumentConsumptionFinished().pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.reload()}),this.permissionsService.currentUserCan(mt.View,Ct.CustomField)&&this.customFieldService.listAll().pipe(Te(this.unsubscribeNotifier)).subscribe(e=>{this.customFields=e.results}),this.savedView.display_fields&&this.savedView.display_fields.length>0&&(this.displayFields=this.savedView.display_fields),this.displayFields=this.displayFields.filter(e=>void 0!==this.settingsService.allDisplayFields.find(i=>i.id===e))}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}reload(){this.loading=0==this.documents.length,this.documentService.listFiltered(1,this.savedView?.page_size??10,this.savedView.sort_field,this.savedView.sort_reverse,this.savedView.filter_rules,{truncate_content:!0}).pipe(Te(this.unsubscribeNotifier),un(e=>{this.show=!0,this.documents=e.results}),I1(500)).subscribe(e=>{this.loading=!1})}showAll(){this.savedView.show_in_sidebar?this.router.navigate(["view",this.savedView.id]):this.router.navigate(["documents"],{queryParams:{view:this.savedView.id}})}clickTag(e,i=null){i?.preventDefault(),i?.stopImmediatePropagation(),this.list.quickFilter([{rule_type:6,value:e.toString()}])}clickCorrespondent(e,i=null){i?.preventDefault(),i?.stopImmediatePropagation(),this.list.quickFilter([{rule_type:3,value:e.toString()}])}clickDocType(e,i=null){i?.preventDefault(),i?.stopImmediatePropagation(),this.list.quickFilter([{rule_type:4,value:e.toString()}])}clickStoragePath(e,i=null){i?.preventDefault(),i?.stopImmediatePropagation(),this.list.quickFilter([{rule_type:25,value:e.toString()}])}clickMoreLike(e){this.list.quickFilter([{rule_type:21,value:e.toString()}])}clickOwner(e,i=null){i?.preventDefault(),i?.stopImmediatePropagation(),this.list.quickFilter([{rule_type:33,value:e.toString()}])}openDocumentDetail(e){this.router.navigate(["documents",e.id])}getDownloadUrl(e){return this.documentService.getDownloadUrl(e.id)}getColumnTitle(e){if(e.startsWith(vi.CUSTOM_FIELD)){const i=e.split("_")[2];return this.customFields.find(o=>o.id===parseInt(i))?.name}return Qd.find(i=>i.id===e)?.name}static{this.\u0275fac=function(i){return new(i||t)(x(So),x(Lo),x(Va),x(zu),x(ug),x(Va),x(ti),x(En),x(C1))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-saved-view-widget"]],viewQuery:function(i,o){if(1&i&&dn(Eut,5),2&i){let s;pt(s=gt())&&(o.popovers=s)}},inputs:{savedView:"savedView"},features:[st],decls:1,vars:4,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v;return e="Show all",i="Open document",o="Open document",s="Open document",r="Filter by correspondent",a="Filter by document type",l="Filter by storage path",c="Filter by owner",h="Yes",p="No",f="Download",v="No documents",[["popupPreview",""],e,h,p,v,[3,"title","loading","draggable",4,"pngxIfPermissions"],[3,"title","loading","draggable"],["header-buttons","",1,"btn-link","text-decoration-none",3,"routerLink"],["content","",1,"wrapper","fade"],[1,"table","table-hover","mb-0","mt-n2","align-middle"],[1,"row","row-cols-paperless-cards","my-n2"],[1,"row","my-n2"],[1,"text-center","text-muted","mb-0","fst-italic"],["header-buttons","",1,"btn-link","text-decoration-none",3,"click","routerLink"],["scope","col",3,"ngClass"],[1,"py-2","py-md-3","position-relative",3,"ngClass"],[1,"placeholder-glow","text-start"],[1,"placeholder","bg-secondary","w-50",3,"ngStyle"],["title",i,1,"btn-link","text-dark","text-decoration-none","py-2","py-md-3",3,"routerLink"],["title",o,1,"btn-link","text-dark","text-decoration-none","py-2","py-md-3",3,"routerLink"],["title",s,1,"btn-link","text-dark","text-decoration-none","py-2","py-md-3",3,"routerLink"],[3,"document","fieldDisplayKey"],[1,"btn-group","position-absolute","top-50","end-0","translate-middle-y"],["type","button","title",r,1,"btn-link","text-dark","text-decoration-none"],["type","button","title",r,1,"btn-link","text-dark","text-decoration-none",3,"click"],["linkTitle","Filter by tag",1,"ms-1",3,"tagID","clickable"],["linkTitle","Filter by tag",1,"ms-1",3,"click","tagID","clickable"],["type","button","title",a,1,"btn-link","text-dark","text-decoration-none"],["type","button","title",a,1,"btn-link","text-dark","text-decoration-none",3,"click"],["type","button","title",l,1,"btn-link","text-dark","text-decoration-none"],["type","button","title",l,1,"btn-link","text-dark","text-decoration-none",3,"click"],["type","button","title",c,1,"btn-link","text-dark","text-decoration-none"],["type","button","title",c,1,"btn-link","text-dark","text-decoration-none",3,"click"],[1,"btn","btn-sm","p-0",3,"routerLink"],[1,"badge","rounded-pill","bg-light","border","text-primary"],["width","1.2em","height","1.2em","name","chat-left-text",1,"ms-1","me-1"],[1,"btn-group","position-absolute","top-50","end-0","translate-middle-y",3,"mouseleave"],["linkClasses","btn px-4 btn-dark border-dark-subtle",3,"document"],["width","0.8em","height","0.8em","name","eye"],["title",f,1,"btn","px-4","btn-dark","border-dark-subtle",3,"click","href"],["width","0.8em","height","0.8em","name","download"],[1,"p-0",3,"ngStyle","document","displayFields"],[1,"p-0",3,"dblClickDocument","clickTag","clickCorrespondent","clickStoragePath","clickDocumentType","ngStyle","document","displayFields"],[3,"document","ngStyle","displayFields"],[3,"dblClickDocument","clickTag","clickCorrespondent","clickStoragePath","clickDocumentType","clickMoreLike","document","ngStyle","displayFields"]]},template:function(i,o){1&i&&y(0,uht,7,7,"pngx-widget-frame",5),2&i&&m("pngxIfPermissions",Pe(1,Aut,o.PermissionAction.View,o.PermissionType.Document))},dependencies:[zm,eU,JB,fg,Iu,Tb,Ro,Eg,wg,bg,Sg,Aa,wc,fr,Dr,K3,aa,Vr,Gt,Jt],styles:[".wrapper[_ngcontent-%COMP%]{transition:all .3s ease-out;overflow:hidden;max-height:0;width:100%}.show[_ngcontent-%COMP%]{max-height:99999px;overflow:visible}table[_ngcontent-%COMP%]{overflow-wrap:anywhere;table-layout:fixed}@media (min-width: 768px){th.w-25[_ngcontent-%COMP%]{width:15%!important}}tbody[_ngcontent-%COMP%]   pngx-tag[_ngcontent-%COMP%]{cursor:pointer}tr[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin-right:2px;box-shadow:-6px 0 4px -1px rgba(var(--bs-body-bg-rgb),.5);opacity:0;pointer-events:none}tr[_ngcontent-%COMP%]:hover   .btn-group[_ngcontent-%COMP%]{opacity:1;pointer-events:all}td.py-3[_ngcontent-%COMP%]{padding-top:.75em!important;padding-bottom:.75em!important}.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}@media (min-width: 768px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}}@media (min-width: 992px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}}@media (min-width: 1200px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}}@media (min-width: 1600px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}}@media (min-width: 1800px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}}@media (min-width: 2000px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}}@media (min-width: 768px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:33.3333333333%!important}}@media (min-width: 992px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:33.3333333333%!important}}@media (min-width: 1200px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:25%!important}}@media (min-width: 1600px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:20%!important}}@media (min-width: 1800px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:16.6666666667%!important}}@media (min-width: 2000px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:14.2857142857%!important}}  .document-card-check{display:none!important}"]})}}return t})();var _ht=$t(453),iU=$t.t(_ht,2);const Vm=(t,n)=>({action:t,type:n});function pht(t,n){1&t&&(d(0,"div",14),w(1,"div",15),d(2,"span",16),A(3,"\xa0"),u()(),d(4,"div",14),w(5,"div",17),d(6,"span",16),A(7,"\xa0"),u()(),d(8,"div",14),w(9,"div",17),d(10,"span",16),A(11,"\xa0"),u()(),d(12,"div",14),w(13,"div",17),d(14,"span",16),A(15,"\xa0"),u()(),d(16,"div",11),w(17,"div",18)(18,"div",18)(19,"div",19),u())}function ght(t,n){if(1&t){const e=F();d(0,"a",25),T("click",function(){return b(e),S(g(2).goToInbox())}),ae(1),M(2,2),le(),A(3,": "),d(4,"span",26),A(5),u()()}if(2&t){const e=g(2);_(4),Ce("bg-primary",(null==e.statistics?null:e.statistics.documents_inbox)>0)("bg-muted",0===(null==e.statistics?null:e.statistics.documents_inbox)),_(),oe(null==e.statistics?null:e.statistics.documents_inbox)}}function fht(t,n){if(1&t&&(d(0,"div",23),ae(1),M(2,3),le(),A(3,": "),d(4,"span",24),A(5),u()()),2&t){const e=g(2);_(5),oe(null==e.statistics?null:e.statistics.current_asn)}}function mht(t,n){if(1&t&&(y(0,ght,6,5,"a",20),d(1,"a",21),ae(2),M(3,0),le(),A(4,": "),d(5,"span",22),A(6),u()(),d(7,"div",23),ae(8),M(9,1),le(),A(10,": "),d(11,"span",24),A(12),ye(13,"number"),u()(),y(14,fht,6,1,"div",23)),2&t){const e=g();N(null!==(null==e.statistics?null:e.statistics.documents_inbox)?0:-1),_(6),oe(null==e.statistics?null:e.statistics.documents_total),_(6),oe(Ke(13,4,null==e.statistics?null:e.statistics.character_count)),_(2),N(null!=e.statistics&&e.statistics.current_asn?14:-1)}}function vht(t,n){if(1&t){const e=F();d(0,"div",32),T("click",function(){const o=b(e).$implicit;return S(g(2).filterByFileType(o))}),u()}if(2&t){const e=n.$implicit,i=n.$index,o=n.$count,s=g(2);qr("width",s.getFileTypePercent(e)+"%")("opacity",s.getItemOpacity(i)),Ce("me-1px",i!==o-1),m("ngbPopover",s.getFileTypeName(e)),Un("aria-label",s.getFileTypeName(e))("aria-valuenow",s.getFileTypePercent(e))}}function Cht(t,n){if(1&t){const e=F();d(0,"div",31)(1,"div",33),T("click",function(){const o=b(e).$implicit;return S(g(2).filterByFileType(o))}),w(2,"span",34),d(3,"small",35)(4,"span",36),A(5),u(),A(6,"\xa0"),d(7,"span",37),A(8),ye(9,"number"),u()()()()}if(2&t){const e=n.$implicit,i=n.$index,o=g(2);_(),Ce("cursor-pointer",!e.is_other),_(),qr("opacity",o.getItemOpacity(i)),_(3),oe(o.getFileTypeExtension(e)),_(3),Le("(",Yo(9,6,o.getFileTypePercent(e),"1.0-1"),"%)")}}function Mht(t,n){if(1&t&&(d(0,"div",11)(1,"div",27)(2,"div",28),Ue(3,vht,1,9,"div",29,Ht),u()(),d(5,"div",30),Ue(6,Cht,10,9,"div",31,Ht),u()()),2&t){const e=g();_(3),We(null==e.statistics?null:e.statistics.document_file_type_counts),_(3),We(null==e.statistics?null:e.statistics.document_file_type_counts)}}function Tht(t,n){1&t&&(d(0,"div",38),w(1,"span",40),u())}function wht(t,n){if(1&t&&(d(0,"a",39),ae(1),M(2,4),le(),A(3,": "),d(4,"span",24),A(5),ye(6,"number"),u()()),2&t){const e=g(2);_(5),oe(Ke(6,1,null==e.statistics?null:e.statistics.tag_count))}}function bht(t,n){if(1&t&&(ae(0),y(1,Tht,2,0,"div",38)(2,wht,7,3,"a",39),le()),2&t){const e=g();_(),N(e.loading?1:-1),_(),N((null==e.statistics?null:e.statistics.tag_count)>0?2:-1)}}function Sht(t,n){1&t&&(d(0,"div",38),w(1,"span",40),u())}function Eht(t,n){if(1&t&&(d(0,"a",41),ae(1),M(2,5),le(),A(3,": "),d(4,"span",24),A(5),ye(6,"number"),u()()),2&t){const e=g(2);_(5),oe(Ke(6,1,null==e.statistics?null:e.statistics.correspondent_count))}}function Aht(t,n){if(1&t&&(ae(0),y(1,Sht,2,0,"div",38)(2,Eht,7,3,"a",41),le()),2&t){const e=g();_(),N(e.loading?1:-1),_(),N((null==e.statistics?null:e.statistics.correspondent_count)>0?2:-1)}}function Oht(t,n){1&t&&(d(0,"div",38),w(1,"span",40),u())}function yht(t,n){if(1&t&&(d(0,"a",42),ae(1),M(2,6),le(),A(3,": "),d(4,"span",24),A(5),ye(6,"number"),u()()),2&t){const e=g(2);_(5),oe(Ke(6,1,null==e.statistics?null:e.statistics.document_type_count))}}function Nht(t,n){if(1&t&&(ae(0),y(1,Oht,2,0,"div",38)(2,yht,7,3,"a",42),le()),2&t){const e=g();_(),N(e.loading?1:-1),_(),N((null==e.statistics?null:e.statistics.document_type_count)>0?2:-1)}}function Dht(t,n){1&t&&(d(0,"div",38),w(1,"span",40),u())}function Pht(t,n){if(1&t&&(d(0,"a",43),ae(1),M(2,7),le(),A(3,": "),d(4,"span",24),A(5),ye(6,"number"),u()()),2&t){const e=g(2);_(5),oe(Ke(6,1,null==e.statistics?null:e.statistics.storage_path_count))}}function Iht(t,n){if(1&t&&(ae(0),y(1,Dht,2,0,"div",38)(2,Pht,7,3,"a",43),le()),2&t){const e=g();_(),N(e.loading?1:-1),_(),N((null==e.statistics?null:e.statistics.storage_path_count)>0?2:-1)}}let xht=(()=>{class t extends ca{constructor(e,i,o){super(),this.http=e,this.websocketConnectionService=i,this.documentListViewService=o,this.loading=!1,this.statistics={},this.unsubscribeNotifer=new xe}reload(){this.loading||(this.loading=!0,this.http.get(`${gi.apiBaseUrl}statistics/`).pipe(Te(this.unsubscribeNotifer),ut()).subscribe(e=>{if(this.loading=!1,e.document_file_type_counts?.length>5){const o=e.document_file_type_counts.slice(5);e.document_file_type_counts=e.document_file_type_counts.slice(0,5),e.document_file_type_counts.push({mime_type:"Other",is_other:!0,mime_type_count:o.reduce((s,r)=>r.mime_type_count+s,0)})}this.statistics=e}))}getFileTypeExtension(e){return iU[e.mime_type]?.extensions[0]?.toUpperCase()??e.mime_type}getFileTypeName(e){return iU[e.mime_type]?.name??e.mime_type}getFileTypePercent(e){return e.mime_type_count/this.statistics?.documents_total*100}getItemOpacity(e){return 1-e/this.statistics?.document_file_type_counts.length}ngOnInit(){this.reload(),this.subscription=this.websocketConnectionService.onDocumentConsumptionFinished().subscribe(()=>{this.reload()})}ngOnDestroy(){this.subscription.unsubscribe(),this.unsubscribeNotifer.next(!0),this.unsubscribeNotifer.complete()}goToInbox(){this.documentListViewService.quickFilter([{rule_type:22,value:this.statistics.inbox_tags.map(e=>e.toString()).join(",")}])}filterByFileType(e){e.is_other||this.documentListViewService.quickFilter([{rule_type:47,value:e.mime_type}])}static{this.\u0275fac=function(i){return new(i||t)(x(Ji),x(zu),x(Va))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-statistics-widget"]],features:[st],decls:11,vars:19,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f;return e="Statistics",i="Go to inbox",o="Go to documents",s="Total documents",r="Total characters",a="Documents in inbox",l="Current ASN",c="Tags",h="Correspondents",p="Document Types",f="Storage Paths",[s,r,a,l,c,h,p,f,["title",e,3,"loading"],["content",""],[1,"list-group","border-light","placeholder-glow"],[1,"list-group-item","filetypes"],[1,"list-group","border-light","mt-3"],[4,"pngxIfPermissions"],[1,"list-group-item","d-flex"],[1,"placeholder","w-50"],[1,"placeholder","badge","rounded-pill","ms-auto",2,"width","25px"],[1,"placeholder","w-25"],[1,"placeholder","w-100","d-block","mb-2"],[1,"placeholder","w-100","d-block"],["title",i,"href","javascript:void(0)",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center"],["title",o,"routerLink","/documents/",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary","rounded-pill"],["routerLink","/documents/",1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-secondary","text-light","rounded-pill"],["title",i,"href","javascript:void(0)",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",3,"click"],[1,"badge","rounded-pill"],[1,"d-flex","justify-content-between","align-items-center","my-2"],[1,"progress","flex-grow-1"],["role","progressbar","triggers","mouseenter:mouseleave","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",3,"ngbPopover","me-1px","width","opacity"],[1,"d-flex","flex-wrap","align-items-start"],[1,"d-flex"],["role","progressbar","triggers","mouseenter:mouseleave","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",3,"click","ngbPopover"],[1,"text-nowrap","me-2",3,"click"],[1,"badge","rounded-pill","bg-primary","d-inline-block","p-0","me-1"],[1,"text-nowrap"],[1,"fw-bold"],[1,"text-muted"],[1,"placeholder-glow","list-group-item"],["routerLink","/tags/",1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"placeholder","w-100"],["routerLink","/correspondents/",1,"list-group-item","d-flex","justify-content-between","align-items-center"],["routerLink","/documenttypes/",1,"list-group-item","d-flex","justify-content-between","align-items-center"],["routerLink","/storagepaths/",1,"list-group-item","d-flex","justify-content-between","align-items-center"]]},template:function(i,o){1&i&&(d(0,"pngx-widget-frame",8),ae(1,9),d(2,"div",10),y(3,pht,20,0)(4,mht,15,6)(5,Mht,8,0,"div",11),u(),d(6,"div",12),y(7,bht,3,2,"ng-container",13)(8,Aht,3,2,"ng-container",13)(9,Nht,3,2,"ng-container",13)(10,Iht,3,2,"ng-container",13),u(),le(),u()),2&i&&(m("loading",o.loading),_(3),N(o.loading?3:4),_(2),N((null==o.statistics||null==o.statistics.document_file_type_counts?null:o.statistics.document_file_type_counts.length)>1?5:-1),_(2),m("pngxIfPermissions",Pe(7,Vm,o.PermissionAction.View,o.PermissionType.Tag)),_(),m("pngxIfPermissions",Pe(10,Vm,o.PermissionAction.View,o.PermissionType.Correspondent)),_(),m("pngxIfPermissions",Pe(13,Vm,o.PermissionAction.View,o.PermissionType.DocumentType)),_(),m("pngxIfPermissions",Pe(16,Vm,o.PermissionAction.View,o.PermissionType.StoragePath)))},dependencies:[Tb,Ro,Pa,Da,q3,aa,Vr],styles:[".filetypes[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:.6rem}.filetypes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{height:.6rem;width:.6rem}"]})}}return t})(),oU=(()=>{class t{constructor(e,i){this.documentService=e,this.websocketStatusService=i,this.uploadSubscriptions=[]}onNgxFileDrop(e){for(const i of e)i.fileEntry.isFile&&i.fileEntry.file(s=>this.uploadFile(s))}uploadFiles(e){for(let i=0;i<e.length;i++)this.uploadFile(e.item(i))}uploadFile(e){let i=new FormData;i.append("document",e,e.name),i.append("from_webui","true");let o=this.websocketStatusService.newFileUpload(e.name);o.message="Connecting...",this.uploadSubscriptions[e.name]=this.documentService.uploadDocument(i).subscribe({next:s=>{s.type==h0.UploadProgress?(o.updateProgress(Vi.UPLOADING,s.loaded,s.total),o.message="Uploading..."):s.type==h0.Response&&(o.taskId=s.body.task_id??s.body.toString(),o.message="Upload complete, waiting...",this.uploadSubscriptions[e.name]?.complete())},error:s=>{this.websocketStatusService.fail(o,400===s.status?s.error.document:"HTTP error: " + s.status + " " + s.statusText + ""),this.uploadSubscriptions[e.name]?.complete()}})}static{this.\u0275fac=function(i){return new(i||t)(Be(So),Be(zu))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const sU=(t,n)=>({action:t,type:n}),Lht=()=>[],Rht=t=>({$implicit:t});function Fht(t,n){if(1&t&&(d(0,"p",21),A(1),u()),2&t){const e=g(3);_(),oe(e.getStatusSummary())}}function kht(t,n){if(1&t){const e=F();d(0,"a",24),T("click",function(){return b(e),S(g(3).dismissCompleted())}),d(1,"span",25),M(2,4),u(),w(3,"i-bs",26),u()}2&t&&m("routerLink",kl(1,Lht))}function zht(t,n){if(1&t&&(d(0,"div"),Nn(1,27),u()),2&t){const e=n.$implicit;g(3);const i=Ve(2);_(),m("ngTemplateOutlet",i)("ngTemplateOutletContext",Wn(2,Rht,e))}}function Vht(t,n){if(1&t&&(d(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19)(5,"div",20),y(6,Fht,2,1,"p",21)(7,kht,4,2,"a",22),u()(),d(8,"div",19)(9,"div",23),Ue(10,zht,2,4,"div",null,Ht),u()()()()()()),2&t){const e=g(2);m("ngClass",e.slimSidebarEnabled?"col-slim":"offset-md-3 offset-lg-2"),_(6),N(e.getStatus().length>0?6:-1),_(),N(e.getStatusCompleted().length>0?7:-1),_(3),We(e.getStatus())}}function Hht(t,n){if(1&t){const e=F();d(0,"pngx-widget-frame",7)(1,"div",8)(2,"form",9)(3,"button",10),T("click",function(){return b(e),S(Ve(11).click())}),w(4,"i-bs",11),A(5,"\xa0 "),d(6,"span",12),M(7,2),u(),d(8,"div",13),M(9,3),u()(),d(10,"input",14,1),T("change",function(o){return b(e),S(g().onFileSelected(o))}),u()(),y(12,Vht,12,3,"div",15),u()()}if(2&t){const e=g();m("cardless",!0),_(12),N(e.getStatus().length>0?12:-1)}}function $ht(t,n){if(1&t&&(d(0,"p",30),A(1),u()),2&t){const e=g().$implicit;_(),oe(e.message)}}function Ght(t,n){if(1&t){const e=F();d(0,"button",34),T("click",function(){b(e);const o=g(3).$implicit;return S(g().dismiss(o))}),d(1,"small"),M(2,5),u(),w(3,"i-bs",35),u()}2&t&&Kt("routerLink","/documents/",g(3).$implicit.documentId,"")}function Bht(t,n){if(1&t&&(d(0,"div"),y(1,Ght,4,2,"button",33),u()),2&t){const e=g(2).$implicit;_(),N(e.documentId?1:-1)}}function Uht(t,n){if(1&t&&(d(0,"div"),y(1,Bht,2,1,"div"),u()),2&t){const e=g().$implicit,i=g();_(),N(i.isFinished(e)?1:-1)}}function Wht(t,n){if(1&t){const e=F();d(0,"ngb-alert",28),T("closed",function(){const o=b(e).$implicit;return S(g().dismiss(o))}),d(1,"h6",29),A(2),u(),y(3,$ht,2,1,"p",30),w(4,"ngb-progressbar",31),y(5,Uht,2,1,"div",32),u()}if(2&t){const e=n.$implicit,i=g();m("dismissible",i.isFinished(e)),_(2),oe(e.filename),_(),N(!i.isFinished(e)||i.isFinished(e)&&!e.documentId?3:-1),_(),m("value",e.getProgress())("max",1)("type",i.getStatusColor(e)),_(),m("pngxIfPermissions",Pe(7,sU,i.PermissionAction.View,i.PermissionType.Document))}}let Zht=(()=>{class t extends ca{constructor(e,i,o){super(),this.websocketStatusService=e,this.uploadDocumentsService=i,this.settingsService=o}getStatus(){return this.websocketStatusService.getConsumerStatus()}getStatusSummary(){let e=[],i=this.websocketStatusService.getConsumerStatusNotCompleted().length,o=this.getStatusFailed().length,s=this.getStatusSuccess().length;return i>0&&e.push("Processing: " + i + ""),o>0&&e.push("Failed: " + o + ""),s>0&&e.push("Added: " + s + ""),e.join(", ")}getStatusUploading(){return this.websocketStatusService.getConsumerStatus(Vi.UPLOADING)}getStatusFailed(){return this.websocketStatusService.getConsumerStatus(Vi.FAILED)}getStatusSuccess(){return this.websocketStatusService.getConsumerStatus(Vi.SUCCESS)}getStatusCompleted(){return this.websocketStatusService.getConsumerStatusCompleted()}getTotalUploadProgress(){let e=0,i=0;return this.getStatusUploading().forEach(o=>{e+=o.currentPhaseProgress,i+=o.currentPhaseMaxProgress}),e/Math.max(i,1)}isFinished(e){return e.phase==Vi.FAILED||e.phase==Vi.SUCCESS}getStatusColor(e){switch(e.phase){case Vi.UPLOADING:case Vi.STARTED:case Vi.WORKING:return"primary";case Vi.FAILED:return"danger";case Vi.SUCCESS:return"success"}}dismiss(e){this.websocketStatusService.dismiss(e)}dismissCompleted(){this.getStatusCompleted().forEach(e=>this.websocketStatusService.dismiss(e))}onFileSelected(e){this.uploadDocumentsService.uploadFiles(e.target.files)}get slimSidebarEnabled(){return this.settingsService.get(Me.SLIM_SIDEBAR)}static{this.\u0275fac=function(i){return new(i||t)(x(zu),x(oU),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-upload-file-widget"]],viewQuery:function(i,o){if(1&i&&dn(R6,5),2&i){let s;pt(s=gt())&&(o.alerts=s)}},features:[st],decls:3,vars:4,consts:()=>{let e,i,o,s;return e="Upload documents",i="or drop files anywhere",o="Dismiss completed",s="Open document",[["consumerAlert",""],["fileUpload",""],e,i,o,s,[3,"cardless",4,"pngxIfPermissions"],[3,"cardless"],["content","","tourAnchor","tour.upload-widget"],[1,"justify-content-center","d-flex","flex-column","align-items-center"],["type","button",1,"btn","btn-outline-dark","bg-light","shadow-sm","w-100","h-100","pt-3","pb-3",3,"click"],["name","plus-circle",1,"text-primary"],[1,"text-primary"],[1,"text-muted","smaller","fst-italic"],["type","file","multiple","",1,"visually-hidden",3,"change"],[1,"fixed-bottom","p-2","p-md-4","d-flex","justify-content-end","pe-none","consumer-status-list",3,"ngClass"],[1,"col","col-lg-4","col-xl-3","ps-0","pe-0","ps-lg-3","pe-lg-0","pe-auto","overflow-y-scroll"],[1,"card","shadow-sm","consumer-status-card"],[1,"card-body"],[1,"row"],[1,"col","d-flex","justify-content-between","align-items-center"],[1,"m-0","small","text-muted"],[1,"btn-link",3,"routerLink"],[1,"col"],[1,"btn-link",3,"click","routerLink"],[1,"me-1"],["name","check2-all"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","secondary",1,"mt-2","mb-0",3,"closed","dismissible"],[1,"alert-heading"],[1,"mb-0","pb-1"],[3,"value","max","type"],[4,"pngxIfPermissions"],[1,"btn","btn-sm","btn-outline-primary","btn-open",3,"routerLink"],[1,"btn","btn-sm","btn-outline-primary","btn-open",3,"click","routerLink"],["name","arrow-right-short"]]},template:function(i,o){1&i&&y(0,Hht,13,2,"pngx-widget-frame",6)(1,Wht,6,10,"ng-template",null,0,zt),2&i&&m("pngxIfPermissions",Pe(1,sU,o.PermissionAction.Add,o.PermissionType.Document))},dependencies:[Tb,Ro,Dr,Uo,aa,Vr,Q_,R6,Y0,Z6,Gt,Jt,hc,uc],styles:["[_nghost-%COMP%]     i-bs svg{margin-top:-3px}.btn-outline-dark[_ngcontent-%COMP%]{--bs-btn-border-color: var(--bs-border-color-translucent)}.smaller[_ngcontent-%COMP%]{font-size:.75rem}.alert-heading[_ngcontent-%COMP%]{font-size:80%;font-weight:700}.alerts-hidden[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .btn-open[_ngcontent-%COMP%]{line-height:1}.btn-open[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{margin-top:-1px}.progress[_ngcontent-%COMP%]{position:absolute;inset:0;height:auto;mix-blend-mode:soft-light;pointer-events:none}  .ngx-file-drop__drop-zone--over{background-color:var(--pngx-primary-faded)!important}.consumer-status-card[_ngcontent-%COMP%]{background-color:rgba(var(--bs-body-bg-rgb),.95)!important}.consumer-status-list[_ngcontent-%COMP%]{max-height:calc(100vh - 312px)}@media screen and (min-width: 768px){.consumer-status-list[_ngcontent-%COMP%]{max-height:calc(100vh - 208px)}}"]})}}return t})(),jht=(()=>{class t{constructor(e){this.tourService=e,this.dismiss=new Ee}static{this.\u0275fac=function(i){return new(i||t)(x(dc))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-welcome-widget"]],outputs:{dismiss:"dismiss"},decls:13,vars:1,consts:()=>{let e,i,o;return e="App is running!",i="You're ready to start uploading documents! Explore the various features of this web app on your own, or start a quick tour using the button below.",o="Start the tour",[e,i,o,["type","primary",1,"pe-3",3,"closed","dismissible"],[1,"alert-heading"],[1,"d-flex","align-items-end"],[1,"btn","btn-primary","ms-auto","flex-shrink-0",3,"click"]]},template:function(i,o){1&i&&(d(0,"ngb-alert",3),T("closed",function(){return o.dismiss.emit(!0)}),d(1,"h4",4),ae(2),M(3,0),le(),A(4," \u{1f389}"),u(),d(5,"p"),M(6,1),u(),w(7,"hr"),d(8,"div",5)(9,"button",6),T("click",function(){return o.tourService.start()}),ae(10),M(11,2),le(),A(12," \u2192"),u()()()),2&i&&m("dismissible",!0)},dependencies:[Q_,R6],encapsulation:2})}}return t})();const Xht=(t,n)=>n.id,rU=(t,n)=>({action:t,type:n});function Kht(t,n){1&t&&(d(0,"div",4)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12),w(6,"i-bs",13),u(),w(7,"h6",14),u()()(),d(8,"div",15),A(9,"\xa0"),u()()())}function qht(t,n){if(1&t){const e=F();d(0,"div",4)(1,"pngx-welcome-widget",16),T("dismiss",function(){return b(e),S(g().completeTour())}),u()()}}function Yht(t,n){if(1&t){const e=F();d(0,"div",4)(1,"pngx-saved-view-widget",17),T("cdkDragStarted",function(o){return b(e),S(g(2).onDragStart(o))})("cdkDragEnded",function(o){return b(e),S(g(2).onDragEnd(o))}),u()()}if(2&t){const e=n.$implicit;_(),m("savedView",e)}}function Qht(t,n){if(1&t&&(ae(0),Ue(1,Yht,2,1,"div",4,Xht),le()),2&t){const e=g();_(),We(e.dashboardViews)}}function Jht(t,n){1&t&&w(0,"pngx-statistics-widget")}let e_t=(()=>{class t extends ca{constructor(e,i,o,s){super(),this.settingsService=e,this.savedViewService=i,this.tourService=o,this.toastService=s,this.dashboardViews=[],this.savedViewService.listAll().subscribe(()=>{this.dashboardViews=this.savedViewService.dashboardViews})}get subtitle(){return this.settingsService.displayName?"Hello " + this.settingsService.displayName + ", welcome to " + gi.appTitle + "":"Welcome to " + gi.appTitle + ""}completeTour(){0!==this.tourService.getStatus()?this.tourService.end():this.settingsService.completeTour()}onDragStart(e){this.settingsService.globalDropzoneEnabled=!1}onDragEnd(e){this.settingsService.globalDropzoneEnabled=!0}onDrop(e){gd(this.dashboardViews,e.previousIndex,e.currentIndex),this.settingsService.updateDashboardViewsSort(this.dashboardViews).subscribe({next:()=>{this.toastService.showInfo("Dashboard updated")},error:i=>{this.toastService.showError("Error updating dashboard",i)}})}static{this.\u0275fac=function(i){return new(i||t)(x(En),x(Tg),x(dc),x(Fi))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-dashboard"]],features:[st],decls:11,vars:12,consts:()=>{let e;return e="Dashboard",[["title",e,"tourAnchor","tour.dashboard",3,"subTitle"],[1,"row"],[1,"col-12","col-lg-8","col-xl-9","mb-4"],["cdkDropList","",1,"row","row-cols-1","g-4",3,"cdkDropListDropped","cdkDropListDisabled"],[1,"col"],[4,"pngxIfPermissions"],[1,"col-12","col-lg-4","col-xl-3","col-sidebar"],[1,"row","row-cols-1","g-4","mb-4","sticky-lg-top","z-0"],[1,"card","shadow-sm","bg-light"],[1,"card-header"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex"],[1,"ms-n2","me-1"],["name","grip-vertical"],[1,"card-title","mb-0"],[1,"card-body"],[3,"dismiss"],[3,"cdkDragStarted","cdkDragEnded","savedView"]]},template:function(i,o){1&i&&(w(0,"pngx-page-header",0),d(1,"div",1)(2,"div",2)(3,"div",3),T("cdkDropListDropped",function(r){return o.onDrop(r)}),y(4,Kht,10,0,"div",4)(5,qht,2,0,"div",4)(6,Qht,3,0,"ng-container",5),u()(),d(7,"div",6)(8,"div",7),w(9,"pngx-upload-file-widget"),y(10,Jht,1,0,"pngx-statistics-widget",5),u()()()),2&i&&(m("subTitle",o.subtitle),_(3),m("cdkDropListDisabled",o.settingsService.globalDropzoneActive),_(),N(o.savedViewService.loading?4:-1),_(),N(o.settingsService.offerTour()?5:-1),_(),m("pngxIfPermissions",Pe(6,rU,o.PermissionAction.View,o.PermissionType.SavedView)),_(4),m("pngxIfPermissions",Pe(9,rU,o.PermissionAction.View,o.PermissionType.UISettings)))},dependencies:[or,hht,xht,Zht,jht,Ro,fd,D2,hc,uc],styles:[".col-sidebar[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{top:3.5rem}"]})}}return t})(),t_t=(()=>{class t{constructor(e,i,o){this.documentsService=e,this.route=i,this.router=o}ngOnInit(){this.route.paramMap.subscribe(e=>{this.asn=e.get("id"),this.documentsService.listAllFilteredIds([{rule_type:2,value:this.asn}]).subscribe(i=>{1==i.length?this.router.navigate(["documents",i[0]]):this.router.navigate(["404"],{replaceUrl:!0})})})}static{this.\u0275fac=function(i){return new(i||t)(x(So),x(v1),x(Lo))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-document-asncomponent"]],decls:2,vars:1,consts:()=>{let e;return e="Searching document with asn " + "\ufffd0\ufffd" + "",[e]},template:function(i,o){1&i&&(d(0,"p"),M(1,0),u()),2&i&&(_(),bn(o.asn),Sn(1))},encapsulation:2})}}return t})(),s5=(()=>{class t{constructor(){this.pngxSortable="",this.currentSortReverse=!1,this.sort=new Ee}get asc(){return this.currentSortField===this.pngxSortable&&!this.currentSortReverse}get des(){return this.currentSortField===this.pngxSortable&&this.currentSortReverse}rotate(){this.sort.emit(this.currentSortField!=this.pngxSortable?{column:this.pngxSortable,reverse:!1}:this.currentSortField!=this.pngxSortable||this.currentSortReverse?{column:null,reverse:!1}:{column:this.currentSortField,reverse:!0})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=et({type:t,selectors:[["th","pngxSortable",""]],hostVars:4,hostBindings:function(i,o){1&i&&T("click",function(){return o.rotate()}),2&i&&Ce("asc",o.asc)("des",o.des)},inputs:{pngxSortable:"pngxSortable",currentSortReverse:"currentSortReverse",currentSortField:"currentSortField"},outputs:{sort:"sort"}})}}return t})();var n_t=$t(578);const i_t=(t,n)=>n.id;function o_t(t,n){if(1&t&&(d(0,"li",12),w(1,"i-bs",23),A(2),u()),2&t){let e;const i=n.$implicit,o=g();_(2),Le(" ",null==(e=o.getDocument(i))?null:e.title," ")}}function s_t(t,n){if(1&t&&(d(0,"option",15),A(1),u()),2&t){const e=n.$implicit;m("ngValue",e.id),_(),oe(e.title)}}let r_t=(()=>{class t extends Ui{get documents(){return this._documents}constructor(e,i,o){super(e),this.documentService=i,this.permissionService=o,this.documentIDs=[],this.deleteOriginals=!1,this._documents=[],this.metadataDocumentID=-1}ngOnInit(){this.documentService.getFew(this.documentIDs).pipe(Te(this.unsubscribeNotifier)).subscribe(e=>{this._documents=e.results})}onDrop(e){gd(this.documentIDs,e.previousIndex,e.currentIndex)}getDocument(e){return this.documents.find(i=>i.id===e)}get userOwnsAllDocuments(){return this.documents.every(e=>this.permissionService.currentUserOwnsObject(e))}static{this.\u0275fac=function(i){return new(i||t)(x(io),x(So),x(ti))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-merge-confirm-dialog"]],features:[st],decls:33,vars:14,consts:()=>{let e,i,o,s,r;return e="Documents:",i="Use metadata from:",o="Regenerate all metadata",s="Delete original documents after successful merge",r="Note that only PDFs will be included.",[e,i,o,s,r,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","metadataDocumentID",1,"form-label"],["cdkDropList","",1,"list-group",3,"cdkDropListDropped"],["cdkDrag","",1,"list-group-item"],[1,"form-group","mt-4"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"form-check","form-switch","mt-4"],["type","checkbox","role","switch","id","deleteOriginalsSwitch",1,"form-check-input",3,"ngModelChange","ngModel","disabled"],["for","deleteOriginalsSwitch",1,"form-check-label"],[1,"small","text-muted","fst-italic","mt-4"],[1,"modal-footer"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],["name","grip-vertical",1,"me-2"]]},template:function(i,o){1&i&&(d(0,"div",5)(1,"h4",6),A(2),u(),d(3,"button",7),T("click",function(){return o.cancel()}),u()(),d(4,"div",8)(5,"p"),A(6),u(),d(7,"div",9)(8,"label",10),M(9,0),u(),d(10,"ul",11),T("cdkDropListDropped",function(r){return o.onDrop(r)}),Ue(11,o_t,3,1,"li",12,Ht),u()(),d(13,"div",13)(14,"label",10),M(15,1),u(),d(16,"select",14),je("ngModelChange",function(r){return $e(o.metadataDocumentID,r)||(o.metadataDocumentID=r),r}),d(17,"option",15),M(18,2),u(),Ue(19,s_t,2,2,"option",15,i_t),u()(),d(21,"div",16)(22,"input",17),je("ngModelChange",function(r){return $e(o.deleteOriginals,r)||(o.deleteOriginals=r),r}),u(),d(23,"label",18),M(24,3),u()(),d(25,"p",19),M(26,4),u()(),d(27,"div",20)(28,"button",21),T("click",function(){return o.cancel()}),d(29,"span",22),A(30),u()(),d(31,"button",21),T("click",function(){return o.confirm()}),A(32),u()()),2&i&&(_(2),oe(o.title),_(4),oe(o.message),_(5),We(o.documentIDs),_(5),Ze("ngModel",o.metadataDocumentID),_(),m("ngValue",-1),_(2),We(o.documents),_(3),Ze("ngModel",o.deleteOriginals),m("disabled",!o.userOwnsAllDocuments),_(6),lo(o.cancelBtnClass),m("disabled",!o.buttonsEnabled),_(2),oe(o.cancelBtnCaption),_(),lo(o.btnClass),m("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled),_(),Le(" ",o.btnCaption," "))},dependencies:[fd,D2,N2,Xt,jl,Xl,Zo,j0,jt,Rn,qt,Gt,Jt],styles:[".list-group-item[_ngcontent-%COMP%]{cursor:move}"]})}}return t})(),Eb=(()=>{class t{transform(e,i,o){return e?i?e.filter(s=>(o?[o]:Object.keys(s).filter(a=>"string"==typeof s[a]||"number"==typeof s[a])).some(a=>String(s[a]).toLowerCase().includes(i.toLowerCase()))):e:[]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=eo({name:"filter",type:t,pure:!0})}}return t})();function Ab(t){t.modifiers=t.modifiers?.filter(e=>!("preventOverflow"===e.name&&0===e.fn?.length));const n=t.modifiers.find(e=>"preventOverflow"===e.name);return n&&(n.options={padding:10}),t}function a_t(t,n){1&t&&w(0,"i-bs",2)}function l_t(t,n){if(1&t&&(d(0,"div",3),A(1),d(2,"span",5),A(3,"selected"),u()()),2&t){const e=g(2);_(),oe(e.number)}}function c_t(t,n){if(1&t){const e=F();d(0,"button",1),T("click",function(o){return b(e),S(g().onClick(o))}),y(1,a_t,1,0,"i-bs",2)(2,l_t,4,1,"div",3),w(3,"i-bs",4),u()}if(2&t){const e=g();_(),N(!e.isNumbered&&e.selected?1:-1),_(),N(e.isNumbered?2:-1)}}let Hm=(()=>{class t{constructor(){this.cleared=new Ee}get active(){return this.selected||this.number>-1}get isNumbered(){return this.number>-1}onClick(e){this.cleared.emit(!0),e.stopImmediatePropagation(),e.preventDefault()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-clearable-badge"]],inputs:{number:"number",selected:"selected"},outputs:{cleared:"cleared"},decls:1,vars:1,consts:()=>{let e;return e="Clear",[["title",e,1,"position-absolute","top-0","start-100","translate-middle","badge","bg-secondary","border","border-light","rounded-pill","p-1"],["title",e,1,"position-absolute","top-0","start-100","translate-middle","badge","bg-secondary","border","border-light","rounded-pill","p-1",3,"click"],["width","1em","height","1em","name","check-lg",1,"check"],[1,"number"],["width",".9em","height","1em","name","x-lg",1,"x"],[1,"visually-hidden"]]},template:function(i,o){1&i&&y(0,c_t,4,2,"button",0),2&i&&N(o.active?0:-1)},dependencies:[Gt,Jt],styles:[".badge[_ngcontent-%COMP%]{min-width:20px;min-height:20px}.x[_ngcontent-%COMP%]{display:none}.number[_ngcontent-%COMP%]{min-width:1em;min-height:1em;display:inline-block}button[_ngcontent-%COMP%]:hover   .check[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   .number[_ngcontent-%COMP%]{opacity:0!important}button[_ngcontent-%COMP%]:hover   .x[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:.4em;left:calc(50% - .4em)}"]})}}return t})();function d_t(t,n){1&t&&w(0,"i-bs",2)}function u_t(t,n){1&t&&w(0,"i-bs",3)}function h_t(t,n){1&t&&w(0,"i-bs",4)}function __t(t,n){1&t&&w(0,"pngx-tag",6),2&t&&m("tag",g().item)("clickable",!1)}function p_t(t,n){if(1&t&&(d(0,"small"),A(1),u()),2&t){const e=g();_(),oe(e.item.name)}}function g_t(t,n){if(1&t&&(d(0,"div",7),A(1),u()),2&t){const e=g();_(),oe(e.currentCount)}}var Cn=function(t){return t[t.NotSelected=0]="NotSelected",t[t.Selected=1]="Selected",t[t.PartiallySelected=2]="PartiallySelected",t[t.Excluded=3]="Excluded",t}(Cn||{});let f_t=(()=>{class t{constructor(){this.disabled=!1,this.hideCount=!1,this.opacifyCount=!0,this.toggled=new Ee,this.exclude=new Ee}get isTag(){return"is_inbox_tag"in this.item}get currentCount(){return this.count??this.item.document_count}toggleItem(e){this.state==Cn.Selected?this.exclude.emit():this.toggled.emit()}isChecked(){return this.state==Cn.Selected}isPartiallyChecked(){return this.state==Cn.PartiallySelected}isExcluded(){return this.state==Cn.Excluded}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-toggleable-dropdown-button"]],inputs:{item:"item",state:"state",count:"count",disabled:"disabled",hideCount:"hideCount",opacifyCount:"opacifyCount"},outputs:{toggled:"toggled",exclude:"exclude"},decls:9,vars:8,consts:[["role","menuitem",1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","border-top-0","border-start-0","border-end-0","border-bottom",3,"click","disabled"],[1,"selected-icon","me-1"],["width","1em","height","1em","name","check"],["width","1em","height","1em","name","dash"],["width","1em","height","1em","name","x"],[1,"me-1"],[3,"tag","clickable"],[1,"badge","bg-light","text-dark","rounded-pill","ms-auto","me-1"]],template:function(i,o){1&i&&(d(0,"button",0),T("click",function(r){return o.toggleItem(r)}),d(1,"div",1),y(2,d_t,1,0,"i-bs",2)(3,u_t,1,0,"i-bs",3)(4,h_t,1,0,"i-bs",4),u(),d(5,"div",5),y(6,__t,1,2,"pngx-tag",6)(7,p_t,2,1,"small"),u(),y(8,g_t,2,1,"div",7),u()),2&i&&(Ce("opacity-50",o.opacifyCount&&!o.hideCount&&0===o.currentCount),m("disabled",o.disabled),_(2),N(o.isChecked()?2:-1),_(),N(o.isPartiallyChecked()?3:-1),_(),N(o.isExcluded()?4:-1),_(2),N(o.isTag?6:7),_(2),N(o.hideCount?-1:8))},dependencies:[Iu,Gt,Jt],styles:[".selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}"]})}}return t})();const m_t=["listFilterTextInput"],v_t=["dropdown"],C_t=["buttonItems"],M_t=t=>({"fw-bold":t});function T_t(t,n){if(1&t){const e=F();d(0,"pngx-clearable-badge",24),T("cleared",function(){return b(e),S(g().reset())}),u()}if(2&t){const e=g();m("number",e.selectionModel.totalCount)("selected",e.selectionModel.selectionSize()>0)}}function w_t(t,n){if(1&t){const e=F();d(0,"div",17)(1,"div",25)(2,"input",26),je("ngModelChange",function(o){b(e);const s=g();return $e(s.selectionModel.logicalOperator,o)||(s.selectionModel.logicalOperator=o),S(o)}),T("ngModelChange",function(){return b(e),S(g().selectionModel.toggleOperator())}),u(),d(3,"label",27),M(4,3),u(),d(5,"input",28),je("ngModelChange",function(o){b(e);const s=g();return $e(s.selectionModel.logicalOperator,o)||(s.selectionModel.logicalOperator=o),S(o)}),T("ngModelChange",function(){return b(e),S(g().selectionModel.toggleOperator())}),u(),d(6,"label",27),M(7,4),u()()()}if(2&t){const e=g();_(2),Kt("id","logicalOperatorAnd_",e.name,""),Kt("name","logicalOperatorAnd_",e.name,""),Ze("ngModel",e.selectionModel.logicalOperator),m("disabled",!e.modifierToggleEnabled),_(),Kt("for","logicalOperatorAnd_",e.name,""),_(2),Kt("id","logicalOperatorOr_",e.name,""),Kt("name","logicalOperatorOr_",e.name,""),Ze("ngModel",e.selectionModel.logicalOperator),m("disabled",!e.modifierToggleEnabled),_(),Kt("for","logicalOperatorOr_",e.name,"")}}function b_t(t,n){if(1&t){const e=F();d(0,"div",17)(1,"div",25)(2,"input",29),je("ngModelChange",function(o){b(e);const s=g();return $e(s.selectionModel.intersection,o)||(s.selectionModel.intersection=o),S(o)}),T("ngModelChange",function(){return b(e),S(g().selectionModel.toggleIntersection())}),u(),d(3,"label",27),M(4,5),u(),d(5,"input",30),je("ngModelChange",function(o){b(e);const s=g();return $e(s.selectionModel.intersection,o)||(s.selectionModel.intersection=o),S(o)}),T("ngModelChange",function(){return b(e),S(g().selectionModel.toggleIntersection())}),u(),d(6,"label",27),M(7,6),u()()()}if(2&t){const e=g();_(2),Kt("id","intersectionInclude_",e.name,""),Kt("name","intersectionInclude_",e.name,""),Ze("ngModel",e.selectionModel.intersection),m("disabled",!e.modifierToggleEnabled),_(),Kt("for","intersectionInclude_",e.name,""),_(2),Kt("id","intersectionExclude_",e.name,""),Kt("name","intersectionExclude_",e.name,""),Ze("ngModel",e.selectionModel.intersection),m("disabled",!e.modifierToggleEnabled),_(),Kt("for","intersectionExclude_",e.name,"")}}function S_t(t,n){if(1&t){const e=F();d(0,"pngx-toggleable-dropdown-button",32),T("toggled",function(){b(e);const o=g().$implicit;return S(g(2).selectionModel.toggle(o.id))})("exclude",function(){b(e);const o=g().$implicit;return S(g(2).excludeClicked(o.id))})("click",function(){b(e);const o=g().$index;return S(g(2).setButtonItemIndex(o-1))}),u()}if(2&t){const e=g().$implicit,i=g(2);m("item",e)("hideCount",i.hideCount(e))("opacifyCount",!i.editing)("state",i.selectionModel.get(e.id))("count",i.getUpdatedDocumentCount(e.id))("disabled",i.disabled)}}function E_t(t,n){if(1&t&&y(0,S_t,1,6,"pngx-toggleable-dropdown-button",31),2&t){const e=n.$implicit;N(g(2).allowSelectNone||e.id?0:-1)}}function A_t(t,n){if(1&t&&(d(0,"div",21,2),Ue(2,E_t,1,1,null,null,Ht),ye(4,"filter"),u()),2&t){const e=g();_(2),We(cd(4,0,e.selectionModel.items,e.filterText,"name"))}}function O_t(t,n){if(1&t){const e=F();d(0,"button",34),T("click",function(){return b(e),S(g(2).createClicked())}),d(1,"small",35),ae(2),M(3,7),le(),A(4),u(),w(5,"i-bs",36),u()}if(2&t){const e=g(2);m("disabled",e.disabled),_(4),Le(' "',e.filterText,'"')}}function y_t(t,n){if(1&t){const e=F();d(0,"button",37),T("click",function(){return b(e),S(g(2).applyClicked())}),d(1,"small",38),M(2,8),u(),w(3,"i-bs",39),u()}if(2&t){const e=g(2);m("disabled",!e.modelIsDirty||e.disabled),_(),m("ngClass",Wn(2,M_t,e.modelIsDirty))}}function N_t(t,n){if(1&t&&(y(0,O_t,6,2,"button",33),ye(1,"filter"),y(2,y_t,4,4,"button",22),ye(3,"filter")),2&t){const e=g();N(0===cd(1,2,e.selectionModel.items,e.filterText,"name").length&&void 0!==e.createRef?0:-1),_(2),N(cd(3,6,e.selectionModel.items,e.filterText,"name").length>0?2:-1)}}function D_t(t,n){if(1&t){const e=F();d(0,"button",37),T("click",function(o){return b(e),S(g().extraButtonClicked(o))}),d(1,"small",40),A(2),u(),w(3,"i-bs",39),u()}if(2&t){const e=g();m("disabled",e.disabled),_(2),oe(e.extraButtonTitle)}}function P_t(t,n){1&t&&(d(0,"div",23)(1,"small"),M(2,9),u()())}var T1=function(t){return t.And="and",t.Or="or",t}(T1||{}),da=function(t){return t.Include="include",t.Exclude="exclude",t}(da||{});class N0{constructor(){this.changed=new xe,this.manyToOne=!1,this.singleSelect=!1,this._logicalOperator=T1.And,this.temporaryLogicalOperator=this._logicalOperator,this._intersection=da.Include,this.temporaryIntersection=this._intersection,this._documentCounts=[],this._items=[],this.selectionStates=new Map,this.temporarySelectionStates=new Map}set documentCounts(n){this._documentCounts=n}get items(){return this._items}set items(n){this._items=n,this.sortItems()}sortItems(){this._items.sort((n,e)=>null==n.id&&null!=e.id?-1:null!=n.id&&null==e.id||this.getNonTemporary(n.id)==Cn.NotSelected&&this.getNonTemporary(e.id)!=Cn.NotSelected?1:this.getNonTemporary(n.id)!=Cn.NotSelected&&this.getNonTemporary(e.id)==Cn.NotSelected||this._documentCounts.length&&0===this.getDocumentCount(e.id)&&this.getDocumentCount(n.id)>this.getDocumentCount(e.id)?-1:this._documentCounts.length&&0===this.getDocumentCount(n.id)&&this.getDocumentCount(n.id)<this.getDocumentCount(e.id)?1:n.name.localeCompare(e.name))}getSelectedItems(){return this.items.filter(n=>this.temporarySelectionStates.get(n.id)==Cn.Selected)}getExcludedItems(){return this.items.filter(n=>this.temporarySelectionStates.get(n.id)==Cn.Excluded)}set(n,e,i=!0){e==Cn.NotSelected?this.temporarySelectionStates.delete(n):this.temporarySelectionStates.set(n,e),i&&this.changed.next(this)}toggle(n,e=!0){let i=this.temporarySelectionStates.get(n);if(null==i||i!=Cn.Selected&&i!=Cn.Excluded)if(this.manyToOne||this.singleSelect){if(this.temporarySelectionStates.set(n,Cn.Selected),this.singleSelect)for(let o of this.temporarySelectionStates.keys())o!=n&&this.temporarySelectionStates.delete(o)}else{let o=this.intersection==da.Include?Cn.Selected:Cn.Excluded;n||(o=Cn.Selected),i==Cn.Excluded&&this.intersection==da.Exclude&&(o=Cn.NotSelected),this.temporarySelectionStates.set(n,o)}else(i==Cn.Selected||i==Cn.Excluded)&&this.temporarySelectionStates.delete(n);if(n)this.temporarySelectionStates.delete(null);else for(let o of this.temporarySelectionStates.keys())o&&this.temporarySelectionStates.delete(o);e&&this.changed.next(this)}exclude(n,e=!0){let i=this.temporarySelectionStates.get(n);if(!n||null!=i&&i==Cn.Excluded)(!n||i==Cn.Excluded)&&this.temporarySelectionStates.delete(n);else if(this.temporaryLogicalOperator=this._logicalOperator=this.manyToOne?T1.And:T1.Or,this.manyToOne||this.singleSelect){if(this.temporarySelectionStates.set(n,Cn.Excluded),this.singleSelect)for(let o of this.temporarySelectionStates.keys())o!=n&&this.temporarySelectionStates.delete(o)}else{let o=this.intersection==da.Include?Cn.Selected:Cn.Excluded;i==Cn.Selected&&this.intersection==da.Include&&(o=Cn.NotSelected),this.temporarySelectionStates.set(n,o)}e&&this.changed.next(this)}getNonTemporary(n){return this.selectionStates.get(n)||Cn.NotSelected}get logicalOperator(){return this.temporaryLogicalOperator}set logicalOperator(n){this.temporaryLogicalOperator=n}toggleOperator(){this.changed.next(this)}get intersection(){return this.temporaryIntersection}set intersection(n){this.temporaryIntersection=n}toggleIntersection(){if(0===this.temporarySelectionStates.size)return;let n=this.intersection==da.Include?Cn.Selected:Cn.Excluded;this.temporarySelectionStates.forEach((e,i)=>{this.temporarySelectionStates.set(i,n)}),this.changed.next(this)}get(n){return this.temporarySelectionStates.get(n)||Cn.NotSelected}selectionSize(){return this.getSelectedItems().length}get totalCount(){return this.getSelectedItems().length+this.getExcludedItems().length}clear(n=!0){this.temporarySelectionStates.clear(),this.temporaryLogicalOperator=this._logicalOperator=T1.And,this.temporaryIntersection=this._intersection=da.Include,n&&this.changed.next(this)}isDirty(){return!Array.from(this.temporarySelectionStates.keys()).every(n=>this.temporarySelectionStates.get(n)==this.selectionStates.get(n))||!Array.from(this.selectionStates.keys()).every(n=>this.selectionStates.get(n)==this.temporarySelectionStates.get(n))||this.temporaryLogicalOperator!==this._logicalOperator||this.temporaryIntersection!==this._intersection}isNoneSelected(){return 1==this.selectionSize()&&this.get(null)==Cn.Selected}getDocumentCount(n){return this._documentCounts.find(e=>e.id===n)?.document_count}init(n){this.temporarySelectionStates=n,this.apply()}apply(){this.selectionStates.clear(),this.temporarySelectionStates.forEach((n,e)=>{this.selectionStates.set(e,n)}),this._logicalOperator=this.temporaryLogicalOperator,this._intersection=this.temporaryIntersection,this.sortItems()}reset(n=!1){this.temporarySelectionStates.clear(),n?this.selectionStates.clear():this.selectionStates.forEach((e,i)=>{this.temporarySelectionStates.set(i,e)})}diff(){return{itemsToAdd:this.items.filter(n=>this.temporarySelectionStates.get(n.id)==Cn.Selected&&this.selectionStates.get(n.id)!=Cn.Selected),itemsToRemove:this.items.filter(n=>!this.temporarySelectionStates.has(n.id)&&this.selectionStates.has(n.id))}}}let aU=(()=>{class t extends ns{set items(e){e&&(this._selectionModel.items=Array.from(e),this._selectionModel.items.unshift({name:"Not assigned",id:null}))}get items(){return this._selectionModel.items}set selectionModel(e){this.selectionModel&&(this.selectionModel.changed.complete(),e.items=this.selectionModel.items,e.manyToOne=this.selectionModel.manyToOne,e.singleSelect=this.editing&&!this.selectionModel.manyToOne),e.changed.subscribe(i=>{this.selectionModelChange.next(i)}),this._selectionModel=e}get selectionModel(){return this._selectionModel}set manyToOne(e){this.selectionModel.manyToOne=e}get manyToOne(){return this.selectionModel.manyToOne}set documentCounts(e){e&&(this.selectionModel.documentCounts=e)}get modifierToggleEnabled(){return this.manyToOne?this.selectionModel.selectionSize()>1&&0==this.selectionModel.getExcludedItems().length:!this.selectionModel.isNoneSelected()}get name(){return this.title?this.title.replace(/\s/g,"_").toLowerCase():null}constructor(e,i){super(),this.filterPipe=e,this.hotkeyService=i,this.popperOptions=Ab,this._selectionModel=new N0,this.selectionModelChange=new Ee,this.filterPlaceholder="",this.allowSelectNone=!1,this.editing=!1,this.applyOnClose=!1,this.disabled=!1,this.creating=!1,this.apply=new Ee,this.opened=new Ee,this.extraButton=new Ee,this.modelIsDirty=!1,this.selectionModelChange.subscribe(o=>{this.modelIsDirty=o.isDirty()})}ngOnInit(){this.shortcutKey&&this.hotkeyService.addShortcut({keys:this.shortcutKey,description:"Open " + this.title + " filter"}).pipe(Te(this.unsubscribeNotifier),li(()=>!this.disabled)).subscribe(()=>{this.dropdown.open()})}applyClicked(){this.selectionModel.isDirty()&&(this.dropdown.close(),this.applyOnClose||this.apply.emit(this.selectionModel.diff()))}createClicked(){this.creating=!0,this.createRef(this.filterText)}dropdownOpenChange(e){e?(setTimeout(()=>{this.listFilterTextInput?.nativeElement.focus()},0),this.editing&&(this.selectionModel.reset(),this.modelIsDirty=!1),this.opened.next(this)):this.creating?(this.dropdown?.open(),this.creating=!1):(this.filterText="",this.applyOnClose&&this.selectionModel.isDirty()&&this.apply.emit(this.selectionModel.diff()))}listFilterEnter(){let e=this.filterPipe.transform(this.items,this.filterText);1==e.length?(this.selectionModel.toggle(e[0].id),setTimeout(()=>{this.editing?this.applyClicked():this.dropdown.close()},200)):0==e.length&&this.createRef&&this.createClicked()}excludeClicked(e){this.editing?this.selectionModel.toggle(e):this.selectionModel.exclude(e)}reset(){this.selectionModel.reset(!0),this.selectionModelChange.emit(this.selectionModel)}getUpdatedDocumentCount(e){return this.selectionModel.getDocumentCount(e)}listKeyDown(e){switch(e.key){case"ArrowDown":e.target instanceof HTMLInputElement?(!this.filterText||e.target.selectionStart===this.filterText.length)&&(this.keyboardIndex=-1,this.focusNextButtonItem(),e.preventDefault()):e.target instanceof HTMLButtonElement&&(this.focusNextButtonItem(),e.preventDefault());break;case"ArrowUp":e.target instanceof HTMLButtonElement&&(0===this.keyboardIndex?this.listFilterTextInput.nativeElement.focus():this.focusPreviousButtonItem(),e.preventDefault());break;case"Tab":e.target instanceof HTMLInputElement?this.keyboardIndex=0:e.target instanceof HTMLButtonElement&&(e.shiftKey?this.keyboardIndex>0&&this.focusPreviousButtonItem(!1):this.focusNextButtonItem(!1))}}focusNextButtonItem(e=!0){this.keyboardIndex=Math.min(this.items.length-1,this.keyboardIndex+1),e&&this.setButtonItemFocus()}focusPreviousButtonItem(e=!0){this.keyboardIndex=Math.max(0,this.keyboardIndex-1),e&&this.setButtonItemFocus()}setButtonItemFocus(){this.buttonItems.nativeElement.children[this.keyboardIndex]?.children[0].focus()}setButtonItemIndex(e){this.keyboardIndex=e}hideCount(e){return this.selectionModel.logicalOperator===T1.Or&&this.manyToOne&&this.selectionModel.get(e.id)!==Cn.Selected}extraButtonClicked(){const e=this.applyOnClose;this.applyOnClose=!1,this.dropdown.close(),this.extraButton.emit(this.selectionModel.diff()),this.applyOnClose=e}static{this.\u0275fac=function(i){return new(i||t)(x(Eb),x(hg))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-filterable-dropdown"]],viewQuery:function(i,o){if(1&i&&(dn(m_t,5),dn(v_t,5),dn(C_t,5)),2&i){let s;pt(s=gt())&&(o.listFilterTextInput=s.first),pt(s=gt())&&(o.dropdown=s.first),pt(s=gt())&&(o.buttonItems=s.first)}},inputs:{items:"items",selectionModel:"selectionModel",manyToOne:"manyToOne",title:"title",filterPlaceholder:"filterPlaceholder",icon:"icon",allowSelectNone:"allowSelectNone",editing:"editing",applyOnClose:"applyOnClose",disabled:"disabled",createRef:"createRef",documentCounts:"documentCounts",shortcutKey:"shortcutKey",extraButtonTitle:"extraButtonTitle"},outputs:{selectionModelChange:"selectionModelChange",apply:"apply",opened:"opened",extraButton:"extraButton"},features:[st],decls:19,vars:18,consts:()=>{let e,i,o,s,r,a,l;return e="All",i="Any",o="Include",s="Exclude",r="Create",a="Apply",l="Click again to exclude items.",[["dropdown","ngbDropdown"],["listFilterTextInput",""],["buttonItems",""],e,i,o,s,r,a,l,["ngbDropdown","","role","group",1,"btn-group","w-100",3,"openChange","keydown","popperOptions"],["ngbDropdownToggle","",1,"btn","btn-sm",3,"id","ngClass","disabled"],[3,"name"],[1,"d-none","d-sm-inline"],[3,"number","selected"],["ngbDropdownMenu","",1,"dropdown-menu","py-0","shadow"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex"],[1,"list-group-item"],[1,"input-group","input-group-sm"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"items"],[1,"list-group-item","list-group-item-action","bg-light","d-flex","align-items-center",3,"disabled"],[1,"list-group-item","list-group-item-note","pt-1","pb-2"],[3,"cleared","number","selected"],["role","group",1,"btn-group","btn-group-xs","flex-fill"],["type","radio","value","and",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],[1,"btn","btn-outline-primary",3,"for"],["type","radio","value","or",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],["type","radio","value","include",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],["type","radio","value","exclude",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],[3,"item","hideCount","opacifyCount","state","count","disabled"],[3,"toggled","exclude","click","item","hideCount","opacifyCount","state","count","disabled"],[1,"list-group-item","list-group-item-action","bg-light",3,"disabled"],[1,"list-group-item","list-group-item-action","bg-light",3,"click","disabled"],[1,"ms-2"],["width","1.5em","height","1em","name","plus"],[1,"list-group-item","list-group-item-action","bg-light","d-flex","align-items-center",3,"click","disabled"],[1,"ms-2",3,"ngClass"],["width","1.5em","height","1em","name","arrow-right"],[1,"ms-2","fw-bold"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",10,0),T("openChange",function(a){return b(s),S(o.dropdownOpenChange(a))})("keydown",function(a){return b(s),S(o.listKeyDown(a))}),d(2,"button",11),w(3,"i-bs",12),d(4,"div",13),A(5),u(),y(6,T_t,1,2,"pngx-clearable-badge",14),u(),d(7,"div",15)(8,"div",16),y(9,w_t,8,16,"div",17)(10,b_t,8,16,"div",17),d(11,"div",18)(12,"div",19)(13,"input",20,1),je("ngModelChange",function(a){return b(s),$e(o.filterText,a)||(o.filterText=a),S(a)}),T("keyup.enter",function(){return b(s),S(o.listFilterEnter())}),u()()(),y(15,A_t,5,4,"div",21)(16,N_t,4,10)(17,D_t,4,2,"button",22)(18,P_t,3,0,"div",23),u()()()}2&i&&(m("popperOptions",o.popperOptions),_(2),Kt("id","dropdown_",o.name,""),m("ngClass",!o.editing&&o.selectionModel.selectionSize()>0?"btn-primary":"btn-outline-primary")("disabled",o.disabled),_(),ai("name",o.icon),_(2),Le("\xa0",o.title,""),_(),N(!o.editing&&o.selectionModel.totalCount>0?6:-1),_(),_2("aria-labelledby","dropdown_",o.name,""),_(2),N(!o.editing&&o.manyToOne?9:-1),_(),N(o.editing||o.manyToOne?-1:10),_(3),Ze("ngModel",o.filterText),m("placeholder",o.filterPlaceholder),_(2),N(o.selectionModel.items?15:-1),_(),N(o.editing?16:-1),_(),N(o.extraButtonTitle?17:-1),_(),N(!o.editing&&o.manyToOne?18:-1))},dependencies:[Hm,f_t,Eb,Xt,Ti,R2,jt,Rn,qt,Gt,Jt,No,bo,Jo,yo,Dr],styles:[".badge-corner[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px}.dropdown-menu[_ngcontent-%COMP%]{min-width:250px}.dropdown-menu[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.2}.btn-group[_ngcontent-%COMP%] > label.disabled[_ngcontent-%COMP%]{filter:brightness(.5)}.btn-group[_ngcontent-%COMP%] > label.disabled.active[_ngcontent-%COMP%]{background-color:var(--pngx-primary-lighten-30)}.list-group-item-note[_ngcontent-%COMP%]{line-height:1}.list-group-item-note[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:65%}.show[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{color:#fff}"]})}}return t})();function I_t(t,n){1&t&&(w(0,"div",16),d(1,"span",17),M(2,2),u())}let Ob=(()=>{class t{constructor(e,i){this.activeModal=e,this.userService=i,this.o=void 0,this.confirmClicked=new Ee,this.title="Set permissions",this.form=new Kn({permissions_form:new de,merge:new de(!0)}),this.buttonsEnabled=!0,this.userService.listAll().subscribe(o=>this.users=o.results)}set object(e){this.o=e,this.title="Edit permissions for "+e.name,this.form.patchValue({merge:!0,permissions_form:{owner:e.owner,set_permissions:e.permissions}})}get object(){return this.o}get permissions(){return{owner:this.form.get("permissions_form").value?.owner??null,set_permissions:this.form.get("permissions_form").value?.set_permissions??{view:{users:[],groups:[]},change:{users:[],groups:[]}}}}get hint(){return this.object?null:this.form.get("merge").value?"Existing owner, user and group permissions will be merged with these settings.":"Any and all existing owner, user and group permissions will be replaced."}cancelClicked(){this.activeModal.close()}confirm(){this.confirmClicked.emit({permissions:this.permissions,merge:this.form.get("merge").value})}static{this.\u0275fac=function(i){return new(i||t)(x(io),x(gs))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-permissions-dialog"]],inputs:{title:"title",object:"object"},outputs:{confirmClicked:"confirmClicked"},decls:17,vars:8,consts:()=>{let e,i,o,s;return e="Merge with existing permissions",i="Cancel",o="Confirm",s="Loading...",[i,o,s,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["formControlName","permissions_form",3,"users"],[1,"form-group","mt-4"],[1,"offset-lg-3","row"],["title",e,"formControlName","merge",3,"horizontal","hint"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden"]]},template:function(i,o){1&i&&(d(0,"div",3)(1,"h4",4),A(2),u(),d(3,"button",5),T("click",function(){return o.cancelClicked()}),u()(),d(4,"div",6)(5,"form",7)(6,"div",8),w(7,"pngx-permissions-form",9),u(),d(8,"div",10)(9,"div",11),w(10,"pngx-input-switch",12),u()()()(),d(11,"div",13),y(12,I_t,3,0),d(13,"button",14),T("click",function(){return o.cancelClicked()}),M(14,0),u(),d(15,"button",15),T("click",function(){return o.confirm()}),M(16,1),u()()),2&i&&(_(2),oe(o.title),_(3),m("formGroup",o.form),_(2),m("users",o.users),_(3),m("horizontal",!0)("hint",o.hint),_(2),N(o.buttonsEnabled?-1:12),_(),m("disabled",!o.buttonsEnabled),_(2),m("disabled",!o.buttonsEnabled))},dependencies:[vm,Du,Xt,Oo,jt,Mo,qt,co,To],encapsulation:2})}}return t})();const x_t=(t,n)=>n.id,L_t=()=>({standalone:!0});function R_t(t,n){if(1&t&&w(0,"pngx-input-text",16),2&t){const e=g().$implicit;ai("formControlName",e.id),m("title",e.name)("horizontal",!0)}}function F_t(t,n){if(1&t&&w(0,"pngx-input-date",16),2&t){const e=g().$implicit;ai("formControlName",e.id),m("title",e.name)("horizontal",!0)}}function k_t(t,n){if(1&t&&w(0,"pngx-input-number",17),2&t){const e=g().$implicit;ai("formControlName",e.id),m("title",e.name)("showAdd",!1)("horizontal",!0)}}function z_t(t,n){if(1&t&&w(0,"pngx-input-number",18),2&t){const e=g().$implicit;ai("formControlName",e.id),m("title",e.name)("showAdd",!1)("step",.1)("horizontal",!0)}}function V_t(t,n){if(1&t&&w(0,"pngx-input-monetary",19),2&t){const e=g().$implicit;ai("formControlName",e.id),m("title",e.name)("defaultCurrency",null==e.extra_data?null:e.extra_data.default_currency)("horizontal",!0)}}function H_t(t,n){if(1&t&&w(0,"pngx-input-check",16),2&t){const e=g().$implicit;ai("formControlName",e.id),m("title",e.name)("horizontal",!0)}}function $_t(t,n){if(1&t&&w(0,"pngx-input-url",16),2&t){const e=g().$implicit;ai("formControlName",e.id),m("title",e.name)("horizontal",!0)}}function G_t(t,n){if(1&t&&w(0,"pngx-input-document-link",16),2&t){const e=g().$implicit;ai("formControlName",e.id),m("title",e.name)("horizontal",!0)}}function B_t(t,n){if(1&t&&w(0,"pngx-input-select",20),2&t){const e=g().$implicit;ai("formControlName",e.id),m("title",e.name)("items",e.extra_data.select_options)("allowNull",!0)("horizontal",!0)}}function U_t(t,n){if(1&t){const e=F();d(0,"div",11),y(1,R_t,1,3,"pngx-input-text",16)(2,F_t,1,3,"pngx-input-date",16)(3,k_t,1,4,"pngx-input-number",17)(4,z_t,1,5,"pngx-input-number",18)(5,V_t,1,4,"pngx-input-monetary",19)(6,H_t,1,3,"pngx-input-check",16)(7,$_t,1,3,"pngx-input-url",16)(8,G_t,1,3,"pngx-input-document-link",16)(9,B_t,1,5,"pngx-input-select",20),d(10,"button",21),T("click",function(){const o=b(e).$implicit;return S(g().removeField(o.id))}),w(11,"i-bs",22),u()()}if(2&t){let e;const i=n.$implicit,o=g();_(),N((e=i.data_type)===o.CustomFieldDataType.String?1:e===o.CustomFieldDataType.Date?2:e===o.CustomFieldDataType.Integer?3:e===o.CustomFieldDataType.Float?4:e===o.CustomFieldDataType.Monetary?5:e===o.CustomFieldDataType.Boolean?6:e===o.CustomFieldDataType.Url?7:e===o.CustomFieldDataType.DocumentLink?8:e===o.CustomFieldDataType.Select?9:-1)}}function W_t(t,n){if(1&t&&(d(0,"p",13)(1,"em"),M(2,3),u()()),2&t){const e=g();_(2),bn(e.fieldsToRemoveIds.length)(e.fieldsToRemoveIds.length),Sn(2)}}let Z_t=(()=>{class t{get fieldsToAdd(){return this._fieldsToAdd}get fieldsToAddIds(){return this._fieldsToAddIds}set fieldsToAddIds(e){this._fieldsToAddIds=e,this._fieldsToAdd=this.customFields.filter(i=>this._fieldsToAddIds.includes(i.id)),this.initForm()}constructor(e,i){this.activeModal=e,this.documentService=i,this.CustomFieldDataType=Bi,this.succeeded=new Ee,this.failed=new Ee,this.networkActive=!1,this.customFields=[],this._fieldsToAdd=[],this._fieldsToAddIds=[],this.fieldsToRemoveIds=[],this.form=new Kn({}),this.documents=[]}initForm(){Object.keys(this.form.controls).forEach(e=>{this._fieldsToAddIds.includes(parseInt(e))||this.form.removeControl(e)}),this._fieldsToAddIds.forEach(e=>{this.form.addControl(e.toString(),new de(null))})}save(){this.documentService.bulkEdit(this.documents,"modify_custom_fields",{add_custom_fields:this.form.value,remove_custom_fields:this.fieldsToRemoveIds}).pipe(ut()).subscribe({next:()=>{this.activeModal.close(),this.succeeded.emit()},error:e=>{this.failed.emit(e)}})}cancel(){this.activeModal.close()}removeField(e){this.fieldsToAddIds=this._fieldsToAddIds.filter(i=>i!==e)}static{this.\u0275fac=function(i){return new(i||t)(x(io),x(So))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-custom-fields-bulk-edit-dialog"]],outputs:{succeeded:"succeeded",failed:"failed"},decls:16,vars:10,consts:()=>{let e,i,o,s,r;return e="Select custom fields",i="{VAR_PLURAL, plural, =1 {Set custom fields for 1 document} other {Set custom fields for {INTERPOLATION} documents}}",i=ba(i,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),o="Cancel",s="Save",r="{VAR_PLURAL, plural, =1 {This operation will also remove 1 custom field from the selected documents.} other {This operation will also\n          remove {INTERPOLATION} custom fields from the selected documents.}}",r=ba(r,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[i,o,s,r,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title","i8n","",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["title","","multiple","true","placeholder",e,3,"ngModelChange","items","ngModel","ngModelOptions"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","gap-2"],[1,"modal-footer"],[1,"mb-0","small"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"w-100",3,"formControlName","title","horizontal"],[1,"w-100",3,"formControlName","title","showAdd","horizontal"],[1,"w-100",3,"formControlName","title","showAdd","step","horizontal"],[1,"w-100",3,"formControlName","title","defaultCurrency","horizontal"],["bindLabel","label",1,"w-100",3,"formControlName","title","items","allowNull","horizontal"],["type","button",1,"btn","btn-outline-danger","mb-3",3,"click"],["name","x"]]},template:function(i,o){1&i&&(d(0,"form",4),T("ngSubmit",function(){return o.save()}),d(1,"div",5)(2,"h4",6),M(3,0),u(),d(4,"button",7),T("click",function(){return o.cancel()}),u()(),d(5,"div",8)(6,"pngx-input-select",9),je("ngModelChange",function(r){return $e(o.fieldsToAddIds,r)||(o.fieldsToAddIds=r),r}),u(),d(7,"div",10),Ue(8,U_t,12,1,"div",11,x_t),u()(),d(10,"div",12),y(11,W_t,3,2,"p",13),d(12,"button",14),T("click",function(){return o.cancel()}),M(13,1),u(),d(14,"button",15),M(15,2),u()()()),2&i&&(m("formGroup",o.form),_(3),bn(o.documents.length)(o.documents.length),Sn(3),_(3),m("items",o.customFields),Ze("ngModel",o.fieldsToAddIds),m("ngModelOptions",kl(9,L_t)),_(2),We(o.fieldsToAdd),_(3),N(o.fieldsToRemoveIds.length?11:-1),_(),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive||o.fieldsToRemoveIds.length+o.fieldsToAddIds.length===0))},dependencies:[dl,OB,ab,yB,Nu,la,gr,NB,Xt,Oo,jt,Mo,Rn,qt,co,To,Gt,Jt],encapsulation:2})}}return t})();const lU=(t,n)=>({action:t,type:n});function j_t(t,n){if(1&t){const e=F();d(0,"pngx-filterable-dropdown",63),T("opened",function(){return b(e),S(g(2).openTagsDropdown())}),je("selectionModelChange",function(o){b(e);const s=g(2);return $e(s.tagSelectionModel,o)||(s.tagSelectionModel=o),S(o)}),T("apply",function(o){return b(e),S(g(2).setTags(o))}),u()}if(2&t){const e=g(2);m("items",e.tags)("disabled",!e.userCanEditAll||e.disabled)("editing",!0)("manyToOne",!0)("applyOnClose",e.applyOnClose)("createRef",e.createTag.bind(e)),Ze("selectionModel",e.tagSelectionModel),m("documentCounts",e.tagDocumentCounts)}}function X_t(t,n){if(1&t){const e=F();d(0,"pngx-filterable-dropdown",64),T("opened",function(){return b(e),S(g(2).openCorrespondentDropdown())}),je("selectionModelChange",function(o){b(e);const s=g(2);return $e(s.correspondentSelectionModel,o)||(s.correspondentSelectionModel=o),S(o)}),T("apply",function(o){return b(e),S(g(2).setCorrespondents(o))}),u()}if(2&t){const e=g(2);m("items",e.correspondents)("disabled",!e.userCanEditAll||e.disabled)("editing",!0)("applyOnClose",e.applyOnClose)("createRef",e.createCorrespondent.bind(e)),Ze("selectionModel",e.correspondentSelectionModel),m("documentCounts",e.correspondentDocumentCounts)}}function K_t(t,n){if(1&t){const e=F();d(0,"pngx-filterable-dropdown",65),T("opened",function(){return b(e),S(g(2).openDocumentTypeDropdown())}),je("selectionModelChange",function(o){b(e);const s=g(2);return $e(s.documentTypeSelectionModel,o)||(s.documentTypeSelectionModel=o),S(o)}),T("apply",function(o){return b(e),S(g(2).setDocumentTypes(o))}),u()}if(2&t){const e=g(2);m("items",e.documentTypes)("disabled",!e.userCanEditAll||e.disabled)("editing",!0)("applyOnClose",e.applyOnClose)("createRef",e.createDocumentType.bind(e)),Ze("selectionModel",e.documentTypeSelectionModel),m("documentCounts",e.documentTypeDocumentCounts)}}function q_t(t,n){if(1&t){const e=F();d(0,"pngx-filterable-dropdown",66),T("opened",function(){return b(e),S(g(2).openStoragePathDropdown())}),je("selectionModelChange",function(o){b(e);const s=g(2);return $e(s.storagePathsSelectionModel,o)||(s.storagePathsSelectionModel=o),S(o)}),T("apply",function(o){return b(e),S(g(2).setStoragePaths(o))}),u()}if(2&t){const e=g(2);m("items",e.storagePaths)("disabled",!e.userCanEditAll||e.disabled)("editing",!0)("applyOnClose",e.applyOnClose)("createRef",e.createStoragePath.bind(e)),Ze("selectionModel",e.storagePathsSelectionModel),m("documentCounts",e.storagePathDocumentCounts)}}function Y_t(t,n){if(1&t){const e=F();d(0,"pngx-filterable-dropdown",67),T("opened",function(){return b(e),S(g(2).openCustomFieldsDropdown())}),je("selectionModelChange",function(o){b(e);const s=g(2);return $e(s.customFieldsSelectionModel,o)||(s.customFieldsSelectionModel=o),S(o)}),T("extraButton",function(o){return b(e),S(g(2).setCustomFieldValues(o))})("apply",function(o){return b(e),S(g(2).setCustomFields(o))}),u()}if(2&t){const e=g(2);m("items",e.customFields)("disabled",!e.userCanEditAll)("editing",!0)("manyToOne",!0)("applyOnClose",e.applyOnClose)("createRef",e.createCustomField.bind(e)),Ze("selectionModel",e.customFieldsSelectionModel),m("documentCounts",e.customFieldDocumentCounts)}}function Q_t(t,n){if(1&t&&(d(0,"div",57)(1,"label",21),M(2,14),u(),y(3,j_t,1,8,"pngx-filterable-dropdown",58)(4,X_t,1,7,"pngx-filterable-dropdown",59)(5,K_t,1,7,"pngx-filterable-dropdown",60)(6,q_t,1,7,"pngx-filterable-dropdown",61)(7,Y_t,1,8,"pngx-filterable-dropdown",62),u()),2&t){const e=g();_(3),N(e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.Tag)?3:-1),_(),N(e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.Correspondent)?4:-1),_(),N(e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.DocumentType)?5:-1),_(),N(e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.StoragePath)?6:-1),_(),N(e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.CustomField)?7:-1)}}function J_t(t,n){1&t&&w(0,"i-bs",42)}function ept(t,n){1&t&&(d(0,"div",43)(1,"span",68),A(2,"Preparing download..."),u()())}function tpt(t,n){if(1&t){const e=F();d(0,"button",69),T("click",function(){return b(e),S(g().applyDelete())}),w(1,"i-bs",70),A(2,"\xa0"),ae(3),M(4,15),le(),u()}2&t&&m("disabled",!g().userOwnsAll)}let npt=(()=>{class t extends ca{constructor(e,i,o,s,r,a,l,c,h,p,f,v){super(),this.documentTypeService=e,this.tagService=i,this.correspondentService=o,this.list=s,this.documentService=r,this.modalService=a,this.openDocumentService=l,this.settings=c,this.toastService=h,this.storagePathService=p,this.customFieldService=f,this.permissionService=v,this.tagSelectionModel=new N0,this.correspondentSelectionModel=new N0,this.documentTypeSelectionModel=new N0,this.storagePathsSelectionModel=new N0,this.customFieldsSelectionModel=new N0,this.unsubscribeNotifier=new xe,this.downloadForm=new Kn({downloadFileTypeArchive:new de(!0),downloadFileTypeOriginals:new de(!1),downloadUseFormatting:new de(!1)}),this.disabled=!1,this.applyOnClose=this.settings.get(Me.BULK_EDIT_APPLY_ON_CLOSE),this.showConfirmationDialogs=this.settings.get(Me.BULK_EDIT_CONFIRMATION_DIALOGS)}get userCanEditAll(){let e=this.permissionService.currentUserCan(mt.Change,Ct.Document);return!!e&&(e=this.list.documents.filter(o=>this.list.selected.has(o.id)).every(o=>this.permissionService.currentUserHasObjectPermissions(this.PermissionAction.Change,o)),e)}get userOwnsAll(){let e=!0;return e=this.list.documents.filter(o=>this.list.selected.has(o.id)).every(o=>this.permissionService.currentUserOwnsObject(o)),e}get userCanEdit(){return this.permissionService.currentUserCan(mt.Change,Ct.Document)}get userCanAdd(){return this.permissionService.currentUserCan(mt.Add,Ct.Document)}ngOnInit(){this.permissionService.currentUserCan(mt.View,Ct.Tag)&&this.tagService.listAll().pipe(ut()).subscribe(e=>this.tags=e.results),this.permissionService.currentUserCan(mt.View,Ct.Correspondent)&&this.correspondentService.listAll().pipe(ut()).subscribe(e=>this.correspondents=e.results),this.permissionService.currentUserCan(mt.View,Ct.DocumentType)&&this.documentTypeService.listAll().pipe(ut()).subscribe(e=>this.documentTypes=e.results),this.permissionService.currentUserCan(mt.View,Ct.StoragePath)&&this.storagePathService.listAll().pipe(ut()).subscribe(e=>this.storagePaths=e.results),this.permissionService.currentUserCan(mt.View,Ct.CustomField)&&this.customFieldService.listAll().pipe(ut()).subscribe(e=>this.customFields=e.results),this.downloadForm.get("downloadFileTypeArchive").valueChanges.pipe(Te(this.unsubscribeNotifier)).subscribe(e=>{e||this.downloadForm.get("downloadFileTypeOriginals").patchValue(!0,{emitEvent:!1})}),this.downloadForm.get("downloadFileTypeOriginals").valueChanges.pipe(Te(this.unsubscribeNotifier)).subscribe(e=>{e||this.downloadForm.get("downloadFileTypeArchive").patchValue(!0,{emitEvent:!1})})}ngOnDestroy(){this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}executeBulkOperation(e,i,o,s){e&&(e.componentInstance.buttonsEnabled=!1),this.documentService.bulkEdit(s??Array.from(this.list.selected),i,o).pipe(ut()).subscribe({next:()=>{o.delete_originals&&this.list.selected.clear(),this.list.reload(),this.list.reduceSelectionToFilter(),this.list.selected.forEach(r=>{this.openDocumentService.refreshDocument(r)}),e&&e.close()},error:r=>{e&&(e.componentInstance.buttonsEnabled=!0),this.toastService.showError("Error executing bulk operation",r)}})}applySelectionData(e,i){let o=new Map;e.forEach(s=>{s.document_count==this.list.selected.size?o.set(s.id,Cn.Selected):s.document_count>0&&o.set(s.id,Cn.PartiallySelected)}),i.init(o)}openTagsDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(ut()).subscribe(e=>{this.tagDocumentCounts=e.selected_tags,this.applySelectionData(e.selected_tags,this.tagSelectionModel)})}openDocumentTypeDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(ut()).subscribe(e=>{this.documentTypeDocumentCounts=e.selected_document_types,this.applySelectionData(e.selected_document_types,this.documentTypeSelectionModel)})}openCorrespondentDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(ut()).subscribe(e=>{this.correspondentDocumentCounts=e.selected_correspondents,this.applySelectionData(e.selected_correspondents,this.correspondentSelectionModel)})}openStoragePathDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(ut()).subscribe(e=>{this.storagePathDocumentCounts=e.selected_storage_paths,this.applySelectionData(e.selected_storage_paths,this.storagePathsSelectionModel)})}openCustomFieldsDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(ut()).subscribe(e=>{this.customFieldDocumentCounts=e.selected_custom_fields,this.applySelectionData(e.selected_custom_fields,this.customFieldsSelectionModel)})}_localizeList(e){if(0==e.length)return"";if(1==e.length)return "\"" + e[0].name + "\"";if(2==e.length)return "\"" + e[0].name + "\" and \"" + e[1].name + "\"";{let i=e.slice(0,e.length-1).map(o=>"\"" + o.name + "\"").join(", ");return "" + i + " and \"" + e[e.length - 1].name + "\""}}setTags(e){if(0!=e.itemsToAdd.length||0!=e.itemsToRemove.length)if(this.showConfirmationDialogs){let i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Confirm tags assignment",i.componentInstance.message=1==e.itemsToAdd.length&&0==e.itemsToRemove.length?"This operation will add the tag \"" + e.itemsToAdd[0].name + "\" to " + this.list.selected.size + " selected document(s).":e.itemsToAdd.length>1&&0==e.itemsToRemove.length?"This operation will add the tags " + this._localizeList(e.itemsToAdd) + " to " + this.list.selected.size + " selected document(s).":0==e.itemsToAdd.length&&1==e.itemsToRemove.length?"This operation will remove the tag \"" + e.itemsToRemove[0].name + "\" from " + this.list.selected.size + " selected document(s).":0==e.itemsToAdd.length&&e.itemsToRemove.length>1?"This operation will remove the tags " + this._localizeList(e.itemsToRemove) + " from " + this.list.selected.size + " selected document(s).":"This operation will add the tags " + this._localizeList(e.itemsToAdd) + " and remove the tags " + this._localizeList(e.itemsToRemove) + " on " + this.list.selected.size + " selected document(s).",i.componentInstance.btnClass="btn-warning",i.componentInstance.btnCaption="Confirm",i.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(i,"modify_tags",{add_tags:e.itemsToAdd.map(o=>o.id),remove_tags:e.itemsToRemove.map(o=>o.id)})})}else this.executeBulkOperation(null,"modify_tags",{add_tags:e.itemsToAdd.map(i=>i.id),remove_tags:e.itemsToRemove.map(i=>i.id)})}setCorrespondents(e){if(0==e.itemsToAdd.length&&0==e.itemsToRemove.length)return;let i=e.itemsToAdd.length>0?e.itemsToAdd[0]:null;if(this.showConfirmationDialogs){let o=this.modalService.open(Ui,{backdrop:"static"});o.componentInstance.title="Confirm correspondent assignment",o.componentInstance.message=i?"This operation will assign the correspondent \"" + i.name + "\" to " + this.list.selected.size + " selected document(s).":"This operation will remove the correspondent from " + this.list.selected.size + " selected document(s).",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="Confirm",o.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(o,"set_correspondent",{correspondent:i?i.id:null})})}else this.executeBulkOperation(null,"set_correspondent",{correspondent:i?i.id:null})}setDocumentTypes(e){if(0==e.itemsToAdd.length&&0==e.itemsToRemove.length)return;let i=e.itemsToAdd.length>0?e.itemsToAdd[0]:null;if(this.showConfirmationDialogs){let o=this.modalService.open(Ui,{backdrop:"static"});o.componentInstance.title="Confirm document type assignment",o.componentInstance.message=i?"This operation will assign the document type \"" + i.name + "\" to " + this.list.selected.size + " selected document(s).":"This operation will remove the document type from " + this.list.selected.size + " selected document(s).",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="Confirm",o.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(o,"set_document_type",{document_type:i?i.id:null})})}else this.executeBulkOperation(null,"set_document_type",{document_type:i?i.id:null})}setStoragePaths(e){if(0==e.itemsToAdd.length&&0==e.itemsToRemove.length)return;let i=e.itemsToAdd.length>0?e.itemsToAdd[0]:null;if(this.showConfirmationDialogs){let o=this.modalService.open(Ui,{backdrop:"static"});o.componentInstance.title="Confirm storage path assignment",o.componentInstance.message=i?"This operation will assign the storage path \"" + i.name + "\" to " + this.list.selected.size + " selected document(s).":"This operation will remove the storage path from " + this.list.selected.size + " selected document(s).",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="Confirm",o.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(o,"set_storage_path",{storage_path:i?i.id:null})})}else this.executeBulkOperation(null,"set_storage_path",{storage_path:i?i.id:null})}setCustomFields(e){if(0!=e.itemsToAdd.length||0!=e.itemsToRemove.length)if(this.showConfirmationDialogs){let i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Confirm custom field assignment",i.componentInstance.message=1==e.itemsToAdd.length&&0==e.itemsToRemove.length?"This operation will assign the custom field \"" + e.itemsToAdd[0].name + "\" to " + this.list.selected.size + " selected document(s).":e.itemsToAdd.length>1&&0==e.itemsToRemove.length?"This operation will assign the custom fields " + this._localizeList(e.itemsToAdd) + " to " + this.list.selected.size + " selected document(s).":0==e.itemsToAdd.length&&1==e.itemsToRemove.length?"This operation will remove the custom field \"" + e.itemsToRemove[0].name + "\" from " + this.list.selected.size + " selected document(s).":0==e.itemsToAdd.length&&e.itemsToRemove.length>1?"This operation will remove the custom fields " + this._localizeList(e.itemsToRemove) + " from " + this.list.selected.size + " selected document(s).":"This operation will assign the custom fields " + this._localizeList(e.itemsToAdd) + " and remove the custom fields " + this._localizeList(e.itemsToRemove) + " on " + this.list.selected.size + " selected document(s).",i.componentInstance.btnClass="btn-warning",i.componentInstance.btnCaption="Confirm",i.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(i,"modify_custom_fields",{add_custom_fields:e.itemsToAdd.map(o=>o.id),remove_custom_fields:e.itemsToRemove.map(o=>o.id)})})}else this.executeBulkOperation(null,"modify_custom_fields",{add_custom_fields:e.itemsToAdd.map(i=>i.id),remove_custom_fields:e.itemsToRemove.map(i=>i.id)})}createTag(e){let i=this.modalService.open(Nm,{backdrop:"static"});i.componentInstance.dialogMode=Oi.CREATE,i.componentInstance.object={name:e},i.componentInstance.succeeded.pipe(Mi(o=>this.tagService.listAll().pipe(Tt(s=>({newTag:o,tags:s}))))).pipe(Te(this.unsubscribeNotifier)).subscribe(({newTag:o,tags:s})=>{this.tags=s.results,this.tagSelectionModel.toggle(o.id)})}createCorrespondent(e){let i=this.modalService.open(Am,{backdrop:"static"});i.componentInstance.dialogMode=Oi.CREATE,i.componentInstance.object={name:e},i.componentInstance.succeeded.pipe(Mi(o=>this.correspondentService.listAll().pipe(Tt(s=>({newCorrespondent:o,correspondents:s}))))).pipe(Te(this.unsubscribeNotifier)).subscribe(({newCorrespondent:o,correspondents:s})=>{this.correspondents=s.results,this.correspondentSelectionModel.toggle(o.id)})}createDocumentType(e){let i=this.modalService.open(Om,{backdrop:"static"});i.componentInstance.dialogMode=Oi.CREATE,i.componentInstance.object={name:e},i.componentInstance.succeeded.pipe(Mi(o=>this.documentTypeService.listAll().pipe(Tt(s=>({newDocumentType:o,documentTypes:s}))))).pipe(Te(this.unsubscribeNotifier)).subscribe(({newDocumentType:o,documentTypes:s})=>{this.documentTypes=s.results,this.documentTypeSelectionModel.toggle(o.id)})}createStoragePath(e){let i=this.modalService.open(ym,{backdrop:"static"});i.componentInstance.dialogMode=Oi.CREATE,i.componentInstance.object={name:e},i.componentInstance.succeeded.pipe(Mi(o=>this.storagePathService.listAll().pipe(Tt(s=>({newStoragePath:o,storagePaths:s}))))).pipe(Te(this.unsubscribeNotifier)).subscribe(({newStoragePath:o,storagePaths:s})=>{this.storagePaths=s.results,this.storagePathsSelectionModel.toggle(o.id)})}createCustomField(e){let i=this.modalService.open(Em,{backdrop:"static"});i.componentInstance.dialogMode=Oi.CREATE,i.componentInstance.object={name:e},i.componentInstance.succeeded.pipe(Mi(o=>this.customFieldService.listAll().pipe(Tt(s=>({newCustomField:o,customFields:s}))))).pipe(Te(this.unsubscribeNotifier)).subscribe(({newCustomField:o,customFields:s})=>{this.customFields=s.results,this.customFieldsSelectionModel.toggle(o.id)})}applyDelete(){if(this.showConfirmationDialogs){let e=this.modalService.open(Ui,{backdrop:"static"});e.componentInstance.title="Confirm",e.componentInstance.messageBold="Move " + this.list.selected.size + " selected document(s) to the trash?",e.componentInstance.message="Documents can be restored prior to permanent deletion.",e.componentInstance.btnClass="btn-danger",e.componentInstance.btnCaption="Move to trash",e.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.executeBulkOperation(e,"delete",{})})}else this.executeBulkOperation(null,"delete",{})}downloadSelected(){this.awaitingDownload=!0;let e=this.downloadForm.get("downloadFileTypeArchive").value&&this.downloadForm.get("downloadFileTypeOriginals").value?"both":this.downloadForm.get("downloadFileTypeArchive").value?"archive":"originals";this.documentService.bulkDownload(Array.from(this.list.selected),e,this.downloadForm.get("downloadUseFormatting").value).pipe(ut()).subscribe(i=>{(0,n_t.saveAs)(i,"documents.zip"),this.awaitingDownload=!1})}reprocessSelected(){let e=this.modalService.open(Ui,{backdrop:"static"});e.componentInstance.title="Reprocess confirm",e.componentInstance.messageBold="This operation will permanently recreate the archive files for " + this.list.selected.size + " selected document(s).",e.componentInstance.message="The archive files will be re-generated with the current settings.",e.componentInstance.btnClass="btn-danger",e.componentInstance.btnCaption="Proceed",e.componentInstance.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.executeBulkOperation(e,"reprocess",{})})}setPermissions(){let e=this.modalService.open(Ob,{backdrop:"static"});e.componentInstance.confirmClicked.subscribe(({permissions:i,merge:o})=>{e.componentInstance.buttonsEnabled=!1,this.executeBulkOperation(e,"set_permissions",{...i,merge:o})})}rotateSelected(){let e=this.modalService.open(EB,{backdrop:"static",size:"lg"});const i=e.componentInstance;i.title="Rotate confirm",i.messageBold="This operation will permanently rotate the original version of " + this.list.selected.size + " document(s).",i.btnClass="btn-danger",i.btnCaption="Proceed",i.documentID=Array.from(this.list.selected)[0],i.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{i.buttonsEnabled=!1,this.executeBulkOperation(e,"rotate",{degrees:i.degrees})})}mergeSelected(){let e=this.modalService.open(r_t,{backdrop:"static"});const i=e.componentInstance;i.title="Merge confirm",i.messageBold="This operation will merge " + this.list.selected.size + " selected documents into a new document.",i.btnCaption="Proceed",i.documentIDs=Array.from(this.list.selected),i.confirmClicked.pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{const o={};i.metadataDocumentID>-1&&(o.metadata_document_id=i.metadataDocumentID),i.deleteOriginals&&(o.delete_originals=!0),i.buttonsEnabled=!1,this.executeBulkOperation(e,"merge",o,i.documentIDs),this.toastService.showInfo("Merged document will be queued for consumption.")})}setCustomFieldValues(e){const o=this.modalService.open(Z_t,{backdrop:"static",size:"lg"}).componentInstance;o.customFields=this.customFields,o.fieldsToAddIds=e.itemsToAdd.map(s=>s.id),o.fieldsToRemoveIds=e.itemsToRemove.map(s=>s.id),o.documents=Array.from(this.list.selected),o.succeeded.subscribe(s=>{this.toastService.showInfo("Custom fields updated."),this.list.reload(),this.list.reduceSelectionToFilter(),this.list.selected.forEach(r=>{this.openDocumentService.refreshDocument(r)})}),o.failed.subscribe(s=>{this.toastService.showError("Error updating custom fields.",s)})}static{this.\u0275fac=function(i){return new(i||t)(x(hl),x(Pu),x(ul),x(Va),x(So),x(Do),x(ug),x(En),x(Fi),x(Tc),x(C1),x(ti))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-bulk-editor"]],inputs:{disabled:"disabled"},features:[st],decls:82,vars:17,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt;return e="Cancel",i="Select:",o="Page",s="All",r="Permissions",a="Actions",l="Reprocess",c="Rotate",h="Merge",p="Download",f="Include:",v="Archived files",C="Original files",E="Use formatted filename",D="Tags",P="Filter tags",I="Correspondent",k="Filter correspondents",R="Document type",ee="Filter document types",re="Storage path",fe="Filter storage paths",pe="Custom fields",ue="Filter custom fields",me="Set values",Fe="Edit:",bt="Delete",[e,i,o,s,r,a,l,c,h,p,f,v,C,E,Fe,bt,[1,"d-flex","flex-wrap","gap-4"],["role","group","aria-label","Select",1,"d-flex","align-items-center"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","slash-circle"],["role","group","aria-label","Select",1,"d-flex","align-items-center","gap-2"],[1,"me-2"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","file-earmark-check"],["name","check-all"],["class","d-flex align-items-center gap-2",4,"pngxIfPermissions"],[1,"d-flex","align-items-center","gap-2","ms-auto"],[1,"btn-toolbar"],["type","button",1,"btn","btn-sm","btn-outline-primary","me-2",3,"click","disabled"],["name","person-fill-lock"],[1,"d-none","d-sm-inline"],["ngbDropdown",""],["id","dropdownSelect","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary",3,"disabled"],["name","three-dots"],["ngbDropdownMenu","","aria-labelledby","dropdownSelect",1,"shadow"],["ngbDropdownItem","",3,"click","disabled"],["name","body-text"],["name","arrow-clockwise"],["name","journals"],[1,"btn-group","btn-group-sm"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","arrow-down"],["role","status",1,"spinner-border","spinner-border-sm"],["ngbDropdown","","role","group",1,"me-2","d-flex","btn-group"],["type","button","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary","dropdown-toggle-split","rounded-end"],[1,"px-3","py-1",3,"formGroup"],[1,"mb-1"],[1,"form-group","ps-3","mb-2"],[1,"form-check"],["type","checkbox","id","downloadFileType_archive","formControlName","downloadFileTypeArchive",1,"form-check-input"],["for","downloadFileType_archive",1,"form-check-label"],["type","checkbox","id","downloadFileType_originals","formControlName","downloadFileTypeOriginals",1,"form-check-input"],["for","downloadFileType_originals",1,"form-check-label"],["type","checkbox","id","downloadUseFormatting","formControlName","downloadUseFormatting",1,"form-check-input"],["for","downloadUseFormatting",1,"form-check-label"],["type","button","class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[1,"d-flex","align-items-center","gap-2"],["title",D,"icon","tag-fill","filterPlaceholder",P,"shortcutKey","t",3,"items","disabled","editing","manyToOne","applyOnClose","createRef","selectionModel","documentCounts"],["title",I,"icon","person-fill","filterPlaceholder",k,"shortcutKey","y",3,"items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",R,"icon","file-earmark-fill","filterPlaceholder",ee,"shortcutKey","u",3,"items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",re,"icon","folder-fill","filterPlaceholder",fe,"shortcutKey","i",3,"items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",pe,"icon","ui-radios","filterPlaceholder",ue,"extraButtonTitle",me,3,"items","disabled","editing","manyToOne","applyOnClose","createRef","selectionModel","documentCounts"],["title",D,"icon","tag-fill","filterPlaceholder",P,"shortcutKey","t",3,"opened","selectionModelChange","apply","items","disabled","editing","manyToOne","applyOnClose","createRef","selectionModel","documentCounts"],["title",I,"icon","person-fill","filterPlaceholder",k,"shortcutKey","y",3,"opened","selectionModelChange","apply","items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",R,"icon","file-earmark-fill","filterPlaceholder",ee,"shortcutKey","u",3,"opened","selectionModelChange","apply","items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",re,"icon","folder-fill","filterPlaceholder",fe,"shortcutKey","i",3,"opened","selectionModelChange","apply","items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",pe,"icon","ui-radios","filterPlaceholder",ue,"extraButtonTitle",me,3,"opened","selectionModelChange","extraButton","apply","items","disabled","editing","manyToOne","applyOnClose","createRef","selectionModel","documentCounts"],[1,"visually-hidden"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"]]},template:function(i,o){1&i&&(d(0,"div",16)(1,"div",17)(2,"button",18),T("click",function(){return o.list.selectNone()}),w(3,"i-bs",19),A(4,"\xa0"),ae(5),M(6,0),le(),u()(),d(7,"div",20)(8,"label",21),M(9,1),u(),d(10,"div",22)(11,"button",23),T("click",function(){return o.list.selectPage()}),w(12,"i-bs",24),A(13,"\xa0"),ae(14),M(15,2),le(),u(),d(16,"button",23),T("click",function(){return o.list.selectAll()}),w(17,"i-bs",25),A(18,"\xa0"),ae(19),M(20,3),le(),u()()(),y(21,Q_t,8,5,"div",26),d(22,"div",27)(23,"div",28)(24,"button",29),T("click",function(){return o.setPermissions()}),w(25,"i-bs",30),d(26,"div",31),A(27,"\xa0"),ae(28),M(29,4),le(),u()(),d(30,"div",32)(31,"button",33),w(32,"i-bs",34),d(33,"div",31),A(34,"\xa0"),ae(35),M(36,5),le(),u()(),d(37,"div",35)(38,"button",36),T("click",function(){return o.reprocessSelected()}),w(39,"i-bs",37),A(40,"\xa0"),ae(41),M(42,6),le(),u(),d(43,"button",36),T("click",function(){return o.rotateSelected()}),w(44,"i-bs",38),A(45,"\xa0"),ae(46),M(47,7),le(),u(),d(48,"button",36),T("click",function(){return o.mergeSelected()}),w(49,"i-bs",39),A(50,"\xa0"),ae(51),M(52,8),le(),u()()()(),d(53,"div",40)(54,"button",41),T("click",function(){return o.downloadSelected()}),y(55,J_t,1,0,"i-bs",42)(56,ept,3,0,"div",43),d(57,"div",31),A(58,"\xa0"),ae(59),M(60,9),le(),u()(),d(61,"div",44),w(62,"button",45),d(63,"div",35)(64,"form",46)(65,"p",47),M(66,10),u(),d(67,"div",48)(68,"div",49),w(69,"input",50),d(70,"label",51),M(71,11),u()(),d(72,"div",49),w(73,"input",52),d(74,"label",53),M(75,12),u()()(),d(76,"div",49),w(77,"input",54),d(78,"label",55),M(79,13),u()()()()()(),d(80,"div",40),y(81,tpt,5,1,"button",56),u()()()),2&i&&(_(21),m("pngxIfPermissions",Pe(11,lU,o.PermissionAction.Change,o.PermissionType.Document)),_(3),m("disabled",!o.userOwnsAll||!o.userCanEditAll),_(7),m("disabled",!o.userCanEdit&&!o.userCanAdd),_(7),m("disabled",!o.userCanEditAll&&!o.userCanEditAll),_(5),m("disabled",!o.userOwnsAll&&!o.userCanEditAll),_(5),m("disabled",!o.userCanAdd||o.list.selected.size<2),_(6),m("disabled",o.awaitingDownload),_(),N(o.awaitingDownload?-1:55),_(),N(o.awaitingDownload?56:-1),_(8),m("formGroup",o.downloadForm),_(17),m("pngxIfPermissions",Pe(14,lU,o.PermissionAction.Delete,o.PermissionType.Document)))},dependencies:[aU,Ro,Xt,Oo,Zo,jt,Mo,qt,co,To,No,bo,Jo,yo,Vs,Rr,Gt,Jt],styles:[".dropdown-toggle-split[_ngcontent-%COMP%]{--bs-border-radius: .25rem}.dropdown-menu[_ngcontent-%COMP%]{--bs-dropdown-min-width: 12rem}"]})}}return t})();class cU{constructor(n){this.depth=0,this.id=Iw(),this._operator=null,this._value=null,this.type=n,this.changed=new xe,this.valueModelChanged=new xe,this.connectValueModelChanged()}connectValueModelChanged(){this.valueModelChanged.subscribe(()=>{this.changed.next(this)})}serialize(){throw new Error("Implemented in subclass")}set operator(n){this._operator=n,this.changed.next(this)}get operator(){return this._operator}set value(n){this._value=n,this.valueModelChanged.next(n)}get value(){return this._value}}class $m extends cU{set field(n){this._field=parseInt(n,10),this.changed.next(this)}get field(){return this._field}set operator(n){const e=mtt[n]?.split("|");if(e)if(e.includes(typeof this.value))["true","false"].includes(this.value)&&e.includes("string")&&(this.value="");else switch(e[0]){case"string":this.value="";break;case"boolean":this.value="true";break;case"array":this.value=[];break;case"number":const i=parseFloat(this.value);this.value=isNaN(i)?null:i.toString()}else this.value=null;super.operator=n}get operator(){return super.operator}constructor(n=[null,null,null]){super(gc.Atom),[this._field,this._operator,this._value]=n}connectValueModelChanged(){this.valueModelChanged.pipe(Pr(1e3),h1()).subscribe(()=>{this.changed.next(this)})}serialize(){return[this._field,this._operator,this._value]}}class Ec extends cU{constructor(n=[pc.Or,null]){let e;if(super(gc.Expression),[this._operator,e]=n,e&&0!==e.length)if(e?.length>0&&e[0]instanceof Array)this._value=e.map(i=>{if(3===i.length){const o=new $m(i);return o.depth=this.depth+1,o.changed.subscribe(()=>{this.changed.next(this)}),o}{const o=new Ec(i);return o.depth=this.depth+1,o.changed.subscribe(()=>{this.changed.next(this)}),o}});else{const i=new Ec(e);i.depth=this.depth+1,i.changed.subscribe(()=>{this.changed.next(this)}),this._value=[i]}else this._value=[]}serialize(){let n;return n=this._value.map(e=>e.serialize()),this._operator===pc.Not&&1===n.length&&(n=n[0]),[this._operator,n]}addAtom(n=new $m([null,Fn.Exists,"true"])){n.depth=this.depth+1,this._value.push(n),n.changed.subscribe(()=>{this.changed.next(this)})}addExpression(n=new Ec){n.depth=this.depth+1,this._value.push(n),n.changed.subscribe(()=>{this.changed.next(this)})}get negatable(){return 1===this.value.length&&this.value[0].type===gc.Expression}}const ipt=["dropdown"],dU=(t,n)=>n.id,opt=(t,n)=>n.label,r5=t=>({atom:t}),uU=t=>({expression:t});function spt(t,n){if(1&t){const e=F();d(0,"pngx-clearable-badge",26),T("cleared",function(){return b(e),S(g().reset())}),u()}2&t&&m("selected",g().isActive)}function rpt(t,n){1&t&&Nn(0)}function apt(t,n){if(1&t&&y(0,rpt,1,0,"ng-container",27),2&t){const e=g().$implicit;g(),m("ngTemplateOutlet",Ve(14))("ngTemplateOutletContext",Wn(2,r5,e))}}function lpt(t,n){1&t&&Nn(0)}function cpt(t,n){if(1&t&&y(0,lpt,1,0,"ng-container",27),2&t){const e=g().$implicit;g(),m("ngTemplateOutlet",Ve(16))("ngTemplateOutletContext",Wn(2,uU,e))}}function dpt(t,n){if(1&t&&(d(0,"div",25),y(1,apt,1,4,"ng-container")(2,cpt,1,4,"ng-container"),u()),2&t){let e;const i=n.$implicit,o=g();_(),N((e=i.type)===o.CustomFieldQueryComponentType.Atom?1:e===o.CustomFieldQueryComponentType.Expression?2:-1)}}function upt(t,n){if(1&t){const e=F();d(0,"div",36)(1,"button",37),T("click",function(){b(e),g();const o=Ve(1),s=g().atom,r=g();return s.value=r.today,S(o.close())}),M(2,7),u(),d(3,"button",38),T("click",function(){return b(e),g(),S(Ve(1).close())}),M(4,8),u()()}}function hpt(t,n){if(1&t){const e=F();d(0,"input",33,4),je("ngModelChange",function(o){b(e);const s=g().atom;return $e(s.value,o)||(s.value=o),S(o)}),u(),d(2,"button",34),T("click",function(){return b(e),S(Ve(1).toggle())}),w(3,"i-bs",35),u(),y(4,upt,5,0,"ng-template",null,5,zt)}if(2&t){const e=Ve(5);Ze("ngModel",g().atom.value),m("footerTemplate",e)}}function _pt(t,n){if(1&t){const e=F();d(0,"input",39),je("ngModelChange",function(o){b(e);const s=g().atom;return $e(s.value,o)||(s.value=o),S(o)}),u()}if(2&t){const e=g().atom,i=g();Ze("ngModel",e.value),m("disabled",i.disabled)}}function ppt(t,n){if(1&t){const e=F();d(0,"select",40),je("ngModelChange",function(o){b(e);const s=g().atom;return $e(s.value,o)||(s.value=o),S(o)}),d(1,"option",41),M(2,9),u(),d(3,"option",42),M(4,10),u()()}if(2&t){const e=g().atom,i=g();Ze("ngModel",e.value),m("disabled",i.disabled)}}function gpt(t,n){if(1&t){const e=F();d(0,"ng-select",43,6),je("ngModelChange",function(o){b(e);const s=g().atom;return $e(s.value,o)||(s.value=o),S(o)}),T("mousedown",function(o){return b(e),S(o.stopImmediatePropagation())}),u()}if(2&t){const e=g().atom,i=g();m("items",i.getSelectOptionsForField(e.field)),Ze("ngModel",e.value),m("disabled",i.disabled)}}function fpt(t,n){if(1&t){const e=F();d(0,"pngx-input-document-link",44),je("ngModelChange",function(o){b(e);const s=g().atom;return $e(s.value,o)||(s.value=o),S(o)}),u()}2&t&&(Ze("ngModel",g().atom.value),m("minimal",!0))}function mpt(t,n){if(1&t){const e=F();d(0,"input",45),je("ngModelChange",function(o){b(e);const s=g().atom;return $e(s.value,o)||(s.value=o),S(o)}),u()}if(2&t){const e=g().atom,i=g();Ze("ngModel",e.value),m("disabled",i.disabled)}}function vpt(t,n){if(1&t&&y(0,hpt,6,2)(1,_pt,1,2,"input",28)(2,ppt,5,2,"select",29)(3,gpt,2,3,"ng-select",30)(4,fpt,1,2,"pngx-input-document-link",31)(5,mpt,1,2,"input",32),2&t){let e;const i=n.atom,o=g();N((null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.Date?0:(null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.Float||(null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.Integer?1:(null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.Boolean?2:(null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.Select?3:(null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.DocumentLink?4:5)}}function Cpt(t,n){if(1&t&&(d(0,"option",49),A(1),u()),2&t){const e=n.$implicit;m("ngValue",e.value),_(),oe(e.label)}}function Mpt(t,n){if(1&t){const e=F();d(0,"select",40),je("ngModelChange",function(o){b(e);const s=g().atom;return $e(s.value,o)||(s.value=o),S(o)}),d(1,"option",41),M(2,11),u(),d(3,"option",42),M(4,12),u()()}if(2&t){const e=g().atom,i=g();Ze("ngModel",e.value),m("disabled",i.disabled)}}function Tpt(t,n){if(1&t){const e=F();d(0,"select",40),je("ngModelChange",function(o){b(e);const s=g().atom;return $e(s.value,o)||(s.value=o),S(o)}),d(1,"option",41),M(2,13),u(),d(3,"option",42),M(4,14),u()()}if(2&t){const e=g().atom,i=g();Ze("ngModel",e.value),m("disabled",i.disabled)}}function wpt(t,n){1&t&&Nn(0)}function bpt(t,n){if(1&t&&y(0,wpt,1,0,"ng-container",27),2&t){const e=g().atom;g(),m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Wn(2,r5,e))}}function Spt(t,n){1&t&&Nn(0)}function Ept(t,n){if(1&t&&y(0,Spt,1,0,"ng-container",27),2&t){const e=g().atom;g(),m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Wn(2,r5,e))}}function Apt(t,n){1&t&&Nn(0)}function Opt(t,n){if(1&t&&y(0,Apt,1,0,"ng-container",27),2&t){const e=g().atom;g(),m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Wn(2,r5,e))}}function ypt(t,n){1&t&&Nn(0)}function Npt(t,n){if(1&t&&y(0,ypt,1,0,"ng-container",27),2&t){const e=g().atom;g(),m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Wn(2,r5,e))}}function Dpt(t,n){if(1&t){const e=F();d(0,"pngx-input-document-link",54),je("ngModelChange",function(o){b(e);const s=g().atom;return $e(s.value,o)||(s.value=o),S(o)}),u()}2&t&&(Ze("ngModel",g().atom.value),m("minimal",!0))}function Ppt(t,n){if(1&t){const e=F();d(0,"ng-select",55),je("ngModelChange",function(o){b(e);const s=g().atom;return $e(s.value,o)||(s.value=o),S(o)}),T("mousedown",function(o){return b(e),S(o.stopImmediatePropagation())}),u()}if(2&t){const e=g().atom,i=g();m("items",i.getSelectOptionsForField(e.field)),Ze("ngModel",e.value),m("disabled",i.disabled)("multiple",!0)}}function Ipt(t,n){1&t&&Nn(0)}function xpt(t,n){if(1&t&&y(0,Ipt,1,0,"ng-container",27),2&t){const e=g().atom;g(),m("ngTemplateOutlet",Ve(12))("ngTemplateOutletContext",Wn(2,r5,e))}}function Lpt(t,n){if(1&t){const e=F();d(0,"input",45),je("ngModelChange",function(o){b(e);const s=g().atom;return $e(s.value,o)||(s.value=o),S(o)}),u()}if(2&t){const e=g().atom,i=g();Ze("ngModel",e.value),m("disabled",i.disabled)}}function Rpt(t,n){if(1&t){const e=F();d(0,"div",46)(1,"ng-select",47),je("ngModelChange",function(o){const s=b(e).atom;return $e(s.field,o)||(s.field=o),S(o)}),T("mousedown",function(o){return b(e),S(o.stopImmediatePropagation())}),u(),d(2,"select",48),je("ngModelChange",function(o){const s=b(e).atom;return $e(s.operator,o)||(s.operator=o),S(o)}),Ue(3,Cpt,2,2,"option",49,opt),u(),y(5,Mpt,5,2,"select",29)(6,Tpt,5,2,"select",29)(7,bpt,1,4,"ng-container")(8,Ept,1,4,"ng-container")(9,Opt,1,4,"ng-container")(10,Npt,1,4,"ng-container")(11,Dpt,1,2,"pngx-input-document-link",50)(12,Ppt,1,4,"ng-select",51)(13,xpt,1,4,"ng-container")(14,Lpt,1,2,"input",32),d(15,"button",52),T("click",function(){const o=b(e).atom;return S(g().removeElement(o))}),w(16,"i-bs",53),u()()}if(2&t){let e;const i=n.atom,o=g();_(),m("items",o.customFields),Ze("ngModel",i.field),m("disabled",o.disabled),_(),Ze("ngModel",i.operator),m("disabled",o.disabled),_(),We(o.getOperatorsForField(i.field)),_(2),N((e=i.operator)===o.CustomFieldQueryOperator.Exists?5:e===o.CustomFieldQueryOperator.IsNull?6:e===o.CustomFieldQueryOperator.GreaterThanOrEqual?7:e===o.CustomFieldQueryOperator.LessThanOrEqual?8:e===o.CustomFieldQueryOperator.GreaterThan?9:e===o.CustomFieldQueryOperator.LessThan?10:e===o.CustomFieldQueryOperator.Contains?11:e===o.CustomFieldQueryOperator.In?12:e===o.CustomFieldQueryOperator.Exact?13:14),_(10),m("disabled",o.disabled)}}function Fpt(t,n){if(1&t){const e=F();d(0,"input",69),je("ngModelChange",function(o){b(e);const s=g().expression;return $e(s.operator,o)||(s.operator=o),S(o)}),u(),d(1,"label",70),M(2,17),u()}if(2&t){const e=g().expression;Kt("id","logicalOperatorNot_",e.id,""),Kt("name","logicalOperatorNot_",e.id,""),Ze("ngModel",e.operator),_(),Kt("for","logicalOperatorNot_",e.id,"")}}function kpt(t,n){1&t&&Nn(0)}function zpt(t,n){if(1&t&&y(0,kpt,1,0,"ng-container",27),2&t){const e=g().$implicit;g(2),m("ngTemplateOutlet",Ve(14))("ngTemplateOutletContext",Wn(2,r5,e))}}function Vpt(t,n){1&t&&Nn(0)}function Hpt(t,n){if(1&t&&y(0,Vpt,1,0,"ng-container",27),2&t){const e=g().$implicit;g(2),m("ngTemplateOutlet",Ve(16))("ngTemplateOutletContext",Wn(2,uU,e))}}function $pt(t,n){if(1&t&&(d(0,"div",25),y(1,zpt,1,4,"ng-container")(2,Hpt,1,4,"ng-container"),u()),2&t){let e;const i=n.$implicit,o=g(2);_(),N((e=i.type)===o.CustomFieldQueryComponentType.Atom?1:e===o.CustomFieldQueryComponentType.Expression?2:-1)}}function Gpt(t,n){if(1&t){const e=F();d(0,"button",71),T("click",function(){b(e);const o=g().expression;return S(g().removeElement(o))}),w(1,"i-bs",53),u()}2&t&&m("disabled",g(2).disabled)}function Bpt(t,n){if(1&t){const e=F();d(0,"div",56)(1,"div",57)(2,"div",58)(3,"input",59),je("ngModelChange",function(o){const s=b(e).expression;return $e(s.operator,o)||(s.operator=o),S(o)}),u(),d(4,"label",60),M(5,15),u(),d(6,"input",61),je("ngModelChange",function(o){const s=b(e).expression;return $e(s.operator,o)||(s.operator=o),S(o)}),u(),d(7,"label",60),M(8,16),u(),y(9,Fpt,3,7),u(),d(10,"div",62),Ue(11,$pt,3,1,"div",25,dU),u()(),d(13,"div",63)(14,"button",64),T("click",function(){const o=b(e).expression;return S(g().addAtom(o))}),w(15,"i-bs",65),u(),d(16,"button",66),T("click",function(){const o=b(e).expression;return S(g().addExpression(o))}),w(17,"i-bs",67),u(),y(18,Gpt,2,1,"button",68),u()()}if(2&t){const e=n.expression,i=g();_(3),Kt("id","logicalOperatorOr_",e.id,""),Kt("name","logicalOperatorOr_",e.id,""),Ze("ngModel",e.operator),m("disabled",e.depth>0&&e.value.length<2),_(),Kt("for","logicalOperatorOr_",e.id,""),_(2),Kt("id","logicalOperatorAnd_",e.id,""),Kt("name","logicalOperatorAnd_",e.id,""),Ze("ngModel",e.operator),m("disabled",e.depth>0&&e.value.length<2),_(),Kt("for","logicalOperatorAnd_",e.id,""),_(2),N(e.negatable?9:-1),_(2),We(e.value),_(3),m("disabled",i.disabled||e.value.length===i.CUSTOM_FIELD_QUERY_MAX_ATOMS),_(2),m("disabled",i.disabled||e.depth===i.CUSTOM_FIELD_QUERY_MAX_DEPTH),_(2),N(e.depth>0?18:-1)}}class hU{constructor(){this.queries=[],this.changed=new xe}clear(n=!0){this.queries=[],n&&this.changed.next(this)}isValid(){return this.queries.length>0&&this.validateExpression(this.queries[0])}isEmpty(){return 0===this.queries.length||1===this.queries.length&&0===this.queries[0].value.length}validateAtom(n){let e=!(!n.field||!n.operator||null===n.value);return[Fn.In.valueOf(),Fn.Contains.valueOf()].includes(n.operator)&&n.value&&(e=e&&n.value.length>0),e}validateExpression(n){return n.operator&&n.value.length>0&&n.value.every(e=>e.type===gc.Atom?this.validateAtom(e):this.validateExpression(e))}addAtom(n){0===this.queries.length&&this.addExpression(),this.queries[0].value.push(n),n.changed.subscribe(()=>{n.field&&n.operator&&n.value&&this.changed.next(this)})}addExpression(n=new Ec){this.queries.length>0?this.queries[0].value.push(n):this.queries.push(n),n.changed.subscribe(()=>{this.changed.next(this)})}findElement(n,e){let i;for(let o=0;o<e.length&&(e[o]===n?i=e.splice(o,1)[0]:e[o].type===gc.Expression&&(i=this.findElement(n,e[o].value)),!i);o++);return i}removeElement(n){let e;for(let i=0;i<this.queries.length;i++){let o=this.queries[i];if(o===n){e=this.queries.splice(i,1)[0];break}o.type===gc.Expression&&(e=this.findElement(n,o.value))}e&&(e.changed.complete(),this.isEmpty()&&this.clear(),this.changed.next(this))}}let Upt=(()=>{class t extends ns{get name(){return this.title?this.title.replace(/\s/g,"_").toLowerCase():null}set selectionModel(e){this._selectionModel&&this._selectionModel.changed.complete(),e.changed.subscribe(()=>{this.onModelChange()}),this._selectionModel=e}get selectionModel(){return this._selectionModel}onModelChange(){(this.selectionModel.isEmpty()||this.selectionModel.isValid())&&(this.selectionModelChange.next(this.selectionModel),this.selectionModel.isEmpty()&&this.dropdown?.close())}constructor(e){super(),this.customFieldsService=e,this.CustomFieldQueryComponentType=gc,this.CustomFieldQueryOperator=Fn,this.CustomFieldDataType=Bi,this.CUSTOM_FIELD_QUERY_MAX_DEPTH=4,this.CUSTOM_FIELD_QUERY_MAX_ATOMS=5,this.popperOptions=Ab,this.filterPlaceholder="",this.allowSelectNone=!1,this.editing=!1,this.applyOnClose=!1,this.disabled=!1,this.selectionModelChange=new Ee,this.customFields=[],this.today=(new Date).toISOString().split("T")[0],this.selectionModel=new hU,this.getFields(),this.reset()}onOpenChange(e){e&&(0===this.selectionModel.queries.length&&this.selectionModel.addAtom(new $m([null,Fn.Exists,"true"])),1===this.selectionModel.queries.length&&null===this.selectionModel.queries[0]?.value[0]?.field&&setTimeout(()=>{this.fieldSelects.first?.focus()},0))}get isActive(){return this.selectionModel.isValid()}getFields(){this.customFieldsService.listAll().pipe(ut(),Te(this.unsubscribeNotifier)).subscribe(e=>{this.customFields=e.results})}getCustomFieldByID(e){return this.customFields.find(i=>i.id===e)}addAtom(e){e.addAtom()}addExpression(e){e.addExpression()}removeElement(e){this.selectionModel.removeElement(e)}reset(){this.selectionModel.clear(!1),this.selectionModel.changed.next(this.selectionModel)}getOperatorsForField(e){const i=this.customFields.find(r=>r.id===e);return(i?ftt[i.data_type]:[bi.Basic]).flatMap(r=>gtt[r]).map(r=>({value:r,label:ptt[r]}))}getSelectOptionsForField(e){const i=this.customFields.find(o=>o.id===e);return i?i.extra_data.select_options:[]}static{this.\u0275fac=function(i){return new(i||t)(x(C1))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-custom-fields-query-dropdown"]],viewQuery:function(i,o){if(1&i&&(dn(ipt,5),dn(Q0,5)),2&i){let s;pt(s=gt())&&(o.dropdown=s.first),pt(s=gt())&&(o.fieldSelects=s)}},inputs:{title:"title",filterPlaceholder:"filterPlaceholder",icon:"icon",allowSelectNone:"allowSelectNone",editing:"editing",applyOnClose:"applyOnClose",disabled:"disabled",selectionModel:"selectionModel"},outputs:{selectionModelChange:"selectionModelChange"},features:[st],decls:17,vars:7,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D;return e="Search docs...",i="Today",o="Close",s="True",r="False",a="Search docs...",l="True",c="False",h="True",p="False",f="Add query",v="Add expression",C="Any",E="All",D="Not",[["dropdown","ngbDropdown"],["comparisonValueTemplate",""],["queryAtom",""],["queryExpression",""],["d","ngbDatepicker"],["datePickerFooterTemplate",""],["fieldSelects",""],i,o,s,r,l,c,h,p,C,E,D,["role","group","ngbDropdown","",1,"btn-group","w-100",3,"openChange","popperOptions"],["id","dropdown_toggle","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary",3,"disabled"],[3,"name"],[1,"d-none","d-sm-inline"],[3,"selected"],["ngbDropdownMenu","",1,"px-3","shadow"],[1,"list-group","list-group-flush"],[1,"list-group-item","px-0","d-flex","flex-nowrap"],[3,"cleared","selected"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","number",1,"w-25","form-control","rounded-end",3,"ngModel","disabled"],[1,"w-25","form-select","rounded-end",3,"ngModel","disabled"],["bindLabel","label","bindValue","id",1,"paperless-input-select","rounded-end",3,"items","ngModel","disabled"],["placeholder",e,1,"w-25","form-select","doc-link-select","p-0",3,"ngModel","minimal"],["type","text",1,"w-25","form-control","rounded-end",3,"ngModel","disabled"],["placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel","footerTemplate"],["type","button",1,"btn","btn-sm","btn-outline-secondary","rounded-end",3,"click"],["name","calendar-event"],[1,"btn-group-xs","border-top","p-2","d-flex"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary","ms-auto",3,"click"],["type","number",1,"w-25","form-control","rounded-end",3,"ngModelChange","ngModel","disabled"],[1,"w-25","form-select","rounded-end",3,"ngModelChange","ngModel","disabled"],["value","true"],["value","false"],["bindLabel","label","bindValue","id",1,"paperless-input-select","rounded-end",3,"ngModelChange","mousedown","items","ngModel","disabled"],["placeholder",e,1,"w-25","form-select","doc-link-select","p-0",3,"ngModelChange","ngModel","minimal"],["type","text",1,"w-25","form-control","rounded-end",3,"ngModelChange","ngModel","disabled"],[1,"input-group","input-group-sm"],["bindLabel","name","bindValue","id",1,"paperless-input-select",3,"ngModelChange","mousedown","items","ngModel","disabled"],[1,"w-25","form-select",3,"ngModelChange","ngModel","disabled"],[3,"ngValue"],["placeholder",a,1,"w-25","form-select","doc-link-select","p-0",3,"ngModel","minimal"],["bindLabel","label","bindValue","id",1,"paperless-input-select","rounded-end",3,"items","ngModel","disabled","multiple"],["type","button",1,"btn","btn-link","btn-sm","text-danger","pe-0",3,"click","disabled"],["name","x-circle"],["placeholder",a,1,"w-25","form-select","doc-link-select","p-0",3,"ngModelChange","ngModel","minimal"],["bindLabel","label","bindValue","id",1,"paperless-input-select","rounded-end",3,"ngModelChange","mousedown","items","ngModel","disabled","multiple"],[1,"d-flex","w-100"],[1,"d-flex","flex-grow-1","flex-column"],["role","group",1,"btn-group","btn-group-xs"],["type","radio","value","OR",1,"btn-check",3,"ngModelChange","ngModel","id","name","disabled"],[1,"btn","btn-outline-primary",3,"for"],["type","radio","value","AND",1,"btn-check",3,"ngModelChange","ngModel","id","name","disabled"],[1,"list-group","list-group-flush","mb-n2"],["role","group","aria-label","Vertical button group",1,"btn-group-vertical","ms-2","ps-2","border-start"],["type","button","title",f,1,"btn","btn-sm","btn-outline-secondary","text-primary",3,"click","disabled"],["name","node-plus"],["type","button","title",v,1,"btn","btn-sm","btn-outline-secondary","text-primary",3,"click","disabled"],["name","braces"],["type","button",1,"btn","btn-sm","btn-outline-secondary","text-danger",3,"disabled"],["type","radio","value","NOT",1,"btn-check",3,"ngModelChange","ngModel","id","name"],[1,"btn","btn-outline-secondary",3,"for"],["type","button",1,"btn","btn-sm","btn-outline-secondary","text-danger",3,"click","disabled"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",18,0),T("openChange",function(a){return b(s),S(o.onOpenChange(a))}),d(2,"button",19),w(3,"i-bs",20),d(4,"div",21),A(5),u(),y(6,spt,1,1,"pngx-clearable-badge",22),u(),d(7,"div",23)(8,"div",24),Ue(9,dpt,3,1,"div",25,dU),u()()(),y(11,vpt,6,1,"ng-template",null,1,zt)(13,Rpt,17,7,"ng-template",null,2,zt)(15,Bpt,19,20,"ng-template",null,3,zt)}2&i&&(m("popperOptions",o.popperOptions),_(2),m("disabled",o.disabled),_(),ai("name",o.icon),_(2),Le("\xa0",o.title,""),_(),N(o.isActive?6:-1),_(),_2("aria-labelledby","dropdown_",o.name,""),_(2),We(o.selectionModel.queries))},dependencies:[Hm,Xt,jl,Xl,Ti,Zl,j0,R2,jt,Rn,ab,qt,rp,G6,Uo,up,Q0,Gt,Jt,No,bo,Jo,yo],styles:[".dropdown-menu[_ngcontent-%COMP%]{width:370px}@media (min-width: 768px){.dropdown-menu[_ngcontent-%COMP%]{width:600px}}[_nghost-%COMP%]     .ng-select-container{border-top-right-radius:0!important;border-bottom-right-radius:0!important;height:100%!important}[_nghost-%COMP%]     .rounded-end .ng-select-container{border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important;border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .ng-select{max-width:100px;min-width:35%;font-size:14px}[_nghost-%COMP%]     .doc-link-select{padding-top:0!important;border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important;background-image:none!important}[_nghost-%COMP%]     .doc-link-select .ng-select-container, [_nghost-%COMP%]     .doc-link-select .ng-select.ng-select-opened>.ng-select-container{border:none!important;min-height:34px!important;background:none!important}[_nghost-%COMP%]     .doc-link-select .ng-select{max-width:200px;min-width:140px}.btn-group-xs[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:.15rem}"]})}}return t})();function Wpt(t,n){1&t&&w(0,"i-bs",46)}function Zpt(t,n){if(1&t){const e=F();d(0,"button",45),T("click",function(){const o=b(e).$implicit;return S(g().setCreatedRelativeDate(o.id))}),d(1,"div",37),y(2,Wpt,1,0,"i-bs",46),u(),d(3,"div",47)(4,"div",48),A(5),u(),d(6,"div",49)(7,"span",50),A(8),ye(9,"customDate"),ae(10),M(11,14),le(),u()()()()}if(2&t){const e=n.$implicit,i=g();_(2),N(i.createdRelativeDate===e.id?2:-1),_(3),Le(" ",e.name," "),_(3),Le(" ",Yo(9,3,e.date,"mediumDate")," \u2013 ")}}function jpt(t,n){if(1&t){const e=F();d(0,"a",51),T("click",function(){return b(e),S(g().clearCreatedFrom())}),w(1,"i-bs",52)(2,"i-bs",53),u()}}function Xpt(t,n){if(1&t){const e=F();d(0,"div",54)(1,"button",55),T("click",function(){b(e);const o=g();return o.createdDateFrom=o.today,S(o.onChangeDebounce())}),M(2,15),u(),d(3,"button",56),T("click",function(){return b(e),g(),S(Ve(23).close())}),M(4,16),u()()}}function Kpt(t,n){if(1&t){const e=F();d(0,"a",51),T("click",function(){return b(e),S(g().clearCreatedTo())}),w(1,"i-bs",52)(2,"i-bs",53),u()}}function qpt(t,n){if(1&t){const e=F();d(0,"div",54)(1,"button",55),T("click",function(){b(e);const o=g();return o.createdDateTo=o.today,S(o.onChangeDebounce())}),M(2,17),u(),d(3,"button",56),T("click",function(){return b(e),g(),S(Ve(35).close())}),M(4,18),u()()}}function Ypt(t,n){1&t&&w(0,"i-bs",46)}function Qpt(t,n){if(1&t){const e=F();d(0,"button",45),T("click",function(){const o=b(e).$implicit;return S(g().setAddedRelativeDate(o.id))}),d(1,"div",37),y(2,Ypt,1,0,"i-bs",46),u(),d(3,"div",47)(4,"div",48),A(5),u(),d(6,"div",49)(7,"span",50),A(8),ye(9,"customDate"),ae(10),M(11,19),le(),u()()()()}if(2&t){const e=n.$implicit,i=g();_(2),N(i.addedRelativeDate===e.id?2:-1),_(3),Le(" ",e.name," "),_(3),Le(" ",Yo(9,3,e.date,"mediumDate")," \u2013 ")}}function Jpt(t,n){if(1&t){const e=F();d(0,"a",51),T("click",function(){return b(e),S(g().clearAddedFrom())}),w(1,"i-bs",52)(2,"i-bs",53),u()}}function egt(t,n){if(1&t){const e=F();d(0,"div",54)(1,"button",55),T("click",function(){b(e);const o=g();return o.addedDateFrom=o.today,S(o.onChangeDebounce())}),M(2,20),u(),d(3,"button",56),T("click",function(){return b(e),g(),S(Ve(53).close())}),M(4,21),u()()}}function tgt(t,n){if(1&t){const e=F();d(0,"a",51),T("click",function(){return b(e),S(g().clearAddedTo())}),w(1,"i-bs",52)(2,"i-bs",53),u()}}function ngt(t,n){if(1&t){const e=F();d(0,"div",54)(1,"button",55),T("click",function(){b(e);const o=g();return o.addedDateTo=o.today,S(o.onChangeDebounce())}),M(2,22),u(),d(3,"button",56),T("click",function(){return b(e),g(),S(Ve(65).close())}),M(4,23),u()()}}var pl=function(t){return t[t.WITHIN_1_WEEK=0]="WITHIN_1_WEEK",t[t.WITHIN_1_MONTH=1]="WITHIN_1_MONTH",t[t.WITHIN_3_MONTHS=2]="WITHIN_3_MONTHS",t[t.WITHIN_1_YEAR=3]="WITHIN_1_YEAR",t}(pl||{});let igt=(()=>{class t{constructor(e){this.popperOptions=Ab,this.relativeDates=[{id:pl.WITHIN_1_WEEK,name:"Within 1 week",date:(new Date).setDate((new Date).getDate()-7)},{id:pl.WITHIN_1_MONTH,name:"Within 1 month",date:(new Date).setMonth((new Date).getMonth()-1)},{id:pl.WITHIN_3_MONTHS,name:"Within 3 months",date:(new Date).setMonth((new Date).getMonth()-3)},{id:pl.WITHIN_1_YEAR,name:"Within 1 year",date:(new Date).setFullYear((new Date).getFullYear()-1)}],this.createdDateToChange=new Ee,this.createdDateFromChange=new Ee,this.createdRelativeDateChange=new Ee,this.addedDateToChange=new Ee,this.addedDateFromChange=new Ee,this.addedRelativeDateChange=new Ee,this.datesSet=new Ee,this.disabled=!1,this.today=(new Date).toISOString().split("T")[0],this.datesSetDebounce$=new xe,this.datePlaceHolder=e.getLocalizedDateInputFormat()}get isActive(){return null!==this.createdRelativeDate||this.createdDateFrom?.length>0||this.createdDateTo?.length>0||null!==this.addedRelativeDate||this.addedDateFrom?.length>0||this.addedDateTo?.length>0}ngOnInit(){this.sub=this.datesSetDebounce$.pipe(Pr(400)).subscribe(()=>{this.onChange()})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}reset(){this.createdDateTo=null,this.createdDateFrom=null,this.createdRelativeDate=null,this.addedDateTo=null,this.addedDateFrom=null,this.addedRelativeDate=null,this.onChange()}setCreatedRelativeDate(e){this.createdDateTo=null,this.createdDateFrom=null,this.createdRelativeDate=this.createdRelativeDate==e?null:e,this.onChange()}setAddedRelativeDate(e){this.addedDateTo=null,this.addedDateFrom=null,this.addedRelativeDate=this.addedRelativeDate==e?null:e,this.onChange()}onChange(){this.createdDateToChange.emit(this.createdDateTo),this.createdDateFromChange.emit(this.createdDateFrom),this.createdRelativeDateChange.emit(this.createdRelativeDate),this.addedDateToChange.emit(this.addedDateTo),this.addedDateFromChange.emit(this.addedDateFrom),this.addedRelativeDateChange.emit(this.addedRelativeDate),this.datesSet.emit({createdFrom:this.createdDateFrom,createdTo:this.createdDateTo,createdRelativeDateID:this.createdRelativeDate,addedFrom:this.addedDateFrom,addedTo:this.addedDateTo,addedRelativeDateID:this.addedRelativeDate})}onChangeDebounce(){this.createdRelativeDate=null,this.addedRelativeDate=null,this.datesSetDebounce$.next({createdAfter:this.createdDateFrom,createdBefore:this.createdDateTo,addedAfter:this.addedDateFrom,addedBefore:this.addedDateTo})}clearCreatedTo(){this.createdDateTo=null,this.onChange()}clearCreatedFrom(){this.createdDateFrom=null,this.onChange()}clearAddedTo(){this.addedDateTo=null,this.onChange()}clearAddedFrom(){this.addedDateFrom=null,this.onChange()}onKeyPress(e){"Enter"!==e.key&&!/[0-9,\.\/-]+/.test(e.key)&&e.preventDefault()}static{this.\u0275fac=function(i){return new(i||t)(x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-dates-dropdown"]],inputs:{createdDateTo:"createdDateTo",createdDateFrom:"createdDateFrom",createdRelativeDate:"createdRelativeDate",addedDateTo:"addedDateTo",addedDateFrom:"addedDateFrom",addedRelativeDate:"addedRelativeDate",title:"title",disabled:"disabled"},outputs:{createdDateToChange:"createdDateToChange",createdDateFromChange:"createdDateFromChange",createdRelativeDateChange:"createdRelativeDateChange",addedDateToChange:"addedDateToChange",addedDateFromChange:"addedDateFromChange",addedRelativeDateChange:"addedRelativeDateChange",datesSet:"datesSet"},features:[tn([{provide:Od,useClass:ob}])],decls:70,vars:25,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P;return e="Created",i="From",o="To",s="Added",r="From",a="To",l="now",c="Today",h="Close",p="Today",f="Close",v="now",C="Today",E="Close",D="Today",P="Close",[["createdDateFromPicker","ngbDatepicker"],["createdFromFooterTemplate",""],["createdDateToPicker","ngbDatepicker"],["createdToFooterTemplate",""],["addedDateFromPicker","ngbDatepicker"],["addedFromFooterTemplate",""],["addedDateToPicker","ngbDatepicker"],["addedToFooterTemplate",""],e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,["ngbDropdown","","role","group",1,"btn-group","w-100",3,"popperOptions"],["ngbDropdownToggle","",1,"btn","btn-sm",3,"id","ngClass","disabled"],["width","1em","height","1em","name","calendar-event-fill"],[1,"d-none","d-sm-inline"],[3,"cleared","selected"],[1,"visually-hidden"],["ngbDropdownMenu","",1,"dropdown-menu","date-dropdown","shadow","p-2"],[1,"row","d-flex"],[1,"col","border-end"],[1,"list-group","list-group-flush"],[1,"dropdown-header","border-bottom"],["role","menuitem",1,"list-group-item","small","list-goup","list-group-item-action","d-flex","p-2"],["role","menuitem",1,"list-group-item","d-flex","p-2"],[1,"selected-icon"],["href","javascript:void(0)",1,"text-light","focus-variants"],[1,"input-group","input-group-sm","small","ps-1","pe-2"],[1,"input-group-text","w-25","small","text-muted"],["maxlength","10","ngbDatepicker","",1,"form-control","small",3,"dateSelect","change","keypress","ngModelChange","placeholder","ngModel","footerTemplate"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","calendar"],[1,"col"],["role","menuitem",1,"list-group-item","small","list-goup","list-group-item-action","d-flex","p-2",3,"click"],["width","1em","height","1em","name","check"],[1,"d-flex","justify-content-between","w-100","align-items-center","ps-2"],[1,"pe-4"],[1,"text-muted","small","pe-2"],[1,"small"],["href","javascript:void(0)",1,"text-light","focus-variants",3,"click"],["width","1em","height","1em","name","check",1,"variant-unfocused"],["width","1em","height","1em","name","x",1,"variant-focused","text-primary"],[1,"btn-group-xs","border-top","p-2","d-flex"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary","ms-auto",3,"click"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",24)(1,"button",25),w(2,"i-bs",26),d(3,"div",27),A(4),u(),d(5,"pngx-clearable-badge",28),T("cleared",function(){return b(s),S(o.reset())}),u(),d(6,"span",29),A(7,"selected"),u()(),d(8,"div",30)(9,"div",31)(10,"div",32)(11,"div",33)(12,"h6",34),M(13,8),u(),Ue(14,Zpt,12,6,"button",35,Ht),d(16,"div",36)(17,"div",37),y(18,jpt,3,0,"a",38),u(),d(19,"div",39)(20,"span",40),M(21,9),u(),d(22,"input",41,0),T("dateSelect",function(){return b(s),S(o.onChangeDebounce())})("change",function(){return b(s),S(o.onChangeDebounce())})("keypress",function(a){return b(s),S(o.onKeyPress(a))}),je("ngModelChange",function(a){return b(s),$e(o.createdDateFrom,a)||(o.createdDateFrom=a),S(a)}),u(),d(24,"button",42),T("click",function(){return b(s),S(Ve(23).toggle())}),w(25,"i-bs",43),u(),y(26,Xpt,5,0,"ng-template",null,1,zt),u()(),d(28,"div",36)(29,"div",37),y(30,Kpt,3,0,"a",38),u(),d(31,"div",39)(32,"span",40),M(33,10),u(),d(34,"input",41,2),T("dateSelect",function(){return b(s),S(o.onChangeDebounce())})("change",function(){return b(s),S(o.onChangeDebounce())})("keypress",function(a){return b(s),S(o.onKeyPress(a))}),je("ngModelChange",function(a){return b(s),$e(o.createdDateTo,a)||(o.createdDateTo=a),S(a)}),u(),d(36,"button",42),T("click",function(){return b(s),S(Ve(35).toggle())}),w(37,"i-bs",43),u(),y(38,qpt,5,0,"ng-template",null,3,zt),u()()()(),d(40,"div",44)(41,"h6",34),M(42,11),u(),d(43,"div",33),Ue(44,Qpt,12,6,"button",35,Ht),d(46,"div",36)(47,"div",37),y(48,Jpt,3,0,"a",38),u(),d(49,"div",39)(50,"span",40),M(51,12),u(),d(52,"input",41,4),T("dateSelect",function(){return b(s),S(o.onChangeDebounce())})("change",function(){return b(s),S(o.onChangeDebounce())})("keypress",function(a){return b(s),S(o.onKeyPress(a))}),je("ngModelChange",function(a){return b(s),$e(o.addedDateFrom,a)||(o.addedDateFrom=a),S(a)}),u(),d(54,"button",42),T("click",function(){return b(s),S(Ve(53).toggle())}),w(55,"i-bs",43),u(),y(56,egt,5,0,"ng-template",null,5,zt),u()(),d(58,"div",36)(59,"div",37),y(60,tgt,3,0,"a",38),u(),d(61,"div",39)(62,"span",40),M(63,13),u(),d(64,"input",41,6),T("dateSelect",function(){return b(s),S(o.onChangeDebounce())})("change",function(){return b(s),S(o.onChangeDebounce())})("keypress",function(a){return b(s),S(o.onKeyPress(a))}),je("ngModelChange",function(a){return b(s),$e(o.addedDateTo,a)||(o.addedDateTo=a),S(a)}),u(),d(66,"button",42),T("click",function(){return b(s),S(Ve(65).toggle())}),w(67,"i-bs",43),u(),y(68,ngt,5,0,"ng-template",null,7,zt),u()()()()()()()}if(2&i){const s=Ve(27),r=Ve(39),a=Ve(57),l=Ve(69);m("popperOptions",o.popperOptions),_(),Kt("id","dropdown",o.title,""),m("ngClass",o.createdDateTo||o.createdDateFrom?"btn-primary":"btn-outline-primary")("disabled",o.disabled),_(3),Le("\xa0",o.title,""),_(),m("selected",o.isActive),_(3),_2("aria-labelledby","dropdown",o.title,""),_(6),We(o.relativeDates),_(4),N(o.createdDateFrom?18:-1),_(4),m("placeholder",o.datePlaceHolder),Ze("ngModel",o.createdDateFrom),m("footerTemplate",s),_(8),N(o.createdDateTo?30:-1),_(4),m("placeholder",o.datePlaceHolder),Ze("ngModel",o.createdDateTo),m("footerTemplate",r),_(10),We(o.relativeDates),_(4),N(o.addedDateFrom?48:-1),_(4),m("placeholder",o.datePlaceHolder),Ze("ngModel",o.addedDateFrom),m("footerTemplate",a),_(8),N(o.addedDateTo?60:-1),_(4),m("placeholder",o.datePlaceHolder),Ze("ngModel",o.addedDateTo),m("footerTemplate",l)}},dependencies:[Hm,fr,Gt,Jt,rp,G6,No,bo,Jo,yo,Xt,Ti,jt,k_,Rn,qt,Dr],styles:[".date-dropdown[_ngcontent-%COMP%]{white-space:nowrap}@media (min-width: 768px){.date-dropdown[_ngcontent-%COMP%]{--bs-dropdown-min-width: 40rem}}@media screen and (max-width: 767px){.date-dropdown[_ngcontent-%COMP%]   .border-end[_ngcontent-%COMP%]{border:none!important}}.date-dropdown[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{line-height:1}.selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}.input-group-sm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:.875rem}.focus-variants[_ngcontent-%COMP%]   .variant-focused[_ngcontent-%COMP%]{display:none}.focus-variants[_ngcontent-%COMP%]:hover   .variant-unfocused[_ngcontent-%COMP%], .focus-variants[_ngcontent-%COMP%]:focus   .variant-unfocused[_ngcontent-%COMP%]{display:none}.focus-variants[_ngcontent-%COMP%]:hover   .variant-focused[_ngcontent-%COMP%], .focus-variants[_ngcontent-%COMP%]:focus   .variant-focused[_ngcontent-%COMP%]{display:block}.btn-group-xs[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:.15rem}"]})}}return t})();const ogt=(t,n)=>({action:t,type:n});function sgt(t,n){1&t&&w(0,"i-bs",16)}function rgt(t,n){1&t&&w(0,"i-bs",16)}function agt(t,n){1&t&&w(0,"i-bs",16)}function lgt(t,n){1&t&&w(0,"i-bs",16)}function cgt(t,n){1&t&&w(0,"i-bs",16)}function dgt(t,n){1&t&&w(0,"i-bs",16)}function ugt(t,n){if(1&t){const e=F();d(0,"button",20)(1,"div",15),y(2,dgt,1,0,"i-bs",16),u(),d(3,"div",21)(4,"ng-select",22),je("ngModelChange",function(o){b(e);const s=g();return $e(s.selectionModel.includeUsers,o)||(s.selectionModel.includeUsers=o),S(o)}),T("change",function(){return b(e),S(g().onUserSelect())}),u()()()}if(2&t){const e=g();m("disabled",e.disabled),_(2),N(e.selectionModel.ownerFilter===e.OwnerFilterType.OTHERS?2:-1),_(2),Ze("ngModel",e.selectionModel.includeUsers),m("disabled",e.disabled)("clearable",!1)("items",e.users)}}function hgt(t,n){if(1&t){const e=F();d(0,"div",19)(1,"div",23)(2,"input",24),je("ngModelChange",function(o){b(e);const s=g();return $e(s.selectionModel.hideUnowned,o)||(s.selectionModel.hideUnowned=o),S(o)}),T("change",function(){return b(e),S(g().onChange())}),u(),d(3,"label",25)(4,"small"),M(5,5),u()()()()}if(2&t){const e=g();_(2),Ze("ngModel",e.selectionModel.hideUnowned),m("disabled",e.disabled)}}class _gt{clear(){this.ownerFilter=is.NONE,this.userID=null,this.hideUnowned=!1,this.includeUsers=[],this.excludeUsers=[]}}var is=function(t){return t[t.NONE=0]="NONE",t[t.SELF=1]="SELF",t[t.NOT_SELF=2]="NOT_SELF",t[t.OTHERS=3]="OTHERS",t[t.UNOWNED=4]="UNOWNED",t[t.SHARED_BY_ME=5]="SHARED_BY_ME",t}(is||{});let pgt=(()=>{class t extends ca{get isActive(){return this.selectionModel.ownerFilter!==is.NONE||this.selectionModel.hideUnowned}constructor(e,i,o){super(),this.permissionsService=e,this.settingsService=o,this.OwnerFilterType=is,this.disabled=!1,this.ownerFilterSet=new Ee,e.currentUserCan(mt.View,Ct.User)&&i.listAll().pipe(ut()).subscribe({next:s=>this.users=s.results})}reset(){this.selectionModel.clear(),this.onChange()}setFilter(e){this.selectionModel.ownerFilter=e,this.selectionModel.ownerFilter===is.SELF?(this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.userID=this.settingsService.currentUser.id,this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===is.NOT_SELF?(this.selectionModel.userID=null,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[this.settingsService.currentUser.id],this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===is.NONE?(this.selectionModel.userID=null,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===is.SHARED_BY_ME?(this.selectionModel.userID=this.settingsService.currentUser.id,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===is.UNOWNED&&(this.selectionModel.userID=null,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.hideUnowned=!1),this.onChange()}onChange(){this.ownerFilterSet.emit(this.selectionModel)}onUserSelect(){this.selectionModel.ownerFilter=this.selectionModel.includeUsers?.length?is.OTHERS:is.NONE,this.onChange()}static{this.\u0275fac=function(i){return new(i||t)(x(ti),x(gs),x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-permissions-filter-dropdown"]],inputs:{title:"title",disabled:"disabled",selectionModel:"selectionModel"},outputs:{ownerFilterSet:"ownerFilterSet"},features:[st],decls:42,vars:23,consts:()=>{let e,i,o,s,r,a,l;return e="All",i="My documents",o="Shared with me",s="Shared by me",r="Unowned",a="Users",l="Hide unowned",[e,i,o,s,r,l,["ngbDropdown","","role","group",1,"btn-group","w-100"],["ngbDropdownToggle","",1,"btn","btn-sm",3,"id","ngClass","disabled"],["name","person-fill-lock"],[1,"d-none","d-sm-inline"],[3,"cleared","selected"],[1,"visually-hidden"],["ngbDropdownMenu","",1,"dropdown-menu","permission-filter-dropdown","shadow","py-0","w-2"],[1,"list-group","list-group-flush"],["role","menuitem",1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","border-top-0","border-start-0","border-end-0","border-bottom",3,"click","disabled"],[1,"selected-icon","me-1"],["width","1em","height","1em","name","check"],[1,"me-1"],["class","list-group-item list-group-item-action d-flex align-items-center p-2 border-top-0 border-start-0 border-end-0 border-bottom","role","menuitem",3,"disabled",4,"pngxIfPermissions"],[1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","ps-3","border-bottom-0","border-start-0","border-end-0"],["role","menuitem",1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","border-top-0","border-start-0","border-end-0","border-bottom",3,"disabled"],[1,"me-1","w-100"],["name","user","bindLabel","username","multiple","true","bindValue","id","placeholder",a,1,"user-select","small",3,"ngModelChange","change","ngModel","disabled","clearable","items"],[1,"form-check","form-switch","w-100"],["type","checkbox","id","hideUnowned",1,"form-check-input",3,"ngModelChange","change","ngModel","disabled"],["for","hideUnowned",1,"form-check-label","w-100"]]},template:function(i,o){1&i&&(d(0,"div",6)(1,"button",7),w(2,"i-bs",8),d(3,"div",9),A(4),u(),d(5,"pngx-clearable-badge",10),T("cleared",function(){return o.reset()}),u(),d(6,"span",11),A(7,"selected"),u()(),d(8,"div",12)(9,"div",13)(10,"button",14),T("click",function(){return o.setFilter(o.OwnerFilterType.NONE)}),d(11,"div",15),y(12,sgt,1,0,"i-bs",16),u(),d(13,"div",17)(14,"small"),M(15,0),u()()(),d(16,"button",14),T("click",function(){return o.setFilter(o.OwnerFilterType.SELF)}),d(17,"div",15),y(18,rgt,1,0,"i-bs",16),u(),d(19,"div",17)(20,"small"),M(21,1),u()()(),d(22,"button",14),T("click",function(){return o.setFilter(o.OwnerFilterType.NOT_SELF)}),d(23,"div",15),y(24,agt,1,0,"i-bs",16),u(),d(25,"div",17)(26,"small"),M(27,2),u()()(),d(28,"button",14),T("click",function(){return o.setFilter(o.OwnerFilterType.SHARED_BY_ME)}),d(29,"div",15),y(30,lgt,1,0,"i-bs",16),u(),d(31,"div",17)(32,"small"),M(33,3),u()()(),d(34,"button",14),T("click",function(){return o.setFilter(o.OwnerFilterType.UNOWNED)}),d(35,"div",15),y(36,cgt,1,0,"i-bs",16),u(),d(37,"div",17)(38,"small"),M(39,4),u()()(),y(40,ugt,5,6,"button",18)(41,hgt,6,2,"div",19),u()()()),2&i&&(_(),Kt("id","dropdown",o.title,""),m("ngClass",o.isActive?"btn-primary":"btn-outline-primary")("disabled",o.disabled),_(3),Le("\xa0",o.title,""),_(),m("selected",o.isActive),_(3),_2("aria-labelledby","dropdown",o.title,""),_(2),m("disabled",o.disabled),_(2),N(o.selectionModel.ownerFilter===o.OwnerFilterType.NONE?12:-1),_(4),m("disabled",o.disabled),_(2),N(o.selectionModel.ownerFilter===o.OwnerFilterType.SELF?18:-1),_(4),m("disabled",o.disabled),_(2),N(o.selectionModel.ownerFilter===o.OwnerFilterType.NOT_SELF?24:-1),_(4),m("disabled",o.disabled),_(2),N(o.selectionModel.ownerFilter===o.OwnerFilterType.SHARED_BY_ME?30:-1),_(4),m("disabled",o.disabled),_(2),N(o.selectionModel.ownerFilter===o.OwnerFilterType.UNOWNED?36:-1),_(4),m("pngxIfPermissions",Pe(20,ogt,o.PermissionAction.View,o.PermissionType.User)),_(),N(o.selectionModel.ownerFilter===o.OwnerFilterType.NONE||o.selectionModel.ownerFilter===o.OwnerFilterType.NOT_SELF?41:-1))},dependencies:[Hm,Ro,Xt,Zo,jt,Rn,qt,No,bo,Jo,yo,Q0,Dr,Gt,Jt],styles:[".user-select[_ngcontent-%COMP%]{min-width:15rem}.selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}"]})}}return t})();const ggt=["textFilterInput"];function fgt(t,n){if(1&t){const e=F();d(0,"button",26),T("click",function(){const o=b(e).$implicit;return S(g().changeTextFilterTarget(o.id))}),A(1),u()}if(2&t){const e=n.$implicit;Ce("active",g().textFilterTarget===e.id),_(),oe(e.name)}}function mgt(t,n){if(1&t&&(d(0,"option",28),A(1),u()),2&t){const e=n.$implicit;m("value",e.id),_(),oe(e.label)}}function vgt(t,n){if(1&t){const e=F();d(0,"select",27),je("ngModelChange",function(o){b(e);const s=g();return $e(s.textFilterModifier,o)||(s.textFilterModifier=o),S(o)}),T("change",function(){return b(e),S(g().textFilterModifierChange())}),Ue(1,mgt,2,2,"option",28,Ht),u()}if(2&t){const e=g();Ze("ngModel",e.textFilterModifier),_(),We(e.textFilterModifiers)}}function Cgt(t,n){if(1&t){const e=F();d(0,"button",29),T("click",function(){return b(e),S(g().resetTextField())}),w(1,"i-bs",30),u()}}function Mgt(t,n){if(1&t){const e=F();d(0,"pngx-filterable-dropdown",31),je("selectionModelChange",function(o){b(e);const s=g();return $e(s.tagSelectionModel,o)||(s.tagSelectionModel=o),S(o)}),T("selectionModelChange",function(){return b(e),S(g().updateRules())})("opened",function(){return b(e),S(g().onTagsDropdownOpen())}),u()}if(2&t){const e=g();Ce("show",e.show),m("items",e.tags)("manyToOne",!0),Ze("selectionModel",e.tagSelectionModel),m("documentCounts",e.tagDocumentCounts)("allowSelectNone",!0)("disabled",e.disabled)}}function Tgt(t,n){if(1&t){const e=F();d(0,"pngx-filterable-dropdown",32),je("selectionModelChange",function(o){b(e);const s=g();return $e(s.correspondentSelectionModel,o)||(s.correspondentSelectionModel=o),S(o)}),T("selectionModelChange",function(){return b(e),S(g().updateRules())})("opened",function(){return b(e),S(g().onCorrespondentDropdownOpen())}),u()}if(2&t){const e=g();Ce("show",e.show),m("items",e.correspondents),Ze("selectionModel",e.correspondentSelectionModel),m("documentCounts",e.correspondentDocumentCounts)("allowSelectNone",!0)("disabled",e.disabled)}}function wgt(t,n){if(1&t){const e=F();d(0,"pngx-filterable-dropdown",33),je("selectionModelChange",function(o){b(e);const s=g();return $e(s.documentTypeSelectionModel,o)||(s.documentTypeSelectionModel=o),S(o)}),T("selectionModelChange",function(){return b(e),S(g().updateRules())})("opened",function(){return b(e),S(g().onDocumentTypeDropdownOpen())}),u()}if(2&t){const e=g();Ce("show",e.show),m("items",e.documentTypes),Ze("selectionModel",e.documentTypeSelectionModel),m("documentCounts",e.documentTypeDocumentCounts)("allowSelectNone",!0)("disabled",e.disabled)}}function bgt(t,n){if(1&t){const e=F();d(0,"pngx-filterable-dropdown",34),je("selectionModelChange",function(o){b(e);const s=g();return $e(s.storagePathSelectionModel,o)||(s.storagePathSelectionModel=o),S(o)}),T("selectionModelChange",function(){return b(e),S(g().updateRules())})("opened",function(){return b(e),S(g().onStoragePathDropdownOpen())}),u()}if(2&t){const e=g();Ce("show",e.show),m("items",e.storagePaths),Ze("selectionModel",e.storagePathSelectionModel),m("documentCounts",e.storagePathDocumentCounts)("allowSelectNone",!0)("disabled",e.disabled)}}function Sgt(t,n){if(1&t){const e=F();d(0,"pngx-custom-fields-query-dropdown",35),je("selectionModelChange",function(o){b(e);const s=g();return $e(s.customFieldQueriesModel,o)||(s.customFieldQueriesModel=o),S(o)}),T("selectionModelChange",function(){return b(e),S(g().updateRules())}),u()}if(2&t){const e=g();Ce("show",e.show),Ze("selectionModel",e.customFieldQueriesModel)}}const Gm="title",Vu="title-content",Hu="asn",Ag="fulltext-query",$u="fulltext-morelike",yb="custom-fields",Nb="mime-type",Bm="equals",Um="is null",Db="not null",Og="greater",Wm="less",Pb=/created:\[([^\]]+)\]/g,Ib=/added:\[([^\]]+)\]/g,Zm=[{relativeDate:pl.WITHIN_1_WEEK,dateQuery:"-1 week to now"},{relativeDate:pl.WITHIN_1_MONTH,dateQuery:"-1 month to now"},{relativeDate:pl.WITHIN_3_MONTHS,dateQuery:"-3 month to now"},{relativeDate:pl.WITHIN_1_YEAR,dateQuery:"-1 year to now"}],_U=[{id:Gm,name:"Title"},{id:Vu,name:"Title & content"},{id:Hu,name:"ASN"},{id:yb,name:"Custom fields"},{id:Nb,name:"File type"},{id:Ag,name:"Advanced search"}],Egt={id:$u,name:"More like"},Agt=[{id:Bm,label:"equals"},{id:Um,label:"is empty"},{id:Db,label:"is not empty"},{id:Og,label:"greater than"},{id:Wm,label:"less than"}];let Ogt=(()=>{class t extends ns{generateFilterName(){if(1==this.filterRules.length){let e=this.filterRules[0];switch(e.rule_type){case 3:case 26:return e.value?"Correspondent: " + this.correspondents.find(i => i.id == +e.value)?.name + "":"Without correspondent";case 4:case 28:return e.value?"Document type: " + this.documentTypes.find(i => i.id == +e.value)?.name + "":"Without document type";case 25:case 30:return e.value?"Storage path: " + this.storagePaths.find(i => i.id == +e.value)?.name + "":"Without storage path";case 6:return "Tag: " + this.tags.find(i => i.id == +e.value)?.name + "";case 7:if("false"==e.value)return "Without any tag";case 42:return "Custom fields query";case 0:return "Title: " + e.value + "";case 2:return "ASN: " + e.value + "";case 32:return "Owner: " + e.value + "";case 35:return "Owner not in: " + e.value + "";case 34:return "Without an owner"}}return""}constructor(e,i,o,s,r,a,l,c){super(),this.documentTypeService=e,this.tagService=i,this.correspondentService=o,this.documentService=s,this.storagePathService=r,this.permissionsService=a,this.customFieldService=l,this.searchService=c,this.tags=[],this.correspondents=[],this.documentTypes=[],this.storagePaths=[],this.customFields=[],this._textFilter="",this.textFilterTarget=Vu,this.tagSelectionModel=new N0,this.correspondentSelectionModel=new N0,this.documentTypeSelectionModel=new N0,this.storagePathSelectionModel=new N0,this.customFieldQueriesModel=new hU,this.permissionsSelectionModel=new _gt,this._unmodifiedFilterRules=[],this._filterRules=[],this.filterRulesChange=new Ee,this.rulesModified=!1,this.disabled=!1,this.loadingCountTotal=0,this.loadingCount=0,this.searchAutoComplete=h=>h.pipe(Pr(200),h1(),li(()=>this.textFilterTarget===Ag),Tt(p=>-1!=p.lastIndexOf(" ")?p.substring(p.lastIndexOf(" ")+1):p),Mi(p=>p.length<2?Co([[]]):this.searchService.autocomplete(p).pipe(m1(()=>Co([[]])))))}get textFilterTargets(){return this.textFilterTarget==$u?_U.concat([Egt]):_U}get textFilterTargetName(){return this.textFilterTargets.find(e=>e.id==this.textFilterTarget)?.name}get textFilterModifiers(){return Agt}get textFilterModifierIsNull(){return[Um,Db].includes(this.textFilterModifier)}set unmodifiedFilterRules(e){this._unmodifiedFilterRules=e,this.rulesModified=Im(this._unmodifiedFilterRules,this._filterRules)}get unmodifiedFilterRules(){return this._unmodifiedFilterRules}set filterRules(e){this._filterRules=e,this.documentTypeSelectionModel.clear(!1),this.storagePathSelectionModel.clear(!1),this.tagSelectionModel.clear(!1),this.correspondentSelectionModel.clear(!1),this.customFieldQueriesModel.clear(!1),this._textFilter=null,this._moreLikeId=null,this.dateAddedTo=null,this.dateAddedFrom=null,this.dateCreatedTo=null,this.dateCreatedFrom=null,this.dateCreatedRelativeDate=null,this.dateAddedRelativeDate=null,this.textFilterModifier=Bm,this.permissionsSelectionModel.clear(),e.forEach(i=>{switch(i.rule_type){case 0:this._textFilter=i.value,this.textFilterTarget=Gm;break;case 19:this._textFilter=i.value,this.textFilterTarget=Vu;break;case 2:this._textFilter=i.value,this.textFilterTarget=Hu;break;case 36:this._textFilter=i.value,this.textFilterTarget=yb;break;case 47:this.textFilterTarget=Nb,this._textFilter=i.value;break;case 20:let o=i.value.split(","),s=[];o.forEach(h=>{h.match(Pb)?([...h.matchAll(Pb)].forEach(p=>{p[1]?.length&&(this.dateCreatedRelativeDate=Zm.find(f=>f.dateQuery==p[1])?.relativeDate??null)}),null===this.dateCreatedRelativeDate&&s.push(h)):h.match(Ib)?([...h.matchAll(Ib)].forEach(p=>{p[1]?.length&&(this.dateAddedRelativeDate=Zm.find(f=>f.dateQuery==p[1])?.relativeDate??null)}),null===this.dateAddedRelativeDate&&s.push(h)):s.push(h)}),s.length&&(this._textFilter=s.join(","),this.textFilterTarget=Ag);break;case 21:this._moreLikeId=+i.value,this.textFilterTarget=$u,this.documentService.get(this._moreLikeId).subscribe(h=>{this._moreLikeDoc=h,this._textFilter=h.title});break;case 9:const r=new Date(i.value);r.setDate(r.getDate()+1),this.dateCreatedFrom=r.toISOString().split("T")[0];break;case 8:const a=new Date(i.value);a.setDate(a.getDate()-1),this.dateCreatedTo=a.toISOString().split("T")[0];break;case 14:const l=new Date(i.value);l.setDate(l.getDate()+1),this.dateAddedFrom=l.toISOString().split("T")[0];break;case 13:const c=new Date(i.value);c.setDate(c.getDate()-1),this.dateAddedTo=c.toISOString().split("T")[0];break;case 44:this.dateCreatedFrom=i.value;break;case 43:this.dateCreatedTo=i.value;break;case 46:this.dateAddedFrom=i.value;break;case 45:this.dateAddedTo=i.value;break;case 6:this.tagSelectionModel.logicalOperator=T1.And,this.tagSelectionModel.set(i.value?+i.value:null,Cn.Selected,!1);break;case 22:this.tagSelectionModel.logicalOperator=T1.Or,this.tagSelectionModel.set(i.value?+i.value:null,Cn.Selected,!1);break;case 7:this.tagSelectionModel.set(null,Cn.Selected,!1);break;case 17:this.tagSelectionModel.set(i.value?+i.value:null,Cn.Excluded,!1);break;case 3:case 26:this.correspondentSelectionModel.logicalOperator=T1.Or,this.correspondentSelectionModel.intersection=da.Include,this.correspondentSelectionModel.set(i.value?+i.value:null,Cn.Selected,!1);break;case 27:this.correspondentSelectionModel.intersection=da.Exclude,this.correspondentSelectionModel.set(i.value?+i.value:null,Cn.Excluded,!1);break;case 4:case 28:this.documentTypeSelectionModel.logicalOperator=T1.Or,this.documentTypeSelectionModel.intersection=da.Include,this.documentTypeSelectionModel.set(i.value?+i.value:null,Cn.Selected,!1);break;case 29:this.documentTypeSelectionModel.intersection=da.Exclude,this.documentTypeSelectionModel.set(i.value?+i.value:null,Cn.Excluded,!1);break;case 25:case 30:this.storagePathSelectionModel.logicalOperator=T1.Or,this.storagePathSelectionModel.intersection=da.Include,this.storagePathSelectionModel.set(i.value?+i.value:null,Cn.Selected,!1);break;case 31:this.storagePathSelectionModel.intersection=da.Exclude,this.storagePathSelectionModel.set(i.value?+i.value:null,Cn.Excluded,!1);break;case 42:try{const h=JSON.parse(i.value);Array.isArray(h)&&(2===h.length?this.customFieldQueriesModel.addExpression(new Ec(h)):3===h.length&&this.customFieldQueriesModel.addAtom(new $m(h)))}catch{}break;case 38:this.customFieldQueriesModel.addExpression(new Ec([pc.And,i.value.split(",").map(h=>[h,Fn.Exists,"true"])]));break;case 39:this.customFieldQueriesModel.addExpression(new Ec([pc.Or,i.value.split(",").map(h=>[h,Fn.Exists,"true"])]));break;case 18:this.textFilterTarget=Hu,this.textFilterModifier="true"==i.value||"1"==i.value?Um:Db;break;case 23:this.textFilterTarget=Hu,this.textFilterModifier=Og,this._textFilter=i.value;break;case 24:this.textFilterTarget=Hu,this.textFilterModifier=Wm,this._textFilter=i.value;break;case 32:this.permissionsSelectionModel.ownerFilter=is.SELF,this.permissionsSelectionModel.hideUnowned=!1,i.value&&(this.permissionsSelectionModel.userID=parseInt(i.value,10));break;case 33:this.permissionsSelectionModel.ownerFilter=is.OTHERS,i.value&&this.permissionsSelectionModel.includeUsers.push(parseInt(i.value,10));break;case 35:this.permissionsSelectionModel.ownerFilter=is.NOT_SELF,i.value&&this.permissionsSelectionModel.excludeUsers.push(parseInt(i.value,10));break;case 37:this.permissionsSelectionModel.ownerFilter=is.SHARED_BY_ME,i.value&&(this.permissionsSelectionModel.userID=parseInt(i.value,10));break;case 34:if("true"!==i.value&&"1"!==i.value){this.permissionsSelectionModel.hideUnowned="false"===i.value||"0"===i.value;break}this.permissionsSelectionModel.hideUnowned=!1,this.permissionsSelectionModel.ownerFilter=is.UNOWNED}}),this.rulesModified=Im(this._unmodifiedFilterRules,this._filterRules)}get filterRules(){let e=[];if(this._textFilter&&this.textFilterTarget==Vu&&e.push({rule_type:19,value:this._textFilter}),this._textFilter&&this.textFilterTarget==Gm&&e.push({rule_type:0,value:this._textFilter}),this.textFilterTarget==Hu&&(this.textFilterModifier==Bm&&this._textFilter?e.push({rule_type:2,value:this._textFilter}):this.textFilterModifierIsNull?e.push({rule_type:18,value:(this.textFilterModifier==Um).toString()}):[Og,Wm].includes(this.textFilterModifier)&&this._textFilter&&e.push({rule_type:this.textFilterModifier==Og?23:24,value:this._textFilter})),this._textFilter&&this.textFilterTarget==yb&&e.push({rule_type:36,value:this._textFilter}),this._textFilter&&this.textFilterTarget==Nb&&e.push({rule_type:47,value:this._textFilter}),this._textFilter&&this.textFilterTarget==Ag&&e.push({rule_type:20,value:this._textFilter}),this._moreLikeId&&this.textFilterTarget==$u&&e.push({rule_type:21,value:this._moreLikeId.toString()}),this.tagSelectionModel.isNoneSelected())e.push({rule_type:7,value:"false"});else{const o=this.tagSelectionModel.logicalOperator==T1.And?6:22;this.tagSelectionModel.getSelectedItems().filter(s=>s.id).forEach(s=>{e.push({rule_type:o,value:s.id?.toString()})}),this.tagSelectionModel.getExcludedItems().filter(s=>s.id).forEach(s=>{e.push({rule_type:17,value:s.id?.toString()})})}this.correspondentSelectionModel.isNoneSelected()?e.push({rule_type:3,value:null}):(this.correspondentSelectionModel.getSelectedItems().forEach(o=>{e.push({rule_type:26,value:o.id?.toString()})}),this.correspondentSelectionModel.getExcludedItems().forEach(o=>{e.push({rule_type:27,value:o.id?.toString()})})),this.documentTypeSelectionModel.isNoneSelected()?e.push({rule_type:4,value:null}):(this.documentTypeSelectionModel.getSelectedItems().forEach(o=>{e.push({rule_type:28,value:o.id?.toString()})}),this.documentTypeSelectionModel.getExcludedItems().forEach(o=>{e.push({rule_type:29,value:o.id?.toString()})})),this.storagePathSelectionModel.isNoneSelected()?e.push({rule_type:25,value:null}):(this.storagePathSelectionModel.getSelectedItems().forEach(o=>{e.push({rule_type:30,value:o.id?.toString()})}),this.storagePathSelectionModel.getExcludedItems().forEach(o=>{e.push({rule_type:31,value:o.id?.toString()})}));let i=this.customFieldQueriesModel.queries.map(o=>o.serialize());if(i.length>0&&e.push({rule_type:42,value:JSON.stringify(i[0])}),this.dateCreatedTo&&e.push({rule_type:43,value:this.dateCreatedTo}),this.dateCreatedFrom&&e.push({rule_type:44,value:this.dateCreatedFrom}),this.dateAddedTo&&e.push({rule_type:45,value:this.dateAddedTo}),this.dateAddedFrom&&e.push({rule_type:46,value:this.dateAddedFrom}),null!==this.dateAddedRelativeDate||null!==this.dateCreatedRelativeDate){let o=[],s=e.find(a=>20==a.rule_type);!s&&this._textFilter?.length>0&&(this.textFilterTarget==Vu||this.textFilterTarget==Gm)&&(s=e.find(a=>19==a.rule_type||0==a.rule_type),s.rule_type=20);let r=s?.value.split(",");null!==this.dateCreatedRelativeDate&&(o.push(`created:[${Zm.find(a=>a.relativeDate==this.dateCreatedRelativeDate).dateQuery}]`),s&&(o=r.filter(a=>!a.match(Pb)).concat(o))),null!==this.dateAddedRelativeDate&&(o.push(`added:[${Zm.find(a=>a.relativeDate==this.dateAddedRelativeDate).dateQuery}]`),s&&(o=r.filter(a=>!a.match(Ib)).concat(o))),s?s.value=o.join(","):e.push({rule_type:20,value:o.join(",")})}return this.permissionsSelectionModel.ownerFilter==is.SELF?e.push({rule_type:32,value:this.permissionsSelectionModel.userID.toString()}):this.permissionsSelectionModel.ownerFilter==is.NOT_SELF?e.push({rule_type:35,value:this.permissionsSelectionModel.excludeUsers?.join(",")}):this.permissionsSelectionModel.ownerFilter==is.OTHERS?e.push({rule_type:33,value:this.permissionsSelectionModel.includeUsers?.join(",")}):this.permissionsSelectionModel.ownerFilter==is.SHARED_BY_ME?e.push({rule_type:37,value:this.permissionsSelectionModel.userID.toString()}):this.permissionsSelectionModel.ownerFilter==is.UNOWNED&&e.push({rule_type:34,value:"true"}),this.permissionsSelectionModel.hideUnowned&&e.push({rule_type:34,value:"false"}),e}set selectionData(e){this.tagDocumentCounts=e?.selected_tags??null,this.documentTypeDocumentCounts=e?.selected_document_types??null,this.correspondentDocumentCounts=e?.selected_correspondents??null,this.storagePathDocumentCounts=e?.selected_storage_paths??null,this.customFieldDocumentCounts=e?.selected_custom_fields??null}updateRules(){this.filterRulesChange.next(this.filterRules)}get textFilter(){return this.textFilterModifierIsNull?"":this._textFilter}set textFilter(e){this.textFilterDebounce.next(e)}maybeCompleteLoading(){this.loadingCount++,this.loadingCount==this.loadingCountTotal&&(this.loading=!1,this.show=!0)}ngOnInit(){this.loading=!0,this.permissionsService.currentUserCan(mt.View,Ct.Tag)&&(this.loadingCountTotal++,this.tagService.listAll().subscribe(e=>{this.tags=e.results,this.maybeCompleteLoading()})),this.permissionsService.currentUserCan(mt.View,Ct.Correspondent)&&(this.loadingCountTotal++,this.correspondentService.listAll().subscribe(e=>{this.correspondents=e.results,this.maybeCompleteLoading()})),this.permissionsService.currentUserCan(mt.View,Ct.DocumentType)&&(this.loadingCountTotal++,this.documentTypeService.listAll().subscribe(e=>{this.documentTypes=e.results,this.maybeCompleteLoading()})),this.permissionsService.currentUserCan(mt.View,Ct.StoragePath)&&(this.loadingCountTotal++,this.storagePathService.listAll().subscribe(e=>{this.storagePaths=e.results,this.maybeCompleteLoading()})),this.permissionsService.currentUserCan(mt.View,Ct.CustomField)&&(this.loadingCountTotal++,this.customFieldService.listAll().subscribe(e=>{this.customFields=e.results,this.maybeCompleteLoading()})),this.textFilterDebounce=new xe,this.textFilterDebounce.pipe(Te(this.unsubscribeNotifier),Pr(400),h1(),li(e=>!e.length||e.length>2)).subscribe(e=>this.updateTextFilter(e,this.textFilterTarget!==Ag)),this._textFilter&&(this.documentService.searchQuery=this._textFilter)}ngAfterViewInit(){this.textFilterInput.nativeElement.focus()}ngOnDestroy(){this.unsubscribeNotifier.next(!0)}resetSelected(){this.textFilterTarget=Vu,this.filterRules=this._unmodifiedFilterRules,this.updateRules()}toggleTag(e){this.tagSelectionModel.toggle(e)}toggleCorrespondent(e){this.correspondentSelectionModel.toggle(e)}toggleDocumentType(e){this.documentTypeSelectionModel.toggle(e)}toggleStoragePath(e){this.storagePathSelectionModel.toggle(e)}onTagsDropdownOpen(){this.tagSelectionModel.apply()}onCorrespondentDropdownOpen(){this.correspondentSelectionModel.apply()}onDocumentTypeDropdownOpen(){this.documentTypeSelectionModel.apply()}onStoragePathDropdownOpen(){this.storagePathSelectionModel.apply()}updateTextFilter(e,i=!0){this._textFilter=e,i&&(this.documentService.searchQuery=e,this.updateRules())}textFilterKeyup(e){if("Enter"==e.key){const i=this.textFilterInput.nativeElement.value;i.length&&this.updateTextFilter(i)}else"Escape"===e.key&&(this._textFilter?.length?this.resetTextField():this.textFilterInput.nativeElement.blur())}resetTextField(){this.updateTextFilter("")}changeTextFilterTarget(e){this.textFilterTarget==$u&&e!=$u&&(this._textFilter=""),this.textFilterTarget=e,this.textFilterInput.nativeElement.focus(),this.updateRules()}textFilterModifierChange(){(this.textFilterModifierIsNull||[Bm,Og,Wm].includes(this.textFilterModifier)&&this._textFilter)&&this.updateRules()}itemSelected(e){e.preventDefault();let i=this._textFilter??"",o=i.lastIndexOf(" ");-1!=o?(i=i.substring(0,o+1),i+=e.item+" "):i=e.item+" ",this.updateTextFilter(i)}static{this.\u0275fac=function(i){return new(i||t)(x(hl),x(Pu),x(ul),x(So),x(Tc),x(ti),x(C1),x(qB))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-filter-editor"]],viewQuery:function(i,o){if(1&i&&dn(ggt,5),2&i){let s;pt(s=gt())&&(o.textFilterInput=s.first)}},inputs:{unmodifiedFilterRules:"unmodifiedFilterRules",filterRules:"filterRules",selectionData:"selectionData",disabled:"disabled"},outputs:{filterRulesChange:"filterRulesChange"},features:[st],decls:29,vars:26,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v;return e="Tags",i="Filter tags",o="Correspondent",s="Filter correspondents",r="Document type",a="Filter document types",l="Storage path",c="Filter storage paths",h="Custom fields",p="Dates",f="Permissions",v="Reset filters",[["textFilterInput",""],v,["tourAnchor","tour.documents-filter-editor",1,"row","flex-wrap","row-gap-3"],[1,"col"],[1,"form-inline","d-flex","align-items-center","fade"],[1,"input-group","input-group-sm","flex-fill","w-auto","flex-nowrap"],["ngbDropdown",""],["ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["ngbDropdownMenu","",1,"dropdown-menu","shadow"],["ngbDropdownItem","",3,"active"],[1,"form-select","flex-grow-0","w-auto",3,"ngModel"],[1,"btn","btn-link","btn-sm","px-2","position-absolute","top-0","end-0","z-10"],["type","text",1,"form-control","form-control-sm",3,"ngModelChange","keyup","selectItem","disabled","ngModel","ngbTypeahead","readonly"],[1,"col-auto"],[1,"d-flex","flex-wrap","gap-3"],[1,"d-flex","flex-wrap","gap-2"],["title",e,"icon","tag-fill","filterPlaceholder",i,"shortcutKey","t",1,"flex-fill","fade",3,"show","items","manyToOne","selectionModel","documentCounts","allowSelectNone","disabled"],["title",o,"icon","person-fill","filterPlaceholder",s,"shortcutKey","y",1,"flex-fill","fade",3,"show","items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",r,"icon","file-earmark-fill","filterPlaceholder",a,"shortcutKey","u",1,"flex-fill","fade",3,"show","items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",l,"icon","folder-fill","filterPlaceholder",c,"shortcutKey","i",1,"flex-fill","fade",3,"show","items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",h,"icon","ui-radios",1,"flex-fill","fade",3,"show","selectionModel"],["title",p,1,"flex-fill","fade",3,"datesSet","createdDateToChange","createdDateFromChange","createdRelativeDateChange","addedDateToChange","addedDateFromChange","addedRelativeDateChange","createdDateTo","createdDateFrom","createdRelativeDate","addedDateTo","addedDateFrom","addedRelativeDate"],["title",f,1,"flex-fill","fade",3,"ownerFilterSet","selectionModelChange","selectionModel"],[1,"d-flex","flex-wrap","d-none","d-sm-inline-block"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],["name","x",1,"ms-n1"],["ngbDropdownItem","",3,"click"],[1,"form-select","flex-grow-0","w-auto",3,"ngModelChange","change","ngModel"],["ngbDropdownItem","",3,"value"],[1,"btn","btn-link","btn-sm","px-2","position-absolute","top-0","end-0","z-10",3,"click"],["width","1em","height","1em","name","x"],["title",e,"icon","tag-fill","filterPlaceholder",i,"shortcutKey","t",1,"flex-fill","fade",3,"selectionModelChange","opened","items","manyToOne","selectionModel","documentCounts","allowSelectNone","disabled"],["title",o,"icon","person-fill","filterPlaceholder",s,"shortcutKey","y",1,"flex-fill","fade",3,"selectionModelChange","opened","items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",r,"icon","file-earmark-fill","filterPlaceholder",a,"shortcutKey","u",1,"flex-fill","fade",3,"selectionModelChange","opened","items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",l,"icon","folder-fill","filterPlaceholder",c,"shortcutKey","i",1,"flex-fill","fade",3,"selectionModelChange","opened","items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",h,"icon","ui-radios",1,"flex-fill","fade",3,"selectionModelChange","selectionModel"]]},template:function(i,o){if(1&i){const s=F();d(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"button",7),A(6),u(),d(7,"div",8),Ue(8,fgt,2,3,"button",9,Ht),u()(),y(10,vgt,3,1,"select",10)(11,Cgt,2,0,"button",11),d(12,"input",12,0),je("ngModelChange",function(a){return b(s),$e(o.textFilter,a)||(o.textFilter=a),S(a)}),T("keyup",function(a){return b(s),S(o.textFilterKeyup(a))})("selectItem",function(a){return b(s),S(o.itemSelected(a))}),u()()()(),d(14,"div",13)(15,"div",14)(16,"div",15),y(17,Mgt,1,8,"pngx-filterable-dropdown",16)(18,Tgt,1,7,"pngx-filterable-dropdown",17)(19,wgt,1,7,"pngx-filterable-dropdown",18)(20,bgt,1,7,"pngx-filterable-dropdown",19)(21,Sgt,1,3,"pngx-custom-fields-query-dropdown",20),d(22,"pngx-dates-dropdown",21),T("datesSet",function(){return b(s),S(o.updateRules())}),je("createdDateToChange",function(a){return b(s),$e(o.dateCreatedTo,a)||(o.dateCreatedTo=a),S(a)})("createdDateFromChange",function(a){return b(s),$e(o.dateCreatedFrom,a)||(o.dateCreatedFrom=a),S(a)})("createdRelativeDateChange",function(a){return b(s),$e(o.dateCreatedRelativeDate,a)||(o.dateCreatedRelativeDate=a),S(a)})("addedDateToChange",function(a){return b(s),$e(o.dateAddedTo,a)||(o.dateAddedTo=a),S(a)})("addedDateFromChange",function(a){return b(s),$e(o.dateAddedFrom,a)||(o.dateAddedFrom=a),S(a)})("addedRelativeDateChange",function(a){return b(s),$e(o.dateAddedRelativeDate,a)||(o.dateAddedRelativeDate=a),S(a)}),u(),d(23,"pngx-permissions-filter-dropdown",22),T("ownerFilterSet",function(){return b(s),S(o.updateRules())}),je("selectionModelChange",function(a){return b(s),$e(o.permissionsSelectionModel,a)||(o.permissionsSelectionModel=a),S(a)}),u()(),d(24,"div",23)(25,"button",24),T("click",function(){return b(s),S(o.resetSelected())}),w(26,"i-bs",25),ae(27),M(28,1),le(),u()()()()()}2&i&&(_(2),Ce("show",o.show),_(4),oe(o.textFilterTargetName),_(2),We(o.textFilterTargets),_(2),N("asn"===o.textFilterTarget?10:-1),_(),N(o._textFilter?11:-1),_(),m("disabled",o.textFilterModifierIsNull),Ze("ngModel",o.textFilter),m("ngbTypeahead",o.searchAutoComplete)("readonly","fulltext-morelike"===o.textFilterTarget),_(5),N(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.Tag)&&o.tags.length>0?17:-1),_(),N(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.Correspondent)&&o.correspondents.length>0?18:-1),_(),N(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.DocumentType)&&o.documentTypes.length>0?19:-1),_(),N(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.StoragePath)&&o.storagePaths.length>0?20:-1),_(),N(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.CustomField)&&o.customFields.length>0?21:-1),_(),Ce("show",o.show),Ze("createdDateTo",o.dateCreatedTo)("createdDateFrom",o.dateCreatedFrom)("createdRelativeDate",o.dateCreatedRelativeDate)("addedDateTo",o.dateAddedTo)("addedDateFrom",o.dateAddedFrom)("addedRelativeDate",o.dateAddedRelativeDate),_(),Ce("show",o.show),Ze("selectionModel",o.permissionsSelectionModel),_(2),m("disabled",!o.rulesModified))},dependencies:[aU,Upt,igt,pgt,Gt,Jt,No,bo,Jo,yo,Vs,Rr,DM,m2e,Xt,jl,Xl,Ti,j0,jt,Rn,qt,hc,uc],styles:[".quick-filter[_ngcontent-%COMP%]{min-width:250px;max-height:400px;overflow-y:scroll}.quick-filter[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}.input-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.d-flex.flex-wrap[_ngcontent-%COMP%]{column-gap:.7rem}input[type=text][_ngcontent-%COMP%]{min-width:120px}.z-10[_ngcontent-%COMP%]{z-index:10}"]})}}return t})();function ygt(t,n){if(1&t&&(d(0,"div",13)(1,"h6",17),M(2,3),u(),ae(3),M(4,4),le(),A(5,":"),w(6,"br"),A(7),u()),2&t){const e=g();_(7),Le(" ",e.error.filter_rules," ")}}let Ngt=(()=>{class t{constructor(e){this.modal=e,this.saveClicked=new Ee,this.buttonsEnabled=!0,this.closeEnabled=!1,this._defaultName="",this.saveViewConfigForm=new Kn({name:new de(""),showInSideBar:new de(!1),showOnDashboard:new de(!1)})}get defaultName(){return this._defaultName}set defaultName(e){this._defaultName=e,this.saveViewConfigForm.patchValue({name:e})}ngOnInit(){setTimeout(()=>{this.closeEnabled=!0})}save(){this.saveClicked.emit(this.saveViewConfigForm.value)}cancel(){this.modal.close()}static{this.\u0275fac=function(i){return new(i||t)(x(io))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-save-view-config-dialog"]],inputs:{error:"error",buttonsEnabled:"buttonsEnabled",defaultName:"defaultName"},outputs:{saveClicked:"saveClicked"},decls:15,vars:6,consts:()=>{let e,i,o,s,r,a,l,c;return e="Name",i="Show in sidebar",o="Show on dashboard",s="Save current view",r="Cancel",a="Save",l="Filter rules error occurred while saving this view",c="The error returned was",[s,r,a,l,c,[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","showInSideBar"],["title",o,"formControlName","showOnDashboard"],["role","alert",1,"alert","alert-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert-heading"]]},template:function(i,o){1&i&&(d(0,"form",5),T("ngSubmit",function(){return o.save()}),d(1,"div",6)(2,"h4",7),M(3,0),u(),d(4,"button",8),T("click",function(){return o.cancel()}),u()(),d(5,"div",9),w(6,"pngx-input-text",10)(7,"pngx-input-check",11)(8,"pngx-input-check",12),y(9,ygt,8,1,"div",13),u(),d(10,"div",14)(11,"button",15),T("click",function(){return o.cancel()}),M(12,1),u(),d(13,"button",16),M(14,2),u()()()),2&i&&(m("formGroup",o.saveViewConfigForm),_(4),m("disabled",!o.closeEnabled),_(2),m("error",null==o.error?null:o.error.name),_(3),N(null!=o.error&&o.error.filter_rules?9:-1),_(2),m("disabled",!o.buttonsEnabled),_(2),m("disabled",!o.buttonsEnabled))},dependencies:[dl,gr,Xt,Oo,jt,Mo,qt,co,To],encapsulation:2})}}return t})();const Dgt=["filterEditor"],jm=(t,n)=>n.id;function Pgt(t,n){return this.t}const Xm=(t,n)=>({action:t,type:n});function Igt(t,n){if(1&t){const e=F();d(0,"div",45)(1,"input",74),T("change",function(){const o=b(e).$implicit;return S(g().toggleDisplayField(o.id))}),u(),d(2,"label",75),A(3),u()()}if(2&t){const e=n.$implicit,i=g();_(),Kt("id","displayField",e.id,""),m("checked",i.activeDisplayFields.includes(e.id)),_(),Kt("for","displayField",e.id,""),_(),oe(e.name)}}function xgt(t,n){if(1&t){const e=F();d(0,"button",40),T("click",function(){const o=b(e).$implicit;return S(g().list.sortField=o.field)}),A(1),u()}if(2&t){const e=n.$implicit;Ce("active",g().list.sortField===e.field),_(),Le("",e.name," ")}}function Lgt(t,n){1&t&&(d(0,"div",79)(1,"span",84),A(2,"selected"),u()())}function Rgt(t,n){if(1&t){const e=F();d(0,"button",40),T("click",function(){const o=b(e).$implicit;return S(g(3).loadViewConfig(o.id))}),A(1),u()}if(2&t){const e=n.$implicit;_(),oe(e.name)}}function Fgt(t,n){1&t&&w(0,"div",86)}function kgt(t,n){if(1&t&&(Ue(0,Rgt,2,1,"button",85,Ht),y(2,Fgt,1,0,"div",86)),2&t){const e=g(2);We(e.savedViewService.allViews),_(2),N(e.savedViewService.allViews.length>0?2:-1)}}function zgt(t,n){if(1&t){const e=F();d(0,"button",88),T("click",function(){return b(e),S(g(3).saveViewConfig())}),M(1,10),u()}if(2&t){const e=g(3);m("disabled",!e.savedViewIsModified),_(),bn(e.list.activeSavedViewTitle),Sn(1)}}function Vgt(t,n){if(1&t&&(d(0,"div"),y(1,zgt,2,2,"button",87),u()),2&t){const e=g(2);_(),N(e.list.activeSavedViewId?1:-1)}}function Hgt(t,n){if(1&t){const e=F();d(0,"button",40),T("click",function(){return b(e),S(g(2).saveViewConfigAs())}),M(1,11),u()}}function $gt(t,n){1&t&&(d(0,"a",89),M(1,12),u())}function Ggt(t,n){if(1&t&&(d(0,"div",76)(1,"button",77),w(2,"i-bs",78),d(3,"div",38),A(4,"\xa0"),ae(5),M(6,9),le(),u(),y(7,Lgt,3,0,"div",79),u(),d(8,"div",80),y(9,kgt,3,1)(10,Vgt,2,1,"div",81)(11,Hgt,2,0,"button",82)(12,$gt,2,0,"a",83),u()()),2&t){const e=g();_(7),N(e.savedViewIsModified?7:-1),_(2),N(e.list.activeSavedViewId?-1:9),_(),m("pngxIfPermissions",Pe(5,Xm,e.PermissionAction.Change,e.PermissionType.SavedView)),_(),m("pngxIfPermissions",Pe(8,Xm,e.PermissionAction.Add,e.PermissionType.SavedView)),_(),m("pngxIfPermissions",Pe(11,Xm,e.PermissionAction.View,e.PermissionType.SavedView))}}function Bgt(t,n){1&t&&(w(0,"div",94),ae(1),M(2,13),le())}function Ugt(t,n){if(1&t&&(d(0,"span"),M(1,14),u()),2&t){const e=g(2);_(),bn(e.list.collectionSize)(e.list.selected.size)(e.list.collectionSize||0),Sn(1)}}function Wgt(t,n){if(1&t&&(d(0,"span"),M(1,15),u()),2&t){const e=g(3);_(),bn(e.list.collectionSize)(e.list.collectionSize||0),Sn(1)}}function Zgt(t,n){1&t&&(A(0," \xa0"),d(1,"span"),M(2,16),u())}function jgt(t,n){if(1&t&&y(0,Wgt,2,2,"span")(1,Zgt,3,0),2&t){const e=g(2);N(0===e.list.selected.size?0:-1),_(),N(e.isFiltered?1:-1)}}function Xgt(t,n){if(1&t){const e=F();d(0,"button",95),T("click",function(){return b(e),S(g(2).resetFilters())}),w(1,"i-bs",96),d(2,"small"),M(3,17),u()()}}function Kgt(t,n){if(1&t){const e=F();d(0,"ngb-pagination",97),je("pageChange",function(o){b(e);const s=g(2);return $e(s.list.currentPage,o)||(s.list.currentPage=o),S(o)}),u()}if(2&t){const e=g(2);m("pageSize",e.list.pageSize)("collectionSize",e.list.collectionSize),Ze("page",e.list.currentPage),m("maxSize",5)("rotate",!0)}}function qgt(t,n){if(1&t&&(d(0,"div",90)(1,"div",91),y(2,Bgt,3,0)(3,Ugt,2,3,"span")(4,jgt,2,2)(5,Xgt,4,0,"button",92),u(),y(6,Kgt,1,5,"ngb-pagination",93),u()),2&t){const e=g();_(2),N(e.list.isReloading?2:-1),_(),N(e.list.selected.size>0?3:-1),_(),N(e.list.isReloading?-1:4),_(),N(!e.list.isReloading&&e.isFiltered?5:-1),_(),N(e.list.collectionSize?6:-1)}}function Ygt(t,n){1&t&&Nn(0)}function Qgt(t,n){if(1&t&&(d(0,"div",73),ae(1),M(2,18),le(),A(3),u()),2&t){const e=g();_(3),Le(": ",e.list.error,"")}}function Jgt(t,n){if(1&t){const e=F();d(0,"pngx-document-card-large",102),T("toggleSelected",function(o){const s=b(e).$implicit;return S(g(3).toggleSelected(s,o))})("dblClickDocument",function(){const o=b(e).$implicit;return S(g(3).openDocumentDetail(o))})("clickTag",function(o){return b(e),S(g(3).clickTag(o))})("clickCorrespondent",function(o){return b(e),S(g(3).clickCorrespondent(o))})("clickDocumentType",function(o){return b(e),S(g(3).clickDocumentType(o))})("clickStoragePath",function(o){return b(e),S(g(3).clickStoragePath(o))})("clickMoreLike",function(){const o=b(e).$implicit;return S(g(3).clickMoreLike(o.id))}),u()}if(2&t){const e=n.$implicit,i=g(3);m("selected",i.list.isSelected(e))("document",e)("displayFields",i.activeDisplayFields)}}function eft(t,n){if(1&t&&(d(0,"div"),Ue(1,Jgt,1,3,"pngx-document-card-large",101,jm),u()),2&t){const e=g(2);_(),We(e.list.documents)}}function tft(t,n){if(1&t){const e=F();d(0,"th",116),T("sort",function(o){return b(e),S(g(3).onSort(o))}),M(1,19),u()}if(2&t){const e=g(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function nft(t,n){if(1&t){const e=F();d(0,"th",117),T("sort",function(o){return b(e),S(g(3).onSort(o))}),M(1,20),u()}if(2&t){const e=g(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function ift(t,n){if(1&t){const e=F();d(0,"th",118),T("sort",function(o){return b(e),S(g(3).onSort(o))}),M(1,21),u()}if(2&t){const e=g(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function oft(t,n){1&t&&(d(0,"th"),M(1,22),u())}function sft(t,n){if(1&t){const e=F();d(0,"th",119),T("sort",function(o){return b(e),S(g(3).onSort(o))}),M(1,23),u()}if(2&t){const e=g(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function rft(t,n){if(1&t){const e=F();d(0,"th",120),T("sort",function(o){return b(e),S(g(3).onSort(o))}),M(1,24),u()}if(2&t){const e=g(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function aft(t,n){if(1&t){const e=F();d(0,"th",121),T("sort",function(o){return b(e),S(g(3).onSort(o))}),M(1,25),u()}if(2&t){const e=g(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function lft(t,n){if(1&t){const e=F();d(0,"th",122),T("sort",function(o){return b(e),S(g(3).onSort(o))}),M(1,26),u()}if(2&t){const e=g(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function cft(t,n){if(1&t){const e=F();d(0,"th",123),T("sort",function(o){return b(e),S(g(3).onSort(o))}),M(1,27),u()}if(2&t){const e=g(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function dft(t,n){if(1&t){const e=F();d(0,"th",124),T("sort",function(o){return b(e),S(g(3).onSort(o))}),M(1,28),u()}if(2&t){const e=g(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function uft(t,n){if(1&t){const e=F();d(0,"th",125),T("sort",function(o){return b(e),S(g(3).onSort(o))}),M(1,29),u()}if(2&t){const e=g(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function hft(t,n){1&t&&(d(0,"th"),M(1,30),u())}function _ft(t,n){if(1&t){const e=F();d(0,"th",126),T("sort",function(o){return b(e),S(g(3).onSort(o))}),iC(1,33),A(2),u()}if(2&t){const e=n.$implicit,i=g(3);ai("pngxSortable",e),bn(i.getDisplayCustomFieldTitle(e)),Sn(1),m("currentSortField",i.list.sortField)("currentSortReverse",i.list.sortReverse),_(2),Le(" ",i.getDisplayCustomFieldTitle(e)," ")}}function pft(t,n){if(1&t&&(d(0,"td",130),A(1),u()),2&t){const e=g().$implicit;_(),Le(" ",e.archive_serial_number," ")}}function gft(t,n){if(1&t){const e=F();d(0,"a",133),T("click",function(o){b(e);const s=g(2).$implicit;return g(3).clickCorrespondent(s.correspondent),S(o.stopPropagation())}),A(1),ye(2,"correspondentName"),ye(3,"async"),u()}if(2&t){const e=g(2).$implicit;_(),oe(Ke(3,3,Ke(2,1,e.correspondent)))}}function fft(t,n){if(1&t&&(d(0,"td",130),y(1,gft,4,5,"a",132),u()),2&t){const e=g().$implicit;_(),N(e.correspondent?1:-1)}}function mft(t,n){if(1&t){const e=F();d(0,"div",135),T("mouseleave",function(){return b(e),S(Ve(5).close())}),d(1,"a",136),A(2),ye(3,"documentTitle"),u(),d(4,"pngx-preview-popup",137,2),T("click",function(o){return b(e),S(o.stopPropagation())}),w(6,"i-bs",138),u()()}if(2&t){const e=g(2).$implicit;_(),Kt("routerLink","/documents/",e.id,""),_(),oe(Ke(3,4,e.title)),_(2),m("document",e)}}function vft(t,n){if(1&t){const e=F();d(0,"pngx-tag",140),T("click",function(o){const s=b(e).$implicit;return g(6).clickTag(s),S(o.stopPropagation())}),u()}2&t&&m("tagID",n.$implicit)}function Cft(t,n){1&t&&Ue(0,vft,1,1,"pngx-tag",139,Pgt,!0),2&t&&We(g(2).$implicit.tags)}function Mft(t,n){if(1&t&&(d(0,"td",131),y(1,mft,7,6,"div",134)(2,Cft,2,0),u()),2&t){const e=g(4);_(),N(e.activeDisplayFields.includes(e.DisplayField.TITLE)?1:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.TAGS)?2:-1)}}function Tft(t,n){if(1&t&&(d(0,"td"),A(1),ye(2,"username"),ye(3,"async"),u()),2&t){const e=g().$implicit;_(),Le(" ",Ke(3,3,Ke(2,1,e.owner))," ")}}function wft(t,n){if(1&t&&(d(0,"a",141)(1,"span",142),w(2,"i-bs",143),A(3),u()()),2&t){const e=g(2).$implicit;Kt("routerLink","/documents/",e.id,"/notes"),_(3),Le(" ",e.notes.length,"")}}function bft(t,n){if(1&t&&(d(0,"td",130),y(1,wft,4,3,"a",141),u()),2&t){const e=g().$implicit;_(),N(e.notes.length?1:-1)}}function Sft(t,n){if(1&t){const e=F();d(0,"a",145),T("click",function(o){b(e);const s=g(2).$implicit;return g(3).clickDocumentType(s.document_type),S(o.stopPropagation())}),A(1),ye(2,"documentTypeName"),ye(3,"async"),u()}if(2&t){const e=g(2).$implicit;_(),oe(Ke(3,3,Ke(2,1,e.document_type)))}}function Eft(t,n){if(1&t&&(d(0,"td",130),y(1,Sft,4,5,"a",144),u()),2&t){const e=g().$implicit;_(),N(e.document_type?1:-1)}}function Aft(t,n){if(1&t){const e=F();d(0,"a",147),T("click",function(o){b(e);const s=g(2).$implicit;return g(3).clickStoragePath(s.storage_path),S(o.stopPropagation())}),A(1),ye(2,"storagePathName"),ye(3,"async"),u()}if(2&t){const e=g(2).$implicit;_(),oe(Ke(3,3,Ke(2,1,e.storage_path)))}}function Oft(t,n){if(1&t&&(d(0,"td",130),y(1,Aft,4,5,"a",146),u()),2&t){const e=g().$implicit;_(),N(e.storage_path?1:-1)}}function yft(t,n){if(1&t&&(d(0,"td"),A(1),ye(2,"customDate"),u()),2&t){const e=g().$implicit;_(),Le(" ",Ke(2,1,e.created_date)," ")}}function Nft(t,n){if(1&t&&(d(0,"td"),A(1),ye(2,"customDate"),u()),2&t){const e=g().$implicit;_(),Le(" ",Ke(2,1,e.added)," ")}}function Dft(t,n){if(1&t&&(d(0,"td"),A(1),u()),2&t){const e=g().$implicit;_(),Le(" ",e.page_count," ")}}function Pft(t,n){1&t&&(ae(0),M(1,31),le())}function Ift(t,n){1&t&&(ae(0),M(1,32),le())}function xft(t,n){if(1&t&&(d(0,"td"),y(1,Pft,2,0,"ng-container")(2,Ift,2,0,"ng-container"),u()),2&t){const e=g().$implicit;_(),N(e.is_shared_by_requester?1:2)}}function Lft(t,n){if(1&t&&(d(0,"td",130),w(1,"pngx-custom-field-display",148),u()),2&t){const e=n.$implicit,i=g().$implicit;_(),m("document",i)("fieldDisplayKey",e)}}function Rft(t,n){if(1&t){const e=F();d(0,"tr",127),T("click",function(o){const s=b(e).$implicit;return g(3).toggleSelected(s,o),S(o.stopPropagation())})("dblclick",function(){const o=b(e).$implicit;return S(g(3).openDocumentDetail(o))}),d(1,"td")(2,"div",128)(3,"input",129),T("click",function(o){const s=b(e).$implicit;return g(3).toggleSelected(s,o),S(o.stopPropagation())}),u(),w(4,"label",75),u()(),y(5,pft,2,1,"td",130)(6,fft,2,1,"td",130)(7,Mft,3,2,"td",131)(8,Tft,4,5,"td")(9,bft,2,1,"td",130)(10,Eft,2,1,"td",130)(11,Oft,2,1,"td",130)(12,yft,3,3,"td")(13,Nft,3,3,"td")(14,Dft,2,1,"td")(15,xft,3,1,"td"),Ue(16,Lft,2,2,"td",130,Ht),u()}if(2&t){const e=n.$implicit,i=g(3);m("ngClass",i.list.isSelected(e)?"table-row-selected":""),_(3),Kt("id","docCheck",e.id,""),m("checked",i.list.isSelected(e)),_(),Kt("for","docCheck",e.id,""),_(),N(i.activeDisplayFields.includes(i.DisplayField.ASN)?5:-1),_(),N(i.activeDisplayFields.includes(i.DisplayField.CORRESPONDENT)&&i.permissionService.currentUserCan(i.PermissionAction.View,i.PermissionType.Correspondent)?6:-1),_(),N(i.activeDisplayFields.includes(i.DisplayField.TITLE)||i.activeDisplayFields.includes(i.DisplayField.TAGS)?7:-1),_(),N(i.activeDisplayFields.includes(i.DisplayField.OWNER)&&i.permissionService.currentUserCan(i.PermissionAction.View,i.PermissionType.User)?8:-1),_(),N(i.activeDisplayFields.includes(i.DisplayField.NOTES)&&i.notesEnabled?9:-1),_(),N(i.activeDisplayFields.includes(i.DisplayField.DOCUMENT_TYPE)&&i.permissionService.currentUserCan(i.PermissionAction.View,i.PermissionType.DocumentType)?10:-1),_(),N(i.activeDisplayFields.includes(i.DisplayField.STORAGE_PATH)&&i.permissionService.currentUserCan(i.PermissionAction.View,i.PermissionType.StoragePath)?11:-1),_(),N(i.activeDisplayFields.includes(i.DisplayField.CREATED)?12:-1),_(),N(i.activeDisplayFields.includes(i.DisplayField.ADDED)?13:-1),_(),N(i.activeDisplayFields.includes(i.DisplayField.PAGE_COUNT)?14:-1),_(),N(i.activeDisplayFields.includes(i.DisplayField.SHARED)?15:-1),_(),We(i.activeDisplayCustomFields)}}function Fft(t,n){if(1&t&&(d(0,"div",98)(1,"table",103)(2,"thead")(3,"tr"),w(4,"th"),y(5,tft,2,2,"th",104)(6,nft,2,2,"th",105)(7,ift,2,2,"th",106)(8,oft,2,0,"th")(9,sft,2,2,"th",107)(10,rft,2,2,"th",108)(11,aft,2,2,"th",109)(12,lft,2,2,"th",110)(13,cft,2,2,"th",111)(14,dft,2,2,"th",112)(15,uft,2,2,"th",113)(16,hft,2,0,"th"),Ue(17,_ft,3,5,"th",114,Ht),u()(),d(19,"tbody"),Ue(20,Rft,18,17,"tr",115,jm),u()()()),2&t){const e=g(2);_(5),N(e.activeDisplayFields.includes(e.DisplayField.ASN)?5:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.CORRESPONDENT)&&e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.Correspondent)?6:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.TITLE)?7:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.TAGS)&&!e.activeDisplayFields.includes(e.DisplayField.TITLE)?8:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.OWNER)&&e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.User)?9:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.NOTES)&&e.notesEnabled?10:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.DOCUMENT_TYPE)&&e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.DocumentType)?11:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.STORAGE_PATH)&&e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.StoragePath)?12:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.CREATED)?13:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.ADDED)?14:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.PAGE_COUNT)?15:-1),_(),N(e.activeDisplayFields.includes(e.DisplayField.SHARED)?16:-1),_(),We(e.activeDisplayCustomFields),_(3),We(e.list.documents)}}function kft(t,n){if(1&t){const e=F();d(0,"pngx-document-card-small",150),T("toggleSelected",function(o){const s=b(e).$implicit;return S(g(3).toggleSelected(s,o))})("dblClickDocument",function(){const o=b(e).$implicit;return S(g(3).openDocumentDetail(o))})("clickTag",function(o){return b(e),S(g(3).clickTag(o))})("clickCorrespondent",function(o){return b(e),S(g(3).clickCorrespondent(o))})("clickStoragePath",function(o){return b(e),S(g(3).clickStoragePath(o))})("clickDocumentType",function(o){return b(e),S(g(3).clickDocumentType(o))}),u()}if(2&t){const e=n.$implicit,i=g(3);m("selected",i.list.isSelected(e))("document",e)("displayFields",i.activeDisplayFields)}}function zft(t,n){if(1&t&&(d(0,"div",99),Ue(1,kft,1,3,"pngx-document-card-small",149,jm),u()),2&t){const e=g(2);_(),We(e.list.documents)}}function Vft(t,n){1&t&&Nn(0)}function Hft(t,n){if(1&t&&(d(0,"div",100),y(1,Vft,1,0,"ng-container",72),u()),2&t){g(2);const e=Ve(60);_(),m("ngTemplateOutlet",e)}}function $ft(t,n){if(1&t&&y(0,eft,3,0,"div")(1,Fft,22,12,"div",98)(2,zft,3,0,"div",99)(3,Hft,2,1,"div",100),2&t){const e=g();N(e.list.displayMode===e.DisplayMode.LARGE_CARDS?0:-1),_(),N(e.list.displayMode===e.DisplayMode.TABLE?1:-1),_(),N(e.list.displayMode===e.DisplayMode.SMALL_CARDS?2:-1),_(),N((null==e.list.documents?null:e.list.documents.length)>15?3:-1)}}let pU=(()=>{class t extends ca{constructor(e,i,o,s,r,a,l,c,h,p,f){super(),this.list=e,this.savedViewService=i,this.route=o,this.router=s,this.toastService=r,this.modalService=a,this.websocketStatusService=l,this.openDocumentsService=c,this.settingsService=h,this.hotKeyService=p,this.permissionService=f,this.DisplayField=vi,this.DisplayMode=_c,this.activeDisplayCustomFields=new Set,this.unmodifiedFilterRules=[],this.unsubscribeNotifier=new xe}get activeDisplayFields(){return this.list.displayFields}set activeDisplayFields(e){this.list.displayFields=e,this.updateDisplayCustomFields()}updateDisplayCustomFields(){this.activeDisplayCustomFields=new Set(Array.from(this.activeDisplayFields).filter(e=>"string"==typeof e&&e.startsWith(vi.CUSTOM_FIELD)))}get savedViewIsModified(){return!(!this.list.activeSavedViewId||!this.unmodifiedSavedView)&&(this.unmodifiedSavedView.sort_field!==this.list.sortField||this.unmodifiedSavedView.sort_reverse!==this.list.sortReverse||this.unmodifiedSavedView.page_size&&this.unmodifiedSavedView.page_size!==this.list.pageSize||this.unmodifiedSavedView.display_mode&&this.unmodifiedSavedView.display_mode!==this.list.displayMode||!this.unmodifiedSavedView.display_mode&&this.list.displayMode!==_c.SMALL_CARDS||this.unmodifiedSavedView.display_fields&&this.unmodifiedSavedView.display_fields.join(",")!==this.activeDisplayFields.join(",")||!this.unmodifiedSavedView.display_fields&&this.activeDisplayFields.join(",")!==Qd.filter(e=>e.id!==vi.ADDED).map(e=>e.id).join(",")||Im(this.unmodifiedSavedView.filter_rules,this.list.filterRules))}get isFiltered(){return!!this.filterEditor?.rulesModified}getTitle(){let e=this.list.activeSavedViewTitle;return e&&this.savedViewIsModified?e+="*":e||(e="Documents"),e}getSortFields(){return IB(this.list.filterRules)?this.list.sortFieldsFullText:this.list.sortFields}set listSortReverse(e){this.list.sortReverse=e}get listSortReverse(){return this.list.sortReverse}onSort(e){this.list.setSort(e.column,e.reverse)}get isBulkEditing(){return this.list.selected.size>0}toggleDisplayField(e){this.activeDisplayFields=this.activeDisplayFields.includes(e)?this.activeDisplayFields.filter(i=>i!==e):[...this.activeDisplayFields,e],this.updateDisplayCustomFields()}getDisplayCustomFieldTitle(e){return this.settingsService.allDisplayFields.find(i=>i.id===e)?.name}ngOnInit(){this.websocketStatusService.onDocumentConsumptionFinished().pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.list.reload()}),this.websocketStatusService.onDocumentDeleted().subscribe(()=>{this.list.reload()}),this.route.paramMap.pipe(li(e=>e.has("id")),Mi(e=>this.savedViewService.getCached(+e.get("id")).pipe(Tt(i=>({view:i}))))).pipe(Te(this.unsubscribeNotifier)).subscribe(({view:e})=>{e?(this.unmodifiedSavedView=e,this.list.activateSavedViewWithQueryParams(e,$d(this.route.snapshot.queryParams)),this.list.reload(),this.updateDisplayCustomFields(),this.unmodifiedFilterRules=e.filter_rules):this.router.navigate(["404"],{replaceUrl:!0})}),this.route.queryParamMap.pipe(li(()=>!this.route.snapshot.paramMap.has("id")),Te(this.unsubscribeNotifier)).subscribe(e=>{this.updateDisplayCustomFields(),e.has("view")?this.loadViewConfig(parseInt(e.get("view"))):(this.list.activateSavedView(null),this.list.loadFromQueryParams(e),this.unmodifiedFilterRules=[])}),this.hotKeyService.addShortcut({keys:"escape",description:"Reset filters / selection"}).pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.list.selected.size>0?this.list.selectNone():this.isFiltered&&this.filterEditor.resetSelected()}),this.hotKeyService.addShortcut({keys:"a",description:"Select all"}).pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.list.selectAll()}),this.hotKeyService.addShortcut({keys:"p",description:"Select page"}).pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.list.selectPage()}),this.hotKeyService.addShortcut({keys:"o",description:"Open first [selected] document"}).pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.list.documents.length>0&&this.openDocumentDetail(this.list.selected.size>0?Array.from(this.list.selected)[0]:this.list.documents[0])}),this.hotKeyService.addShortcut({keys:"control.arrowleft",description:"Previous page"}).pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.list.currentPage>1&&this.list.currentPage--}),this.hotKeyService.addShortcut({keys:"control.arrowright",description:"Next page"}).pipe(Te(this.unsubscribeNotifier)).subscribe(()=>{this.list.currentPage<this.list.getLastPage()&&this.list.currentPage++})}ngOnDestroy(){this.list.cancelPending(),this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}saveViewConfig(){null!=this.list.activeSavedViewId&&this.savedViewService.patch({id:this.list.activeSavedViewId,filter_rules:this.list.filterRules,sort_field:this.list.sortField,sort_reverse:this.list.sortReverse,display_mode:this.list.displayMode,display_fields:this.activeDisplayFields}).pipe(ut()).subscribe({next:i=>{this.unmodifiedSavedView=i,this.toastService.showInfo("View \"" + this.list.activeSavedViewTitle + "\" saved successfully."),this.unmodifiedFilterRules=this.list.filterRules},error:i=>{this.toastService.showError("Failed to save view \"" + this.list.activeSavedViewTitle + "\".",i)}})}loadViewConfig(e){this.savedViewService.getCached(e).pipe(ut()).subscribe(i=>{this.unmodifiedSavedView=i,this.list.activateSavedView(i),this.list.reload()})}saveViewConfigAs(){let e=this.modalService.open(Ngt,{backdrop:"static"});e.componentInstance.defaultName=this.filterEditor.generateFilterName(),e.componentInstance.saveClicked.pipe(ut()).subscribe(i=>{e.componentInstance.buttonsEnabled=!1;let o={name:i.name,show_on_dashboard:i.showOnDashboard,show_in_sidebar:i.showInSideBar,filter_rules:this.list.filterRules,sort_reverse:this.list.sortReverse,sort_field:this.list.sortField,display_mode:this.list.displayMode,display_fields:this.activeDisplayFields};this.savedViewService.create(o).pipe(ut()).subscribe({next:()=>{e.close(),this.toastService.showInfo("View \"" + o.name + "\" created successfully.")},error:s=>{let r=s.error;r.filter_rules&&(r.filter_rules=r.filter_rules.map(a=>a.value)),e.componentInstance.error=r,e.componentInstance.buttonsEnabled=!0}})})}openDocumentDetail(e){this.router.navigate(["documents","number"==typeof e?e:e.id])}toggleSelected(e,i){i.shiftKey?this.list.selectRangeTo(e):this.list.toggleSelected(e)}clickTag(e){this.list.selectNone(),this.filterEditor.toggleTag(e)}clickCorrespondent(e){this.list.selectNone(),this.filterEditor.toggleCorrespondent(e)}clickDocumentType(e){this.list.selectNone(),this.filterEditor.toggleDocumentType(e)}clickStoragePath(e){this.list.selectNone(),this.filterEditor.toggleStoragePath(e)}clickMoreLike(e){this.list.quickFilter([{rule_type:21,value:e.toString()}])}get notesEnabled(){return this.settingsService.get(Me.NOTES_ENABLED)}resetFilters(){this.filterEditor.resetSelected()}static{this.\u0275fac=function(i){return new(i||t)(x(Va),x(Tg),x(v1),x(Lo),x(Fi),x(Do),x(zu),x(ug),x(En),x(hg),x(ti))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-document-list"]],viewQuery:function(i,o){if(1&i&&(dn(Dgt,5),dn(s5,5)),2&i){let s;pt(s=gt())&&(o.filterEditor=s.first),pt(s=gt())&&(o.headers=s)}},features:[st],decls:65,vars:21,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt,nt,Dt,Bt,Zt,Ge,Ft,It,yi,ci,St,kn,zi,Ni,yt,Ln,Di,Fo,Ps,Zs,Cr;return e="Select",i="Select none",o="Select page",s="Select all",r="Show",a="Sort",l="Views",c="Save \"" + "\ufffd0\ufffd" + "\"",h="Save as...",p="All saved views",f="Loading...",v="{VAR_PLURAL, plural, =1 {Selected {INTERPOLATION} of one document} other {Selected {INTERPOLATION} of {INTERPOLATION_1} documents}}",v=ba(v,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),C="{VAR_PLURAL, plural, =1 {One document} other {{INTERPOLATION} documents}}",C=ba(C,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),E="(filtered)",D="Reset filters",P="Error while loading documents",I="Sort by ASN",k="Sort by correspondent",R="Sort by title",ee="Sort by owner",re="Sort by notes",fe="Sort by document type",pe="Sort by storage path",ue="Sort by created date",me="Sort by added date",Fe="Sort by number of pages",bt="ASN",nt="Correspondent",Dt="Title",Bt="Tags",Zt="Owner",Ge="Notes",Ft="Document type",It="Storage path",yi="Created",ci="Added",St="Pages",kn=" Shared ",zi="Sort by " + "\ufffd0\ufffd" + "",Ni="Filter by correspondent",yt="Edit document",Ln="Preview document",Di="Filter by tag",Fo="Filter by document type",Ps="Filter by storage path",Zs="Yes",Cr="No",[["filterEditor",""],["pagination",""],["popupPreview",""],e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,bt,nt,Dt,Bt,Zt,Ge,Ft,It,yi,ci,St,kn,Zs,Cr,["title",zi],[3,"title"],["ngbDropdown","",1,"btn-group","flex-fill"],["id","dropdownSelect","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","text-indent-left"],[1,"d-none","d-sm-inline"],["ngbDropdownMenu","","aria-labelledby","dropdownSelect",1,"shadow"],["ngbDropdownItem","",3,"click"],["id","dropdownDisplayFields","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","card-heading"],["ngbDropdownMenu","","aria-labelledby","dropdownDisplayFields",1,"shadow"],[1,"px-3"],[1,"form-check","my-1"],["role","group",1,"btn-group","flex-fill"],["type","radio","value","table","id","displayModeDetails","name","displayModeDetails",1,"btn-check",3,"ngModelChange","ngModel"],["for","displayModeDetails",1,"btn","btn-outline-primary","btn-sm"],["name","list-ul"],["type","radio","value","smallCards","id","displayModeSmall","name","displayModeSmall",1,"btn-check",3,"ngModelChange","ngModel"],["for","displayModeSmall",1,"btn","btn-outline-primary","btn-sm"],["name","grid"],["type","radio","value","largeCards","id","displayModeLarge","name","displayModeLarge",1,"btn-check",3,"ngModelChange","ngModel"],["for","displayModeLarge",1,"btn","btn-outline-primary","btn-sm"],["name","hdd-stack"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","btn-sm"],["name","arrow-down-up"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"shadow","dropdown-menu-right"],[1,"w-100","d-flex","pb-2","mb-1","border-bottom"],["type","radio","id","listSortReverseFalse",1,"btn-check",3,"ngModelChange","value","ngModel"],["for","listSortReverseFalse",1,"btn","btn-outline-primary","btn-sm","mx-2","flex-fill"],["name","sort-alpha-down"],["type","radio","id","listSortReverseTrue",1,"btn-check",3,"ngModelChange","value","ngModel"],["for","listSortReverseTrue",1,"btn","btn-outline-primary","btn-sm","me-2","flex-fill"],["name","sort-alpha-up-alt"],["ngbDropdownItem","",3,"active"],["class","btn-group flex-fill","ngbDropdown","","role","group",4,"pngxIfPermissions"],[1,"row","sticky-top","py-3","mt-n2","mt-md-n3","bg-body"],[3,"filterRulesChange","hidden","disabled","filterRules","unmodifiedFilterRules","selectionData"],[3,"hidden","disabled"],["tourAnchor","tour.documents"],[4,"ngTemplateOutlet"],["role","alert",1,"alert","alert-danger"],["type","checkbox",1,"form-check-input","mt-1",3,"change","id","checked"],[1,"form-check-label",3,"for"],["ngbDropdown","","role","group",1,"btn-group","flex-fill"],["tourAnchor","tour.documents-views","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary","dropdown-toggle","flex-fill"],["name","window-stack",1,"me-1"],[1,"position-absolute","top-0","start-100","p-2","translate-middle","badge","bg-secondary","border","border-light","rounded-circle"],["ngbDropdownMenu","",1,"dropdown-menu","shadow","dropdown-menu-right"],[4,"pngxIfPermissions"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem","","routerLink","/savedviews",4,"pngxIfPermissions"],[1,"visually-hidden"],["ngbDropdownItem",""],[1,"dropdown-divider"],["ngbDropdownItem","",3,"disabled"],["ngbDropdownItem","",3,"click","disabled"],["ngbDropdownItem","","routerLink","/savedviews"],[1,"d-flex","flex-wrap","gap-3","justify-content-between","align-items-center","mb-3"],[1,"d-flex","align-items-center"],[1,"btn","btn-link","py-0"],["aria-label","Default pagination","size","sm",3,"pageSize","collectionSize","page","maxSize","rotate"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"btn","btn-link","py-0",3,"click"],["width","1em","height","1em","name","x"],["aria-label","Default pagination","size","sm",3,"pageChange","pageSize","collectionSize","page","maxSize","rotate"],[1,"table-responsive"],[1,"row","row-cols-paperless-cards"],[1,"mt-3"],[3,"selected","document","displayFields"],[3,"toggleSelected","dblClickDocument","clickTag","clickCorrespondent","clickDocumentType","clickStoragePath","clickMoreLike","selected","document","displayFields"],[1,"table","table-sm","align-middle","border","shadow-sm"],["pngxSortable","archive_serial_number","title",I,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","correspondent__name","title",k,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","title","title",R,1,"cursor-pointer",2,"min-width","150px",3,"currentSortField","currentSortReverse"],["pngxSortable","owner","title",ee,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","num_notes","title",re,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","document_type__name","title",fe,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","storage_path__name","title",pe,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","created","title",ue,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","added","title",me,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","page_count","title",Fe,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],[1,"cursor-pointer",3,"pngxSortable","title","currentSortField","currentSortReverse"],[3,"ngClass"],["pngxSortable","archive_serial_number","title",I,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","correspondent__name","title",k,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","title","title",R,1,"cursor-pointer",2,"min-width","150px",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","owner","title",ee,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","num_notes","title",re,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","document_type__name","title",fe,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","storage_path__name","title",pe,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","created","title",ue,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","added","title",me,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","page_count","title",Fe,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],[1,"cursor-pointer",3,"sort","pngxSortable","currentSortField","currentSortReverse",6,"title"],[3,"click","dblclick","ngClass"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,""],["width","30%"],["title",Ni],["title",Ni,3,"click"],[1,"d-inline-block"],[1,"d-inline-block",3,"mouseleave"],["title",yt,2,"overflow-wrap","anywhere",3,"routerLink"],["linkClasses","btn btn-sm btn-link text-secondary","linkTitle",Ln,3,"click","document"],["name","eye"],["clickable","true","linkTitle",Di,1,"ms-1",3,"tagID"],["clickable","true","linkTitle",Di,1,"ms-1",3,"click","tagID"],[1,"btn","btn-sm","p-0",3,"routerLink"],[1,"badge","rounded-pill","bg-light","border","text-primary"],["width","1.2em","height","1.2em","name","chat-left-text",1,"ms-1","me-1"],["title",Fo],["title",Fo,3,"click"],["title",Ps],["title",Ps,3,"click"],[3,"document","fieldDisplayKey"],[1,"p-0",3,"selected","document","displayFields"],[1,"p-0",3,"toggleSelected","dblClickDocument","clickTag","clickCorrespondent","clickStoragePath","clickDocumentType","selected","document","displayFields"]]},template:function(i,o){if(1&i){const s=F();d(0,"pngx-page-header",34)(1,"div",35)(2,"button",36),w(3,"i-bs",37),d(4,"div",38),A(5,"\xa0"),ae(6),M(7,3),le(),u()(),d(8,"div",39)(9,"button",40),T("click",function(){return b(s),S(o.list.selectNone())}),M(10,4),u(),d(11,"button",40),T("click",function(){return b(s),S(o.list.selectPage())}),M(12,5),u(),d(13,"button",40),T("click",function(){return b(s),S(o.list.selectAll())}),M(14,6),u()()(),d(15,"div",35)(16,"button",41),w(17,"i-bs",42),d(18,"div",38),A(19,"\xa0"),ae(20),M(21,7),le(),u()(),d(22,"div",43)(23,"div",44),Ue(24,Igt,4,6,"div",45,jm),u()()(),d(26,"div",46)(27,"input",47),je("ngModelChange",function(a){return b(s),$e(o.list.displayMode,a)||(o.list.displayMode=a),S(a)}),u(),d(28,"label",48),w(29,"i-bs",49),u(),d(30,"input",50),je("ngModelChange",function(a){return b(s),$e(o.list.displayMode,a)||(o.list.displayMode=a),S(a)}),u(),d(31,"label",51),w(32,"i-bs",52),u(),d(33,"input",53),je("ngModelChange",function(a){return b(s),$e(o.list.displayMode,a)||(o.list.displayMode=a),S(a)}),u(),d(34,"label",54),w(35,"i-bs",55),u()(),d(36,"div",35)(37,"button",56),w(38,"i-bs",57),d(39,"div",38),A(40,"\xa0"),ae(41),M(42,8),le(),u()(),d(43,"div",58)(44,"div",59)(45,"input",60),je("ngModelChange",function(a){return b(s),$e(o.listSortReverse,a)||(o.listSortReverse=a),S(a)}),u(),d(46,"label",61),w(47,"i-bs",62),u(),d(48,"input",63),je("ngModelChange",function(a){return b(s),$e(o.listSortReverse,a)||(o.listSortReverse=a),S(a)}),u(),d(49,"label",64),w(50,"i-bs",65),u()(),d(51,"div"),Ue(52,xgt,2,3,"button",66,Ht),u()()(),y(54,Ggt,13,14,"div",67),u(),d(55,"div",68)(56,"pngx-filter-editor",69,0),je("filterRulesChange",function(a){return b(s),$e(o.list.filterRules,a)||(o.list.filterRules=a),S(a)}),u(),w(58,"pngx-bulk-editor",70),u(),y(59,qgt,7,5,"ng-template",null,1,zt),d(61,"div",71),y(62,Ygt,1,0,"ng-container",72),u(),y(63,Qgt,4,1,"div",73)(64,$ft,4,4)}if(2&i){const s=Ve(60);m("title",o.getTitle()),_(24),We(o.settingsService.allDisplayFields),_(3),Ze("ngModel",o.list.displayMode),_(3),Ze("ngModel",o.list.displayMode),_(3),Ze("ngModel",o.list.displayMode),_(12),m("value",!1),Ze("ngModel",o.listSortReverse),_(3),m("value",!0),Ze("ngModel",o.listSortReverse),_(4),We(o.getSortFields()),_(2),m("pngxIfPermissions",Pe(18,Xm,o.PermissionAction.View,o.PermissionType.SavedView)),_(2),m("hidden",o.isBulkEditing)("disabled",o.isBulkEditing),Ze("filterRules",o.list.filterRules),m("unmodifiedFilterRules",o.unmodifiedFilterRules)("selectionData",o.list.selectionData),_(2),m("hidden",!o.isBulkEditing)("disabled",!o.isBulkEditing),_(4),m("ngTemplateOutlet",s),_(),N(o.list.error?63:64)}},dependencies:[zm,or,npt,Ogt,eU,JB,fg,Iu,fr,wc,Ro,s5,Eg,wg,bg,Sg,Gt,Jt,Aa,Xt,Ti,R2,jt,Rn,qt,Uo,No,bo,Jo,yo,Vs,Rr,f0,ic,Dr,aa,Vr,hc,uc],styles:["app-document-list app-page-header>div.mb-3{margin-bottom:0!important}tr[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.table-row-selected[_ngcontent-%COMP%]{background-color:var(--pngx-primary-faded)}.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}@media (min-width: 768px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}}@media (min-width: 992px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}}@media (min-width: 1200px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}}@media (min-width: 1400px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}}@media (min-width: 1600px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:14.2857142857%}}@media (min-width: 1800px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:12.5%}}@media (min-width: 2000px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:11.1111111111%}}@media (min-width: 768px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:25%!important}}@media (min-width: 992px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:20%!important}}@media (min-width: 1200px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:16.6666666667%!important}}@media (min-width: 1400px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:14.2857142857%!important}}@media (min-width: 1600px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:12.5%!important}}@media (min-width: 1800px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:11.1111111111%!important}}@media (min-width: 2000px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:10%!important}}.dropdown-menu-right[_ngcontent-%COMP%]{right:0!important;left:auto!important}.sticky-top[_ngcontent-%COMP%]{z-index:990;top:calc(7rem - 2px)}@media (min-width: 580px){.sticky-top[_ngcontent-%COMP%]{top:3.5rem}}.table[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:.2rem;min-height:0;margin-bottom:0}.table[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-left:0}a[_ngcontent-%COMP%]{cursor:pointer}pngx-page-header[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{--bs-dropdown-min-width: 12em}"]})}}return t})(),Km=(()=>{class t extends ns{constructor(e,i,o,s,r,a,l,c,h,p,f){super(),this.service=e,this.modalService=i,this.editDialogComponent=o,this.toastService=s,this.documentListViewService=r,this.permissionsService=a,this.filterRuleType=l,this.typeName=c,this.typeNamePlural=h,this.permissionType=p,this.extraColumns=f,this.data=[],this.page=1,this.collectionSize=0,this.unsubscribeNotifier=new xe,this.selectedObjects=new Set,this.togggleAll=!1}ngOnInit(){this.reloadData(),this.nameFilterDebounce=new xe,this.nameFilterDebounce.pipe(Te(this.unsubscribeNotifier),Pr(400),h1()).subscribe(e=>{this._nameFilter=e,this.page=1,this.reloadData()})}getMatching(e){return 6==e.matching_algorithm?"Automatic":0==e.matching_algorithm?"None":e.match&&e.match.length>0?`${rb.find(i=>i.id==e.matching_algorithm).shortName}: ${e.match}`:"-"}onSort(e){this.sortField=e.column,this.sortReverse=e.reverse,this.reloadData()}reloadData(e=null){this.loading=!0,this.clearSelection(),this.service.listFiltered(this.page,null,this.sortField,this.sortReverse,this._nameFilter,!0,e).pipe(Te(this.unsubscribeNotifier),un(i=>{this.data=i.results,this.collectionSize=i.count}),I1(100)).subscribe({error:i=>{i.error?.detail?.includes("Invalid page")&&(this.page=1,this.reloadData())},next:()=>{this.show=!0,this.loading=!1}})}openCreateDialog(){var e=this.modalService.open(this.editDialogComponent,{backdrop:"static"});e.componentInstance.dialogMode=Oi.CREATE,e.componentInstance.succeeded.subscribe(()=>{this.reloadData(),this.toastService.showInfo("Successfully created " + this.typeName + ".")}),e.componentInstance.failed.subscribe(i=>{this.toastService.showError("Error occurred while creating " + this.typeName + ".",i)})}openEditDialog(e){var i=this.modalService.open(this.editDialogComponent,{backdrop:"static"});i.componentInstance.object=e,i.componentInstance.dialogMode=Oi.EDIT,i.componentInstance.succeeded.subscribe(()=>{this.reloadData(),this.toastService.showInfo("Successfully updated " + this.typeName + " \"" + e.name + "\".")}),i.componentInstance.failed.subscribe(o=>{this.toastService.showError("Error occurred while saving " + this.typeName + ".",o)})}filterDocuments(e){this.documentListViewService.quickFilter([{rule_type:this.filterRuleType,value:e.id.toString()}])}openDeleteDialog(e){var i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Confirm delete",i.componentInstance.messageBold=this.getDeleteMessage(e),i.componentInstance.message="Associated documents will not be deleted.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="Delete",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.service.delete(e).pipe(Te(this.unsubscribeNotifier)).subscribe({next:()=>{i.close(),this.reloadData()},error:o=>{i.componentInstance.buttonsEnabled=!0,this.toastService.showError("Error while deleting element",o)}})})}get nameFilter(){return this._nameFilter}set nameFilter(e){this.nameFilterDebounce.next(e)}onNameFilterKeyUp(e){"Escape"==e.code&&this.nameFilterDebounce.next(null)}userCanDelete(e){return this.permissionsService.currentUserOwnsObject(e)}userCanEdit(e){return this.permissionsService.currentUserHasObjectPermissions(this.PermissionAction.Change,e)}userCanBulkEdit(e){if(!this.permissionsService.currentUserCan(e,this.permissionType))return!1;let i=!0;return i=this.data.filter(s=>this.selectedObjects.has(s.id)).every(s=>this.permissionsService.currentUserOwnsObject(s)),i}toggleAll(e){e.target.checked?this.selectedObjects=new Set(this.data.map(i=>i.id)):this.clearSelection()}clearSelection(){this.togggleAll=!1,this.selectedObjects.clear()}toggleSelected(e){this.selectedObjects.has(e.id)?this.selectedObjects.delete(e.id):this.selectedObjects.add(e.id)}setPermissions(){let e=this.modalService.open(Ob,{backdrop:"static"});e.componentInstance.confirmClicked.subscribe(({permissions:i,merge:o})=>{e.componentInstance.buttonsEnabled=!1,this.service.bulk_edit_objects(Array.from(this.selectedObjects),Mm.SetPermissions,i,o).subscribe({next:()=>{e.close(),this.toastService.showInfo("Permissions updated successfully"),this.reloadData()},error:s=>{e.componentInstance.buttonsEnabled=!0,this.toastService.showError("Error updating permissions",s)}})})}delete(){let e=this.modalService.open(Ui,{backdrop:"static"});e.componentInstance.title="Confirm delete",e.componentInstance.messageBold="This operation will permanently delete all objects.",e.componentInstance.message="This operation cannot be undone.",e.componentInstance.btnClass="btn-danger",e.componentInstance.btnCaption="Proceed",e.componentInstance.confirmClicked.subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.service.bulk_edit_objects(Array.from(this.selectedObjects),Mm.Delete).subscribe({next:()=>{e.close(),this.toastService.showInfo("Objects deleted successfully"),this.reloadData()},error:i=>{e.componentInstance.buttonsEnabled=!0,this.toastService.showError("Error deleting objects",i)}})})}static{this.\u0275fac=function(i){$7()}}static{this.\u0275dir=et({type:t,viewQuery:function(i,o){if(1&i&&dn(s5,5),2&i){let s;pt(s=gt())&&(o.headers=s)}},features:[st]})}}return t})();const a5=(t,n)=>({action:t,type:n}),gU=t=>({"d-none d-sm-table-cell":t});function Gft(t,n){if(1&t){const e=F();d(0,"button",44),T("click",function(){return b(e),S(g().openCreateDialog())}),w(1,"i-bs",45),A(2,"\xa0"),ae(3),M(4,8),le(),u()}}function Bft(t,n){if(1&t){const e=F();d(0,"th",46),T("sort",function(o){return b(e),S(g().onSort(o))}),A(1),u()}if(2&t){const e=n.$implicit,i=g();ai("pngxSortable",e.key),m("ngClass",Wn(5,gU,e.hideOnMobile))("currentSortField",i.sortField)("currentSortReverse",i.sortReverse),_(),oe(e.name)}}function Uft(t,n){1&t&&(d(0,"tr")(1,"td",47),w(2,"div",48),ae(3),M(4,9),le(),u()())}function Wft(t,n){if(1&t&&(w(0,"div",68),ye(1,"safeHtml")),2&t){const e=g().$implicit,i=g().$implicit;m("innerHtml",Ke(1,1,e.valueFn.call(null,i)),vo)}}function Zft(t,n){if(1&t&&A(0),2&t){const e=g().$implicit,i=g().$implicit;Le(" ",e.valueFn.call(null,i)," ")}}function jft(t,n){if(1&t&&(d(0,"td",55),y(1,Wft,2,3,"div",68)(2,Zft,1,1),u()),2&t){const e=n.$implicit;m("ngClass",Wn(2,gU,e.hideOnMobile)),_(),N(e.rendersHtml?1:2)}}function Xft(t,n){if(1&t){const e=F();d(0,"button",69),T("click",function(){b(e);const o=g().$implicit;return S(g().openEditDialog(o))}),M(1,10),u()}}function Kft(t,n){if(1&t){const e=F();d(0,"button",70),T("click",function(){b(e);const o=g().$implicit;return S(g().openDeleteDialog(o))}),M(1,11),u()}}function qft(t,n){if(1&t){const e=F();d(0,"button",69),T("click",function(){b(e);const o=g(2).$implicit;return S(g().filterDocuments(o))}),M(1,12),u()}if(2&t){const e=g(2).$implicit;_(),bn(e.document_count),Sn(1)}}function Yft(t,n){if(1&t&&y(0,qft,2,1,"button",62),2&t){const e=g(2);m("pngxIfPermissions",Pe(1,a5,e.PermissionAction.View,e.PermissionType.Document))}}function Qft(t,n){if(1&t){const e=F();d(0,"button",71),T("click",function(o){b(e);const s=g().$implicit;return g().openEditDialog(s),S(o.stopPropagation())}),w(1,"i-bs",72),A(2,"\xa0"),ae(3),M(4,13),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g().userCanEdit(e))}}function Jft(t,n){if(1&t){const e=F();d(0,"button",73),T("click",function(o){b(e);const s=g().$implicit;return g().openDeleteDialog(s),S(o.stopPropagation())}),w(1,"i-bs",74),A(2,"\xa0"),ae(3),M(4,14),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g().userCanDelete(e))}}function e3t(t,n){if(1&t){const e=F();d(0,"button",76),T("click",function(o){b(e);const s=g(2).$implicit;return g().filterDocuments(s),S(o.stopPropagation())}),w(1,"i-bs",77),A(2,"\xa0"),ae(3),M(4,15),le(),d(5,"span",78),A(6),u()()}if(2&t){const e=g(2).$implicit;_(6),oe(e.document_count)}}function t3t(t,n){if(1&t&&(d(0,"div",65),y(1,e3t,7,1,"button",75),u()),2&t){const e=g(2);_(),m("pngxIfPermissions",Pe(1,a5,e.PermissionAction.View,e.PermissionType.Document))}}function n3t(t,n){if(1&t){const e=F();d(0,"tr",49),T("click",function(o){const s=b(e).$implicit;return g().toggleSelected(s),S(o.stopPropagation())}),d(1,"td")(2,"div",34)(3,"input",50),T("click",function(o){const s=b(e).$implicit;return g().toggleSelected(s),S(o.stopPropagation())}),u(),w(4,"label",51),u()(),d(5,"td",52)(6,"button",53),T("click",function(o){const s=b(e).$implicit,r=g();return r.userCanEdit(s)&&r.openEditDialog(s),S(o.stopPropagation())}),A(7),u()(),d(8,"td",54),A(9),u(),d(10,"td",52),A(11),u(),Ue(12,jft,3,4,"td",55,Ht),d(14,"td",52)(15,"div",56)(16,"div",57)(17,"div",58)(18,"button",59),T("click",function(o){return b(e),S(o.stopPropagation())}),w(19,"i-bs",60),u(),d(20,"div",61),y(21,Xft,2,0,"button",62)(22,Kft,2,0,"button",63)(23,Yft,1,4,"button",64),u()()(),d(24,"div",65),y(25,Qft,5,1,"button",66)(26,Jft,5,1,"button",67),u(),y(27,t3t,2,4,"div",65),u()()()}if(2&t){const e=n.$implicit,i=g();Ce("show",i.show),_(3),a1("id","",i.typeName,"",e.id,""),m("checked",i.selectedObjects.has(e.id)),_(),a1("for","",i.typeName,"",e.id,""),_(3),oe(e.name),_(2),oe(i.getMatching(e)),_(2),oe(e.document_count),_(),We(i.extraColumns),_(9),m("pngxIfPermissions",Pe(18,a5,i.PermissionAction.Change,i.permissionType)),_(),m("pngxIfPermissions",Pe(21,a5,i.PermissionAction.Delete,i.permissionType)),_(),N(e.document_count>0?23:-1),_(2),m("pngxIfPermissions",Pe(24,a5,i.PermissionAction.Change,i.permissionType)),_(),m("pngxIfPermissions",Pe(27,a5,i.PermissionAction.Delete,i.permissionType)),_(),N(e.document_count>0?27:-1)}}function i3t(t,n){1&t&&A(0),2&t&&Le(" \xa0(",g(3).selectedObjects.size," selected) ")}function o3t(t,n){if(1&t&&(d(0,"div"),ae(1),M(2,16),le(),y(3,i3t,1,1),u()),2&t){const e=g(2);_(2),bn(e.collectionSize)(e.typeName)(e.collectionSize||0)(e.typeNamePlural),Sn(2),_(),N(e.selectedObjects.size>0?3:-1)}}function s3t(t,n){if(1&t){const e=F();d(0,"ngb-pagination",80),je("pageChange",function(o){b(e);const s=g(2);return $e(s.page,o)||(s.page=o),S(o)}),T("pageChange",function(){return b(e),S(g(2).reloadData())}),u()}if(2&t){const e=g(2);m("pageSize",25)("collectionSize",e.collectionSize),Ze("page",e.page),m("maxSize",5)}}function r3t(t,n){if(1&t&&(d(0,"div",43),y(1,o3t,4,5,"div")(2,s3t,1,4,"ngb-pagination",79),u()),2&t){const e=g();_(),N(e.collectionSize>0?1:-1),_(),N(e.collectionSize>20?2:-1)}}let a3t=(()=>{class t extends Km{constructor(e,i,o,s,r,a){super(e,i,Am,o,s,r,26,"correspondent","correspondents",Ct.Correspondent,[{key:"last_correspondence",name:"Last used",valueFn:l=>{if(l.last_correspondence){let c=new Date(l.last_correspondence);return"Invalid Date"==c.toString()&&(c=new Date(l.last_correspondence?.toString().replace(/([-+])(\d\d):\d\d:\d\d/gm,"$1$2:00"))),this.datePipe.transform(c)}return""}}]),this.datePipe=a}reloadData(){super.reloadData({last_correspondence:!0})}getDeleteMessage(e){return "Do you really want to delete the correspondent \"" + e.name + "\"?"}static{this.\u0275fac=function(i){return new(i||t)(x(ul),x(Do),x(Fi),x(Va),x(ti),x(fr))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-correspondent-list"]],features:[tn([{provide:fr}]),st],decls:48,vars:25,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k;return e="Name",i="Clear selection",o="Permissions",s="Delete",r="Filter by:",a="Name",l="Matching",c="Document count",h="Actions",p="Create",f="Loading...",v="Edit",C="Delete",E="Filter Documents (" + "\ufffd0\ufffd" + ")",D="Edit",P="Delete",I="Documents",k="{VAR_PLURAL, plural, =1 {One {INTERPOLATION}} other {{INTERPOLATION_1} total {INTERPOLATION_2}}}",k=ba(k,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,[3,"title"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",e,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"ngClass","pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[1,"data-row","fade",3,"show"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","ngClass","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"data-row","fade",3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],["scope","row",3,"ngClass"],[1,"btn-toolbar","gap-2"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"btn-group","d-none","d-sm-inline-block"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"badge","bg-light","text-secondary","ms-2"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"]]},template:function(i,o){1&i&&(d(0,"pngx-page-header",17),ye(1,"titlecase"),d(2,"button",18),T("click",function(){return o.clearSelection()}),w(3,"i-bs",19),A(4,"\xa0"),ae(5),M(6,0),le(),u(),d(7,"button",20),T("click",function(){return o.setPermissions()}),w(8,"i-bs",21),A(9,"\xa0"),ae(10),M(11,1),le(),u(),d(12,"button",22),T("click",function(){return o.delete()}),w(13,"i-bs",23),A(14,"\xa0"),ae(15),M(16,2),le(),u(),y(17,Gft,5,0,"button",24),u(),d(18,"div",25)(19,"div",26)(20,"div",27)(21,"label",28),M(22,3),u(),d(23,"input",29),je("ngModelChange",function(r){return $e(o.nameFilter,r)||(o.nameFilter=r),r}),T("keyup",function(r){return o.onNameFilterKeyUp(r)}),u()()(),d(24,"ngb-pagination",30),je("pageChange",function(r){return $e(o.page,r)||(o.page=r),r}),T("pageChange",function(){return o.reloadData()}),u()(),d(25,"div",31)(26,"table",32)(27,"thead")(28,"tr")(29,"th",33)(30,"div",34)(31,"input",35),je("ngModelChange",function(r){return $e(o.togggleAll,r)||(o.togggleAll=r),r}),T("click",function(r){return o.toggleAll(r),r.stopPropagation()}),u(),w(32,"label",36),u()(),d(33,"th",37),T("sort",function(r){return o.onSort(r)}),M(34,4),u(),d(35,"th",38),T("sort",function(r){return o.onSort(r)}),M(36,5),u(),d(37,"th",39),T("sort",function(r){return o.onSort(r)}),M(38,6),u(),Ue(39,Bft,2,7,"th",40,Ht),d(41,"th",41),M(42,7),u()()(),d(43,"tbody"),y(44,Uft,5,0,"tr"),Ue(45,n3t,28,30,"tr",42,Ht),u()()(),y(47,r3t,3,2,"div",43)),2&i&&(ai("title",Ke(1,20,o.typeNamePlural)),_(2),m("hidden",0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),_(5),m("pngxIfPermissions",Pe(22,a5,o.PermissionAction.Add,o.permissionType)),_(6),Ze("ngModel",o.nameFilter),_(),m("pageSize",25)("collectionSize",o.collectionSize),Ze("page",o.page),m("maxSize",5),_(7),Ze("ngModel",o.togggleAll),m("disabled",0===o.data.length),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),We(o.extraColumns),_(5),N(o.loading?44:-1),_(),We(o.data),_(2),N(o.loading?-1:47))},dependencies:[s5,Ro,or,M2,Xt,Ti,Zo,jt,Rn,qt,Dr,No,bo,Jo,yo,Vs,Rr,f0,ic,Gt,Jt],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}"]})}}return t})();const Gu=(t,n)=>({action:t,type:n});function l3t(t,n){if(1&t){const e=F();d(0,"button",18),T("click",function(){return b(e),S(g().editField())}),w(1,"i-bs",19),A(2,"\xa0"),ae(3),M(4,3),le(),u()}}function c3t(t,n){1&t&&(d(0,"li",15),w(1,"div",20),ae(2),M(3,4),le(),u())}function d3t(t,n){if(1&t){const e=F();d(0,"button",36),T("click",function(){b(e);const o=g().$implicit;return S(g().editField(o))}),M(1,5),u()}}function u3t(t,n){if(1&t){const e=F();d(0,"button",37),T("click",function(){b(e);const o=g().$implicit;return S(g().deleteField(o))}),M(1,6),u()}}function h3t(t,n){if(1&t){const e=F();d(0,"button",36),T("click",function(){b(e);const o=g(2).$implicit;return S(g().filterDocuments(o))}),M(1,7),u()}if(2&t){const e=g(2).$implicit;_(),bn(e.document_count),Sn(1)}}function _3t(t,n){if(1&t&&y(0,h3t,2,1,"button",29),2&t){const e=g(2);m("pngxIfPermissions",Pe(1,Gu,e.PermissionAction.View,e.PermissionType.Document))}}function p3t(t,n){if(1&t){const e=F();d(0,"button",38),T("click",function(){b(e);const o=g().$implicit;return S(g().editField(o))}),w(1,"i-bs",39),A(2,"\xa0"),ae(3),M(4,8),le(),u()}}function g3t(t,n){if(1&t){const e=F();d(0,"button",40),T("click",function(){b(e);const o=g().$implicit;return S(g().deleteField(o))}),w(1,"i-bs",41),A(2,"\xa0"),ae(3),M(4,9),le(),u()}}function f3t(t,n){if(1&t){const e=F();d(0,"div",35)(1,"button",38),T("click",function(){b(e);const o=g().$implicit;return S(g().filterDocuments(o))}),w(2,"i-bs",42),A(3,"\xa0"),ae(4),M(5,10),le(),d(6,"span",43),A(7),u()()()}if(2&t){const e=g().$implicit;_(7),oe(e.document_count)}}function m3t(t,n){if(1&t){const e=F();d(0,"li",15)(1,"div",21)(2,"div",22)(3,"button",23),T("click",function(){const o=b(e).$implicit;return S(g().editField(o))}),A(4),u()(),d(5,"div",22),A(6),u(),d(7,"div",17)(8,"div",24)(9,"div",25)(10,"button",26),T("click",function(o){return b(e),S(o.stopPropagation())}),w(11,"i-bs",27),u(),d(12,"div",28),y(13,d3t,2,0,"button",29)(14,u3t,2,0,"button",30)(15,_3t,1,4,"button",31),u()()(),d(16,"div",32),y(17,p3t,5,0,"button",33)(18,g3t,5,0,"button",34),u(),y(19,f3t,8,1,"div",35),u()()()}if(2&t){const e=n.$implicit,i=g();_(),Ce("show",i.show),_(2),m("disabled",!i.permissionsService.currentUserCan(i.PermissionAction.Change,i.PermissionType.CustomField)),_(),oe(e.name),_(2),oe(i.getDataType(e)),_(7),m("pngxIfPermissions",Pe(11,Gu,i.PermissionAction.Change,i.PermissionType.CustomField)),_(),m("pngxIfPermissions",Pe(14,Gu,i.PermissionAction.Delete,i.PermissionType.CustomField)),_(),N(e.document_count>0?15:-1),_(2),m("pngxIfPermissions",Pe(17,Gu,i.PermissionAction.Change,i.PermissionType.CustomField)),_(),m("pngxIfPermissions",Pe(20,Gu,i.PermissionAction.Delete,i.PermissionType.CustomField)),_(),N(e.document_count>0?19:-1)}}function v3t(t,n){1&t&&(d(0,"li",15),M(1,11),u())}let C3t=(()=>{class t extends ns{constructor(e,i,o,s,r,a,l,c){super(),this.customFieldsService=e,this.permissionsService=i,this.modalService=o,this.toastService=s,this.documentListViewService=r,this.settingsService=a,this.documentService=l,this.savedViewService=c,this.fields=[]}ngOnInit(){this.reload()}reload(){this.customFieldsService.listAll().pipe(Te(this.unsubscribeNotifier),un(e=>{this.fields=e.results}),I1(100)).subscribe(()=>{this.show=!0,this.loading=!1})}editField(e){const i=this.modalService.open(Em);i.componentInstance.dialogMode=e?Oi.EDIT:Oi.CREATE,i.componentInstance.object=e,i.componentInstance.succeeded.pipe(Te(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("Saved field \"" + o.name + "\"."),this.customFieldsService.clearCache(),this.settingsService.initializeDisplayFields(),this.documentService.reload(),this.reload()}),i.componentInstance.failed.pipe(Te(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Error saving field.",o)})}deleteField(e){const i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Confirm delete field",i.componentInstance.messageBold="This operation will permanently delete this field.",i.componentInstance.message="This operation cannot be undone.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="Proceed",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.customFieldsService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted field \"" + e.name + "\""),this.customFieldsService.clearCache(),this.settingsService.initializeDisplayFields(),this.documentService.reload(),this.savedViewService.reload(),this.reload()},error:o=>{this.toastService.showError("Error deleting field \"" + e.name + "\".",o)}})})}getDataType(e){return xw.find(i=>i.id===e.data_type).name}filterDocuments(e){this.documentListViewService.quickFilter([{rule_type:42,value:JSON.stringify([pc.Or,[[e.id,Fn.Exists,!0]]])}])}static{this.\u0275fac=function(i){return new(i||t)(x(C1),x(ti),x(Do),x(Fi),x(Va),x(En),x(So),x(Tg))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-custom-fields"]],features:[st],decls:15,vars:6,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E;return e="Custom Fields",i="Customize the data fields that can be attached to documents.",o="Name",s="Data Type",r="Actions",a="Add Field",l="Loading...",c="Edit",h="Delete",p="Filter Documents (" + "\ufffd0\ufffd" + ")",f="Edit",v="Delete",C="Documents",E="No fields defined.",[o,s,r,a,l,c,h,p,f,v,C,E,["title",e,"info",i,"infoLink","usage/#custom-fields"],["type","button","class","btn btn-sm btn-outline-primary",3,"click",4,"pngxIfPermissions"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","plus-circle"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"row","fade"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"btn-group","d-none","d-sm-inline-block"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger","type","button",3,"click",4,"pngxIfPermissions"],[1,"btn-group","d-none","d-sm-inline-block","ms-2"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1em","height","1em","name","trash"],["width","1em","height","1em","name","filter"],[1,"badge","bg-light","text-secondary","ms-2"]]},template:function(i,o){1&i&&(d(0,"pngx-page-header",12),y(1,l3t,5,0,"button",13),u(),d(2,"ul",14)(3,"li",15)(4,"div",16)(5,"div",17),M(6,0),u(),d(7,"div",17),M(8,1),u(),d(9,"div",17),M(10,2),u()()(),y(11,c3t,4,0,"li",15),Ue(12,m3t,20,23,"li",15,Ht),y(14,v3t,2,0,"li",15),u()),2&i&&(_(),m("pngxIfPermissions",Pe(3,Gu,o.PermissionAction.Add,o.PermissionType.CustomField)),_(10),N(o.loading?11:-1),_(),We(o.fields),_(2),N(o.loading||0!==o.fields.length?-1:14))},dependencies:[or,Ro,No,bo,Jo,yo,Vs,Rr,f0,Gt,Jt],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}}return t})();const l5=(t,n)=>({action:t,type:n}),fU=t=>({"d-none d-sm-table-cell":t});function M3t(t,n){if(1&t){const e=F();d(0,"button",44),T("click",function(){return b(e),S(g().openCreateDialog())}),w(1,"i-bs",45),A(2,"\xa0"),ae(3),M(4,8),le(),u()}}function T3t(t,n){if(1&t){const e=F();d(0,"th",46),T("sort",function(o){return b(e),S(g().onSort(o))}),A(1),u()}if(2&t){const e=n.$implicit,i=g();ai("pngxSortable",e.key),m("ngClass",Wn(5,fU,e.hideOnMobile))("currentSortField",i.sortField)("currentSortReverse",i.sortReverse),_(),oe(e.name)}}function w3t(t,n){1&t&&(d(0,"tr")(1,"td",47),w(2,"div",48),ae(3),M(4,9),le(),u()())}function b3t(t,n){if(1&t&&(w(0,"div",68),ye(1,"safeHtml")),2&t){const e=g().$implicit,i=g().$implicit;m("innerHtml",Ke(1,1,e.valueFn.call(null,i)),vo)}}function S3t(t,n){if(1&t&&A(0),2&t){const e=g().$implicit,i=g().$implicit;Le(" ",e.valueFn.call(null,i)," ")}}function E3t(t,n){if(1&t&&(d(0,"td",55),y(1,b3t,2,3,"div",68)(2,S3t,1,1),u()),2&t){const e=n.$implicit;m("ngClass",Wn(2,fU,e.hideOnMobile)),_(),N(e.rendersHtml?1:2)}}function A3t(t,n){if(1&t){const e=F();d(0,"button",69),T("click",function(){b(e);const o=g().$implicit;return S(g().openEditDialog(o))}),M(1,10),u()}}function O3t(t,n){if(1&t){const e=F();d(0,"button",70),T("click",function(){b(e);const o=g().$implicit;return S(g().openDeleteDialog(o))}),M(1,11),u()}}function y3t(t,n){if(1&t){const e=F();d(0,"button",69),T("click",function(){b(e);const o=g(2).$implicit;return S(g().filterDocuments(o))}),M(1,12),u()}if(2&t){const e=g(2).$implicit;_(),bn(e.document_count),Sn(1)}}function N3t(t,n){if(1&t&&y(0,y3t,2,1,"button",62),2&t){const e=g(2);m("pngxIfPermissions",Pe(1,l5,e.PermissionAction.View,e.PermissionType.Document))}}function D3t(t,n){if(1&t){const e=F();d(0,"button",71),T("click",function(o){b(e);const s=g().$implicit;return g().openEditDialog(s),S(o.stopPropagation())}),w(1,"i-bs",72),A(2,"\xa0"),ae(3),M(4,13),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g().userCanEdit(e))}}function P3t(t,n){if(1&t){const e=F();d(0,"button",73),T("click",function(o){b(e);const s=g().$implicit;return g().openDeleteDialog(s),S(o.stopPropagation())}),w(1,"i-bs",74),A(2,"\xa0"),ae(3),M(4,14),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g().userCanDelete(e))}}function I3t(t,n){if(1&t){const e=F();d(0,"button",76),T("click",function(o){b(e);const s=g(2).$implicit;return g().filterDocuments(s),S(o.stopPropagation())}),w(1,"i-bs",77),A(2,"\xa0"),ae(3),M(4,15),le(),d(5,"span",78),A(6),u()()}if(2&t){const e=g(2).$implicit;_(6),oe(e.document_count)}}function x3t(t,n){if(1&t&&(d(0,"div",65),y(1,I3t,7,1,"button",75),u()),2&t){const e=g(2);_(),m("pngxIfPermissions",Pe(1,l5,e.PermissionAction.View,e.PermissionType.Document))}}function L3t(t,n){if(1&t){const e=F();d(0,"tr",49),T("click",function(o){const s=b(e).$implicit;return g().toggleSelected(s),S(o.stopPropagation())}),d(1,"td")(2,"div",34)(3,"input",50),T("click",function(o){const s=b(e).$implicit;return g().toggleSelected(s),S(o.stopPropagation())}),u(),w(4,"label",51),u()(),d(5,"td",52)(6,"button",53),T("click",function(o){const s=b(e).$implicit,r=g();return r.userCanEdit(s)&&r.openEditDialog(s),S(o.stopPropagation())}),A(7),u()(),d(8,"td",54),A(9),u(),d(10,"td",52),A(11),u(),Ue(12,E3t,3,4,"td",55,Ht),d(14,"td",52)(15,"div",56)(16,"div",57)(17,"div",58)(18,"button",59),T("click",function(o){return b(e),S(o.stopPropagation())}),w(19,"i-bs",60),u(),d(20,"div",61),y(21,A3t,2,0,"button",62)(22,O3t,2,0,"button",63)(23,N3t,1,4,"button",64),u()()(),d(24,"div",65),y(25,D3t,5,1,"button",66)(26,P3t,5,1,"button",67),u(),y(27,x3t,2,4,"div",65),u()()()}if(2&t){const e=n.$implicit,i=g();Ce("show",i.show),_(3),a1("id","",i.typeName,"",e.id,""),m("checked",i.selectedObjects.has(e.id)),_(),a1("for","",i.typeName,"",e.id,""),_(3),oe(e.name),_(2),oe(i.getMatching(e)),_(2),oe(e.document_count),_(),We(i.extraColumns),_(9),m("pngxIfPermissions",Pe(18,l5,i.PermissionAction.Change,i.permissionType)),_(),m("pngxIfPermissions",Pe(21,l5,i.PermissionAction.Delete,i.permissionType)),_(),N(e.document_count>0?23:-1),_(2),m("pngxIfPermissions",Pe(24,l5,i.PermissionAction.Change,i.permissionType)),_(),m("pngxIfPermissions",Pe(27,l5,i.PermissionAction.Delete,i.permissionType)),_(),N(e.document_count>0?27:-1)}}function R3t(t,n){1&t&&A(0),2&t&&Le(" \xa0(",g(3).selectedObjects.size," selected) ")}function F3t(t,n){if(1&t&&(d(0,"div"),ae(1),M(2,16),le(),y(3,R3t,1,1),u()),2&t){const e=g(2);_(2),bn(e.collectionSize)(e.typeName)(e.collectionSize||0)(e.typeNamePlural),Sn(2),_(),N(e.selectedObjects.size>0?3:-1)}}function k3t(t,n){if(1&t){const e=F();d(0,"ngb-pagination",80),je("pageChange",function(o){b(e);const s=g(2);return $e(s.page,o)||(s.page=o),S(o)}),T("pageChange",function(){return b(e),S(g(2).reloadData())}),u()}if(2&t){const e=g(2);m("pageSize",25)("collectionSize",e.collectionSize),Ze("page",e.page),m("maxSize",5)}}function z3t(t,n){if(1&t&&(d(0,"div",43),y(1,F3t,4,5,"div")(2,k3t,1,4,"ngb-pagination",79),u()),2&t){const e=g();_(),N(e.collectionSize>0?1:-1),_(),N(e.collectionSize>20?2:-1)}}let V3t=(()=>{class t extends Km{constructor(e,i,o,s,r){super(e,i,Om,o,s,r,28,"document type","document types",Ct.DocumentType,[])}getDeleteMessage(e){return "Do you really want to delete the document type \"" + e.name + "\"?"}static{this.\u0275fac=function(i){return new(i||t)(x(hl),x(Do),x(Fi),x(Va),x(ti))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-document-type-list"]],features:[st],decls:48,vars:25,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k;return e="Name",i="Clear selection",o="Permissions",s="Delete",r="Filter by:",a="Name",l="Matching",c="Document count",h="Actions",p="Create",f="Loading...",v="Edit",C="Delete",E="Filter Documents (" + "\ufffd0\ufffd" + ")",D="Edit",P="Delete",I="Documents",k="{VAR_PLURAL, plural, =1 {One {INTERPOLATION}} other {{INTERPOLATION_1} total {INTERPOLATION_2}}}",k=ba(k,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,[3,"title"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",e,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"ngClass","pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[1,"data-row","fade",3,"show"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","ngClass","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"data-row","fade",3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],["scope","row",3,"ngClass"],[1,"btn-toolbar","gap-2"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"btn-group","d-none","d-sm-inline-block"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"badge","bg-light","text-secondary","ms-2"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"]]},template:function(i,o){1&i&&(d(0,"pngx-page-header",17),ye(1,"titlecase"),d(2,"button",18),T("click",function(){return o.clearSelection()}),w(3,"i-bs",19),A(4,"\xa0"),ae(5),M(6,0),le(),u(),d(7,"button",20),T("click",function(){return o.setPermissions()}),w(8,"i-bs",21),A(9,"\xa0"),ae(10),M(11,1),le(),u(),d(12,"button",22),T("click",function(){return o.delete()}),w(13,"i-bs",23),A(14,"\xa0"),ae(15),M(16,2),le(),u(),y(17,M3t,5,0,"button",24),u(),d(18,"div",25)(19,"div",26)(20,"div",27)(21,"label",28),M(22,3),u(),d(23,"input",29),je("ngModelChange",function(r){return $e(o.nameFilter,r)||(o.nameFilter=r),r}),T("keyup",function(r){return o.onNameFilterKeyUp(r)}),u()()(),d(24,"ngb-pagination",30),je("pageChange",function(r){return $e(o.page,r)||(o.page=r),r}),T("pageChange",function(){return o.reloadData()}),u()(),d(25,"div",31)(26,"table",32)(27,"thead")(28,"tr")(29,"th",33)(30,"div",34)(31,"input",35),je("ngModelChange",function(r){return $e(o.togggleAll,r)||(o.togggleAll=r),r}),T("click",function(r){return o.toggleAll(r),r.stopPropagation()}),u(),w(32,"label",36),u()(),d(33,"th",37),T("sort",function(r){return o.onSort(r)}),M(34,4),u(),d(35,"th",38),T("sort",function(r){return o.onSort(r)}),M(36,5),u(),d(37,"th",39),T("sort",function(r){return o.onSort(r)}),M(38,6),u(),Ue(39,T3t,2,7,"th",40,Ht),d(41,"th",41),M(42,7),u()()(),d(43,"tbody"),y(44,w3t,5,0,"tr"),Ue(45,L3t,28,30,"tr",42,Ht),u()()(),y(47,z3t,3,2,"div",43)),2&i&&(ai("title",Ke(1,20,o.typeNamePlural)),_(2),m("hidden",0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),_(5),m("pngxIfPermissions",Pe(22,l5,o.PermissionAction.Add,o.permissionType)),_(6),Ze("ngModel",o.nameFilter),_(),m("pageSize",25)("collectionSize",o.collectionSize),Ze("page",o.page),m("maxSize",5),_(7),Ze("ngModel",o.togggleAll),m("disabled",0===o.data.length),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),We(o.extraColumns),_(5),N(o.loading?44:-1),_(),We(o.data),_(2),N(o.loading?-1:47))},dependencies:[s5,or,M2,Ro,Xt,Ti,Zo,jt,Rn,qt,Dr,No,bo,Jo,yo,Vs,Rr,f0,ic,Gt,Jt],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}"]})}}return t})();const Ds=(t,n)=>({action:t,type:n});function H3t(t,n){if(1&t){const e=F();d(0,"button",48),T("click",function(){return b(e),S(g(2).editMailAccount())}),w(1,"i-bs",49),A(2,"\xa0"),ae(3),M(4,6),le(),u()}}function $3t(t,n){1&t&&(d(0,"a",42),w(1,"i-bs",51),A(2,"\xa0"),ae(3),M(4,7),le(),u()),2&t&&m("href",g(3).gmailOAuthUrl,cs)}function G3t(t,n){if(1&t&&y(0,$3t,5,1,"a",50),2&t){const e=g(2);m("pngxIfPermissions",Pe(1,Ds,e.PermissionAction.Add,e.PermissionType.MailAccount))}}function B3t(t,n){1&t&&(d(0,"a",42),w(1,"i-bs",52),A(2,"\xa0"),ae(3),M(4,8),le(),u()),2&t&&m("href",g(3).outlookOAuthUrl,cs)}function U3t(t,n){if(1&t&&y(0,B3t,5,1,"a",50),2&t){const e=g(2);m("pngxIfPermissions",Pe(1,Ds,e.PermissionAction.Add,e.PermissionType.MailAccount))}}function W3t(t,n){1&t&&(d(0,"li",44),w(1,"div",53),ae(2),M(3,9),le(),u())}function Z3t(t,n){1&t&&w(0,"i-bs",57)}function j3t(t,n){1&t&&w(0,"i-bs",58)}function X3t(t,n){1&t&&w(0,"i-bs",59)}function K3t(t,n){if(1&t){const e=F();d(0,"button",73),T("click",function(){b(e);const o=g().$implicit;return S(g(2).editMailAccount(o))}),M(1,10),u()}if(2&t){const e=g().$implicit;m("disabled",!g(2).userCanEdit(e))}}function q3t(t,n){if(1&t){const e=F();d(0,"button",74),T("click",function(){b(e);const o=g().$implicit;return S(g(2).editPermissions(o))}),M(1,11),u()}}function Y3t(t,n){if(1&t){const e=F();d(0,"button",73),T("click",function(){b(e);const o=g().$implicit;return S(g(2).deleteMailAccount(o))}),M(1,12),u()}if(2&t){const e=g().$implicit;m("disabled",!g(2).userIsOwner(e))}}function Q3t(t,n){if(1&t){const e=F();d(0,"button",73),T("click",function(){b(e);const o=g().$implicit;return S(g(2).processAccount(o))}),M(1,13),u()}if(2&t){const e=g().$implicit;m("disabled",!g(2).userIsOwner(e))}}function J3t(t,n){if(1&t){const e=F();d(0,"button",75),T("click",function(){b(e);const o=g().$implicit;return S(g(2).editMailAccount(o))}),w(1,"i-bs",76),A(2,"\xa0"),ae(3),M(4,14),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g(2).userCanEdit(e))}}function e6t(t,n){if(1&t){const e=F();d(0,"button",77),T("click",function(){b(e);const o=g().$implicit;return S(g(2).editPermissions(o))}),w(1,"i-bs",78),A(2,"\xa0"),ae(3),M(4,15),le(),u()}}function t6t(t,n){if(1&t){const e=F();d(0,"button",79),T("click",function(){b(e);const o=g().$implicit;return S(g(2).deleteMailAccount(o))}),w(1,"i-bs",80),A(2,"\xa0"),ae(3),M(4,16),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g(2).userIsOwner(e))}}function n6t(t,n){if(1&t){const e=F();d(0,"button",75),T("click",function(){b(e);const o=g().$implicit;return S(g(2).processAccount(o))}),w(1,"i-bs",81),A(2,"\xa0"),ae(3),M(4,17),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g(2).userIsOwner(e))}}function i6t(t,n){if(1&t){const e=F();d(0,"li",44)(1,"div",54)(2,"div",55)(3,"button",56),T("click",function(){const o=b(e).$implicit;return S(g(2).editMailAccount(o))}),A(4),y(5,Z3t,1,0,"i-bs",57)(6,j3t,1,0,"i-bs",58)(7,X3t,1,0,"i-bs",59),u()(),d(8,"div",55),A(9),u(),d(10,"div",60),A(11),u(),d(12,"div",46)(13,"div",61)(14,"div",62)(15,"button",63),T("click",function(o){return b(e),S(o.stopPropagation())}),w(16,"i-bs",64),u(),d(17,"div",65),y(18,K3t,2,1,"button",66)(19,q3t,2,0,"button",67)(20,Y3t,2,1,"button",66)(21,Q3t,2,1,"button",66),u()()(),d(22,"div",68)(23,"div",69),y(24,J3t,5,1,"button",70)(25,e6t,5,0,"button",71)(26,t6t,5,1,"button",72),u(),d(27,"div",69),y(28,n6t,5,1,"button",70),u()()()()()}if(2&t){let e;const i=n.$implicit,o=g(2);_(),Ce("show",o.showAccounts),_(2),m("disabled",!o.permissionsService.currentUserCan(o.PermissionAction.Change,o.PermissionType.MailAccount)||!o.userCanEdit(i)),_(),Le(" ",i.name,""),_(),N((e=i.account_type)===o.MailAccountType.IMAP?5:e===o.MailAccountType.Gmail_OAuth?6:e===o.MailAccountType.Outlook_OAuth?7:-1),_(4),oe(i.imap_server),_(2),oe(i.username),_(7),m("pngxIfPermissions",Pe(15,Ds,o.PermissionAction.Change,o.PermissionType.MailAccount)),_(),m("pngxIfOwner",i),_(),m("pngxIfPermissions",Pe(18,Ds,o.PermissionAction.Delete,o.PermissionType.MailAccount)),_(),m("pngxIfPermissions",Pe(21,Ds,o.PermissionAction.Change,o.PermissionType.MailAccount)),_(3),m("pngxIfPermissions",Pe(24,Ds,o.PermissionAction.Change,o.PermissionType.MailAccount)),_(),m("pngxIfOwner",i),_(),m("pngxIfPermissions",Pe(27,Ds,o.PermissionAction.Delete,o.PermissionType.MailAccount)),_(2),m("pngxIfPermissions",Pe(30,Ds,o.PermissionAction.Change,o.PermissionType.MailAccount))}}function o6t(t,n){1&t&&(d(0,"li",44),M(1,18),u())}function s6t(t,n){if(1&t&&(ae(0),d(1,"h4"),ae(2),M(3,1),le(),y(4,H3t,5,0,"button",41)(5,G3t,1,4,"a",42)(6,U3t,1,4,"a",42),u(),d(7,"ul",43)(8,"li",44)(9,"div",45)(10,"div",46),M(11,2),u(),d(12,"div",46),M(13,3),u(),d(14,"div",47),M(15,4),u(),d(16,"div",46),M(17,5),u()()(),y(18,W3t,4,0,"li",44),Ue(19,i6t,29,33,"li",44,Ht),y(21,o6t,2,0,"li",44),u(),le()),2&t){const e=g();_(4),m("pngxIfPermissions",Pe(5,Ds,e.PermissionAction.Add,e.PermissionType.MailAccount)),_(),N(e.gmailOAuthUrl?5:-1),_(),N(e.outlookOAuthUrl?6:-1),_(12),N(e.loadingAccounts?18:-1),_(),We(e.mailAccounts),_(2),N(e.loadingAccounts||0!==e.mailAccounts.length?-1:21)}}function r6t(t,n){if(1&t){const e=F();d(0,"button",48),T("click",function(){return b(e),S(g(2).editMailRule())}),w(1,"i-bs",49),A(2,"\xa0"),ae(3),M(4,25),le(),u()}}function a6t(t,n){1&t&&(d(0,"li",44),w(1,"div",53),ae(2),M(3,26),le(),u())}function l6t(t,n){if(1&t){const e=F();d(0,"input",90,0),je("ngModelChange",function(o){b(e);const s=g().$implicit;return $e(s.enabled,o)||(s.enabled=o),S(o)}),T("change",function(){b(e);const o=g().$implicit;return S(g(2).onMailRuleEnableToggled(o))}),u()}if(2&t){const e=g().$implicit;m("id",e.id+"_enable"),Ze("ngModel",e.enabled)}}function c6t(t,n){1&t&&(ae(0),M(1,27),le())}function d6t(t,n){1&t&&(d(0,"span",87),M(1,28),u())}function u6t(t,n){if(1&t){const e=F();d(0,"button",73),T("click",function(){b(e);const o=g().$implicit;return S(g(2).editMailRule(o))}),M(1,29),u()}if(2&t){const e=g().$implicit;m("disabled",!g(2).userCanEdit(e))}}function h6t(t,n){if(1&t){const e=F();d(0,"button",74),T("click",function(){b(e);const o=g().$implicit;return S(g(2).editPermissions(o))}),M(1,30),u()}}function _6t(t,n){if(1&t){const e=F();d(0,"button",73),T("click",function(){b(e);const o=g().$implicit;return S(g(2).deleteMailRule(o))}),M(1,31),u()}if(2&t){const e=g().$implicit;m("disabled",!g(2).userIsOwner(e))}}function p6t(t,n){if(1&t){const e=F();d(0,"button",74),T("click",function(){b(e);const o=g().$implicit;return S(g(2).copyMailRule(o))}),M(1,32),u()}}function g6t(t,n){if(1&t){const e=F();d(0,"button",75),T("click",function(){b(e);const o=g().$implicit;return S(g(2).editMailRule(o))}),w(1,"i-bs",76),A(2,"\xa0"),ae(3),M(4,33),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g(2).userCanEdit(e))}}function f6t(t,n){if(1&t){const e=F();d(0,"button",77),T("click",function(){b(e);const o=g().$implicit;return S(g(2).editPermissions(o))}),w(1,"i-bs",78),A(2,"\xa0"),ae(3),M(4,34),le(),u()}}function m6t(t,n){if(1&t){const e=F();d(0,"button",79),T("click",function(){b(e);const o=g().$implicit;return S(g(2).deleteMailRule(o))}),w(1,"i-bs",80),A(2,"\xa0"),ae(3),M(4,35),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g(2).userIsOwner(e))}}function v6t(t,n){if(1&t){const e=F();d(0,"button",77),T("click",function(){b(e);const o=g().$implicit;return S(g(2).copyMailRule(o))}),w(1,"i-bs",91),A(2,"\xa0"),ae(3),M(4,36),le(),u()}}function C6t(t,n){if(1&t){const e=F();d(0,"li",44)(1,"div",54)(2,"div",55)(3,"button",56),T("click",function(){const o=b(e).$implicit;return S(g(2).editMailRule(o))}),A(4),u()(),d(5,"div",83),A(6),u(),d(7,"div",55),A(8),ye(9,"async"),u(),d(10,"div",83)(11,"div",84),y(12,l6t,2,2,"input",85),d(13,"label",86)(14,"code"),y(15,c6t,2,0,"ng-container")(16,d6t,2,0,"span",87),u()()()(),d(17,"div",46)(18,"div",61)(19,"div",62)(20,"button",63),T("click",function(o){return b(e),S(o.stopPropagation())}),w(21,"i-bs",64),u(),d(22,"div",65),y(23,u6t,2,1,"button",66)(24,h6t,2,0,"button",67)(25,_6t,2,1,"button",66)(26,p6t,2,0,"button",88),u()()(),d(27,"div",68)(28,"div",69),y(29,g6t,5,1,"button",70)(30,f6t,5,0,"button",71)(31,m6t,5,1,"button",72),u(),d(32,"div",69),y(33,v6t,5,0,"button",89),u()()()()()}if(2&t){let e;const i=n.$implicit,o=g(2);_(),Ce("show",o.showRules),_(2),m("disabled",!o.permissionsService.currentUserCan(o.PermissionAction.Change,o.PermissionType.MailRule)||!o.userCanEdit(i)),_(),oe(i.name),_(2),oe(i.order),_(2),oe(null==(e=Ke(9,17,o.mailAccountService.getCached(i.account)))?null:e.name),_(4),m("pngxIfPermissions",Pe(19,Ds,o.PermissionAction.Change,o.PermissionType.MailRule)),_(),m("for",i.id+"_enable"),_(2),N(i.enabled?15:16),_(8),m("pngxIfPermissions",Pe(22,Ds,o.PermissionAction.Change,o.PermissionType.MailRule)),_(),m("pngxIfOwner",i),_(),m("pngxIfPermissions",Pe(25,Ds,o.PermissionAction.Delete,o.PermissionType.MailRule)),_(),m("pngxIfPermissions",Pe(28,Ds,o.PermissionAction.Add,o.PermissionType.MailRule)),_(3),m("pngxIfPermissions",Pe(31,Ds,o.PermissionAction.Change,o.PermissionType.MailRule)),_(),m("pngxIfOwner",i),_(),m("pngxIfPermissions",Pe(34,Ds,o.PermissionAction.Delete,o.PermissionType.MailRule)),_(2),m("pngxIfPermissions",Pe(37,Ds,o.PermissionAction.Add,o.PermissionType.MailRule))}}function M6t(t,n){1&t&&(d(0,"li",44),M(1,37),u())}function T6t(t,n){if(1&t&&(ae(0),d(1,"h4",82),ae(2),M(3,19),le(),y(4,r6t,5,0,"button",41),u(),d(5,"ul",43)(6,"li",44)(7,"div",45)(8,"div",46),M(9,20),u(),d(10,"div",47),M(11,21),u(),d(12,"div",46),M(13,22),u(),d(14,"div",47),M(15,23),u(),d(16,"div",46),M(17,24),u()()(),y(18,a6t,4,0,"li",44),Ue(19,C6t,34,40,"li",44,Ht),y(21,M6t,2,0,"li",44),u(),le()),2&t){const e=g();_(4),m("pngxIfPermissions",Pe(3,Ds,e.PermissionAction.Add,e.PermissionType.MailRule)),_(14),N(e.loadingRules?18:-1),_(),We(e.mailRules),_(2),N(e.loadingRules||0!==e.mailRules.length?-1:21)}}function w6t(t,n){1&t&&(d(0,"div"),w(1,"div",92),d(2,"div",93),M(3,38),u()())}let b6t=(()=>{class t extends ca{get gmailOAuthUrl(){return this.settingsService.get(Me.GMAIL_OAUTH_URL)}get outlookOAuthUrl(){return this.settingsService.get(Me.OUTLOOK_OAUTH_URL)}constructor(e,i,o,s,r,a,l){super(),this.mailAccountService=e,this.mailRuleService=i,this.toastService=o,this.modalService=s,this.permissionsService=r,this.settingsService=a,this.route=l,this.MailAccountType=BB,this.mailAccounts=[],this.mailRules=[],this.unsubscribeNotifier=new xe,this.loadingRules=!0,this.showRules=!1,this.loadingAccounts=!0,this.showAccounts=!1}ngOnInit(){this.mailAccountService.listAll(null,null,{full_perms:!0}).pipe(ut(),Te(this.unsubscribeNotifier),un(e=>{this.mailAccounts=e.results,this.oAuthAccountId&&this.editMailAccount(this.mailAccounts.find(i=>i.id===this.oAuthAccountId))}),I1(100)).subscribe({next:()=>{this.loadingAccounts=!1,this.showAccounts=!0},error:e=>{this.toastService.showError("Error retrieving mail accounts",e)}}),this.mailRuleService.listAll(null,null,{full_perms:!0}).pipe(ut(),Te(this.unsubscribeNotifier),un(e=>{this.mailRules=e.results}),I1(100)).subscribe({next:e=>{this.loadingRules=!1,this.showRules=!0},error:e=>{this.toastService.showError("Error retrieving mail rules",e)}}),this.route.queryParamMap.subscribe(e=>{e.get("oauth_success")&&("1"===e.get("oauth_success")?(this.toastService.showInfo("OAuth2 authentication success"),this.oAuthAccountId=parseInt(e.get("account_id")),this.mailAccounts.length>0&&this.editMailAccount(this.mailAccounts.find(o=>o.id===this.oAuthAccountId))):this.toastService.showError("OAuth2 authentication failed, see logs for details"))})}ngOnDestroy(){this.unsubscribeNotifier.next(!0)}editMailAccount(e=null){const i=this.modalService.open(UB,{backdrop:"static",size:"xl"});i.componentInstance.dialogMode=e?Oi.EDIT:Oi.CREATE,i.componentInstance.object=e,i.componentInstance.succeeded.pipe(Te(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("Saved account \"" + o.name + "\"."),this.mailAccountService.clearCache(),this.mailAccountService.listAll(null,null,{full_perms:!0}).subscribe(s=>{this.mailAccounts=s.results})}),i.componentInstance.failed.pipe(Te(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Error saving account.",o)})}deleteMailAccount(e){const i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Confirm delete mail account",i.componentInstance.messageBold="This operation will permanently delete this mail account.",i.componentInstance.message="This operation cannot be undone.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="Proceed",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.mailAccountService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted mail account \"" + e.name + "\""),this.mailAccountService.clearCache(),this.mailAccountService.listAll(null,null,{full_perms:!0}).subscribe(o=>{this.mailAccounts=o.results})},error:o=>{this.toastService.showError("Error deleting mail account \"" + e.name + "\".",o)}})})}processAccount(e){this.mailAccountService.processAccount(e).subscribe({next:()=>{this.toastService.showInfo("Processing mail account \"" + e.name + "\"")},error:i=>{this.toastService.showError("Error processing mail account \"" + e.name + "\"",i)}})}editMailRule(e=null,i=!1){const o=this.modalService.open(WB,{backdrop:"static",size:"xl"});o.componentInstance.dialogMode=e&&!i?Oi.EDIT:Oi.CREATE,o.componentInstance.object=e,o.componentInstance.succeeded.pipe(Te(this.unsubscribeNotifier)).subscribe(s=>{this.toastService.showInfo("Saved rule \"" + s.name + "\"."),this.mailRuleService.clearCache(),this.mailRuleService.listAll(null,null,{full_perms:!0}).subscribe(r=>{this.mailRules=r.results})}),o.componentInstance.failed.pipe(Te(this.unsubscribeNotifier)).subscribe(s=>{this.toastService.showError("Error saving rule.",s)})}copyMailRule(e){const i={...e};i.id=null,i.name=`${e.name} (copy)`,this.editMailRule(i,!0)}onMailRuleEnableToggled(e){this.mailRuleService.patch(e).subscribe({next:()=>{this.toastService.showInfo(e.enabled?"Rule \"" + e.name + "\" enabled.":"Rule \"" + e.name + "\" disabled.")},error:i=>{this.toastService.showError("Error toggling rule \"" + e.name + "\".",i)}})}deleteMailRule(e){const i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Confirm delete mail rule",i.componentInstance.messageBold="This operation will permanently delete this mail rule.",i.componentInstance.message="This operation cannot be undone.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="Proceed",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.mailRuleService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted mail rule \"" + e.name + "\""),this.mailRuleService.clearCache(),this.mailRuleService.listAll(null,null,{full_perms:!0}).subscribe(o=>{this.mailRules=o.results})},error:o=>{this.toastService.showError("Error deleting mail rule \"" + e.name + "\".",o)}})})}editPermissions(e){const i=this.modalService.open(Ob,{backdrop:"static"});i.componentInstance.object=e,i.componentInstance.confirmClicked.subscribe(({permissions:s})=>{i.componentInstance.buttonsEnabled=!1;const a="account"in e?this.mailRuleService:this.mailAccountService;e.owner=s.owner,e.set_permissions=s.set_permissions,a.patch(e).subscribe({next:()=>{this.toastService.showInfo("Permissions updated"),i.close()},error:l=>{this.toastService.showError("Error updating permissions",l)}})})}userCanEdit(e){return this.permissionsService.currentUserHasObjectPermissions(mt.Change,e)}userIsOwner(e){return this.permissionsService.currentUserOwnsObject(e)}static{this.\u0275fac=function(i){return new(i||t)(x(vb),x(Cb),x(Fi),x(Do),x(ti),x(En),x(v1))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-mail"]],features:[st],decls:4,vars:9,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt,nt,Dt,Bt,Zt,Ge,Ft,It,yi,ci,St,kn,zi,Ni;return e="Mail Settings",i="Manage e-mail accounts and rules for automatically importing documents.",o="Mail accounts",s="Name",r="Server",a="Username",l="Actions",c="Add Account",h="Connect Gmail Account",p="Connect Outlook Account",f="Loading...",v="Edit",C="Permissions",E="Delete",D="Process Mail",P="Edit",I="Permissions",k="Delete",R="Process Mail",ee="No mail accounts defined.",re="Mail rules",fe="Name",pe="Sort Order",ue="Account",me="Status",Fe="Actions",bt="Add Rule",nt="Loading...",Dt="Enabled",Bt="Disabled",Zt="Edit",Ge="Permissions",Ft="Delete",It="Copy",yi="Edit",ci="Permissions",St="Delete",kn="Copy",zi="No mail rules defined.",Ni="Loading...",[["inputField",""],o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,R,ee,re,fe,pe,ue,me,Fe,bt,nt,Dt,Bt,Zt,Ge,Ft,It,yi,ci,St,kn,zi,Ni,["title",e,"info",i,"infoLink","usage/#usage-email"],[4,"pngxIfPermissions"],["type","button","class","btn btn-sm btn-outline-primary ms-4",3,"click",4,"pngxIfPermissions"],[1,"btn","btn-sm","btn-outline-secondary","ms-2",3,"href"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],[1,"col","d-none","d-sm-block"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-4",3,"click"],["name","plus-circle"],["class","btn btn-sm btn-outline-secondary ms-2",3,"href",4,"pngxIfPermissions"],["name","google"],["name","microsoft"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"row","fade"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],["name","envelope-at-fill",1,"ms-2"],["name","google",1,"ms-2"],["name","microsoft",1,"ms-2"],[1,"col","d-flex","align-items-center","d-none","d-sm-block"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"disabled","click",4,"pngxIfPermissions"],["ngbDropdownItem","",3,"click",4,"pngxIfOwner"],["role","toolbar",1,"btn-toolbar","d-none","d-sm-flex","gap-2"],[1,"btn-group"],["class","btn btn-sm btn-outline-secondary","type","button",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfOwner"],["class","btn btn-sm btn-outline-danger","type","button",3,"disabled","click",4,"pngxIfPermissions"],["ngbDropdownItem","",3,"click","disabled"],["ngbDropdownItem","",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","person-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["width","1em","height","1em","name","arrow-clockwise"],[1,"mt-4"],[1,"col","d-flex","align-items-center","d-none","d-sm-flex"],[1,"form-check","form-switch","mb-0"],["type","checkbox","class","form-check-input cursor-pointer",3,"id","ngModel","ngModelChange","change",4,"pngxIfPermissions"],[1,"form-check-label","cursor-pointer",3,"for"],[1,"text-muted"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfPermissions"],["type","checkbox",1,"form-check-input","cursor-pointer",3,"ngModelChange","change","id","ngModel"],["width","1em","height","1em","name","files"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"]]},template:function(i,o){1&i&&(w(0,"pngx-page-header",39),y(1,s6t,22,8,"ng-container",40)(2,T6t,22,6,"ng-container",40)(3,w6t,4,0,"div")),2&i&&(_(),m("pngxIfPermissions",Pe(3,Ds,o.PermissionAction.View,o.PermissionType.MailAccount)),_(),m("pngxIfPermissions",Pe(6,Ds,o.PermissionAction.View,o.PermissionType.MailRule)),_(),N(o.mailAccounts&&o.mailRules?-1:3))},dependencies:[or,Ro,dg,Aa,Xt,Zo,jt,Rn,qt,No,bo,Jo,yo,Vs,Rr,Gt,Jt],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}}return t})();const S6t=["selectedList"],E6t=["unselectedList"],mU=(t,n)=>n.id,vU=t=>[t];function A6t(t,n){if(1&t&&(d(0,"div",5),A(1),u()),2&t){const e=n.$implicit;_(),oe(e.name)}}function O6t(t,n){if(1&t&&(d(0,"div",6),A(1),u()),2&t){const e=g();_(),oe(e.emptyText)}}function y6t(t,n){if(1&t&&(d(0,"div",9),A(1),u()),2&t){const e=n.$implicit;_(),oe(e.name)}}let N6t=(()=>{class t extends Gs{constructor(){super(...arguments),this.title="Selected items",this.items=[],this.selectedItems=[],this.emptyText="No items selected"}get unselectedItems(){return this.items.filter(e=>!this.selectedItems.includes(e))}writeValue(e){super.writeValue(e),this.selectedItems=e?.map(i=>this.items.find(o=>o.id===i)).filter(i=>i)??[]}drop(e){e.previousContainer===e.container&&e.container===this.selectedList?gd(this.selectedItems,e.previousIndex,e.currentIndex):e.container===this.selectedList?this.selectedItems.splice(e.currentIndex,0,this.unselectedItems[e.previousIndex]):e.container===this.unselectedList&&e.previousContainer===this.selectedList&&this.selectedItems.splice(e.previousIndex,1),this.onChange(this.selectedItems.map(i=>i.id))}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ei(t)))(o||t)}})()}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-input-drag-drop-select"]],viewQuery:function(i,o){if(1&i&&(dn(S6t,5),dn(E6t,5)),2&i){let s;pt(s=gt())&&(o.selectedList=s.first),pt(s=gt())&&(o.unselectedList=s.first)}},inputs:{title:"title",items:"items",emptyText:"emptyText"},features:[tn([{provide:pi,useExisting:sn(()=>t),multi:!0}]),st],decls:13,vars:8,consts:[["selectedList","cdkDropList"],["unselectedList","cdkDropList"],[1,"d-flex","flex-row","mt-2","align-items-center"],[1,"me-2"],["cdkDropList","","cdkDropListOrientation","mixed",1,"d-flex","flex-wrap","flex-row","gap-2","w-100","mh-1",2,"min-height","1em",3,"cdkDropListDropped","cdkDropListConnectedTo"],["cdkDrag","",1,"badge","bg-primary"],[1,"badge","bg-light","text-secondary","fst-italic"],[1,"mt-2","align-items-center","bg-light","p-2"],["cdkDropList","","cdkDropListOrientation","mixed",1,"d-flex","flex-wrap","flex-row","gap-2","w-100",3,"cdkDropListDropped","cdkDropListConnectedTo"],["cdkDrag","",1,"badge","bg-secondary","opacity-50"]],template:function(i,o){if(1&i){const s=F();d(0,"div",2)(1,"span",3),A(2),u(),d(3,"div",4,0),T("cdkDropListDropped",function(a){return b(s),S(o.drop(a))}),Ue(5,A6t,2,1,"div",5,mU),y(7,O6t,2,1,"div",6),u()(),d(8,"div",7)(9,"div",8,1),T("cdkDropListDropped",function(a){return b(s),S(o.drop(a))}),Ue(11,y6t,2,1,"div",9,mU),u()()}if(2&i){const s=Ve(4),r=Ve(10);_(2),Le("",o.title,":"),_(),m("cdkDropListConnectedTo",Wn(4,vU,r)),_(2),We(o.selectedItems),_(2),N(0===o.selectedItems.length?7:-1),_(2),m("cdkDropListConnectedTo",Wn(6,vU,s)),_(2),We(o.unselectedItems)}},dependencies:[fd,D2,N2],styles:[".badge[_ngcontent-%COMP%]{cursor:move}"]})}}return t})();const D6t=(t,n)=>({action:t,type:n});function P6t(t,n){if(1&t){const e=F();d(0,"pngx-confirm-button",34),T("confirm",function(){b(e);const o=g().$implicit;return S(g().deleteSavedView(o))}),u()}}function I6t(t,n){1&t&&w(0,"pngx-input-drag-drop-select",33),2&t&&m("items",g(2).displayFields)}function x6t(t,n){if(1&t&&(d(0,"li",14)(1,"div",18)(2,"div",19)(3,"div",20),w(4,"pngx-input-text",21),u(),d(5,"div",20)(6,"div",22),w(7,"input",23),d(8,"label",24),M(9,2),u()(),d(10,"div",25),w(11,"input",26),d(12,"label",24),M(13,3),u()()(),d(14,"div",27)(15,"label",28),M(16,4),u(),y(17,P6t,1,0,"pngx-confirm-button",29),u()(),d(18,"div",19)(19,"div",20),w(20,"pngx-input-number",30),u(),d(21,"div",20)(22,"label",28),M(23,5),u(),d(24,"select",31)(25,"option",32),M(26,6),u(),d(27,"option",32),M(28,7),u(),d(29,"option",32),M(30,8),u()()(),y(31,I6t,1,1,"pngx-input-drag-drop-select",33),u()()()),2&t){const e=n.$implicit,i=g();_(),m("formGroupName",e.id),_(6),Kt("id","show_on_dashboard_",e.id,""),_(),Kt("for","show_on_dashboard_",e.id,""),_(3),Kt("id","show_in_sidebar_",e.id,""),_(),Kt("for","show_in_sidebar_",e.id,""),_(3),Kt("for","name_",e.id,""),_(2),m("pngxIfPermissions",Pe(19,D6t,i.PermissionAction.Delete,i.PermissionType.SavedView)),_(3),m("showAdd",!1),_(2),Kt("for","display_mode_",e.id,""),_(3),m("ngValue",i.DisplayMode.TABLE),_(2),m("ngValue",i.DisplayMode.SMALL_CARDS),_(2),m("ngValue",i.DisplayMode.LARGE_CARDS),_(2),N(i.displayFields?31:-1)}}function L6t(t,n){1&t&&(d(0,"li",15)(1,"div"),M(2,9),u()())}function R6t(t,n){1&t&&(d(0,"li",15),w(1,"div",35),d(2,"div",36),M(3,10),u()())}let F6t=(()=>{class t extends ns{get displayFields(){return this.settings.allDisplayFields}constructor(e,i,o){super(),this.savedViewService=e,this.settings=i,this.toastService=o,this.DisplayMode=_c,this.savedViewsGroup=new Kn({}),this.savedViewsForm=new Kn({savedViews:this.savedViewsGroup}),this.settings.organizingSidebarSavedViews=!0}ngOnInit(){this.loading=!0,this.savedViewService.listAll().subscribe(e=>{this.savedViews=e.results,this.initialize()})}ngOnDestroy(){this.settings.organizingSidebarSavedViews=!1,super.ngOnDestroy()}initialize(){this.loading=!1,this.emptyGroup(this.savedViewsGroup);let e={savedViews:{}};for(let i of this.savedViews)e.savedViews[i.id.toString()]={id:i.id,name:i.name,show_on_dashboard:i.show_on_dashboard,show_in_sidebar:i.show_in_sidebar,page_size:i.page_size,display_mode:i.display_mode,display_fields:i.display_fields},this.savedViewsGroup.addControl(i.id.toString(),new Kn({id:new de(null),name:new de(null),show_on_dashboard:new de(null),show_in_sidebar:new de(null),page_size:new de(null),display_mode:new de(null),display_fields:new de([])}));this.store=new ui(e),this.store.asObservable().pipe(Te(this.unsubscribeNotifier)).subscribe(i=>{this.savedViewsForm.patchValue(i,{emitEvent:!1})}),this.isDirty$=rm(this.savedViewsForm,this.store.asObservable())}reset(){this.savedViewsForm.patchValue(this.store.getValue())}deleteSavedView(e){this.savedViewService.delete(e).subscribe(()=>{this.savedViewsGroup.removeControl(e.id.toString()),this.savedViews.splice(this.savedViews.indexOf(e),1),this.toastService.showInfo("Saved view \"" + e.name + "\" deleted."),this.savedViewService.clearCache(),this.savedViewService.listAll().subscribe(i=>{this.savedViews=i.results,this.initialize()})})}emptyGroup(e){Object.keys(e.controls).forEach(i=>e.removeControl(i))}save(){const e=[];Object.values(this.savedViewsGroup.controls).filter(i=>!i.pristine).forEach(i=>{e.push(i.value)}),e.length&&this.savedViewService.patchMany(e).subscribe({next:()=>{this.toastService.showInfo("Views saved successfully."),this.store.next(this.savedViewsForm.value)},error:i=>{this.toastService.showError("Error while saving views.",i)}})}static{this.\u0275fac=function(i){return new(i||t)(x(Tg),x(En),x(Fi))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-saved-views"]],features:[st],decls:13,vars:9,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I;return e="Saved Views",i="Customize the views of your documents.",o="Save",s="Cancel",r="Delete",a="Documents page size",l="Show",c="Default",h="Show on dashboard",p="Show in sidebar",f="Actions",v="Display as",C="Table",E="Small Cards",D="Large Cards",P="No saved views defined.",I="Loading...",[o,s,h,p,f,v,C,E,D,P,I,["title",e,"info",i],[3,"ngSubmit","formGroup"],["formGroupName","savedViews",1,"list-group","mb-3"],[1,"list-group-item","py-3"],[1,"list-group-item"],["type","submit",1,"btn","btn-primary","mb-2",3,"disabled"],["type","button",1,"btn","btn-secondary","ms-2","mb-2",3,"click","disabled"],[3,"formGroupName"],[1,"row"],[1,"col"],["title","Name","formControlName","name"],[1,"form-check","form-switch","mt-3"],["type","checkbox","formControlName","show_on_dashboard",1,"form-check-input",3,"id"],[1,"form-check-label",3,"for"],[1,"form-check","form-switch"],["type","checkbox","formControlName","show_in_sidebar",1,"form-check-input",3,"id"],[1,"col-auto"],[1,"form-label",3,"for"],["label",r,"buttonClasses","btn-sm btn-outline-danger form-control","iconName","trash",3,"confirm",4,"pngxIfPermissions"],["title",a,"formControlName","page_size",3,"showAdd"],["formControlName","display_mode",1,"form-select"],[3,"ngValue"],["title",l,"emptyText",c,"formControlName","display_fields",3,"items"],["label",r,"buttonClasses","btn-sm btn-outline-danger form-control","iconName","trash",3,"confirm"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"]]},template:function(i,o){1&i&&(w(0,"pngx-page-header",11),d(1,"form",12),T("ngSubmit",function(){return o.save()}),d(2,"ul",13),Ue(3,x6t,32,22,"li",14,Ht),y(5,L6t,3,0,"li",15)(6,R6t,4,0,"li",15),u(),d(7,"button",16),ye(8,"async"),M(9,0),u(),d(10,"button",17),ye(11,"async"),T("click",function(){return o.reset()}),M(12,1),u()()),2&i&&(_(),m("formGroup",o.savedViewsForm),_(2),We(o.savedViews),_(2),N(o.savedViews&&0===o.savedViews.length?5:-1),_(),N(o.loading?6:-1),_(),m("disabled",!1===Ke(8,5,o.isDirty$)),_(3),m("disabled",!1===Ke(11,7,o.isDirty$)))},dependencies:[or,mb,Nu,gr,Ro,N6t,Xt,Oo,jl,Xl,Zo,j0,jt,Mo,qt,co,To,F2,Aa],styles:["[_nghost-%COMP%]{display:block}"]})}}return t})();const c5=(t,n)=>({action:t,type:n}),CU=t=>({"d-none d-sm-table-cell":t});function k6t(t,n){if(1&t){const e=F();d(0,"button",44),T("click",function(){return b(e),S(g().openCreateDialog())}),w(1,"i-bs",45),A(2,"\xa0"),ae(3),M(4,8),le(),u()}}function z6t(t,n){if(1&t){const e=F();d(0,"th",46),T("sort",function(o){return b(e),S(g().onSort(o))}),A(1),u()}if(2&t){const e=n.$implicit,i=g();ai("pngxSortable",e.key),m("ngClass",Wn(5,CU,e.hideOnMobile))("currentSortField",i.sortField)("currentSortReverse",i.sortReverse),_(),oe(e.name)}}function V6t(t,n){1&t&&(d(0,"tr")(1,"td",47),w(2,"div",48),ae(3),M(4,9),le(),u()())}function H6t(t,n){if(1&t&&(w(0,"div",68),ye(1,"safeHtml")),2&t){const e=g().$implicit,i=g().$implicit;m("innerHtml",Ke(1,1,e.valueFn.call(null,i)),vo)}}function $6t(t,n){if(1&t&&A(0),2&t){const e=g().$implicit,i=g().$implicit;Le(" ",e.valueFn.call(null,i)," ")}}function G6t(t,n){if(1&t&&(d(0,"td",55),y(1,H6t,2,3,"div",68)(2,$6t,1,1),u()),2&t){const e=n.$implicit;m("ngClass",Wn(2,CU,e.hideOnMobile)),_(),N(e.rendersHtml?1:2)}}function B6t(t,n){if(1&t){const e=F();d(0,"button",69),T("click",function(){b(e);const o=g().$implicit;return S(g().openEditDialog(o))}),M(1,10),u()}}function U6t(t,n){if(1&t){const e=F();d(0,"button",70),T("click",function(){b(e);const o=g().$implicit;return S(g().openDeleteDialog(o))}),M(1,11),u()}}function W6t(t,n){if(1&t){const e=F();d(0,"button",69),T("click",function(){b(e);const o=g(2).$implicit;return S(g().filterDocuments(o))}),M(1,12),u()}if(2&t){const e=g(2).$implicit;_(),bn(e.document_count),Sn(1)}}function Z6t(t,n){if(1&t&&y(0,W6t,2,1,"button",62),2&t){const e=g(2);m("pngxIfPermissions",Pe(1,c5,e.PermissionAction.View,e.PermissionType.Document))}}function j6t(t,n){if(1&t){const e=F();d(0,"button",71),T("click",function(o){b(e);const s=g().$implicit;return g().openEditDialog(s),S(o.stopPropagation())}),w(1,"i-bs",72),A(2,"\xa0"),ae(3),M(4,13),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g().userCanEdit(e))}}function X6t(t,n){if(1&t){const e=F();d(0,"button",73),T("click",function(o){b(e);const s=g().$implicit;return g().openDeleteDialog(s),S(o.stopPropagation())}),w(1,"i-bs",74),A(2,"\xa0"),ae(3),M(4,14),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g().userCanDelete(e))}}function K6t(t,n){if(1&t){const e=F();d(0,"button",76),T("click",function(o){b(e);const s=g(2).$implicit;return g().filterDocuments(s),S(o.stopPropagation())}),w(1,"i-bs",77),A(2,"\xa0"),ae(3),M(4,15),le(),d(5,"span",78),A(6),u()()}if(2&t){const e=g(2).$implicit;_(6),oe(e.document_count)}}function q6t(t,n){if(1&t&&(d(0,"div",65),y(1,K6t,7,1,"button",75),u()),2&t){const e=g(2);_(),m("pngxIfPermissions",Pe(1,c5,e.PermissionAction.View,e.PermissionType.Document))}}function Y6t(t,n){if(1&t){const e=F();d(0,"tr",49),T("click",function(o){const s=b(e).$implicit;return g().toggleSelected(s),S(o.stopPropagation())}),d(1,"td")(2,"div",34)(3,"input",50),T("click",function(o){const s=b(e).$implicit;return g().toggleSelected(s),S(o.stopPropagation())}),u(),w(4,"label",51),u()(),d(5,"td",52)(6,"button",53),T("click",function(o){const s=b(e).$implicit,r=g();return r.userCanEdit(s)&&r.openEditDialog(s),S(o.stopPropagation())}),A(7),u()(),d(8,"td",54),A(9),u(),d(10,"td",52),A(11),u(),Ue(12,G6t,3,4,"td",55,Ht),d(14,"td",52)(15,"div",56)(16,"div",57)(17,"div",58)(18,"button",59),T("click",function(o){return b(e),S(o.stopPropagation())}),w(19,"i-bs",60),u(),d(20,"div",61),y(21,B6t,2,0,"button",62)(22,U6t,2,0,"button",63)(23,Z6t,1,4,"button",64),u()()(),d(24,"div",65),y(25,j6t,5,1,"button",66)(26,X6t,5,1,"button",67),u(),y(27,q6t,2,4,"div",65),u()()()}if(2&t){const e=n.$implicit,i=g();Ce("show",i.show),_(3),a1("id","",i.typeName,"",e.id,""),m("checked",i.selectedObjects.has(e.id)),_(),a1("for","",i.typeName,"",e.id,""),_(3),oe(e.name),_(2),oe(i.getMatching(e)),_(2),oe(e.document_count),_(),We(i.extraColumns),_(9),m("pngxIfPermissions",Pe(18,c5,i.PermissionAction.Change,i.permissionType)),_(),m("pngxIfPermissions",Pe(21,c5,i.PermissionAction.Delete,i.permissionType)),_(),N(e.document_count>0?23:-1),_(2),m("pngxIfPermissions",Pe(24,c5,i.PermissionAction.Change,i.permissionType)),_(),m("pngxIfPermissions",Pe(27,c5,i.PermissionAction.Delete,i.permissionType)),_(),N(e.document_count>0?27:-1)}}function Q6t(t,n){1&t&&A(0),2&t&&Le(" \xa0(",g(3).selectedObjects.size," selected) ")}function J6t(t,n){if(1&t&&(d(0,"div"),ae(1),M(2,16),le(),y(3,Q6t,1,1),u()),2&t){const e=g(2);_(2),bn(e.collectionSize)(e.typeName)(e.collectionSize||0)(e.typeNamePlural),Sn(2),_(),N(e.selectedObjects.size>0?3:-1)}}function e4t(t,n){if(1&t){const e=F();d(0,"ngb-pagination",80),je("pageChange",function(o){b(e);const s=g(2);return $e(s.page,o)||(s.page=o),S(o)}),T("pageChange",function(){return b(e),S(g(2).reloadData())}),u()}if(2&t){const e=g(2);m("pageSize",25)("collectionSize",e.collectionSize),Ze("page",e.page),m("maxSize",5)}}function t4t(t,n){if(1&t&&(d(0,"div",43),y(1,J6t,4,5,"div")(2,e4t,1,4,"ngb-pagination",79),u()),2&t){const e=g();_(),N(e.collectionSize>0?1:-1),_(),N(e.collectionSize>20?2:-1)}}let n4t=(()=>{class t extends Km{constructor(e,i,o,s,r){super(e,i,ym,o,s,r,30,"storage path","storage paths",Ct.StoragePath,[{key:"path",name:"Path",rendersHtml:!0,hideOnMobile:!0,valueFn:a=>`<code>${a.path?.slice(0,49)}${a.path?.length>50?"...":""}</code>`}])}getDeleteMessage(e){return "Do you really want to delete the storage path \"" + e.name + "\"?"}static{this.\u0275fac=function(i){return new(i||t)(x(Tc),x(Do),x(Fi),x(Va),x(ti))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-storage-path-list"]],features:[st],decls:48,vars:25,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k;return e="Name",i="Clear selection",o="Permissions",s="Delete",r="Filter by:",a="Name",l="Matching",c="Document count",h="Actions",p="Create",f="Loading...",v="Edit",C="Delete",E="Filter Documents (" + "\ufffd0\ufffd" + ")",D="Edit",P="Delete",I="Documents",k="{VAR_PLURAL, plural, =1 {One {INTERPOLATION}} other {{INTERPOLATION_1} total {INTERPOLATION_2}}}",k=ba(k,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,[3,"title"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",e,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"ngClass","pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[1,"data-row","fade",3,"show"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","ngClass","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"data-row","fade",3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],["scope","row",3,"ngClass"],[1,"btn-toolbar","gap-2"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"btn-group","d-none","d-sm-inline-block"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"badge","bg-light","text-secondary","ms-2"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"]]},template:function(i,o){1&i&&(d(0,"pngx-page-header",17),ye(1,"titlecase"),d(2,"button",18),T("click",function(){return o.clearSelection()}),w(3,"i-bs",19),A(4,"\xa0"),ae(5),M(6,0),le(),u(),d(7,"button",20),T("click",function(){return o.setPermissions()}),w(8,"i-bs",21),A(9,"\xa0"),ae(10),M(11,1),le(),u(),d(12,"button",22),T("click",function(){return o.delete()}),w(13,"i-bs",23),A(14,"\xa0"),ae(15),M(16,2),le(),u(),y(17,k6t,5,0,"button",24),u(),d(18,"div",25)(19,"div",26)(20,"div",27)(21,"label",28),M(22,3),u(),d(23,"input",29),je("ngModelChange",function(r){return $e(o.nameFilter,r)||(o.nameFilter=r),r}),T("keyup",function(r){return o.onNameFilterKeyUp(r)}),u()()(),d(24,"ngb-pagination",30),je("pageChange",function(r){return $e(o.page,r)||(o.page=r),r}),T("pageChange",function(){return o.reloadData()}),u()(),d(25,"div",31)(26,"table",32)(27,"thead")(28,"tr")(29,"th",33)(30,"div",34)(31,"input",35),je("ngModelChange",function(r){return $e(o.togggleAll,r)||(o.togggleAll=r),r}),T("click",function(r){return o.toggleAll(r),r.stopPropagation()}),u(),w(32,"label",36),u()(),d(33,"th",37),T("sort",function(r){return o.onSort(r)}),M(34,4),u(),d(35,"th",38),T("sort",function(r){return o.onSort(r)}),M(36,5),u(),d(37,"th",39),T("sort",function(r){return o.onSort(r)}),M(38,6),u(),Ue(39,z6t,2,7,"th",40,Ht),d(41,"th",41),M(42,7),u()()(),d(43,"tbody"),y(44,V6t,5,0,"tr"),Ue(45,Y6t,28,30,"tr",42,Ht),u()()(),y(47,t4t,3,2,"div",43)),2&i&&(ai("title",Ke(1,20,o.typeNamePlural)),_(2),m("hidden",0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),_(5),m("pngxIfPermissions",Pe(22,c5,o.PermissionAction.Add,o.permissionType)),_(6),Ze("ngModel",o.nameFilter),_(),m("pageSize",25)("collectionSize",o.collectionSize),Ze("page",o.page),m("maxSize",5),_(7),Ze("ngModel",o.togggleAll),m("disabled",0===o.data.length),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),We(o.extraColumns),_(5),N(o.loading?44:-1),_(),We(o.data),_(2),N(o.loading?-1:47))},dependencies:[s5,or,M2,Ro,vc,Xt,Ti,Zo,jt,Rn,qt,Dr,No,bo,Jo,yo,Vs,Rr,f0,ic,Gt,Jt],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}"]})}}return t})();const d5=(t,n)=>({action:t,type:n}),MU=t=>({"d-none d-sm-table-cell":t});function i4t(t,n){if(1&t){const e=F();d(0,"button",44),T("click",function(){return b(e),S(g().openCreateDialog())}),w(1,"i-bs",45),A(2,"\xa0"),ae(3),M(4,8),le(),u()}}function o4t(t,n){if(1&t){const e=F();d(0,"th",46),T("sort",function(o){return b(e),S(g().onSort(o))}),A(1),u()}if(2&t){const e=n.$implicit,i=g();ai("pngxSortable",e.key),m("ngClass",Wn(5,MU,e.hideOnMobile))("currentSortField",i.sortField)("currentSortReverse",i.sortReverse),_(),oe(e.name)}}function s4t(t,n){1&t&&(d(0,"tr")(1,"td",47),w(2,"div",48),ae(3),M(4,9),le(),u()())}function r4t(t,n){if(1&t&&(w(0,"div",68),ye(1,"safeHtml")),2&t){const e=g().$implicit,i=g().$implicit;m("innerHtml",Ke(1,1,e.valueFn.call(null,i)),vo)}}function a4t(t,n){if(1&t&&A(0),2&t){const e=g().$implicit,i=g().$implicit;Le(" ",e.valueFn.call(null,i)," ")}}function l4t(t,n){if(1&t&&(d(0,"td",55),y(1,r4t,2,3,"div",68)(2,a4t,1,1),u()),2&t){const e=n.$implicit;m("ngClass",Wn(2,MU,e.hideOnMobile)),_(),N(e.rendersHtml?1:2)}}function c4t(t,n){if(1&t){const e=F();d(0,"button",69),T("click",function(){b(e);const o=g().$implicit;return S(g().openEditDialog(o))}),M(1,10),u()}}function d4t(t,n){if(1&t){const e=F();d(0,"button",70),T("click",function(){b(e);const o=g().$implicit;return S(g().openDeleteDialog(o))}),M(1,11),u()}}function u4t(t,n){if(1&t){const e=F();d(0,"button",69),T("click",function(){b(e);const o=g(2).$implicit;return S(g().filterDocuments(o))}),M(1,12),u()}if(2&t){const e=g(2).$implicit;_(),bn(e.document_count),Sn(1)}}function h4t(t,n){if(1&t&&y(0,u4t,2,1,"button",62),2&t){const e=g(2);m("pngxIfPermissions",Pe(1,d5,e.PermissionAction.View,e.PermissionType.Document))}}function _4t(t,n){if(1&t){const e=F();d(0,"button",71),T("click",function(o){b(e);const s=g().$implicit;return g().openEditDialog(s),S(o.stopPropagation())}),w(1,"i-bs",72),A(2,"\xa0"),ae(3),M(4,13),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g().userCanEdit(e))}}function p4t(t,n){if(1&t){const e=F();d(0,"button",73),T("click",function(o){b(e);const s=g().$implicit;return g().openDeleteDialog(s),S(o.stopPropagation())}),w(1,"i-bs",74),A(2,"\xa0"),ae(3),M(4,14),le(),u()}if(2&t){const e=g().$implicit;m("disabled",!g().userCanDelete(e))}}function g4t(t,n){if(1&t){const e=F();d(0,"button",76),T("click",function(o){b(e);const s=g(2).$implicit;return g().filterDocuments(s),S(o.stopPropagation())}),w(1,"i-bs",77),A(2,"\xa0"),ae(3),M(4,15),le(),d(5,"span",78),A(6),u()()}if(2&t){const e=g(2).$implicit;_(6),oe(e.document_count)}}function f4t(t,n){if(1&t&&(d(0,"div",65),y(1,g4t,7,1,"button",75),u()),2&t){const e=g(2);_(),m("pngxIfPermissions",Pe(1,d5,e.PermissionAction.View,e.PermissionType.Document))}}function m4t(t,n){if(1&t){const e=F();d(0,"tr",49),T("click",function(o){const s=b(e).$implicit;return g().toggleSelected(s),S(o.stopPropagation())}),d(1,"td")(2,"div",34)(3,"input",50),T("click",function(o){const s=b(e).$implicit;return g().toggleSelected(s),S(o.stopPropagation())}),u(),w(4,"label",51),u()(),d(5,"td",52)(6,"button",53),T("click",function(o){const s=b(e).$implicit,r=g();return r.userCanEdit(s)&&r.openEditDialog(s),S(o.stopPropagation())}),A(7),u()(),d(8,"td",54),A(9),u(),d(10,"td",52),A(11),u(),Ue(12,l4t,3,4,"td",55,Ht),d(14,"td",52)(15,"div",56)(16,"div",57)(17,"div",58)(18,"button",59),T("click",function(o){return b(e),S(o.stopPropagation())}),w(19,"i-bs",60),u(),d(20,"div",61),y(21,c4t,2,0,"button",62)(22,d4t,2,0,"button",63)(23,h4t,1,4,"button",64),u()()(),d(24,"div",65),y(25,_4t,5,1,"button",66)(26,p4t,5,1,"button",67),u(),y(27,f4t,2,4,"div",65),u()()()}if(2&t){const e=n.$implicit,i=g();Ce("show",i.show),_(3),a1("id","",i.typeName,"",e.id,""),m("checked",i.selectedObjects.has(e.id)),_(),a1("for","",i.typeName,"",e.id,""),_(3),oe(e.name),_(2),oe(i.getMatching(e)),_(2),oe(e.document_count),_(),We(i.extraColumns),_(9),m("pngxIfPermissions",Pe(18,d5,i.PermissionAction.Change,i.permissionType)),_(),m("pngxIfPermissions",Pe(21,d5,i.PermissionAction.Delete,i.permissionType)),_(),N(e.document_count>0?23:-1),_(2),m("pngxIfPermissions",Pe(24,d5,i.PermissionAction.Change,i.permissionType)),_(),m("pngxIfPermissions",Pe(27,d5,i.PermissionAction.Delete,i.permissionType)),_(),N(e.document_count>0?27:-1)}}function v4t(t,n){1&t&&A(0),2&t&&Le(" \xa0(",g(3).selectedObjects.size," selected) ")}function C4t(t,n){if(1&t&&(d(0,"div"),ae(1),M(2,16),le(),y(3,v4t,1,1),u()),2&t){const e=g(2);_(2),bn(e.collectionSize)(e.typeName)(e.collectionSize||0)(e.typeNamePlural),Sn(2),_(),N(e.selectedObjects.size>0?3:-1)}}function M4t(t,n){if(1&t){const e=F();d(0,"ngb-pagination",80),je("pageChange",function(o){b(e);const s=g(2);return $e(s.page,o)||(s.page=o),S(o)}),T("pageChange",function(){return b(e),S(g(2).reloadData())}),u()}if(2&t){const e=g(2);m("pageSize",25)("collectionSize",e.collectionSize),Ze("page",e.page),m("maxSize",5)}}function T4t(t,n){if(1&t&&(d(0,"div",43),y(1,C4t,4,5,"div")(2,M4t,1,4,"ngb-pagination",79),u()),2&t){const e=g();_(),N(e.collectionSize>0?1:-1),_(),N(e.collectionSize>20?2:-1)}}let w4t=(()=>{class t extends Km{constructor(e,i,o,s,r){super(e,i,Nm,o,s,r,6,"tag","tags",Ct.Tag,[{key:"color",name:"Colour",rendersHtml:!0,valueFn:a=>`<span class="badge" style="color: ${a.text_color}; background-color: ${a.color}">${a.color}</span>`}])}getDeleteMessage(e){return "Do you really want to delete the tag \"" + e.name + "\"?"}static{this.\u0275fac=function(i){return new(i||t)(x(Pu),x(Do),x(Fi),x(Va),x(ti))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-tag-list"]],features:[st],decls:48,vars:25,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k;return e="Name",i="Clear selection",o="Permissions",s="Delete",r="Filter by:",a="Name",l="Matching",c="Document count",h="Actions",p="Create",f="Loading...",v="Edit",C="Delete",E="Filter Documents (" + "\ufffd0\ufffd" + ")",D="Edit",P="Delete",I="Documents",k="{VAR_PLURAL, plural, =1 {One {INTERPOLATION}} other {{INTERPOLATION_1} total {INTERPOLATION_2}}}",k=ba(k,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,[3,"title"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",e,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"ngClass","pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[1,"data-row","fade",3,"show"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","ngClass","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"data-row","fade",3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],["scope","row",3,"ngClass"],[1,"btn-toolbar","gap-2"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"btn-group","d-none","d-sm-inline-block"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"badge","bg-light","text-secondary","ms-2"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"]]},template:function(i,o){1&i&&(d(0,"pngx-page-header",17),ye(1,"titlecase"),d(2,"button",18),T("click",function(){return o.clearSelection()}),w(3,"i-bs",19),A(4,"\xa0"),ae(5),M(6,0),le(),u(),d(7,"button",20),T("click",function(){return o.setPermissions()}),w(8,"i-bs",21),A(9,"\xa0"),ae(10),M(11,1),le(),u(),d(12,"button",22),T("click",function(){return o.delete()}),w(13,"i-bs",23),A(14,"\xa0"),ae(15),M(16,2),le(),u(),y(17,i4t,5,0,"button",24),u(),d(18,"div",25)(19,"div",26)(20,"div",27)(21,"label",28),M(22,3),u(),d(23,"input",29),je("ngModelChange",function(r){return $e(o.nameFilter,r)||(o.nameFilter=r),r}),T("keyup",function(r){return o.onNameFilterKeyUp(r)}),u()()(),d(24,"ngb-pagination",30),je("pageChange",function(r){return $e(o.page,r)||(o.page=r),r}),T("pageChange",function(){return o.reloadData()}),u()(),d(25,"div",31)(26,"table",32)(27,"thead")(28,"tr")(29,"th",33)(30,"div",34)(31,"input",35),je("ngModelChange",function(r){return $e(o.togggleAll,r)||(o.togggleAll=r),r}),T("click",function(r){return o.toggleAll(r),r.stopPropagation()}),u(),w(32,"label",36),u()(),d(33,"th",37),T("sort",function(r){return o.onSort(r)}),M(34,4),u(),d(35,"th",38),T("sort",function(r){return o.onSort(r)}),M(36,5),u(),d(37,"th",39),T("sort",function(r){return o.onSort(r)}),M(38,6),u(),Ue(39,o4t,2,7,"th",40,Ht),d(41,"th",41),M(42,7),u()()(),d(43,"tbody"),y(44,s4t,5,0,"tr"),Ue(45,m4t,28,30,"tr",42,Ht),u()()(),y(47,T4t,3,2,"div",43)),2&i&&(ai("title",Ke(1,20,o.typeNamePlural)),_(2),m("hidden",0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),_(5),m("pngxIfPermissions",Pe(22,d5,o.PermissionAction.Add,o.permissionType)),_(6),Ze("ngModel",o.nameFilter),_(),m("pageSize",25)("collectionSize",o.collectionSize),Ze("page",o.page),m("maxSize",5),_(7),Ze("ngModel",o.togggleAll),m("disabled",0===o.data.length),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),We(o.extraColumns),_(5),N(o.loading?44:-1),_(),We(o.data),_(2),N(o.loading?-1:47))},dependencies:[s5,or,M2,Ro,vc,Xt,Ti,Zo,jt,Rn,qt,Dr,No,bo,Jo,yo,Vs,Rr,f0,ic,Gt,Jt],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}"]})}}return t})();const b4t=(t,n)=>n.id,Ac=(t,n)=>({action:t,type:n});function S4t(t,n){if(1&t){const e=F();d(0,"button",25),T("click",function(){return b(e),S(g().editWorkflow())}),w(1,"i-bs",26),A(2,"\xa0"),ae(3),M(4,6),le(),u()}}function E4t(t,n){1&t&&(d(0,"li",20),w(1,"div",27),ae(2),M(3,7),le(),u())}function A4t(t,n){if(1&t){const e=F();d(0,"input",46,0),je("ngModelChange",function(o){b(e);const s=g().$implicit;return $e(s.enabled,o)||(s.enabled=o),S(o)}),T("change",function(){b(e);const o=g().$implicit;return S(g().toggleWorkflowEnabled(o))}),u()}if(2&t){const e=g().$implicit;m("id",e.id+"_enable"),Ze("ngModel",e.enabled)}}function O4t(t,n){1&t&&(ae(0),M(1,8),le())}function y4t(t,n){1&t&&(d(0,"span",35),M(1,9),u())}function N4t(t,n){if(1&t){const e=F();d(0,"button",47),T("click",function(){b(e);const o=g().$implicit;return S(g().editWorkflow(o))}),M(1,10),u()}}function D4t(t,n){if(1&t){const e=F();d(0,"button",47),T("click",function(){b(e);const o=g().$implicit;return S(g().deleteWorkflow(o))}),M(1,11),u()}}function P4t(t,n){if(1&t){const e=F();d(0,"button",47),T("click",function(){b(e);const o=g().$implicit;return S(g().copyWorkflow(o))}),M(1,12),u()}}function I4t(t,n){if(1&t){const e=F();d(0,"button",48),T("click",function(){b(e);const o=g().$implicit;return S(g().editWorkflow(o))}),w(1,"i-bs",49),A(2,"\xa0"),ae(3),M(4,13),le(),u()}}function x4t(t,n){if(1&t){const e=F();d(0,"button",50),T("click",function(){b(e);const o=g().$implicit;return S(g().deleteWorkflow(o))}),w(1,"i-bs",51),A(2,"\xa0"),ae(3),M(4,14),le(),u()}}function L4t(t,n){if(1&t){const e=F();d(0,"button",48),T("click",function(){b(e);const o=g().$implicit;return S(g().copyWorkflow(o))}),w(1,"i-bs",52),A(2,"\xa0"),ae(3),M(4,15),le(),u()}}function R4t(t,n){if(1&t){const e=F();d(0,"li",20)(1,"div",28)(2,"div",29)(3,"button",30),T("click",function(){const o=b(e).$implicit;return S(g().editWorkflow(o))}),A(4),u()(),d(5,"div",31)(6,"code"),A(7),u()(),d(8,"div",29)(9,"div",32),y(10,A4t,2,2,"input",33),d(11,"label",34)(12,"code"),y(13,O4t,2,0,"ng-container")(14,y4t,2,0,"span",35),u()()()(),d(15,"div",31),A(16),u(),d(17,"div",22)(18,"div",36)(19,"div",37)(20,"button",38),T("click",function(o){return b(e),S(o.stopPropagation())}),w(21,"i-bs",39),u(),d(22,"div",40),y(23,N4t,2,0,"button",41)(24,D4t,2,0,"button",41)(25,P4t,2,0,"button",41),u()()(),d(26,"div",42)(27,"div",43),y(28,I4t,5,0,"button",44)(29,x4t,5,0,"button",45),u(),d(30,"div",43),y(31,L4t,5,0,"button",44),u()()()()()}if(2&t){const e=n.$implicit,i=g();_(),Ce("show",i.show),_(2),m("disabled",!i.permissionsService.currentUserCan(i.PermissionAction.Change,i.PermissionType.Workflow)),_(),oe(e.name),_(3),oe(e.order),_(3),m("pngxIfPermissions",Pe(15,Ac,i.PermissionAction.Change,i.PermissionType.Workflow)),_(),m("for",e.id+"_enable"),_(2),N(e.enabled?13:14),_(3),oe(i.getTypesList(e)),_(7),m("pngxIfPermissions",Pe(18,Ac,i.PermissionAction.Change,i.PermissionType.Workflow)),_(),m("pngxIfPermissions",Pe(21,Ac,i.PermissionAction.Delete,i.PermissionType.Workflow)),_(),m("pngxIfPermissions",Pe(24,Ac,i.PermissionAction.Add,i.PermissionType.Workflow)),_(3),m("pngxIfPermissions",Pe(27,Ac,i.PermissionAction.Change,i.PermissionType.Workflow)),_(),m("pngxIfPermissions",Pe(30,Ac,i.PermissionAction.Delete,i.PermissionType.Workflow)),_(2),m("pngxIfPermissions",Pe(33,Ac,i.PermissionAction.Add,i.PermissionType.Workflow))}}function F4t(t,n){1&t&&(d(0,"li",20),M(1,16),u()),2&t&&Ce("show",g().show)}let k4t=(()=>{class t extends ns{constructor(e,i,o,s){super(),this.workflowService=e,this.permissionsService=i,this.modalService=o,this.toastService=s,this.workflows=[]}ngOnInit(){this.reload()}reload(){this.loading=!0,this.workflowService.listAll().pipe(Te(this.unsubscribeNotifier),un(e=>this.workflows=e.results),I1(100)).subscribe(()=>{this.show=!0,this.loading=!1})}getTypesList(e){return e.triggers.map(i=>jB.find(o=>o.id===i.type).name).join(", ")}editWorkflow(e,i=!1){const o=this.modalService.open(KB,{backdrop:"static",size:"xl"});if(o.componentInstance.dialogMode=e&&!i?Oi.EDIT:Oi.CREATE,e){const s=Object.assign({},e);s.actions=[...e.actions],s.triggers=[...e.triggers],o.componentInstance.object=s}o.componentInstance.succeeded.pipe(Te(this.unsubscribeNotifier)).subscribe(s=>{this.toastService.showInfo("Saved workflow \"" + s.name + "\"."),this.workflowService.clearCache(),this.reload()}),o.componentInstance.failed.pipe(Te(this.unsubscribeNotifier)).subscribe(s=>{this.toastService.showError("Error saving workflow.",s)})}copyWorkflow(e){const i=Object.assign({},e);i.id=null,i.name=`${e.name} (copy)`,i.actions=[...e.actions.map(o=>(o.id=null,o.webhook&&(o.webhook.id=null),o.email&&(o.email.id=null),o))],i.triggers=[...e.triggers.map(o=>(o.id=null,o))],this.editWorkflow(i,!0)}deleteWorkflow(e){const i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Confirm delete workflow",i.componentInstance.messageBold="This operation will permanently delete this workflow.",i.componentInstance.message="This operation cannot be undone.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="Proceed",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.workflowService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted workflow \"" + e.name + "\"."),this.workflowService.clearCache(),this.reload()},error:o=>{this.toastService.showError("Error deleting workflow \"" + e.name + "\".",o)}})})}toggleWorkflowEnabled(e){this.workflowService.patch(e).subscribe({next:()=>{this.toastService.showInfo(e.enabled?"Enabled workflow \"" + e.name + "\"":"Disabled workflow \"" + e.name + "\""),this.workflowService.clearCache(),this.reload()},error:i=>{this.toastService.showError("Error toggling workflow \"" + e.name + "\".",i)}})}static{this.\u0275fac=function(i){return new(i||t)(x(ZB),x(ti),x(Do),x(Fi))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-workflows"]],features:[st],decls:19,vars:6,consts:()=>{let e,i,o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k;return e="Workflows",i="Use workflows to customize the behavior of Paperless-ngx when events 'trigger' a workflow.",o="Name",s="Sort order",r="Status",a="Triggers",l="Actions",c="Add Workflow",h="Loading...",p="Enabled",f="Disabled",v="Edit",C="Delete",E="Copy",D="Edit",P="Delete",I="Copy",k="No workflows defined.",[["inputField",""],o,s,r,a,l,c,h,p,f,v,C,E,D,P,I,k,["title",e,"info",i,"infoLink","usage/#workflows"],["type","button","class","btn btn-sm btn-outline-primary",3,"click",4,"pngxIfPermissions"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],[1,"col","d-none","d-sm-flex"],[1,"list-group-item",3,"show"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","plus-circle"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"row","fade"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],[1,"col","d-flex","align-items-center","d-none","d-sm-flex"],[1,"form-check","form-switch","mb-0"],["type","checkbox","class","form-check-input cursor-pointer",3,"id","ngModel","ngModelChange","change",4,"pngxIfPermissions"],[1,"form-check-label","cursor-pointer",3,"for"],[1,"text-muted"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["role","toolbar",1,"btn-toolbar","d-none","d-sm-flex","gap-2"],[1,"btn-group"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger","type","button",3,"click",4,"pngxIfPermissions"],["type","checkbox",1,"form-check-input","cursor-pointer",3,"ngModelChange","change","id","ngModel"],["ngbDropdownItem","",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1em","height","1em","name","trash"],["width","1em","height","1em","name","files"]]},template:function(i,o){1&i&&(d(0,"pngx-page-header",17),y(1,S4t,5,0,"button",18),u(),d(2,"ul",19)(3,"li",20)(4,"div",21)(5,"div",22),M(6,1),u(),d(7,"div",23),M(8,2),u(),d(9,"div",22),M(10,3),u(),d(11,"div",23),M(12,4),u(),d(13,"div",22),M(14,5),u()()(),y(15,E4t,4,0,"li",20),Ue(16,R4t,32,36,"li",20,b4t),y(18,F4t,2,2,"li",24),u()),2&i&&(_(),m("pngxIfPermissions",Pe(3,Ac,o.PermissionAction.Add,o.PermissionType.Workflow)),_(14),N(o.loading&&0===o.workflows.length?15:-1),_(),We(o.workflows),_(2),N(o.loading||0!==o.workflows.length?-1:18))},dependencies:[or,Ro,Xt,Zo,jt,Rn,qt,No,bo,Jo,yo,Vs,Rr,Gt,Jt],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}}return t})();function z4t(t,n){if(1&t&&w(0,"img",2),2&t){const e=g();lo(e.getClasses()),ai("src",e.customLogo,cs),Un("style","height:"+e.height,R7)}}function V4t(t,n){if(1&t&&(qu(),d(0,"svg",3),w(1,"path",4),d(2,"g",5),w(3,"path",6)(4,"path",7)(5,"path",8)(6,"path",9)(7,"rect",10)(8,"path",11)(9,"path",12)(10,"path",13)(11,"rect",14)(12,"path",15)(13,"path",16)(14,"polygon",17)(15,"path",18),u()()),2&t){const e=g();lo(e.getClasses()),Un("style","height:"+e.height,R7)}}let H4t=(()=>{class t{get customLogo(){return this.settingsService.get(Me.APP_LOGO)?.length?gi.apiBaseUrl.replace(/\/api\/$/,this.settingsService.get(Me.APP_LOGO)):null}constructor(e){this.settingsService=e,this.height="6em"}getClasses(){return["logo"].concat(this.extra_classes).join(" ")}static{this.\u0275fac=function(i){return new(i||t)(x(En))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-logo"]],inputs:{extra_classes:"extra_classes",height:"height"},decls:2,vars:1,consts:[[3,"src","class"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 2897.4 896.6",3,"class"],[3,"src"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 2897.4 896.6"],["d","M140,713.7c-3.4-16.4-10.3-49.1-11.2-49.1c-145.7-87.1-128.4-238-80.2-324.2C59,449,251.2,524,139.1,656.8 c-0.9,1.7,5.2,22.4,10.3,41.4c22.4-37.9,56-83.6,54.3-87.9C65.9,273.9,496.9,248.1,586.6,39.4c40.5,201.8-20.7,513.9-367.2,593.2 c-1.7,0.9-62.9,108.6-65.5,109.5c0-1.7-25.9-0.9-22.4-9.5C133.1,727.4,136.6,720.6,140,713.7L140,713.7z M135.7,632.6 c44-50.9-7.8-137.9-38.8-166.4C149.5,556.7,146,609.3,135.7,632.6L135.7,632.6z","transform","translate(0)",1,"leaf",2,"fill","#17541f"],[1,"text",2,"fill","#000"],["d","M1022.3,428.7c-17.8-19.9-42.7-29.8-74.7-29.8c-22.3,0-42.4,5.7-60.5,17.3c-18.1,11.6-32.3,27.5-42.5,47.8 s-15.3,42.9-15.3,67.8c0,24.9,5.1,47.5,15.3,67.8c10.3,20.3,24.4,36.2,42.5,47.8c18.1,11.5,38.3,17.3,60.5,17.3 c32,0,56.9-9.9,74.7-29.8v20.4v0.2h84.5V408.3h-84.5V428.7z M1010.5,575c-10.2,11.7-23.6,17.6-40.2,17.6s-29.9-5.9-40-17.6 s-15.1-26.1-15.1-43.3c0-17.1,5-31.6,15.1-43.3s23.4-17.6,40-17.6c16.6,0,30,5.9,40.2,17.6s15.3,26.1,15.3,43.3 S1020.7,563.3,1010.5,575z","transform","translate(0)"],["d","M1381,416.1c-18.1-11.5-38.3-17.3-60.5-17.4c-32,0-56.9,9.9-74.7,29.8v-20.4h-84.5v390.7h84.5v-164 c17.8,19.9,42.7,29.8,74.7,29.8c22.3,0,42.4-5.7,60.5-17.3s32.3-27.5,42.5-47.8c10.2-20.3,15.3-42.9,15.3-67.8s-5.1-47.5-15.3-67.8 C1413.2,443.6,1399.1,427.7,1381,416.1z M1337.9,575c-10.1,11.7-23.4,17.6-40,17.6s-29.9-5.9-40-17.6s-15.1-26.1-15.1-43.3 c0-17.1,5-31.6,15.1-43.3s23.4-17.6,40-17.6s29.9,5.9,40,17.6s15.1,26.1,15.1,43.3S1347.9,563.3,1337.9,575z","transform","translate(0)"],["d","M1672.2,416.8c-20.5-12-43-18-67.6-18c-24.9,0-47.6,5.9-68,17.6c-20.4,11.7-36.5,27.7-48.2,48s-17.6,42.7-17.6,67.3 c0.3,25.2,6.2,47.8,17.8,68c11.5,20.2,28,36,49.3,47.6c21.3,11.5,45.9,17.3,73.8,17.3c48.6,0,86.8-14.7,114.7-44l-52.5-48.9 c-8.6,8.3-17.6,14.6-26.7,19c-9.3,4.3-21.1,6.4-35.3,6.4c-11.6,0-22.5-3.6-32.7-10.9c-10.3-7.3-17.1-16.5-20.7-27.8h180l0.4-11.6 c0-29.6-6-55.7-18-78.2S1692.6,428.8,1672.2,416.8z M1558.3,503.2c2.1-12.1,7.5-21.8,16.2-29.1s18.7-10.9,30-10.9 s21.2,3.6,29.8,10.9c8.6,7.2,13.9,16.9,16,29.1H1558.3z","transform","translate(0)"],["d","M1895.3,411.7c-11,5.6-20.3,13.7-28,24.4h-0.1v-28h-84.5v247.3h84.5V536.3c0-22.6,4.7-38.1,14.2-46.5 c9.5-8.5,22.7-12.7,39.6-12.7c6.2,0,13.5,1,21.8,3.1l10.7-72c-5.9-3.3-14.5-4.9-25.8-4.9C1917.1,403.3,1906.3,406.1,1895.3,411.7z","transform","translate(0)"],["x","1985","y","277.4","width","84.5","height","377.8","transform","translate(0)"],["d","M2313.2,416.8c-20.5-12-43-18-67.6-18c-24.9,0-47.6,5.9-68,17.6s-36.5,27.7-48.2,48c-11.7,20.3-17.6,42.7-17.6,67.3 c0.3,25.2,6.2,47.8,17.8,68c11.5,20.2,28,36,49.3,47.6c21.3,11.5,45.9,17.3,73.8,17.3c48.6,0,86.8-14.7,114.7-44l-52.5-48.9 c-8.6,8.3-17.6,14.6-26.7,19c-9.3,4.3-21.1,6.4-35.3,6.4c-11.6,0-22.5-3.6-32.7-10.9c-10.3-7.3-17.1-16.5-20.7-27.8h180l0.4-11.6 c0-29.6-6-55.7-18-78.2S2333.6,428.8,2313.2,416.8z M2199.3,503.2c2.1-12.1,7.5-21.8,16.2-29.1s18.7-10.9,30-10.9 s21.2,3.6,29.8,10.9c8.6,7.2,13.9,16.9,16,29.1H2199.3z","transform","translate(0)"],["d","M2583.6,507.7c-13.8-4.4-30.6-8.1-50.5-11.1c-15.1-2.7-26.1-5.2-32.9-7.6c-6.8-2.4-10.2-6.1-10.2-11.1s2.3-8.7,6.7-10.9 c4.4-2.2,11.5-3.3,21.3-3.3c11.6,0,24.3,2.4,38.1,7.2c13.9,4.8,26.2,11,36.9,18.4l32.4-58.2c-11.3-7.4-26.2-14.7-44.9-21.8 c-18.7-7.1-39.6-10.7-62.7-10.7c-33.7,0-60.2,7.6-79.3,22.7c-19.1,15.1-28.7,36.1-28.7,63.1c0,19,4.8,33.9,14.4,44.7 c9.6,10.8,21,18.5,34,22.9c13.1,4.5,28.9,8.3,47.6,11.6c14.6,2.7,25.1,5.3,31.6,7.8s9.8,6.5,9.8,11.8c0,10.4-9.7,15.6-29.3,15.6 c-13.7,0-28.5-2.3-44.7-6.9c-16.1-4.6-29.2-11.3-39.3-20.2l-33.3,60c9.2,7.4,24.6,14.7,46.2,22c21.7,7.3,45.2,10.9,70.7,10.9 c34.7,0,62.9-7.4,84.5-22.4c21.7-15,32.5-37.3,32.5-66.9c0-19.3-5-34.2-15.1-44.9S2597.4,512.1,2583.6,507.7z","transform","translate(0)"],["d","M2883.4,575.3c0-19.3-5-34.2-15.1-44.9s-22-18.3-35.8-22.7c-13.8-4.4-30.6-8.1-50.5-11.1c-15.1-2.7-26.1-5.2-32.9-7.6 c-6.8-2.4-10.2-6.1-10.2-11.1s2.3-8.7,6.7-10.9c4.4-2.2,11.5-3.3,21.3-3.3c11.6,0,24.3,2.4,38.1,7.2c13.9,4.8,26.2,11,36.9,18.4 l32.4-58.2c-11.3-7.4-26.2-14.7-44.9-21.8c-18.7-7.1-39.6-10.7-62.7-10.7c-33.7,0-60.2,7.6-79.3,22.7 c-19.1,15.1-28.7,36.1-28.7,63.1c0,19,4.8,33.9,14.4,44.7c9.6,10.8,21,18.5,34,22.9c13.1,4.5,28.9,8.3,47.6,11.6 c14.6,2.7,25.1,5.3,31.6,7.8s9.8,6.5,9.8,11.8c0,10.4-9.7,15.6-29.3,15.6c-13.7,0-28.5-2.3-44.7-6.9c-16.1-4.6-29.2-11.3-39.3-20.2 l-33.3,60c9.2,7.4,24.6,14.7,46.2,22c21.7,7.3,45.2,10.9,70.7,10.9c34.7,0,62.9-7.4,84.5-22.4 C2872.6,627.2,2883.4,604.9,2883.4,575.3z","transform","translate(0)"],["x","2460.7","y","738.7","width","59.6","height","17.2","transform","translate(0)"],["d","M2596.5,706.4c-5.7,0-11,1-15.8,3s-9,5-12.5,8.9v-9.4h-19.4v93.6h19.4v-52c0-8.6,2.1-15.3,6.3-20c4.2-4.7,9.5-7.1,15.9-7.1 c7.8,0,13.4,2.3,16.8,6.7c3.4,4.5,5.1,11.3,5.1,20.5v52h19.4v-56.8c0-12.8-3.2-22.6-9.5-29.3 C2615.8,709.8,2607.3,706.4,2596.5,706.4z","transform","translate(0)"],["d","M2733.8,717.7c-3.6-3.4-7.9-6.1-13.1-8.2s-10.6-3.1-16.2-3.1c-8.7,0-16.5,2.1-23.5,6.3s-12.5,10-16.5,17.3 c-4,7.3-6,15.4-6,24.4c0,8.9,2,17.1,6,24.3c4,7.3,9.5,13,16.5,17.2s14.9,6.3,23.5,6.3c5.6,0,11-1,16.2-3.1 c5.1-2.1,9.5-4.8,13.1-8.2v24.4c0,8.5-2.5,14.8-7.6,18.7c-5,3.9-11,5.9-18,5.9c-6.7,0-12.4-1.6-17.3-4.7c-4.8-3.1-7.6-7.7-8.3-13.8 h-19.4c0.6,7.7,2.9,14.2,7.1,19.5s9.6,9.3,16.2,12c6.6,2.7,13.8,4,21.7,4c12.8,0,23.5-3.4,32-10.1c8.6-6.7,12.8-17.1,12.8-31.1 V708.9h-19.2V717.7z M2732.2,770.1c-2.5,4.7-6,8.3-10.4,11.2c-4.4,2.7-9.4,4-14.9,4c-5.7,0-10.8-1.4-15.2-4.3s-7.8-6.7-10.2-11.4 c-2.3-4.8-3.5-9.8-3.5-15.2c0-5.5,1.1-10.6,3.5-15.3s5.8-8.5,10.2-11.3s9.5-4.2,15.2-4.2c5.5,0,10.5,1.4,14.9,4s7.9,6.3,10.4,11 s3.8,10,3.8,15.8S2734.7,765.4,2732.2,770.1z","transform","translate(0)"],["points","2867.9,708.9 2846.5,708.9 2820.9,741.9 2795.5,708.9 2773.1,708.9 2809.1,755 2771.5,802.5 2792.9,802.5  2820.1,767.9 2847.2,802.6 2869.6,802.6 2832,754.4 \t","transform","translate(0)"],["d","M757.6,293.7c-20-10.8-42.6-16.2-67.8-16.2H600c-8.5,39.2-21.1,76.4-37.6,111.3c-9.9,20.8-21.1,40.6-33.6,59.4v207.2h88.9 V521.5h72c25.2,0,47.8-5.4,67.8-16.2s35.7-25.6,47.1-44.2c11.4-18.7,17.1-39.1,17.1-61.3c0.1-22.7-5.6-43.3-17-61.9 C793.3,319.2,777.6,304.5,757.6,293.7z M716.6,434.3c-9.3,8.9-21.6,13.3-36.7,13.3l-62.2,0.4v-92.5l62.2-0.4 c15.1,0,27.3,4.4,36.7,13.3c9.4,8.9,14,19.9,14,32.9C730.6,414.5,726,425.4,716.6,434.3z","transform","translate(0)"]],template:function(i,o){1&i&&y(0,z4t,1,4,"img",0)(1,V4t,16,3,":svg:svg",1),2&i&&N(o.customLogo?0:1)},encapsulation:2})}}return t})(),$4t=(()=>{class t{constructor(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-not-found"]],decls:14,vars:0,consts:()=>{let e,i;return e="Not Found",i="Go to Dashboard",[e,i,[1,"d-sm-flex","flex-wrap","p-2","align-items-center","justify-content-center",2,"height","75vh"],[1,"p-4","pt-0"],[1,"fw-bold",2,"font-size","10rem"],[1,"display-6"],["routerLink","/dashboard",1,"btn","btn-primary"],["width","1.2em","height","1.2em","name","house"],["extra_classes","p-3 position-absolute bottom-0 start-50 translate-middle"]]},template:function(i,o){1&i&&(d(0,"div",2)(1,"div",3)(2,"h1",4),A(3,"404"),u()(),d(4,"div",3)(5,"h1",5),M(6,0),u(),d(7,"p")(8,"a",6),w(9,"i-bs",7),A(10,"\xa0"),ae(11),M(12,1),le(),u()()(),w(13,"pngx-logo",8),u())},dependencies:[H4t,Gt,Jt,aa,Vr],encapsulation:2})}}return t})(),TU=(()=>{class t{canDeactivate(e){return!!e.canDeactivate()||confirm("Warning: You have unsaved changes to your document(s).")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})(),wU=(()=>{class t extends Ket{constructor(e){super(),this.modalService=e}confirmChanges(){let e=this.modalService.open(Ui,{backdrop:"static"});e.componentInstance.title="Unsaved Changes",e.componentInstance.messageBold="You have unsaved changes.",e.componentInstance.message="Are you sure you want to leave?",e.componentInstance.btnClass="btn-warning",e.componentInstance.btnCaption="Leave page",e.componentInstance.confirmClicked.subscribe(()=>{e.componentInstance.buttonsEnabled=!1,e.close()});const i=new xe;return e.componentInstance.confirmSubject=i,i.asObservable()}static{this.\u0275fac=function(i){return new(i||t)(Be(Do))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xb=(()=>{class t{constructor(e,i){this.modalService=e,this.settings=i}canDeactivate(e){return!e.savedViewIsModified||!this.settings.get(Me.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE)||this.warn(e)}warn(e){let i=this.modalService.open(Ui,{backdrop:"static"});i.componentInstance.title="Unsaved Changes",i.componentInstance.messageBold="You have unsaved changes to the saved view"+' "'+e.getTitle(),i.componentInstance.message="Are you sure you want to close this saved view?",i.componentInstance.btnClass="btn-secondary",i.componentInstance.btnCaption="Close",i.componentInstance.alternativeBtnClass="btn-primary",i.componentInstance.alternativeBtnCaption="Save and close",i.componentInstance.alternativeClicked.pipe(ut()).subscribe(()=>{i.componentInstance.buttonsEnabled=!1,e.saveViewConfig(),i.close()}),i.componentInstance.confirmClicked.pipe(ut()).subscribe(()=>{i.componentInstance.buttonsEnabled=!1,i.close()});const o=new xe;return i.componentInstance.confirmSubject=o,i.componentInstance.alternativeSubject=o,o}static{this.\u0275fac=function(i){return new(i||t)(Be(Do),Be(En))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})(),os=(()=>{class t{constructor(e,i,o,s){this.permissionsService=e,this.router=i,this.toastService=o,this.tourService=s}canActivate(e,i){return!(e.data.requireAdmin&&!this.permissionsService.isAdmin()||e.data.requiredPermission&&!this.permissionsService.currentUserCan(e.data.requiredPermission.action,e.data.requiredPermission.type))||(1!==this.tourService.getStatus()&&this.toastService.showError("You don't have permissions to do that"),this.router.parseUrl("/dashboard"))}static{this.\u0275fac=function(i){return new(i||t)(Be(ti),Be(Lo),Be(Fi),Be(dc))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})();const G4t=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"",component:B5t,canDeactivate:[TU],children:[{path:"dashboard",component:e_t},{path:"documents",component:pU,canDeactivate:[xb],canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.Document}}},{path:"view/:id",component:pU,canDeactivate:[xb],canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.SavedView}}},{path:"documents/:id",component:Lm,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.Document}}},{path:"documents/:id/:section",component:Lm,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.Document}}},{path:"asn/:id",component:t_t,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.Document}}},{path:"tags",component:w4t,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.Tag}}},{path:"documenttypes",component:V3t,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.DocumentType}}},{path:"correspondents",component:a3t,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.Correspondent}}},{path:"storagepaths",component:n4t,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.StoragePath}}},{path:"logs",component:znt,canActivate:[os],data:{requireAdmin:!0}},{path:"trash",component:L0t,canActivate:[os],data:{requiredPermission:{action:mt.Delete,type:Ct.Document}}},{path:"settings/mail",redirectTo:"/mail"},{path:"settings/usersgroups",redirectTo:"/usersgroups"},{path:"settings/savedviews",redirectTo:"/savedviews"},{path:"settings",component:kB,canDeactivate:[wU],canActivate:[os],data:{requiredPermission:{action:mt.Change,type:Ct.UISettings}}},{path:"settings/:section",component:kB,canDeactivate:[wU],canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.UISettings}}},{path:"config",component:Dnt,canActivate:[os],data:{requiredPermission:{action:mt.Change,type:Ct.AppConfig}}},{path:"tasks",component:p0t,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.PaperlessTask}}},{path:"customfields",component:C3t,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.CustomField}}},{path:"workflows",component:k4t,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.Workflow}}},{path:"mail",component:b6t,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.MailAccount}}},{path:"usersgroups",component:nlt,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.User}}},{path:"savedviews",component:F6t,canActivate:[os],data:{requiredPermission:{action:mt.View,type:Ct.SavedView}}}]},{path:"404",component:$4t},{path:"**",redirectTo:"/404",pathMatch:"full"}];let B4t=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Bn({type:t})}static{this.\u0275inj=Vn({imports:[aa.forRoot(G4t),aa]})}}return t})();const U4t=(t,n)=>n.id;function W4t(t,n){if(1&t){const e=F();d(0,"pngx-toast",1),T("close",function(){return b(e),S(g().closeToast())}),u()}2&t&&m("toast",n.$implicit)("autohide",!0)}let Z4t=(()=>{class t{constructor(e){this.toastService=e,this.toasts=[]}ngOnDestroy(){this.subscription?.unsubscribe()}ngOnInit(){this.subscription=this.toastService.showToast.subscribe(e=>{this.toasts=e?[e]:[]})}closeToast(){this.toastService.closeToast(this.toasts[0]),this.toasts=[]}static{this.\u0275fac=function(i){return new(i||t)(x(Fi))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-toasts"]],decls:2,vars:0,consts:[[3,"toast","autohide"],[3,"close","toast","autohide"]],template:function(i,o){1&i&&Ue(0,W4t,1,2,"pngx-toast",0,U4t),2&i&&We(o.toasts)},dependencies:[YB,Ed,Y0,Gt],styles:["[_nghost-%COMP%]{position:fixed;top:0;right:calc(50% - var(--pngx-toast-max-width) / 2);margin:.3em;z-index:1200}.toast[_ngcontent-%COMP%]:not(.show){display:block}"]})}}return t})();const j4t=["ngxFileDrop"],X4t=[[["","content",""]]],K4t=["[content]"];let q4t=(()=>{class t{constructor(e,i,o,s){this.settings=e,this.toastService=i,this.uploadDocumentsService=o,this.permissionsService=s,this.fileIsOver=!1,this.hidden=!0}get dragDropEnabled(){return this.settings.globalDropzoneEnabled&&this.permissionsService.currentUserCan(mt.Add,Ct.Document)}onDragOver(e){!this.dragDropEnabled||!e.dataTransfer?.types?.includes("Files")||(e.preventDefault(),e.stopImmediatePropagation(),this.settings.globalDropzoneActive=!0,setTimeout(()=>{this.fileIsOver=!0},1),this.hidden=!1,clearTimeout(this.fileLeaveTimeoutID))}onDragLeave(e,i=!1){this.dragDropEnabled&&(e?.preventDefault(),e?.stopImmediatePropagation(),this.settings.globalDropzoneActive=!1,this.fileLeaveTimeoutID=setTimeout(()=>{this.fileIsOver=!1,setTimeout(()=>{this.hidden=!0},150)},i?0:500))}onDrop(e){this.dragDropEnabled&&(e.preventDefault(),e.stopImmediatePropagation(),this.ngxFileDrop.dropFiles(e),this.onDragLeave(e,!0))}dropped(e){this.uploadDocumentsService.onNgxFileDrop(e),e.length>0&&this.toastService.showInfo("Initiating upload...",3e3)}onWindowBlur(){this.fileIsOver&&this.onDragLeave(null)}onVisibilityChange(){document.hidden&&this.fileIsOver&&this.onDragLeave(null)}static{this.\u0275fac=function(i){return new(i||t)(x(En),x(Fi),x(oU),x(ti))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-file-drop"]],viewQuery:function(i,o){if(1&i&&dn(j4t,5),2&i){let s;pt(s=gt())&&(o.ngxFileDrop=s.first)}},hostBindings:function(i,o){1&i&&T("dragover",function(r){return o.onDragOver(r)},0,Mh)("dragleave",function(r){return o.onDragLeave(r)},!1,Mh)("drop",function(r){return o.onDrop(r)},!1,Mh)("blur",function(r){return o.onWindowBlur(r)},!1,t0)("visibilitychange",function(r){return o.onVisibilityChange(r)},!1,Mh)},ngContentSelectors:K4t,decls:7,vars:6,consts:()=>{let e;return e="Drop files to begin upload",[["ngxFileDrop",""],e,[1,"global-dropzone-overlay","position-fixed","top-0","start-0","bottom-0","end-0","text-center","pe-none","fade"],[1,"pe-none","position-absolute","top-50","start-50","translate-middle"],["dropZoneClassName","visually-hidden","contentClassName","visually-hidden",3,"onFileDrop"]]},template:function(i,o){if(1&i){const s=F();Ys(X4t),d(0,"div"),ks(1),u(),d(2,"div",2)(3,"h2",3),M(4,1),u()(),d(5,"ngx-file-drop",4,0),T("onFileDrop",function(a){return b(s),S(o.dropped(a))}),u()}2&i&&(Ce("pe-none",o.fileIsOver),_(2),Ce("show",o.fileIsOver)("hide",o.hidden))},dependencies:[BH,GH],styles:[".global-dropzone-overlay[_ngcontent-%COMP%]{background-color:hsla(var(--pngx-primary),var(--pngx-primary-lightness),.8);z-index:1200}.global-dropzone-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--pngx-primary-text-contrast)}"]})}}return t})();function Y4t(t,n){if(1&t){const e=F();d(0,"button",10),T("click",function(){return b(e),S(g(2).tourService.prev())}),A(1),u()}if(2&t){const e=g().step;_(),Le(" \xab ",null==e?null:e.prevBtnTitle," ")}}function Q4t(t,n){if(1&t){const e=F();d(0,"button",10),T("click",function(){return b(e),S(g(2).tourService.next())}),A(1),u()}if(2&t){const e=g().step;_(),Le(" ",null==e?null:e.nextBtnTitle," \xbb ")}}function J4t(t,n){if(1&t){const e=F();w(0,"p",2)(1,"hr"),d(2,"div",3)(3,"span",4),A(4),u(),d(5,"div",5)(6,"div",6)(7,"button",7),T("click",function(){return b(e),S(g().tourService.end())}),A(8),u()(),d(9,"div",8),y(10,Y4t,2,1,"button",9)(11,Q4t,2,1,"button",9),u()()()}if(2&t){const e=n.step,i=g();m("innerHTML",null==e?null:e.content,vo),_(4),Sa("",(null==i.tourService.steps?null:i.tourService.steps.indexOf(e))+1," / ",null==i.tourService.steps?null:i.tourService.steps.length,""),_(4),Le(" ",null==e?null:e.endBtnTitle," "),_(2),N(i.tourService.hasPrev(e)?10:-1),_(),N(i.tourService.hasNext(e)?11:-1)}}let emt=(()=>{class t{constructor(e,i,o,s,r,a,l,c,h,p){this.settings=e,this.websocketStatusService=i,this.toastService=o,this.router=s,this.tasksService=r,this.tourService=a,this.renderer=l,this.permissionsService=c,this.hotKeyService=h,this.componentRouterService=p,window.pdfWorkerSrc="assets/js/pdf.worker.min.mjs",this.settings.updateAppearanceSettings()}ngOnDestroy(){this.websocketStatusService.disconnect(),this.successSubscription&&this.successSubscription.unsubscribe(),this.failedSubscription&&this.failedSubscription.unsubscribe(),this.newDocumentSubscription&&this.newDocumentSubscription.unsubscribe()}showNotification(e){return("/dashboard"!=this.router.url||!this.settings.get(Me.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD))&&this.settings.get(e)}ngOnInit(){this.websocketStatusService.connect(),this.successSubscription=this.websocketStatusService.onDocumentConsumptionFinished().subscribe(s=>{this.tasksService.reload(),this.showNotification(Me.NOTIFICATIONS_CONSUMER_SUCCESS)&&(this.permissionsService.currentUserCan(mt.View,Ct.Document)?this.toastService.show({content:"Document " + s.filename + " was added to Paperless-ngx.",delay:1e4,actionName:"Open document",action:()=>{this.router.navigate(["documents",s.documentId])}}):this.toastService.show({content:"Document " + s.filename + " was added to Paperless-ngx.",delay:1e4}))}),this.failedSubscription=this.websocketStatusService.onDocumentConsumptionFailed().subscribe(s=>{this.tasksService.reload(),this.showNotification(Me.NOTIFICATIONS_CONSUMER_FAILED)&&this.toastService.showError("Could not add " + s.filename + ": " + s.message + "")}),this.newDocumentSubscription=this.websocketStatusService.onDocumentDetected().subscribe(s=>{this.tasksService.reload(),this.showNotification(Me.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT)&&this.toastService.show({content:"Document " + s.filename + " is being processed by Paperless-ngx.",delay:5e3})}),this.hotKeyService.addShortcut({keys:"h",description:"Dashboard"}).subscribe(()=>{this.router.navigate(["/dashboard"])}),this.permissionsService.currentUserCan(mt.View,Ct.Document)&&this.hotKeyService.addShortcut({keys:"d",description:"Documents"}).subscribe(()=>{this.router.navigate(["/documents"])}),this.permissionsService.currentUserCan(mt.Change,Ct.UISettings)&&this.hotKeyService.addShortcut({keys:"s",description:"Settings"}).subscribe(()=>{this.router.navigate(["/settings"])});const e="Prev",i="Next",o="End";this.tourService.initialize([{anchorId:"tour.dashboard",content:"The dashboard can be used to show saved views, such as an 'Inbox'. Views are found under Manage > Saved Views once you have created some.",route:"/dashboard",delayAfterNavigation:500,isOptional:!1},{anchorId:"tour.upload-widget",content:"Drag-and-drop documents here to start uploading or place them in the consume folder. You can also drag-and-drop documents anywhere on all other pages of the web app. Once you do, Paperless-ngx will start training its machine learning algorithms.",route:"/dashboard"},{anchorId:"tour.documents",content:"The documents list shows all of your documents and allows for filtering as well as bulk-editing. There are three different view styles: list, small cards and large cards. A list of documents currently opened for editing is shown in the sidebar.",route:"/documents?sort=created&reverse=1&page=1",delayAfterNavigation:500,placement:"bottom"},{anchorId:"tour.documents-filter-editor",content:"The filtering tools allow you to quickly find documents using various searches, dates, tags, etc.",route:"/documents?sort=created&reverse=1&page=1",placement:"bottom"},{anchorId:"tour.documents-views",content:"Any combination of filters can be saved as a 'view' which can then be displayed on the dashboard and / or sidebar.",route:"/documents?sort=created&reverse=1&page=1"},{anchorId:"tour.tags",content:"Tags, correspondents, document types and storage paths can all be managed using these pages. They can also be created from the document edit view.",route:"/tags",backdropConfig:{offset:0}},{anchorId:"tour.mail",content:"Manage e-mail accounts and rules for automatically importing documents.",route:"/mail",backdropConfig:{offset:0}},{anchorId:"tour.workflows",content:"Workflows give you more control over the document pipeline.",route:"/workflows",backdropConfig:{offset:0}},{anchorId:"tour.file-tasks",content:"File Tasks shows you documents that have been consumed, are waiting to be, or may have failed during the process.",route:"/tasks",backdropConfig:{offset:0}},{anchorId:"tour.settings",content:"Check out the settings for various tweaks to the web app.",route:"/settings",backdropConfig:{offset:0}},{anchorId:"tour.outro",title:"Thank you! \uD83D\uDE4F",content:"There are <em>tons</em> more features and info we didn't cover here, but this should get you started. Check out the documentation or visit the project on GitHub to learn more or to report issues."+"<br/><br/>"+"Lastly, on behalf of every contributor to this community-supported project, thank you for using Paperless-ngx!",route:"/dashboard",isOptional:!1,backdropConfig:{offset:0}}],{enableBackdrop:!0,backdropConfig:{offset:10},prevBtnTitle:e,nextBtnTitle:i,endBtnTitle:o,isOptional:!0,useLegacyTitle:!0}),this.tourService.start$.subscribe(()=>{this.renderer.addClass(document.body,"tour-active"),this.tourService.end$.pipe(ut()).subscribe(()=>{this.settings.completeTour(),setTimeout(()=>{this.renderer.removeClass(document.body,"tour-active")},500)})})}static{this.\u0275fac=function(i){return new(i||t)(x(En),x(zu),x(Fi),x(Lo),x(wm),x(dc),x(s1),x(ti),x(hg),x(xB))}}static{this.\u0275cmp=ke({type:t,selectors:[["pngx-root"]],decls:7,vars:0,consts:[["tourStep",""],["content",""],[1,"tour-step-content",3,"innerHTML"],[1,"d-flex","justify-content-between","align-items-center"],[1,"badge","bg-light","text-dark"],["role","toolbar","aria-label","Controls",1,"tour-step-navigation","btn-toolbar"],["role","group","aria-label","Dismiss",1,"btn-group","btn-group-sm","me-2"],[1,"btn","btn-outline-danger",3,"click"],["role","group","aria-label","Previous / Next",1,"btn-group","btn-group-sm","align-self-end"],[1,"btn","btn-outline-primary"],[1,"btn","btn-outline-primary",3,"click"]],template:function(i,o){1&i&&(w(0,"pngx-toasts"),d(1,"pngx-file-drop"),ae(2,1),w(3,"router-outlet"),le(),u(),d(4,"tour-step-template"),y(5,J4t,12,6,"ng-template",null,0,zt),u())},dependencies:[q4t,Z4t,hc,oG,W4],encapsulation:2})}}return t})(),tmt=(()=>{class t{constructor(){}intercept(e,i){return e=e.clone({setHeaders:{Accept:`application/json; version=${gi.apiVersion}`}}),i.handle(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})(),nmt=(()=>{class t{constructor(e,i){this.cookieService=e,this.meta=i}intercept(e,i){let o="";this.meta.getTag("name=cookie_prefix")&&(o=this.meta.getTag("name=cookie_prefix").content);let s=this.cookieService.get(`${o}csrftoken`);return s&&(e=e.clone({setHeaders:{"X-CSRFToken":s}})),i.handle(e)}static{this.\u0275fac=function(i){return new(i||t)(Be(FT),Be(oR))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})(),imt=(()=>{class t extends np{constructor(e){super(),this.settings=e,this.separatorRegExp=/[\.,\/-]+/}getDateInputFormat(){return this.settings.getLocalizedDateInputFormat()}getDateParseRegex(){return new RegExp("^"+this.getDateInputFormat().replace("dd","(?<day>[0-9]+)").replace("mm","(?<month>[0-9]+)").replace("yyyy","(?<year>[0-9]+)").split(".").join("\\.\\s*")+"$")}preformatDateInput(e){const i=this.getDateInputFormat(),o=i.replace(/[dmy]/gi,"").charAt(0);if(this.separatorRegExp.test(e)){let s=e.split(this.separatorRegExp);if(10==e.length&&3==s.length&&4==s[0].length)return i.replace("yyyy",s[0]).replace("mm",s[1]).replace("dd",s[2]);e=s.map(r=>r.padStart(2,"0")).join("")}return 4==e.length&&"yyyy"!=i.substring(0,4)?[e.substring(0,2),e.substring(2,4),(new Date).getFullYear()].join(o):4==e.length&&"yyyy"==i.substring(0,4)?[(new Date).getFullYear(),e.substring(0,2),e.substring(2,4)].join(o):6==e.length?[e.substring(0,2),e.substring(2,4),e.substring(4,6)].join(o):8==e.length&&"yyyy"!=i.substring(0,4)?[e.substring(0,2),e.substring(2,4),e.substring(4,8)].join(o):8==e.length&&"yyyy"==i.substring(0,4)?[e.substring(0,4),e.substring(4,6),e.substring(6,8)].join(o):e}parse(e){e=this.preformatDateInput(e);let i=this.getDateParseRegex().exec(e);if(i){let o={day:+i.groups.day,month:+i.groups.month,year:+i.groups.year};return o.year<=(new Date).getFullYear()-2e3?o.year+=2e3:o.year<100&&(o.year+=1900),o}return null}format(e){return e?this.getDateInputFormat().replace("dd",e.day.toString().padStart(2,"0")).replace("mm",e.month.toString().padStart(2,"0")).replace("yyyy",e.year.toString().padStart(4,"0")):null}static{this.\u0275fac=function(i){return new(i||t)(Be(En))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})();const ua=void 0,smt=["af",[["v","n"],["vm.","nm."],ua],ua,[["S","M","D","W","D","V","S"],["So.","Ma.","Di.","Wo.","Do.","Vr.","Sa."],["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],["So.","Ma.","Di.","Wo.","Do.","Vr.","Sa."]],ua,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","Mrt.","Apr.","Mei","Jun.","Jul.","Aug.","Sep.","Okt.","Nov.","Des."],["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"]],ua,[["v.C.","n.C."],ua,["voor Christus","na Christus"]],0,[6,0],["y-MM-dd","dd MMM y","dd MMMM y","EEEE dd MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",ua,ua,ua],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"ZAR","R","Suid-Afrikaanse rand",{BYN:[ua,"\u0440."],CAD:[ua,"$"],JPY:["JP\xa5","\xa5"],MXN:[ua,"$"],PHP:[ua,"\u20b1"],RON:[ua,"leu"],THB:["\u0e3f"],TWD:["NT$"],USD:[ua,"$"],ZAR:["R"]},"ltr",function omt(t){return 1===t?1:5}],ki=void 0,amt=["ar",[["\u0635","\u0645"],ki,ki],[["\u0635","\u0645"],ki,["\u0635\u0628\u0627\u062d\u064b\u0627","\u0645\u0633\u0627\u0621\u064b"]],[["\u062d","\u0646","\u062b","\u0631","\u062e","\u062c","\u0633"],["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],ki,["\u0623\u062d\u062f","\u0625\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"]],ki,[["\u064a","\u0641","\u0645","\u0623","\u0648","\u0646","\u0644","\u063a","\u0633","\u0643","\u0628","\u062f"],["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],ki],ki,[["\u0642.\u0645","\u0645"],ki,["\u0642\u0628\u0644 \u0627\u0644\u0645\u064a\u0644\u0627\u062f","\u0645\u064a\u0644\u0627\u062f\u064a"]],6,[5,6],["d\u200f/M\u200f/y","dd\u200f/MM\u200f/y","d MMMM y","EEEE\u060c d MMMM y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ki,"{1} \u0641\u064a {0}",ki],[".",",",";","\u200e%\u200e","\u200e+","\u200e-","E","\xd7","\u2030","\u221e","\u0644\u064a\u0633\xa0\u0631\u0642\u0645\u064b\u0627",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"EGP","\u062c.\u0645.\u200f","\u062c\u0646\u064a\u0647 \u0645\u0635\u0631\u064a",{AED:["\u062f.\u0625.\u200f"],ARS:[ki,"AR$"],AUD:["AU$"],BBD:[ki,"BB$"],BHD:["\u062f.\u0628.\u200f"],BMD:[ki,"BM$"],BND:[ki,"BN$"],BSD:[ki,"BS$"],BYN:[ki,"\u0440."],BZD:[ki,"BZ$"],CAD:["CA$"],CLP:[ki,"CL$"],CNY:["CN\xa5"],COP:[ki,"CO$"],CUP:[ki,"CU$"],DOP:[ki,"DO$"],DZD:["\u062f.\u062c.\u200f"],EGP:["\u062c.\u0645.\u200f","E\xa3"],FJD:[ki,"FJ$"],GBP:["UK\xa3"],GYD:[ki,"GY$"],HKD:["HK$"],IQD:["\u062f.\u0639.\u200f"],IRR:["\u0631.\u0625."],JMD:[ki,"JM$"],JOD:["\u062f.\u0623.\u200f"],JPY:["JP\xa5"],KWD:["\u062f.\u0643.\u200f"],KYD:[ki,"KY$"],LBP:["\u0644.\u0644.\u200f","L\xa3"],LRD:[ki,"$LR"],LYD:["\u062f.\u0644.\u200f"],MAD:["\u062f.\u0645.\u200f"],MRU:["\u0623.\u0645."],MXN:["MX$"],NZD:["NZ$"],OMR:["\u0631.\u0639.\u200f"],PHP:[ki,"\u20b1"],QAR:["\u0631.\u0642.\u200f"],SAR:["\u0631.\u0633.\u200f"],SBD:[ki,"SB$"],SDD:["\u062f.\u0633.\u200f"],SDG:["\u062c.\u0633."],SRD:[ki,"SR$"],SYP:["\u0644.\u0633.\u200f","\xa3"],THB:["\u0e3f"],TND:["\u062f.\u062a.\u200f"],TTD:[ki,"TT$"],TWD:["NT$"],USD:["US$"],UYU:[ki,"UY$"],YER:["\u0631.\u064a.\u200f"]},"rtl",function rmt(t){const n=t;return 0===n?0:1===n?1:2===n?2:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?3:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?4:5}],Hi=void 0,cmt=["be",[["am","pm"],["AM","PM"],Hi],[["AM","PM"],Hi,Hi],[["\u043d","\u043f","\u0430","\u0441","\u0447","\u043f","\u0441"],["\u043d\u0434","\u043f\u043d","\u0430\u045e","\u0441\u0440","\u0447\u0446","\u043f\u0442","\u0441\u0431"],["\u043d\u044f\u0434\u0437\u0435\u043b\u044f","\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a","\u0430\u045e\u0442\u043e\u0440\u0430\u043a","\u0441\u0435\u0440\u0430\u0434\u0430","\u0447\u0430\u0446\u0432\u0435\u0440","\u043f\u044f\u0442\u043d\u0456\u0446\u0430","\u0441\u0443\u0431\u043e\u0442\u0430"],["\u043d\u0434","\u043f\u043d","\u0430\u045e","\u0441\u0440","\u0447\u0446","\u043f\u0442","\u0441\u0431"]],Hi,[["\u0441","\u043b","\u0441","\u043a","\u043c","\u0447","\u043b","\u0436","\u0432","\u043a","\u043b","\u0441"],["\u0441\u0442\u0443","\u043b\u044e\u0442","\u0441\u0430\u043a","\u043a\u0440\u0430","\u043c\u0430\u044f","\u0447\u044d\u0440","\u043b\u0456\u043f","\u0436\u043d\u0456","\u0432\u0435\u0440","\u043a\u0430\u0441","\u043b\u0456\u0441","\u0441\u043d\u0435"],["\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f","\u043b\u044e\u0442\u0430\u0433\u0430","\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430","\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430","\u043c\u0430\u044f","\u0447\u044d\u0440\u0432\u0435\u043d\u044f","\u043b\u0456\u043f\u0435\u043d\u044f","\u0436\u043d\u0456\u045e\u043d\u044f","\u0432\u0435\u0440\u0430\u0441\u043d\u044f","\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430","\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430","\u0441\u043d\u0435\u0436\u043d\u044f"]],[["\u0441","\u043b","\u0441","\u043a","\u043c","\u0447","\u043b","\u0436","\u0432","\u043a","\u043b","\u0441"],["\u0441\u0442\u0443","\u043b\u044e\u0442","\u0441\u0430\u043a","\u043a\u0440\u0430","\u043c\u0430\u0439","\u0447\u044d\u0440","\u043b\u0456\u043f","\u0436\u043d\u0456","\u0432\u0435\u0440","\u043a\u0430\u0441","\u043b\u0456\u0441","\u0441\u043d\u0435"],["\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c","\u043b\u044e\u0442\u044b","\u0441\u0430\u043a\u0430\u0432\u0456\u043a","\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a","\u043c\u0430\u0439","\u0447\u044d\u0440\u0432\u0435\u043d\u044c","\u043b\u0456\u043f\u0435\u043d\u044c","\u0436\u043d\u0456\u0432\u0435\u043d\u044c","\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c","\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a","\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434","\u0441\u043d\u0435\u0436\u0430\u043d\u044c"]],[["\u0434\u0430 \u043d.\u044d.","\u043d.\u044d."],Hi,["\u0434\u0430 \u043d\u0430\u0440\u0430\u0434\u0436\u044d\u043d\u043d\u044f \u0425\u0440\u044b\u0441\u0442\u043e\u0432\u0430","\u0430\u0434 \u043d\u0430\u0440\u0430\u0434\u0436\u044d\u043d\u043d\u044f \u0425\u0440\u044b\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["d.MM.yy","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss, zzzz"],["{1}, {0}",Hi,"{1} '\u0443' {0}",Hi],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"BYN","Br","\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456 \u0440\u0443\u0431\u0435\u043b\u044c",{AUD:["A$"],BBD:[Hi,"Bds$"],BMD:[Hi,"BD$"],BRL:[Hi,"R$"],BSD:[Hi,"B$"],BYN:["Br"],BZD:[Hi,"BZ$"],CAD:[Hi,"CA$"],CUC:[Hi,"CUC$"],CUP:[Hi,"$MN"],DOP:[Hi,"RD$"],FJD:[Hi,"FJ$"],FKP:[Hi,"FK\xa3"],GYD:[Hi,"G$"],ISK:[Hi,"\xcdkr"],JMD:[Hi,"J$"],KYD:[Hi,"CI$"],LRD:[Hi,"L$"],MXN:["MX$"],NAD:[Hi,"N$"],NZD:[Hi,"NZ$"],PHP:[Hi,"\u20b1"],RUB:["\u20bd","\u0440\u0443\u0431."],SBD:[Hi,"SI$"],SGD:[Hi,"S$"],TTD:[Hi,"TT$"],UYU:[Hi,"$U"],XCD:["EC$"]},"ltr",function lmt(t){const n=t;return n%10==1&&n%100!=11?1:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?3:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?4:5}],Ha=void 0,umt=["bg",[["am","pm"],Ha,["\u043f\u0440.\u043e\u0431.","\u0441\u043b.\u043e\u0431."]],[["am","pm"],Ha,Ha],[["\u043d","\u043f","\u0432","\u0441","\u0447","\u043f","\u0441"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u043d\u0435\u0434\u0435\u043b\u044f","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u044f\u0434\u0430","\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a","\u043f\u0435\u0442\u044a\u043a","\u0441\u044a\u0431\u043e\u0442\u0430"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],Ha,[["\u044f","\u0444","\u043c","\u0430","\u043c","\u044e","\u044e","\u0430","\u0441","\u043e","\u043d","\u0434"],["\u044f\u043d\u0443","\u0444\u0435\u0432","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440","\u043c\u0430\u0439","\u044e\u043d\u0438","\u044e\u043b\u0438","\u0430\u0432\u0433","\u0441\u0435\u043f","\u043e\u043a\u0442","\u043d\u043e\u0435","\u0434\u0435\u043a"],["\u044f\u043d\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0439","\u044e\u043d\u0438","\u044e\u043b\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u043d\u043e\u0435\u043c\u0432\u0440\u0438","\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438"]],Ha,[["\u043f\u0440.\u0425\u0440.","\u0441\u043b.\u0425\u0440."],Ha,["\u043f\u0440\u0435\u0434\u0438 \u0425\u0440\u0438\u0441\u0442\u0430","\u0441\u043b\u0435\u0434 \u0425\u0440\u0438\u0441\u0442\u0430"]],1,[6,0],["d.MM.yy '\u0433'.","d.MM.y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["H:mm '\u0447'.","H:mm:ss '\u0447'.","H:mm:ss '\u0447'. z","H:mm:ss '\u0447'. zzzz"],["{1}, {0}",Ha,Ha,Ha],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","0.00\xa0\xa4","#E0"],"BGN","\u043b\u0432.","\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u043b\u0435\u0432",{AFN:[Ha,"Af"],AMD:[],ARS:[],AUD:[],AZN:[],BBD:[],BDT:[],BGN:["\u043b\u0432."],BMD:[],BND:[],BRL:[],BSD:[],BZD:[],CAD:[],CLP:[],CNY:[],COP:[],CRC:[],CUP:[],DOP:[],FJD:[],FKP:[],GBP:[Ha,"\xa3"],GHS:[],GIP:[],GYD:[],HKD:[],ILS:[],INR:[],JMD:[],JPY:[Ha,"\xa5"],KHR:[],KRW:[],KYD:[],KZT:[],LAK:[],LRD:[],MNT:[],MXN:[],NAD:[],NGN:[],NZD:[],PHP:[],PYG:[],RON:[],SBD:[],SGD:[],SRD:[],SSP:[],TRY:[],TTD:[],TWD:[],UAH:[],USD:["\u0449.\u0434.","$"],UYU:[],VND:[],XCD:[Ha,"$"]},"ltr",function dmt(t){return 1===t?1:5}],Hr=void 0,_mt=["ca",[["a.\xa0m.","p.\xa0m."],Hr,Hr],Hr,[["dg","dl","dt","dc","dj","dv","ds"],["dg.","dl.","dt.","dc.","dj.","dv.","ds."],["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],["dg.","dl.","dt.","dc.","dj.","dv.","ds."]],Hr,[["GN","FB","M\xc7","AB","MG","JN","JL","AG","ST","OC","NV","DS"],["de gen.","de febr.","de mar\xe7","d\u2019abr.","de maig","de juny","de jul.","d\u2019ag.","de set.","d\u2019oct.","de nov.","de des."],["de gener","de febrer","de mar\xe7","d\u2019abril","de maig","de juny","de juliol","d\u2019agost","de setembre","d\u2019octubre","de novembre","de desembre"]],[["GN","FB","M\xc7","AB","MG","JN","JL","AG","ST","OC","NV","DS"],["gen.","febr.","mar\xe7","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."],["gener","febrer","mar\xe7","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"]],[["aC","dC"],Hr,["abans de Crist","despr\xe9s de Crist"]],1,[6,0],["d/M/yy","d MMM y","d MMMM 'de' y","EEEE, d MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}","{1}, {0}","{1}, 'a' 'les' {0}",Hr],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:["AU$","$"],BRL:[Hr,"R$"],BYN:[Hr,"\u0440."],CAD:[Hr,"$"],CNY:[Hr,"\xa5"],ESP:["\u20a7"],MXN:[Hr,"$"],PHP:[Hr,"\u20b1"],THB:["\u0e3f"],USD:[Hr,"$"],VEF:[Hr,"Bs F"],XCD:[Hr,"$"],XXX:[]},"ltr",function hmt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],ha=void 0,gmt=["cs",[["dop.","odp."],ha,ha],ha,[["N","P","\xda","S","\u010c","P","S"],["ne","po","\xfat","st","\u010dt","p\xe1","so"],["ned\u011ble","pond\u011bl\xed","\xfater\xfd","st\u0159eda","\u010dtvrtek","p\xe1tek","sobota"],["ne","po","\xfat","st","\u010dt","p\xe1","so"]],ha,[["1","2","3","4","5","6","7","8","9","10","11","12"],["led","\xfano","b\u0159e","dub","kv\u011b","\u010dvn","\u010dvc","srp","z\xe1\u0159","\u0159\xedj","lis","pro"],["ledna","\xfanora","b\u0159ezna","dubna","kv\u011btna","\u010dervna","\u010dervence","srpna","z\xe1\u0159\xed","\u0159\xedjna","listopadu","prosince"]],[["1","2","3","4","5","6","7","8","9","10","11","12"],["led","\xfano","b\u0159e","dub","kv\u011b","\u010dvn","\u010dvc","srp","z\xe1\u0159","\u0159\xedj","lis","pro"],["leden","\xfanor","b\u0159ezen","duben","kv\u011bten","\u010derven","\u010dervenec","srpen","z\xe1\u0159\xed","\u0159\xedjen","listopad","prosinec"]],[["p\u0159.n.l.","n.l."],["p\u0159. n. l.","n. l."],["p\u0159ed na\u0161\xedm letopo\u010dtem","na\u0161eho letopo\u010dtu"]],1,[6,0],["dd.MM.yy","d. M. y","d. MMMM y","EEEE d. MMMM y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss zzzz"],["{1} {0}",ha,ha,ha],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"CZK","K\u010d","\u010desk\xe1 koruna",{AUD:["AU$","$"],BYN:[ha,"\u0440."],CSK:["K\u010ds"],CZK:["K\u010d"],ILS:[ha,"\u20aa"],INR:[ha,"\u20b9"],JPY:["JP\xa5","\xa5"],PHP:[ha,"\u20b1"],RON:[ha,"L"],RUR:[ha,"\u0440."],TWD:["NT$"],USD:["US$","$"],VND:[ha,"\u20ab"],XEU:["ECU"],XXX:[]},"ltr",function pmt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:e===Math.floor(e)&&e>=2&&e<=4&&0===i?3:0!==i?4:5}],$a=void 0,mmt=["da",[["a","p"],["AM","PM"],$a],[["AM","PM"],$a,$a],[["S","M","T","O","T","F","L"],["s\xf8n.","man.","tir.","ons.","tor.","fre.","l\xf8r."],["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],["s\xf8","ma","ti","on","to","fr","l\xf8"]],[["S","M","T","O","T","F","L"],["s\xf8n","man","tir","ons","tor","fre","l\xf8r"],["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],["s\xf8","ma","ti","on","to","fr","l\xf8"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mar.","apr.","maj","jun.","jul.","aug.","sep.","okt.","nov.","dec."],["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"]],$a,[["fKr","eKr"],["f.Kr.","e.Kr."],$a],1,[6,0],["dd.MM.y","d. MMM y","d. MMMM y","EEEE 'den' d. MMMM y"],["HH.mm","HH.mm.ss","HH.mm.ss z","HH.mm.ss zzzz"],["{1} {0}",$a,"{1} 'kl'. {0}",$a],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN","."],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"DKK","kr.","dansk krone",{AUD:["AU$","$"],BYN:[$a,"Br."],DKK:["kr."],ISK:[$a,"kr."],JPY:["JP\xa5","\xa5"],NOK:[$a,"kr."],PHP:[$a,"\u20b1"],RON:[$a,"L"],SEK:[$a,"kr."],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function fmt(t){const n=t,e=Math.floor(Math.abs(t)),i=parseInt(t.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;return 1===n||0!==i&&(0===e||1===e)?1:5}],Us=void 0,Cmt=["de",[["AM","PM"],Us,Us],Us,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],Us,Us],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Us,"{1} 'um' {0}",Us],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[Us,"\u0440."],CUC:[Us,"Cub$"],DEM:["DM"],FKP:[Us,"Fl\xa3"],GHS:[Us,"\u20b5"],GNF:[Us,"F.G."],KMF:[Us,"FC"],PHP:[Us,"\u20b1"],RON:[Us,"L"],RUR:[Us,"\u0440."],RWF:[Us,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[Us,"K"]},"ltr",function vmt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],Oc=void 0,Tmt=["el",[["\u03c0\u03bc","\u03bc\u03bc"],["\u03c0.\u03bc.","\u03bc.\u03bc."],Oc],Oc,[["\u039a","\u0394","\u03a4","\u03a4","\u03a0","\u03a0","\u03a3"],["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5","\u03a4\u03c1\u03af","\u03a4\u03b5\u03c4","\u03a0\u03ad\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03ac\u03b2"],["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"],["\u039a\u03c5","\u0394\u03b5","\u03a4\u03c1","\u03a4\u03b5","\u03a0\u03ad","\u03a0\u03b1","\u03a3\u03ac"]],Oc,[["\u0399","\u03a6","\u039c","\u0391","\u039c","\u0399","\u0399","\u0391","\u03a3","\u039f","\u039d","\u0394"],["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03b1\u03c1","\u0391\u03c0\u03c1","\u039c\u03b1\u0390","\u0399\u03bf\u03c5\u03bd","\u0399\u03bf\u03c5\u03bb","\u0391\u03c5\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03b5","\u0394\u03b5\u03ba"],["\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5","\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5","\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5","\u039c\u03b1\u0390\u03bf\u03c5","\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5","\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5","\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5","\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5","\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5","\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5","\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5"]],[["\u0399","\u03a6","\u039c","\u0391","\u039c","\u0399","\u0399","\u0391","\u03a3","\u039f","\u039d","\u0394"],["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03ac\u03c1","\u0391\u03c0\u03c1","\u039c\u03ac\u03b9","\u0399\u03bf\u03cd\u03bd","\u0399\u03bf\u03cd\u03bb","\u0391\u03cd\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03ad","\u0394\u03b5\u03ba"],["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"]],[["\u03c0.\u03a7.","\u03bc.\u03a7."],Oc,["\u03c0\u03c1\u03bf \u03a7\u03c1\u03b9\u03c3\u03c4\u03bf\u03cd","\u03bc\u03b5\u03c4\u03ac \u03a7\u03c1\u03b9\u03c3\u03c4\u03cc\u03bd"]],1,[6,0],["d/M/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oc,"{1} - {0}",Oc],[",",".",";","%","+","-","e","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","\u0395\u03c5\u03c1\u03ce",{BYN:[Oc,"\u0440."],GRD:["\u0394\u03c1\u03c7"],JPY:["JP\xa5","\xa5"],PHP:[Oc,"\u20b1"],THB:["\u0e3f"]},"ltr",function Mmt(t){return 1===t?1:5}],u5=void 0,bmt=["en-GB",[["a","p"],["am","pm"],u5],[["am","pm"],u5,u5],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u5,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u5,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",u5,"{1} 'at' {0}",u5],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"GBP","\xa3","British Pound",{JPY:["JP\xa5","\xa5"],USD:["US$","$"]},"ltr",function wmt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],so=void 0,Emt=["es",[["a.\xa0m.","p.\xa0m."],so,so],so,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],so,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],so,[["a. C.","d. C."],so,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",so,so,so],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[so,"$"],BRL:[so,"R$"],BYN:[so,"\u0440."],CAD:[so,"$"],CNY:[so,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[so,"\xa3"],HKD:[so,"$"],ILS:[so,"\u20aa"],INR:[so,"\u20b9"],JPY:[so,"\xa5"],KRW:[so,"\u20a9"],MXN:[so,"$"],NZD:[so,"$"],PHP:[so,"\u20b1"],RON:[so,"L"],THB:["\u0e3f"],TWD:[so,"NT$"],USD:["US$","$"],XAF:[],XCD:[so,"$"],XOF:[]},"ltr",function Smt(t){const n=t,e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===n?1:0===o&&0!==e&&e%1e6==0&&0===i||!(o>=0&&o<=5)?4:5}],h5=void 0,Omt=["fi",[["ap.","ip."],h5,h5],h5,[["S","M","T","K","T","P","L"],["su","ma","ti","ke","to","pe","la"],["sunnuntaina","maanantaina","tiistaina","keskiviikkona","torstaina","perjantaina","lauantaina"],["su","ma","ti","ke","to","pe","la"]],[["S","M","T","K","T","P","L"],["su","ma","ti","ke","to","pe","la"],["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],["su","ma","ti","ke","to","pe","la"]],[["T","H","M","H","T","K","H","E","S","L","M","J"],["tammik.","helmik.","maalisk.","huhtik.","toukok.","kes\xe4k.","hein\xe4k.","elok.","syysk.","lokak.","marrask.","jouluk."],["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kes\xe4kuuta","hein\xe4kuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"]],[["T","H","M","H","T","K","H","E","S","L","M","J"],["tammi","helmi","maalis","huhti","touko","kes\xe4","hein\xe4","elo","syys","loka","marras","joulu"],["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xe4kuu","hein\xe4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"]],[["eKr","jKr"],["eKr.","jKr."],["ennen Kristuksen syntym\xe4\xe4","j\xe4lkeen Kristuksen syntym\xe4n"]],1,[6,0],["d.M.y",h5,"d. MMMM y","cccc d. MMMM y"],["H.mm","H.mm.ss","H.mm.ss z","H.mm.ss zzzz"],["{1} {0}","{1} 'klo' {0}",h5,h5],[",","\xa0",";","%","+","\u2212","E","\xd7","\u2030","\u221e","ep\xe4luku","."],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AOA:[],ARS:[],AUD:[],BAM:[],BBD:[],BDT:[],BMD:[],BND:[],BOB:[],BRL:[],BSD:[],BWP:[],BZD:[],CAD:[],CLP:[],CNY:[],COP:[],CRC:[],CUC:[],CUP:[],CZK:[],DKK:[],DOP:[],EGP:[],ESP:[],FIM:["mk"],FJD:[],FKP:[],GEL:[],GIP:[],GNF:[],GTQ:[],GYD:[],HKD:[],HNL:[],HRK:[],HUF:[],IDR:[],ILS:[],INR:[],ISK:[],JMD:[],KHR:[],KMF:[],KPW:[],KRW:[],KYD:[],KZT:[],LAK:[],LBP:[],LKR:[],LRD:[],LTL:[],LVL:[],MGA:[],MMK:[],MNT:[],MUR:[],MXN:[],MYR:[],NAD:[],NGN:[],NIO:[],NOK:[],NPR:[],NZD:[],PHP:[],PKR:[],PLN:[],PYG:[],RON:[],RWF:[],SBD:[],SEK:[],SGD:[],SHP:[],SRD:[],SSP:[],STN:[h5,"STD"],SYP:[],THB:[],TOP:[],TRY:[],TTD:[],TWD:[],UAH:[],UYU:[],VEF:[],VND:[],XCD:[],XPF:[],XXX:[],ZAR:[],ZMW:[]},"ltr",function Amt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],ss=void 0,Nmt=["fr",[["AM","PM"],ss,ss],ss,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],ss,[["av. J.-C.","ap. J.-C."],ss,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",ss],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[ss,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[ss,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[ss,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[ss,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[ss,"\xa5"],KMF:[ss,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[ss,"$C"],NZD:["$NZ","$"],PHP:[ss,"\u20b1"],RHD:["$RH"],RON:[ss,"L"],RWF:[ss,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[ss,"$T"],TTD:["$TT","$"],TWD:[ss,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[ss,"$"],XPF:["FCFP"],ZMW:[ss,"Kw"]},"ltr",function ymt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===e||1===e?1:0===o&&0!==e&&e%1e6==0&&0===i||!(o>=0&&o<=5)?4:5}],ro=void 0,Pmt=["hu",[["de.","du."],ro,ro],ro,[["V","H","K","Sz","Cs","P","Sz"],["V","H","K","Sze","Cs","P","Szo"],["vas\xe1rnap","h\xe9tf\u0151","kedd","szerda","cs\xfct\xf6rt\xf6k","p\xe9ntek","szombat"],["V","H","K","Sze","Cs","P","Szo"]],ro,[["J","F","M","\xc1","M","J","J","A","Sz","O","N","D"],["jan.","febr.","m\xe1rc.","\xe1pr.","m\xe1j.","j\xfan.","j\xfal.","aug.","szept.","okt.","nov.","dec."],["janu\xe1r","febru\xe1r","m\xe1rcius","\xe1prilis","m\xe1jus","j\xfanius","j\xfalius","augusztus","szeptember","okt\xf3ber","november","december"]],ro,[["ie.","isz."],["i. e.","i. sz."],["Krisztus el\u0151tt","id\u0151sz\xe1m\xedt\xe1sunk szerint"]],1,[6,0],["y. MM. dd.","y. MMM d.","y. MMMM d.","y. MMMM d., EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss zzzz"],["{1} {0}",ro,ro,ro],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"HUF","Ft","magyar forint",{AUD:[ro,"$"],BRL:[ro,"R$"],BYN:[ro,"\u0440."],CAD:[ro,"$"],CNY:[ro,"\xa5"],EUR:[ro,"\u20ac"],GBP:[ro,"\xa3"],HKD:[ro,"$"],HUF:["Ft"],ILS:[ro,"\u20aa"],INR:[ro,"\u20b9"],KRW:[ro,"\u20a9"],MXN:[ro,"$"],NZD:[ro,"$"],PHP:[ro,"\u20b1"],TWD:[ro,"NT$"],USD:[ro,"$"],VND:[ro,"\u20ab"],XCD:[ro,"$"]},"ltr",function Dmt(t){return 1===t?1:5}],Ws=void 0,xmt=["it",[["m.","p."],["AM","PM"],Ws],Ws,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],Ws,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],Ws,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Ws,"{1} {0}",Ws],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[Ws,"R$"],BYN:[Ws,"Br"],EGP:[Ws,"\xa3E"],HKD:[Ws,"$"],INR:[Ws,"\u20b9"],JPY:[Ws,"\xa5"],KRW:[Ws,"\u20a9"],MXN:[Ws,"$"],NOK:[Ws,"NKr"],THB:["\u0e3f"],TWD:[Ws,"NT$"],USD:[Ws,"$"],VND:[Ws,"\u20ab"]},"ltr",function Imt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===e&&0===i?1:0===o&&0!==e&&e%1e6==0&&0===i||!(o>=0&&o<=5)?4:5}],$r=void 0,Rmt=["ja",[["\u5348\u524d","\u5348\u5f8c"],$r,$r],$r,[["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],$r,["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]],$r,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],$r],$r,[["BC","AD"],["\u7d00\u5143\u524d","\u897f\u66a6"],$r],0,[6,0],["y/MM/dd",$r,"y\u5e74M\u6708d\u65e5","y\u5e74M\u6708d\u65e5EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H\u6642mm\u5206ss\u79d2 zzzz"],["{1} {0}",$r,$r,$r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"JPY","\uffe5","\u65e5\u672c\u5186",{BYN:[$r,"\u0440."],CNY:["\u5143","\uffe5"],JPY:["\uffe5"],PHP:[$r,"\u20b1"],RON:[$r,"\u30ec\u30a4"],XXX:[]},"ltr",function Lmt(t){return 5}],_a=void 0,kmt=["ko",[["AM","PM"],_a,["\uc624\uc804","\uc624\ud6c4"]],_a,[["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],_a,["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]],_a,[["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],_a,_a],_a,[["BC","AD"],_a,["\uae30\uc6d0\uc804","\uc11c\uae30"]],0,[6,0],["yy. M. d.","y. M. d.","y\ub144 M\uc6d4 d\uc77c","y\ub144 M\uc6d4 d\uc77c EEEE"],["a h:mm","a h:mm:ss","a h\uc2dc m\ubd84 s\ucd08 z","a h\uc2dc m\ubd84 s\ucd08 zzzz"],["{1} {0}",_a,_a,_a],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"KRW","\u20a9","\ub300\ud55c\ubbfc\uad6d \uc6d0",{AUD:["AU$","$"],BYN:[_a,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[_a,"\u20b1"],RON:[_a,"L"],TWD:["NT$"],USD:["US$","$"]},"ltr",function Fmt(t){return 5}],gl=void 0,Vmt=["lb",[["mo.","nom\xeb."],["moies","nom\xebttes"],gl],[["moies","nom\xebttes"],gl,gl],[["S","M","D","M","D","F","S"],["Son.","M\xe9i.","D\xebn.","M\xebt.","Don.","Fre.","Sam."],["Sonndeg","M\xe9indeg","D\xebnschdeg","M\xebttwoch","Donneschdeg","Freideg","Samschdeg"],["So.","M\xe9.","D\xeb.","M\xeb.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["Son","M\xe9i","D\xebn","M\xebt","Don","Fre","Sam"],["Sonndeg","M\xe9indeg","D\xebnschdeg","M\xebttwoch","Donneschdeg","Freideg","Samschdeg"],["So.","M\xe9.","D\xeb.","M\xeb.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4e.","Abr.","Mee","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4erz","Abr\xebll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4e","Abr","Mee","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4erz","Abr\xebll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],gl,gl],1,[6,0],["dd.MM.yy","d. MMM y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",gl,gl,gl],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],PHP:[gl,"\u20b1"],THB:["\u0e3f"],TWD:["NT$"]},"ltr",function zmt(t){return 1===t?1:5}],D0=void 0,$mt=["nl",[["a.m.","p.m."],D0,D0],D0,[["Z","M","D","W","D","V","Z"],["zo","ma","di","wo","do","vr","za"],["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],["zo","ma","di","wo","do","vr","za"]],D0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]],D0,[["v.C.","n.C."],["v.Chr.","n.Chr."],["voor Christus","na Christus"]],1,[6,0],["dd-MM-y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",D0,"{1} 'om' {0}",D0],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00;\xa4\xa0-#,##0.00","#E0"],"EUR","\u20ac","Euro",{AUD:["AU$","$"],BYN:[D0,"\u0440."],CAD:["C$","$"],FJD:["FJ$","$"],JPY:["JP\xa5","\xa5"],PHP:[D0,"\u20b1"],RUR:[D0,"\u0440."],SBD:["SI$","$"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"],XPF:[],XXX:[]},"ltr",function Hmt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],_o=void 0,Bmt=["no",[["a","p"],["a.m.","p.m."],_o],[["a.m.","p.m."],_o,_o],[["S","M","T","O","T","F","L"],["s\xf8n.","man.","tir.","ons.","tor.","fre.","l\xf8r."],["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],["s\xf8.","ma.","ti.","on.","to.","fr.","l\xf8."]],_o,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mar.","apr.","mai","jun.","jul.","aug.","sep.","okt.","nov.","des."],["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]],[["f.Kr.","e.Kr."],_o,["f\xf8r Kristus","etter Kristus"]],1,[6,0],["dd.MM.y","d. MMM y","d. MMMM y","EEEE d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",_o,"{1} 'kl'. {0}",_o],[",","\xa0",";","%","+","\u2212","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4\xa0#,##0.00;\xa4\xa0-#,##0.00","#E0"],"NOK","kr","norske kroner",{AUD:[_o,"$"],BRL:[_o,"R$"],BYN:[_o,"\u0440."],CAD:[_o,"$"],CNY:[_o,"\xa5"],HKD:[_o,"$"],ILS:[_o,"\u20aa"],INR:[_o,"\u20b9"],JPY:[_o,"\xa5"],KRW:[_o,"\u20a9"],MXN:[_o,"$"],NOK:["kr"],NZD:[_o,"$"],PHP:[_o,"\u20b1"],RON:[_o,"L"],TWD:[_o,"NT$"],USD:[_o,"$"],VND:[_o,"\u20ab"],XAF:[],XCD:[_o,"$"],XPF:[],XXX:[]},"ltr",function Gmt(t){return 1===t?1:5}],rs=void 0,Wmt=["pl",[["a","p"],["AM","PM"],rs],rs,[["n","p","w","\u015b","c","p","s"],["niedz.","pon.","wt.","\u015br.","czw.","pt.","sob."],["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"],["nie","pon","wto","\u015bro","czw","pi\u0105","sob"]],[["N","P","W","\u015a","C","P","S"],["niedz.","pon.","wt.","\u015br.","czw.","pt.","sob."],["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"],["nie","pon","wto","\u015bro","czw","pi\u0105","sob"]],[["s","l","m","k","m","c","l","s","w","p","l","g"],["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017a","lis","gru"],["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrze\u015bnia","pa\u017adziernika","listopada","grudnia"]],[["S","L","M","K","M","C","L","S","W","P","L","G"],["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017a","lis","gru"],["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"]],[["p.n.e.","n.e."],rs,["przed nasz\u0105 er\u0105","naszej ery"]],1,[6,0],["d.MM.y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",rs,"{1} {0}",rs],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"PLN","z\u0142","z\u0142oty polski",{AUD:[rs,"$"],CAD:[rs,"$"],CNY:[rs,"\xa5"],GBP:[rs,"\xa3"],HKD:[rs,"$"],ILS:[rs,"\u20aa"],INR:[rs,"\u20b9"],JPY:[rs,"\xa5"],KRW:[rs,"\u20a9"],MXN:[rs,"$"],NZD:[rs,"$"],PHP:[rs,"\u20b1"],PLN:["z\u0142"],RON:[rs,"lej"],TWD:[rs,"NT$"],USD:[rs,"$"],VND:[rs,"\u20ab"]},"ltr",function Umt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:0===i&&e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)?3:0===i&&1!==e&&e%10===Math.floor(e%10)&&e%10>=0&&e%10<=1||0===i&&e%10===Math.floor(e%10)&&e%10>=5&&e%10<=9||0===i&&e%100===Math.floor(e%100)&&e%100>=12&&e%100<=14?4:5}],Ga=void 0,bU=["pt",[["AM","PM"],Ga,Ga],Ga,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],Ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],Ga,[["a.C.","d.C."],Ga,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Ga,Ga,Ga],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[Ga,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[Ga,"\u20b1"],PTE:["Esc."],RON:[Ga,"L"],SYP:[Ga,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function Zmt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===Math.floor(e)&&e>=0&&e<=1?1:0===o&&0!==e&&e%1e6==0&&0===i||!(o>=0&&o<=5)?4:5}],Xi=void 0,Xmt=["ro",[["a.m.","p.m."],Xi,Xi],Xi,[["D","L","M","M","J","V","S"],["dum.","lun.","mar.","mie.","joi","vin.","s\xe2m."],["duminic\u0103","luni","mar\u021bi","miercuri","joi","vineri","s\xe2mb\u0103t\u0103"],["du.","lu.","ma.","mi.","joi","vi.","s\xe2."]],Xi,[["I","F","M","A","M","I","I","A","S","O","N","D"],["ian.","feb.","mar.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."],["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"]],Xi,[["\xee.Hr.","d.Hr."],Xi,["\xeenainte de Hristos","dup\u0103 Hristos"]],1,[6,0],["dd.MM.y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Xi,Xi,Xi],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RON","RON","leu rom\xe2nesc",{AUD:[Xi,"$"],BRL:[Xi,"R$"],BYN:[Xi,"\u0440."],CAD:[Xi,"$"],CNY:[Xi,"\xa5"],EUR:[Xi,"\u20ac"],GBP:[Xi,"\xa3"],HKD:[Xi,"$"],ILS:[Xi,"\u20aa"],INR:[Xi,"\u20b9"],JPY:[Xi,"\xa5"],KRW:[Xi,"\u20a9"],MXN:[Xi,"$"],NZD:[Xi,"$"],PHP:[Xi,"\u20b1"],TWD:[Xi,"NT$"],USD:[Xi,"$"],VND:[Xi,"\u20ab"],XCD:[Xi,"$"]},"ltr",function jmt(t){const n=t,e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:0!==i||0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=19?3:5}],U1=void 0,qmt=["ru",[["AM","PM"],U1,U1],U1,[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],U1,[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",U1,U1,U1],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{BYN:[U1,"\u0440."],GEL:[U1,"\u10da"],PHP:[U1,"\u20b1"],RON:[U1,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function Kmt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 0===i&&e%10==1&&e%100!=11?1:0===i&&e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)?3:0===i&&e%10==0||0===i&&e%10===Math.floor(e%10)&&e%10>=5&&e%10<=9||0===i&&e%100===Math.floor(e%100)&&e%100>=11&&e%100<=14?4:5}],Eo=void 0,Qmt=["sk",[["AM","PM"],Eo,Eo],Eo,[["n","p","u","s","\u0161","p","s"],["ne","po","ut","st","\u0161t","pi","so"],["nede\u013ea","pondelok","utorok","streda","\u0161tvrtok","piatok","sobota"],["ne","po","ut","st","\u0161t","pi","so"]],Eo,[["j","f","m","a","m","j","j","a","s","o","n","d"],["jan","feb","mar","apr","m\xe1j","j\xfan","j\xfal","aug","sep","okt","nov","dec"],["janu\xe1ra","febru\xe1ra","marca","apr\xedla","m\xe1ja","j\xfana","j\xfala","augusta","septembra","okt\xf3bra","novembra","decembra"]],[["j","f","m","a","m","j","j","a","s","o","n","d"],["jan","feb","mar","apr","m\xe1j","j\xfan","j\xfal","aug","sep","okt","nov","dec"],["janu\xe1r","febru\xe1r","marec","apr\xedl","m\xe1j","j\xfan","j\xfal","august","september","okt\xf3ber","november","december"]],[["pred Kr.","po Kr."],Eo,["pred Kristom","po Kristovi"]],1,[6,0],["d. M. y",Eo,"d. MMMM y","EEEE d. MMMM y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss zzzz"],["{1} {0}","{1}, {0}",Eo,Eo],[",","\xa0",";","%","+","-","e","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[Eo,"$"],BRL:[Eo,"R$"],BYN:[Eo,"\u0440."],CAD:[Eo,"$"],CNY:[Eo,"\xa5"],GBP:[Eo,"\xa3"],HKD:[Eo,"$"],ILS:["NIS","\u20aa"],INR:[Eo,"\u20b9"],JPY:[Eo,"\xa5"],KRW:[Eo,"\u20a9"],NZD:[Eo,"$"],PHP:[Eo,"\u20b1"],RUR:[Eo,"\u0440."],TWD:[Eo,"NT$"],USD:[Eo,"$"],VND:[Eo,"\u20ab"],XXX:[]},"ltr",function Ymt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:e===Math.floor(e)&&e>=2&&e<=4&&0===i?3:0!==i?4:5}],mr=void 0,e8t=["sl",[["d","p"],["dop.","pop."],mr],[["d","p"],["dop.","pop."],["dopoldne","popoldne"]],[["n","p","t","s","\u010d","p","s"],["ned.","pon.","tor.","sre.","\u010det.","pet.","sob."],["nedelja","ponedeljek","torek","sreda","\u010detrtek","petek","sobota"],["ned.","pon.","tor.","sre.","\u010det.","pet.","sob."]],mr,[["j","f","m","a","m","j","j","a","s","o","n","d"],["jan.","feb.","mar.","apr.","maj","jun.","jul.","avg.","sep.","okt.","nov.","dec."],["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"]],mr,[["pr. Kr.","po Kr."],mr,["pred Kristusom","po Kristusu"]],1,[6,0],["d. MM. yy","d. MMM y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",mr,"{1} {0}",mr],[",",".",";","%","+","\u2212","e","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","evro",{AUD:[mr,"$"],BRL:[mr,"R$"],BYN:[mr,"\u0440."],CAD:[mr,"$"],GBP:[mr,"\xa3"],MXN:[mr,"$"],NZD:[mr,"$"],PHP:[mr,"\u20b1"],TWD:[mr,"NT$"],XCD:[mr,"$"]},"ltr",function Jmt(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 0===i&&e%100==1?1:0===i&&e%100==2?2:0===i&&e%100===Math.floor(e%100)&&e%100>=3&&e%100<=4||0!==i?3:5}],Gr=void 0,n8t=["sr",[["AM","PM"],Gr,Gr],[["\u043f\u0440\u0435 \u043f\u043e\u0434\u043d\u0435","\u043f\u043e \u043f\u043e\u0434\u043d\u0435"],["AM","PM"],Gr],[["\u043d","\u043f","\u0443","\u0441","\u0447","\u043f","\u0441"],["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0443\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0443\u0431"],["\u043d\u0435\u0434\u0435\u0459\u0430","\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a","\u0443\u0442\u043e\u0440\u0430\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a","\u043f\u0435\u0442\u0430\u043a","\u0441\u0443\u0431\u043e\u0442\u0430"],["\u043d\u0435","\u043f\u043e","\u0443\u0442","\u0441\u0440","\u0447\u0435","\u043f\u0435","\u0441\u0443"]],Gr,[["\u0458","\u0444","\u043c","\u0430","\u043c","\u0458","\u0458","\u0430","\u0441","\u043e","\u043d","\u0434"],["\u0458\u0430\u043d","\u0444\u0435\u0431","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433","\u0441\u0435\u043f","\u043e\u043a\u0442","\u043d\u043e\u0432","\u0434\u0435\u0446"],["\u0458\u0430\u043d\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440","\u043e\u043a\u0442\u043e\u0431\u0430\u0440","\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440"]],Gr,[["\u043f.\u043d.\u0435.","\u043d.\u0435."],["\u043f. \u043d. \u0435.","\u043d. \u0435."],["\u043f\u0440\u0435 \u043d\u043e\u0432\u0435 \u0435\u0440\u0435","\u043d\u043e\u0432\u0435 \u0435\u0440\u0435"]],1,[6,0],["d.M.yy.","d. M. y.","d. MMMM y.","EEEE, d. MMMM y."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Gr,Gr,Gr],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"RSD","RSD","\u0441\u0440\u043f\u0441\u043a\u0438 \u0434\u0438\u043d\u0430\u0440",{AUD:[Gr,"$"],BAM:["\u041a\u041c","KM"],BYN:[Gr,"\u0440."],GEL:[Gr,"\u10da"],KRW:[Gr,"\u20a9"],NZD:[Gr,"$"],PHP:[Gr,"\u20b1"],TWD:["NT$"],USD:["US$","$"],VND:[Gr,"\u20ab"]},"ltr",function t8t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(t.toString().replace(/^[^.]*\.?/,""),10)||0;return 0===i&&e%10==1&&e%100!=11||o%10==1&&o%100!=11?1:0===i&&e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)||o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?3:5}],as=void 0,o8t=["sv",[["fm","em"],as,as],[["fm","em"],["f.m.","e.m."],["f\xf6rmiddag","eftermiddag"]],[["S","M","T","O","T","F","L"],["s\xf6n","m\xe5n","tis","ons","tors","fre","l\xf6r"],["s\xf6ndag","m\xe5ndag","tisdag","onsdag","torsdag","fredag","l\xf6rdag"],["s\xf6","m\xe5","ti","on","to","fr","l\xf6"]],as,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]],as,[["f.Kr.","e.Kr."],as,["f\xf6re Kristus","efter Kristus"]],1,[6,0],["y-MM-dd","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",as,as,as],[",","\xa0",";","%","+","\u2212","\xd710^","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"SEK","kr","svensk krona",{AUD:[as,"$"],BBD:["Bds$","$"],BMD:["BM$","$"],BRL:["BR$","R$"],BSD:["BS$","$"],BYN:[as,"\u0440."],BZD:["BZ$","$"],CNY:[as,"\xa5"],DKK:["Dkr","kr"],DOP:["RD$","$"],EEK:["Ekr"],EGP:["EG\xa3","E\xa3"],ESP:[],GBP:[as,"\xa3"],HKD:[as,"$"],IEP:["IE\xa3"],INR:[as,"\u20b9"],ISK:["Ikr","kr"],JMD:["JM$","$"],JPY:[as,"\xa5"],KRW:[as,"\u20a9"],NOK:["Nkr","kr"],NZD:[as,"$"],PHP:[as,"\u20b1"],RON:[as,"L"],SEK:["kr"],TWD:[as,"NT$"],USD:["US$","$"],VND:[as,"\u20ab"]},"ltr",function i8t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],Ba=void 0,r8t=["tr",[["\xf6\xf6","\xf6s"],["\xd6\xd6","\xd6S"],Ba],[["\xd6\xd6","\xd6S"],Ba,Ba],[["P","P","S","\xc7","P","C","C"],["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cmt"],["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],["Pa","Pt","Sa","\xc7a","Pe","Cu","Ct"]],Ba,[["O","\u015e","M","N","M","H","T","A","E","E","K","A"],["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"]],Ba,[["M\xd6","MS"],Ba,["Milattan \xd6nce","Milattan Sonra"]],1,[6,0],["d.MM.y","d MMM y","d MMMM y","d MMMM y EEEE"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Ba,Ba,Ba],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","%#,##0","\xa4#,##0.00","#E0"],"TRY","\u20ba","T\xfcrk Liras\u0131",{AUD:["AU$","$"],BYN:[Ba,"\u0440."],PHP:[Ba,"\u20b1"],RON:[Ba,"L"],RUR:[Ba,"\u0440."],THB:["\u0e3f"],TRY:["\u20ba"],TWD:["NT$"]},"ltr",function s8t(t){return 1===t?1:5}],po=void 0,l8t=["uk",[["\u0434\u043f","\u043f\u043f"],po,po],po,[["\u041d","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u043d\u0435\u0434\u0456\u043b\u044f","\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0441\u0435\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440","\u043f\u02bc\u044f\u0442\u043d\u0438\u0446\u044f","\u0441\u0443\u0431\u043e\u0442\u0430"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],po,[["\u0441","\u043b","\u0431","\u043a","\u0442","\u0447","\u043b","\u0441","\u0432","\u0436","\u043b","\u0433"],["\u0441\u0456\u0447.","\u043b\u044e\u0442.","\u0431\u0435\u0440.","\u043a\u0432\u0456\u0442.","\u0442\u0440\u0430\u0432.","\u0447\u0435\u0440\u0432.","\u043b\u0438\u043f.","\u0441\u0435\u0440\u043f.","\u0432\u0435\u0440.","\u0436\u043e\u0432\u0442.","\u043b\u0438\u0441\u0442.","\u0433\u0440\u0443\u0434."],["\u0441\u0456\u0447\u043d\u044f","\u043b\u044e\u0442\u043e\u0433\u043e","\u0431\u0435\u0440\u0435\u0437\u043d\u044f","\u043a\u0432\u0456\u0442\u043d\u044f","\u0442\u0440\u0430\u0432\u043d\u044f","\u0447\u0435\u0440\u0432\u043d\u044f","\u043b\u0438\u043f\u043d\u044f","\u0441\u0435\u0440\u043f\u043d\u044f","\u0432\u0435\u0440\u0435\u0441\u043d\u044f","\u0436\u043e\u0432\u0442\u043d\u044f","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043d\u044f"]],[["\u0421","\u041b","\u0411","\u041a","\u0422","\u0427","\u041b","\u0421","\u0412","\u0416","\u041b","\u0413"],["\u0441\u0456\u0447","\u043b\u044e\u0442","\u0431\u0435\u0440","\u043a\u0432\u0456","\u0442\u0440\u0430","\u0447\u0435\u0440","\u043b\u0438\u043f","\u0441\u0435\u0440","\u0432\u0435\u0440","\u0436\u043e\u0432","\u043b\u0438\u0441","\u0433\u0440\u0443"],["\u0441\u0456\u0447\u0435\u043d\u044c","\u043b\u044e\u0442\u0438\u0439","\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u043a\u0432\u0456\u0442\u0435\u043d\u044c","\u0442\u0440\u0430\u0432\u0435\u043d\u044c","\u0447\u0435\u0440\u0432\u0435\u043d\u044c","\u043b\u0438\u043f\u0435\u043d\u044c","\u0441\u0435\u0440\u043f\u0435\u043d\u044c","\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0436\u043e\u0432\u0442\u0435\u043d\u044c","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0433\u0440\u0443\u0434\u0435\u043d\u044c"]],[["\u0434\u043e \u043d.\u0435.","\u043d.\u0435."],["\u0434\u043e \u043d. \u0435.","\u043d. \u0435."],["\u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438","\u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438"]],1,[6,0],["dd.MM.yy","d MMM y '\u0440'.","d MMMM y '\u0440'.","EEEE, d MMMM y '\u0440'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",po,"{1} '\u043e' {0}",po],[",","\xa0",";","%","+","-","\u0415","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"UAH","\u20b4","\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u0433\u0440\u0438\u0432\u043d\u044f",{AUD:[po,"$"],BRL:[po,"R$"],BYN:[po,"\u0440."],CAD:[po,"$"],CNY:[po,"\xa5"],EUR:[po,"\u20ac"],GBP:[po,"\xa3"],HKD:[po,"$"],ILS:[po,"\u20aa"],INR:[po,"\u20b9"],KRW:[po,"\u20a9"],MXN:[po,"$"],NZD:[po,"$"],PHP:[po,"\u20b1"],RUR:[po,"\u0440."],TWD:[po,"$"],UAH:["\u20b4"],UAK:["\u043a\u0440\u0431."],USD:[po,"$"],VND:[po,"\u20ab"],XCD:[po,"$"]},"ltr",function a8t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 0===i&&e%10==1&&e%100!=11?1:0===i&&e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)?3:0===i&&e%10==0||0===i&&e%10===Math.floor(e%10)&&e%10>=5&&e%10<=9||0===i&&e%100===Math.floor(e%100)&&e%100>=11&&e%100<=14?4:5}],pa=void 0,d8t=["zh",[["\u4e0a\u5348","\u4e0b\u5348"],pa,pa],pa,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"]],pa,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]],pa,[["\u516c\u5143\u524d","\u516c\u5143"],pa,pa],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",pa,"y\u5e74M\u6708d\u65e5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",pa,pa,pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"CNY","\xa5","\u4eba\u6c11\u5e01",{AUD:["AU$","$"],BYN:[pa,"\u0440."],CNY:["\xa5"],ILR:["ILS"],JPY:["JP\xa5","\xa5"],KRW:["\uffe6","\u20a9"],PHP:[pa,"\u20b1"],RUR:[pa,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function c8t(t){return 5}],vr=void 0,h8t=["zh-Hant",[["\u4e0a\u5348","\u4e0b\u5348"],vr,vr],vr,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u9031\u65e5","\u9031\u4e00","\u9031\u4e8c","\u9031\u4e09","\u9031\u56db","\u9031\u4e94","\u9031\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]],vr,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],vr],vr,[["\u897f\u5143\u524d","\u897f\u5143"],vr,vr],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",vr,"y\u5e74M\u6708d\u65e5 EEEE"],["Bh:mm","Bh:mm:ss","Bh:mm:ss [z]","Bh:mm:ss [zzzz]"],["{1} {0}",vr,vr,vr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","\u975e\u6578\u503c",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"TWD","$","\u65b0\u53f0\u5e63",{AUD:["AU$","$"],BYN:[vr,"\u0440."],KRW:["\uffe6","\u20a9"],PHP:[vr,"\u20b1"],RON:[vr,"L"],RUR:[vr,"\u0440."],TWD:["$"],USD:["US$","$"],XXX:[]},"ltr",function u8t(t){return 5}];Ai(smt),Ai(amt),Ai(cmt),Ai(umt),Ai(_mt),Ai(gmt),Ai(mmt),Ai(Cmt),Ai(Tmt),Ai(bmt),Ai(Emt),Ai(Omt),Ai(Nmt),Ai(Pmt),Ai(xmt),Ai(Rmt),Ai(kmt),Ai(Vmt),Ai($mt),Ai(Bmt),Ai(Wmt),Ai(bU,"pt-BR"),Ai(bU,"pt-PT"),Ai(Xmt),Ai(qmt),Ai(Qmt),Ai(e8t),Ai(n8t),Ai(o8t),Ai(r8t),Ai(l8t),Ai(d8t),Ai(h8t),function b0e(t,n){return xne({rootComponent:t,...tR(n)})}(emt,{providers:[Yb(y0e,B4t,M2e,Xt,qt,Lp,BH,up,$H,hc,fd,Gt.pick({airplane:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-airplane" viewBox="0 0 16 16">\n  <path d="M6.428 1.151C6.708.591 7.213 0 8 0s1.292.592 1.572 1.151C9.861 1.73 10 2.431 10 3v3.691l5.17 2.585a1.5 1.5 0 0 1 .83 1.342V12a.5.5 0 0 1-.582.493l-5.507-.918-.375 2.253 1.318 1.318A.5.5 0 0 1 10.5 16h-5a.5.5 0 0 1-.354-.854l1.319-1.318-.376-2.253-5.507.918A.5.5 0 0 1 0 12v-1.382a1.5 1.5 0 0 1 .83-1.342L6 6.691V3c0-.568.14-1.271.428-1.849Zm.894.448C7.111 2.02 7 2.569 7 3v4a.5.5 0 0 1-.276.447l-5.448 2.724a.5.5 0 0 0-.276.447v.792l5.418-.903a.5.5 0 0 1 .575.41l.5 3a.5.5 0 0 1-.14.437L6.708 15h2.586l-.647-.646a.5.5 0 0 1-.14-.436l.5-3a.5.5 0 0 1 .576-.411L15 11.41v-.792a.5.5 0 0 0-.276-.447L9.276 7.447A.5.5 0 0 1 9 7V3c0-.432-.11-.979-.322-1.401C8.458 1.159 8.213 1 8 1c-.213 0-.458.158-.678.599Z"/>\n</svg>',archive:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-archive" viewBox="0 0 16 16">\n  <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>\n</svg>',arrowClockwise:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>\n  <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>\n</svg>',arrowCounterclockwise:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>\n  <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>\n</svg>',arrowDown:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-down" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>\n</svg>',arrowDownUp:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-down-up" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z"/>\n</svg>',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>\n</svg>',arrowRepeat:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16">\n  <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/>\n  <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/>\n</svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>\n</svg>',arrowRightShort:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/>\n</svg>',arrowUpRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M14 2.5a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0v-6z"/>\n</svg>',asterisk:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-asterisk" viewBox="0 0 16 16">\n  <path d="M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1z"/>\n</svg>',bell:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">\n  <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>\n</svg>',braces:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-braces" viewBox="0 0 16 16">\n  <path d="M2.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C3.25 2 2.49 2.759 2.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6zM13.886 7.9v.163c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456V7.332c-1.114 0-1.49-.362-1.49-1.456V4.352C13.51 2.759 12.75 2 11.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6z"/>\n</svg>',bodyText:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-body-text" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M0 .5A.5.5 0 0 1 .5 0h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 0 .5Zm0 2A.5.5 0 0 1 .5 2h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm9 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-9 2A.5.5 0 0 1 .5 4h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm5 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm-12 2A.5.5 0 0 1 .5 6h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Zm8 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-8 2A.5.5 0 0 1 .5 8h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm-7 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"/>\n</svg>',boxArrowUp:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M3.5 6a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 1 0-1h2A1.5 1.5 0 0 1 14 6.5v8a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-8A1.5 1.5 0 0 1 3.5 5h2a.5.5 0 0 1 0 1h-2z"/>\n  <path fill-rule="evenodd" d="M7.646.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 1.707V10.5a.5.5 0 0 1-1 0V1.707L5.354 3.854a.5.5 0 1 1-.708-.708l3-3z"/>\n</svg>',boxArrowUpRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"/>\n  <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"/>\n</svg>',boxes:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-boxes" viewBox="0 0 16 16">\n  <path d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"/>\n</svg>',calendar:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">\n  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>\n</svg>',calendarEvent:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-event" viewBox="0 0 16 16">\n  <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>\n  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>\n</svg>',calendarEventFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-event-fill" viewBox="0 0 16 16">\n  <path d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-3.5-7h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z"/>\n</svg>',cardChecklist:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-checklist" viewBox="0 0 16 16">\n  <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>\n  <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>\n</svg>',cardHeading:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-heading" viewBox="0 0 16 16">\n  <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>\n  <path d="M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z"/>\n</svg>',caretDown:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down" viewBox="0 0 16 16">\n  <path d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>\n</svg>',caretUp:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-up" viewBox="0 0 16 16">\n  <path d="M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z"/>\n</svg>',chatLeftText:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-left-text" viewBox="0 0 16 16">\n  <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>\n  <path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>\n</svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">\n  <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>\n</svg>',check2All:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2-all" viewBox="0 0 16 16">\n  <path d="M12.354 4.354a.5.5 0 0 0-.708-.708L5 10.293 1.854 7.146a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l7-7zm-4.208 7-.896-.897.707-.707.543.543 6.646-6.647a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708 0z"/>\n  <path d="m5.354 7.146.896.897-.707.707-.897-.896a.5.5 0 1 1 .708-.708z"/>\n</svg>',checkAll:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-all" viewBox="0 0 16 16">\n  <path d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z"/>\n</svg>',checkCircleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">\n  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>\n</svg>',checkLg:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-lg" viewBox="0 0 16 16">\n  <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>\n</svg>',chevronDoubleLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-left" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>\n  <path fill-rule="evenodd" d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>\n</svg>',chevronDoubleRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"/>\n  <path fill-rule="evenodd" d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"/>\n</svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">\n  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>\n  <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>\n</svg>',clipboardCheck:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>\n  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>\n  <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>\n</svg>',clipboardCheckFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">\n  <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>\n  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>\n</svg>',clipboardFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-fill" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>\n</svg>',dash:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">\n  <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>\n</svg>',dashCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>\n</svg>',diagram3:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-diagram-3" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"/>\n</svg>',dice5:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dice-5" viewBox="0 0 16 16">\n  <path d="M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h10zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z"/>\n  <path d="M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n</svg>',doorOpen:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-door-open" viewBox="0 0 16 16">\n  <path d="M8.5 10c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"/>\n  <path d="M10.828.122A.5.5 0 0 1 11 .5V1h.5A1.5 1.5 0 0 1 13 2.5V15h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117zM11.5 2H11v13h1V2.5a.5.5 0 0 0-.5-.5zM4 1.934V15h6V1.077l-6 .857z"/>\n</svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">\n  <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>\n  <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>\n</svg>',envelope:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope" viewBox="0 0 16 16">\n  <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>\n</svg>',envelopeAt:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-at" viewBox="0 0 16 16">\n  <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"/>\n  <path d="M14.247 14.269c1.01 0 1.587-.857 1.587-2.025v-.21C15.834 10.43 14.64 9 12.52 9h-.035C10.42 9 9 10.36 9 12.432v.214C9 14.82 10.438 16 12.358 16h.044c.594 0 1.018-.074 1.237-.175v-.73c-.245.11-.673.18-1.18.18h-.044c-1.334 0-2.571-.788-2.571-2.655v-.157c0-1.657 1.058-2.724 2.64-2.724h.04c1.535 0 2.484 1.05 2.484 2.326v.118c0 .975-.324 1.39-.639 1.39-.232 0-.41-.148-.41-.42v-2.19h-.906v.569h-.03c-.084-.298-.368-.63-.954-.63-.778 0-1.259.555-1.259 1.4v.528c0 .892.49 1.434 1.26 1.434.471 0 .896-.227 1.014-.643h.043c.118.42.617.648 1.12.648Zm-2.453-1.588v-.227c0-.546.227-.791.573-.791.297 0 .572.192.572.708v.367c0 .573-.253.744-.564.744-.354 0-.581-.215-.581-.8Z"/>\n</svg>',envelopeAtFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-at-fill" viewBox="0 0 16 16">\n  <path d="M2 2A2 2 0 0 0 .05 3.555L8 8.414l7.95-4.859A2 2 0 0 0 14 2H2Zm-2 9.8V4.698l5.803 3.546L0 11.801Zm6.761-2.97-6.57 4.026A2 2 0 0 0 2 14h6.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586l-1.239-.757ZM16 9.671V4.697l-5.803 3.546.338.208A4.482 4.482 0 0 1 12.5 8c1.414 0 2.675.652 3.5 1.671Z"/>\n  <path d="M15.834 12.244c0 1.168-.577 2.025-1.587 2.025-.503 0-1.002-.228-1.12-.648h-.043c-.118.416-.543.643-1.015.643-.77 0-1.259-.542-1.259-1.434v-.529c0-.844.481-1.4 1.26-1.4.585 0 .87.333.953.63h.03v-.568h.905v2.19c0 .272.18.42.411.42.315 0 .639-.415.639-1.39v-.118c0-1.277-.95-2.326-2.484-2.326h-.04c-1.582 0-2.64 1.067-2.64 2.724v.157c0 1.867 1.237 2.654 2.57 2.654h.045c.507 0 .935-.07 1.18-.18v.731c-.219.1-.643.175-1.237.175h-.044C10.438 16 9 14.82 9 12.646v-.214C9 10.36 10.421 9 12.485 9h.035c2.12 0 3.314 1.43 3.314 3.034v.21Zm-4.04.21v.227c0 .586.227.8.581.8.31 0 .564-.17.564-.743v-.367c0-.516-.275-.708-.572-.708-.346 0-.573.245-.573.791Z"/>\n</svg>',exclamationCircleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16">\n  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>\n</svg>',exclamationTriangle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle" viewBox="0 0 16 16">\n  <path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/>\n  <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"/>\n</svg>',exclamationTriangleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle-fill" viewBox="0 0 16 16">\n  <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>\n</svg>',eye:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">\n  <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>\n  <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>\n</svg>',fileEarmark:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark" viewBox="0 0 16 16">\n  <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>\n</svg>',fileEarmarkCheck:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-check" viewBox="0 0 16 16">\n  <path d="M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>\n  <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>\n</svg>',fileEarmarkFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-fill" viewBox="0 0 16 16">\n  <path d="M4 0h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm5.5 1.5v2a1 1 0 0 0 1 1h2l-3-3z"/>\n</svg>',fileEarmarkLock:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-lock" viewBox="0 0 16 16">\n  <path d="M10 7v1.076c.54.166 1 .597 1 1.224v2.4c0 .816-.781 1.3-1.5 1.3h-3c-.719 0-1.5-.484-1.5-1.3V9.3c0-.627.46-1.058 1-1.224V7a2 2 0 1 1 4 0zM7 7v1h2V7a1 1 0 0 0-2 0zM6 9.3v2.4c0 .042.02.107.105.175A.637.637 0 0 0 6.5 12h3a.64.64 0 0 0 .395-.125c.085-.068.105-.133.105-.175V9.3c0-.042-.02-.107-.105-.175A.637.637 0 0 0 9.5 9h-3a.637.637 0 0 0-.395.125C6.02 9.193 6 9.258 6 9.3z"/>\n  <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>\n</svg>',fileEarmarkMinus:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-minus" viewBox="0 0 16 16">\n  <path d="M5.5 9a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"/>\n  <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>\n</svg>',fileEarmarkRichtext:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-richtext" viewBox="0 0 16 16">\n  <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>\n  <path d="M4.5 12.5A.5.5 0 0 1 5 12h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 10h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm1.639-3.708 1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V8.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8s1.54-1.274 1.639-1.208zM6.25 6a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5z"/>\n</svg>',files:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-files" viewBox="0 0 16 16">\n  <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"/>\n</svg>',fileText:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-text" viewBox="0 0 16 16">\n  <path d="M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z"/>\n  <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>\n</svg>',filter:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-filter" viewBox="0 0 16 16">\n  <path d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>\n</svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder" viewBox="0 0 16 16">\n  <path d="M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"/>\n</svg>',folderFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder-fill" viewBox="0 0 16 16">\n  <path d="M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"/>\n</svg>',funnel:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-funnel" viewBox="0 0 16 16">\n  <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"/>\n</svg>',gear:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">\n  <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>\n  <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>\n</svg>',google:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-google" viewBox="0 0 16 16">\n  <path d="M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"/>\n</svg>',grid:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grid" viewBox="0 0 16 16">\n  <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>\n</svg>',gripVertical:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">\n  <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>\n</svg>',hash:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hash" viewBox="0 0 16 16">\n  <path d="M8.39 12.648a1.32 1.32 0 0 0-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304a1.06 1.06 0 0 0 .016-.164.51.51 0 0 0-.516-.516.54.54 0 0 0-.539.43l-.523 2.554H7.617l.477-2.304c.008-.04.015-.118.015-.164a.512.512 0 0 0-.523-.516.539.539 0 0 0-.531.43L6.53 5.484H5.414c-.43 0-.617.22-.617.532 0 .312.187.539.617.539h.906l-.515 2.523H4.609c-.421 0-.609.219-.609.531 0 .313.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242l-.515 2.492zm-1-6.109h2.266l-.515 2.563H6.859l.532-2.563z"/>\n</svg>',hddStack:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hdd-stack" viewBox="0 0 16 16">\n  <path d="M14 10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h12zM2 9a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2H2z"/>\n  <path d="M5 11.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM14 3a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12zM2 2a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"/>\n  <path d="M5 4.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>\n</svg>',house:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">\n  <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>\n</svg>',infoCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>\n</svg>',journals:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-journals" viewBox="0 0 16 16">\n  <path d="M5 0h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2 2 2 0 0 1-2 2H3a2 2 0 0 1-2-2h1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1H1a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v9a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1H3a2 2 0 0 1 2-2z"/>\n  <path d="M1 6v-.5a.5.5 0 0 1 1 0V6h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V9h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 2.5v.5H.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H2v-.5a.5.5 0 0 0-1 0z"/>\n</svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link" viewBox="0 0 16 16">\n  <path d="M6.354 5.5H4a3 3 0 0 0 0 6h3a3 3 0 0 0 2.83-4H9c-.086 0-.17.01-.25.031A2 2 0 0 1 7 10.5H4a2 2 0 1 1 0-4h1.535c.218-.376.495-.714.82-1z"/>\n  <path d="M9 5.5a3 3 0 0 0-2.83 4h1.098A2 2 0 0 1 9 6.5h3a2 2 0 1 1 0 4h-1.535a4.02 4.02 0 0 1-.82 1H12a3 3 0 1 0 0-6H9z"/>\n</svg>',listTask:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-task" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z"/>\n  <path d="M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z"/>\n  <path fill-rule="evenodd" d="M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z"/>\n</svg>',listUl:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>\n</svg>',microsoft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-microsoft" viewBox="0 0 16 16">\n  <path d="M7.462 0H0v7.19h7.462V0zM16 0H8.538v7.19H16V0zM7.462 8.211H0V16h7.462V8.211zm8.538 0H8.538V16H16V8.211z"/>\n</svg>',nodePlus:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-node-plus" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M11 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8zM6.025 7.5a5 5 0 1 1 0 1H4A1.5 1.5 0 0 1 2.5 10h-1A1.5 1.5 0 0 1 0 8.5v-1A1.5 1.5 0 0 1 1.5 6h1A1.5 1.5 0 0 1 4 7.5h2.025zM11 5a.5.5 0 0 1 .5.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2A.5.5 0 0 1 11 5zM1.5 7a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"/>\n</svg>',pencil:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">\n  <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>\n</svg>',people:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">\n  <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"/>\n</svg>',peopleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">\n  <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>\n</svg>',person:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">\n  <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>\n</svg>',personCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">\n  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>\n  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>\n</svg>',personFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">\n  <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>\n</svg>',personFillLock:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill-lock" viewBox="0 0 16 16">\n  <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h5v-1a1.9 1.9 0 0 1 .01-.2 4.49 4.49 0 0 1 1.534-3.693C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Zm7 0a1 1 0 0 1 1-1v-1a2 2 0 1 1 4 0v1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2Zm3-3a1 1 0 0 0-1 1v1h2v-1a1 1 0 0 0-1-1Z"/>\n</svg>',personLock:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-lock" viewBox="0 0 16 16">\n  <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 5.996V14H3s-1 0-1-1 1-4 6-4c.564 0 1.077.038 1.544.107a4.524 4.524 0 0 0-.803.918A10.46 10.46 0 0 0 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h5ZM9 13a1 1 0 0 1 1-1v-1a2 2 0 1 1 4 0v1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2Zm3-3a1 1 0 0 0-1 1v1h2v-1a1 1 0 0 0-1-1Z"/>\n</svg>',personSquare:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-square" viewBox="0 0 16 16">\n  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>\n  <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"/>\n</svg>',playFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">\n  <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>\n</svg>',plus:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">\n  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>\n</svg>',plusCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>\n</svg>',questionCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>\n</svg>',scissors:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-scissors" viewBox="0 0 16 16">\n  <path d="M3.5 3.5c-.614-.884-.074-1.962.858-2.5L8 7.226 11.642 1c.932.538 1.472 1.616.858 2.5L8.81 8.61l1.556 2.661a2.5 2.5 0 1 1-.794.637L8 9.73l-1.572 2.177a2.5 2.5 0 1 1-.794-.637L7.19 8.61 3.5 3.5zm2.5 10a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0zm7 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"/>\n</svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">\n  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>\n</svg>',send:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send" viewBox="0 0 16 16">\n  <path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"/>\n</svg>',slashCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-slash-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708z"/>\n</svg>',sliders2Vertical:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sliders2-vertical" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M0 10.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1H3V1.5a.5.5 0 0 0-1 0V10H.5a.5.5 0 0 0-.5.5ZM2.5 12a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 1 0v-2a.5.5 0 0 0-.5-.5Zm3-6.5A.5.5 0 0 0 6 6h1.5v8.5a.5.5 0 0 0 1 0V6H10a.5.5 0 0 0 0-1H6a.5.5 0 0 0-.5.5ZM8 1a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 1 0v-2A.5.5 0 0 0 8 1Zm3 9.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1H14V1.5a.5.5 0 0 0-1 0V10h-1.5a.5.5 0 0 0-.5.5Zm2.5 1.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 1 0v-2a.5.5 0 0 0-.5-.5Z"/>\n</svg>',sortAlphaDown:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-alpha-down" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"/>\n  <path d="M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z"/>\n</svg>',sortAlphaUpAlt:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-alpha-up-alt" viewBox="0 0 16 16">\n  <path d="M12.96 7H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V7z"/>\n  <path fill-rule="evenodd" d="M10.082 12.629 9.664 14H8.598l1.789-5.332h1.234L13.402 14h-1.12l-.419-1.371h-1.781zm1.57-.785L11 9.688h-.047l-.652 2.156h1.351z"/>\n  <path d="M4.5 13.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"/>\n</svg>',tagFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tag-fill" viewBox="0 0 16 16">\n  <path d="M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n</svg>',tag:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tag" viewBox="0 0 16 16">\n  <path d="M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0z"/>\n  <path d="M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1zm0 5.586 7 7L13.586 9l-7-7H2v4.586z"/>\n</svg>',tags:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tags" viewBox="0 0 16 16">\n  <path d="M3 2v4.586l7 7L14.586 9l-7-7H3zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586V2z"/>\n  <path d="M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z"/>\n</svg>',textIndentLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-text-indent-left" viewBox="0 0 16 16">\n  <path d="M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm.646 2.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L4.293 8 2.646 6.354a.5.5 0 0 1 0-.708zM7 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>\n</svg>',textLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-text-left" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>\n</svg>',threeDots:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">\n  <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>\n</svg>',threeDotsVertical:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">\n  <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n</svg>',trash:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">\n  <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>\n  <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>\n</svg>',uiRadios:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ui-radios" viewBox="0 0 16 16">\n  <path d="M7 2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1zM0 12a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm7-1.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1zm0-5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 8a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zM3 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm0 4.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>\n</svg>',upcScan:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upc-scan" viewBox="0 0 16 16">\n  <path d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5zM3 4.5a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7zm3 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7z"/>\n</svg>',windowStack:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-window-stack" viewBox="0 0 16 16">\n  <path d="M4.5 6a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1ZM6 6a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1Zm2-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"/>\n  <path d="M12 1a2 2 0 0 1 2 2 2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2 2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h10ZM2 12V5a2 2 0 0 1 2-2h9a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1Zm1-4v5a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V8H3Zm12-1V5a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v2h12Z"/>\n</svg>',x:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">\n  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n</svg>',xCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n</svg>',xLg:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">\n  <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>\n</svg>'})),{provide:Bh,useFactory:function _8t(t){return()=>t.initializeSettings()},deps:[En],multi:!0},UC,FT,{provide:N9,useClass:nmt,multi:!0},{provide:N9,useClass:tmt,multi:!0},Eb,wc,{provide:Od,useClass:ob},{provide:np,useClass:imt},os,TU,xb,Eg,wg,bg,Sg,function $ae(...t){const n=[Ji,Bx,$x,{provide:u6,useExisting:$x},{provide:h6,useFactory:()=>$(kx,{optional:!0})??$(Bx)},{provide:N_,useValue:Hae,multi:!0},{provide:D9,useValue:!0},{provide:Zx,useClass:Vae}];for(const e of t)n.push(...e.\u0275providers);return function Ml(t){return{\u0275providers:t}}(n)}(function Gae(){return function vd(t,n){return{\u0275kind:t,\u0275providers:n}}(Gl.LegacyInterceptors,[{provide:jx,useFactory:Nae},{provide:N_,useExisting:jx,multi:!0}])}())]}).catch(t=>console.error(t))},578:function(ni,wt){var $t,ht;void 0!==(ht="function"==typeof($t=function(){"use strict";function V(Z,Q,W){var q=new XMLHttpRequest;q.open("GET",Z),q.responseType="blob",q.onload=function(){j(q.response,Q,W)},q.onerror=function(){console.error("could not download file")},q.send()}function _t(Z){var Q=new XMLHttpRequest;Q.open("HEAD",Z,!1);try{Q.send()}catch{}return 200<=Q.status&&299>=Q.status}function B(Z){try{Z.dispatchEvent(new MouseEvent("click"))}catch{var Q=document.createEvent("MouseEvents");Q.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Z.dispatchEvent(Q)}}var L="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,X=L.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),j=L.saveAs||("object"!=typeof window||window!==L?function(){}:"download"in HTMLAnchorElement.prototype&&!X?function(Z,Q,W){var q=L.URL||L.webkitURL,ie=document.createElement("a");ie.download=Q=Q||Z.name||"download",ie.rel="noopener","string"==typeof Z?(ie.href=Z,ie.origin===location.origin?B(ie):_t(ie.href)?V(Z,Q,W):B(ie,ie.target="_blank")):(ie.href=q.createObjectURL(Z),setTimeout(function(){q.revokeObjectURL(ie.href)},4e4),setTimeout(function(){B(ie)},0))}:"msSaveOrOpenBlob"in navigator?function(Z,Q,W){if(Q=Q||Z.name||"download","string"!=typeof Z)navigator.msSaveOrOpenBlob(function Ut(Z,Q){return typeof Q>"u"?Q={autoBom:!1}:"object"!=typeof Q&&(console.warn("Deprecated: Expected third argument to be a object"),Q={autoBom:!Q}),Q.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Z.type)?new Blob(["\ufeff",Z],{type:Z.type}):Z}(Z,W),Q);else if(_t(Z))V(Z,Q,W);else{var q=document.createElement("a");q.href=Z,q.target="_blank",setTimeout(function(){B(q)})}}:function(Z,Q,W,q){if((q=q||open("","_blank"))&&(q.document.title=q.document.body.innerText="downloading..."),"string"==typeof Z)return V(Z,Q,W);var ie="application/octet-stream"===Z.type,U=/constructor/i.test(L.HTMLElement)||L.safari,te=/CriOS\/[\d]+/.test(navigator.userAgent);if((te||ie&&U||X)&&typeof FileReader<"u"){var se=new FileReader;se.onloadend=function(){var Y=se.result;Y=te?Y:Y.replace(/^data:[^;]*;/,"data:attachment/file;"),q?q.location.href=Y:location=Y,q=null},se.readAsDataURL(Z)}else{var ne=L.URL||L.webkitURL,H=ne.createObjectURL(Z);q?q.location=H:location.href=H,q=null,setTimeout(function(){ne.revokeObjectURL(H)},4e4)}});L.saveAs=j.saveAs=j,ni.exports=j})?$t.apply(wt,[]):$t)&&(ni.exports=ht)},453:(ni,wt,$t)=>{ni.exports=$t(731)},725:(ni,wt,$t)=>{"use strict";var _t={};(0,$t(662).assign)(_t,$t(2),$t(426),$t(498)),ni.exports=_t},2:(ni,wt,$t)=>{"use strict";var At=$t(308),ht=$t(662),Ut=$t(229),V=$t(943),_t=$t(629),B=Object.prototype.toString;function U(H){if(!(this instanceof U))return new U(H);this.options=ht.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},H||{});var Y=this.options;Y.raw&&Y.windowBits>0?Y.windowBits=-Y.windowBits:Y.gzip&&Y.windowBits>0&&Y.windowBits<16&&(Y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _t,this.strm.avail_out=0;var he=At.deflateInit2(this.strm,Y.level,Y.method,Y.windowBits,Y.memLevel,Y.strategy);if(0!==he)throw new Error(V[he]);if(Y.header&&At.deflateSetHeader(this.strm,Y.header),Y.dictionary){var J;if(J="string"==typeof Y.dictionary?Ut.string2buf(Y.dictionary):"[object ArrayBuffer]"===B.call(Y.dictionary)?new Uint8Array(Y.dictionary):Y.dictionary,0!==(he=At.deflateSetDictionary(this.strm,J)))throw new Error(V[he]);this._dict_set=!0}}function te(H,Y){var he=new U(Y);if(he.push(H,!0),he.err)throw he.msg||V[he.err];return he.result}U.prototype.push=function(H,Y){var _e,Oe,he=this.strm,J=this.options.chunkSize;if(this.ended)return!1;Oe=Y===~~Y?Y:!0===Y?4:0,he.input="string"==typeof H?Ut.string2buf(H):"[object ArrayBuffer]"===B.call(H)?new Uint8Array(H):H,he.next_in=0,he.avail_in=he.input.length;do{if(0===he.avail_out&&(he.output=new ht.Buf8(J),he.next_out=0,he.avail_out=J),1!==(_e=At.deflate(he,Oe))&&0!==_e)return this.onEnd(_e),this.ended=!0,!1;(0===he.avail_out||0===he.avail_in&&(4===Oe||2===Oe))&&this.onData("string"===this.options.to?Ut.buf2binstring(ht.shrinkBuf(he.output,he.next_out)):ht.shrinkBuf(he.output,he.next_out))}while((he.avail_in>0||0===he.avail_out)&&1!==_e);return 4===Oe?(_e=At.deflateEnd(this.strm),this.onEnd(_e),this.ended=!0,0===_e):(2===Oe&&(this.onEnd(0),he.avail_out=0),!0)},U.prototype.onData=function(H){this.chunks.push(H)},U.prototype.onEnd=function(H){0===H&&(this.result="string"===this.options.to?this.chunks.join(""):ht.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},wt.Deflate=U,wt.deflate=te,wt.deflateRaw=function se(H,Y){return(Y=Y||{}).raw=!0,te(H,Y)},wt.gzip=function ne(H,Y){return(Y=Y||{}).gzip=!0,te(H,Y)}},426:(ni,wt,$t)=>{"use strict";var At=$t(416),ht=$t(662),Ut=$t(229),V=$t(498),_t=$t(943),B=$t(629),L=$t(107),X=Object.prototype.toString;function j(W){if(!(this instanceof j))return new j(W);this.options=ht.assign({chunkSize:16384,windowBits:0,to:""},W||{});var q=this.options;q.raw&&q.windowBits>=0&&q.windowBits<16&&(q.windowBits=-q.windowBits,0===q.windowBits&&(q.windowBits=-15)),q.windowBits>=0&&q.windowBits<16&&!(W&&W.windowBits)&&(q.windowBits+=32),q.windowBits>15&&q.windowBits<48&&(15&q.windowBits||(q.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new B,this.strm.avail_out=0;var ie=At.inflateInit2(this.strm,q.windowBits);if(ie!==V.Z_OK)throw new Error(_t[ie]);if(this.header=new L,At.inflateGetHeader(this.strm,this.header),q.dictionary&&("string"==typeof q.dictionary?q.dictionary=Ut.string2buf(q.dictionary):"[object ArrayBuffer]"===X.call(q.dictionary)&&(q.dictionary=new Uint8Array(q.dictionary)),q.raw&&(ie=At.inflateSetDictionary(this.strm,q.dictionary))!==V.Z_OK))throw new Error(_t[ie])}function Z(W,q){var ie=new j(q);if(ie.push(W,!0),ie.err)throw ie.msg||_t[ie.err];return ie.result}j.prototype.push=function(W,q){var se,ne,H,Y,he,ie=this.strm,U=this.options.chunkSize,te=this.options.dictionary,J=!1;if(this.ended)return!1;ne=q===~~q?q:!0===q?V.Z_FINISH:V.Z_NO_FLUSH,ie.input="string"==typeof W?Ut.binstring2buf(W):"[object ArrayBuffer]"===X.call(W)?new Uint8Array(W):W,ie.next_in=0,ie.avail_in=ie.input.length;do{if(0===ie.avail_out&&(ie.output=new ht.Buf8(U),ie.next_out=0,ie.avail_out=U),(se=At.inflate(ie,V.Z_NO_FLUSH))===V.Z_NEED_DICT&&te&&(se=At.inflateSetDictionary(this.strm,te)),se===V.Z_BUF_ERROR&&!0===J&&(se=V.Z_OK,J=!1),se!==V.Z_STREAM_END&&se!==V.Z_OK)return this.onEnd(se),this.ended=!0,!1;ie.next_out&&(0===ie.avail_out||se===V.Z_STREAM_END||0===ie.avail_in&&(ne===V.Z_FINISH||ne===V.Z_SYNC_FLUSH))&&("string"===this.options.to?(H=Ut.utf8border(ie.output,ie.next_out),Y=ie.next_out-H,he=Ut.buf2string(ie.output,H),ie.next_out=Y,ie.avail_out=U-Y,Y&&ht.arraySet(ie.output,ie.output,H,Y,0),this.onData(he)):this.onData(ht.shrinkBuf(ie.output,ie.next_out))),0===ie.avail_in&&0===ie.avail_out&&(J=!0)}while((ie.avail_in>0||0===ie.avail_out)&&se!==V.Z_STREAM_END);return se===V.Z_STREAM_END&&(ne=V.Z_FINISH),ne===V.Z_FINISH?(se=At.inflateEnd(this.strm),this.onEnd(se),this.ended=!0,se===V.Z_OK):(ne===V.Z_SYNC_FLUSH&&(this.onEnd(V.Z_OK),ie.avail_out=0),!0)},j.prototype.onData=function(W){this.chunks.push(W)},j.prototype.onEnd=function(W){W===V.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):ht.flattenChunks(this.chunks)),this.chunks=[],this.err=W,this.msg=this.strm.msg},wt.Inflate=j,wt.inflate=Z,wt.inflateRaw=function Q(W,q){return(q=q||{}).raw=!0,Z(W,q)},wt.ungzip=Z},662:(ni,wt)=>{"use strict";var $t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function At(V,_t){return Object.prototype.hasOwnProperty.call(V,_t)}wt.assign=function(V){for(var _t=Array.prototype.slice.call(arguments,1);_t.length;){var B=_t.shift();if(B){if("object"!=typeof B)throw new TypeError(B+"must be non-object");for(var L in B)At(B,L)&&(V[L]=B[L])}}return V},wt.shrinkBuf=function(V,_t){return V.length===_t?V:V.subarray?V.subarray(0,_t):(V.length=_t,V)};var ht={arraySet:function(V,_t,B,L,X){if(_t.subarray&&V.subarray)V.set(_t.subarray(B,B+L),X);else for(var j=0;j<L;j++)V[X+j]=_t[B+j]},flattenChunks:function(V){var _t,B,L,X,j,Z;for(L=0,_t=0,B=V.length;_t<B;_t++)L+=V[_t].length;for(Z=new Uint8Array(L),X=0,_t=0,B=V.length;_t<B;_t++)Z.set(j=V[_t],X),X+=j.length;return Z}},Ut={arraySet:function(V,_t,B,L,X){for(var j=0;j<L;j++)V[X+j]=_t[B+j]},flattenChunks:function(V){return[].concat.apply([],V)}};wt.setTyped=function(V){V?(wt.Buf8=Uint8Array,wt.Buf16=Uint16Array,wt.Buf32=Int32Array,wt.assign(wt,ht)):(wt.Buf8=Array,wt.Buf16=Array,wt.Buf32=Array,wt.assign(wt,Ut))},wt.setTyped($t)},229:(ni,wt,$t)=>{"use strict";var At=$t(662),ht=!0,Ut=!0;try{String.fromCharCode.apply(null,[0])}catch{ht=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ut=!1}for(var V=new At.Buf8(256),_t=0;_t<256;_t++)V[_t]=_t>=252?6:_t>=248?5:_t>=240?4:_t>=224?3:_t>=192?2:1;function B(L,X){if(X<65534&&(L.subarray&&Ut||!L.subarray&&ht))return String.fromCharCode.apply(null,At.shrinkBuf(L,X));for(var j="",Z=0;Z<X;Z++)j+=String.fromCharCode(L[Z]);return j}V[254]=V[254]=1,wt.string2buf=function(L){var X,j,Z,Q,W,q=L.length,ie=0;for(Q=0;Q<q;Q++)55296==(64512&(j=L.charCodeAt(Q)))&&Q+1<q&&56320==(64512&(Z=L.charCodeAt(Q+1)))&&(j=65536+(j-55296<<10)+(Z-56320),Q++),ie+=j<128?1:j<2048?2:j<65536?3:4;for(X=new At.Buf8(ie),W=0,Q=0;W<ie;Q++)55296==(64512&(j=L.charCodeAt(Q)))&&Q+1<q&&56320==(64512&(Z=L.charCodeAt(Q+1)))&&(j=65536+(j-55296<<10)+(Z-56320),Q++),j<128?X[W++]=j:j<2048?(X[W++]=192|j>>>6,X[W++]=128|63&j):j<65536?(X[W++]=224|j>>>12,X[W++]=128|j>>>6&63,X[W++]=128|63&j):(X[W++]=240|j>>>18,X[W++]=128|j>>>12&63,X[W++]=128|j>>>6&63,X[W++]=128|63&j);return X},wt.buf2binstring=function(L){return B(L,L.length)},wt.binstring2buf=function(L){for(var X=new At.Buf8(L.length),j=0,Z=X.length;j<Z;j++)X[j]=L.charCodeAt(j);return X},wt.buf2string=function(L,X){var j,Z,Q,W,q=X||L.length,ie=new Array(2*q);for(Z=0,j=0;j<q;)if((Q=L[j++])<128)ie[Z++]=Q;else if((W=V[Q])>4)ie[Z++]=65533,j+=W-1;else{for(Q&=2===W?31:3===W?15:7;W>1&&j<q;)Q=Q<<6|63&L[j++],W--;W>1?ie[Z++]=65533:Q<65536?ie[Z++]=Q:(ie[Z++]=55296|(Q-=65536)>>10&1023,ie[Z++]=56320|1023&Q)}return B(ie,Z)},wt.utf8border=function(L,X){var j;for((X=X||L.length)>L.length&&(X=L.length),j=X-1;j>=0&&128==(192&L[j]);)j--;return j<0||0===j?X:j+V[L[j]]>X?j:X}},334:ni=>{"use strict";ni.exports=function wt($t,At,ht,Ut){for(var V=65535&$t,_t=$t>>>16&65535,B=0;0!==ht;){ht-=B=ht>2e3?2e3:ht;do{_t=_t+(V=V+At[Ut++]|0)|0}while(--B);V%=65521,_t%=65521}return V|_t<<16}},498:ni=>{"use strict";ni.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},208:ni=>{"use strict";var $t=function wt(){for(var ht,Ut=[],V=0;V<256;V++){ht=V;for(var _t=0;_t<8;_t++)ht=1&ht?3988292384^ht>>>1:ht>>>1;Ut[V]=ht}return Ut}();ni.exports=function At(ht,Ut,V,_t){var B=$t,L=_t+V;ht^=-1;for(var X=_t;X<L;X++)ht=ht>>>8^B[255&(ht^Ut[X])];return~ht}},308:(ni,wt,$t)=>{"use strict";var Is,At=$t(662),ht=$t(838),Ut=$t(334),V=$t(208),_t=$t(943),q=-2,lt=262;function Ko(O,De){return O.msg=_t[De],De}function ja(O){return(O<<1)-(O>4?9:0)}function $n(O){for(var De=O.length;--De>=0;)O[De]=0}function en(O){var De=O.state,Ie=De.pending;Ie>O.avail_out&&(Ie=O.avail_out),0!==Ie&&(At.arraySet(O.output,De.pending_buf,De.pending_out,Ie,O.next_out),O.next_out+=Ie,De.pending_out+=Ie,O.total_out+=Ie,O.avail_out-=Ie,De.pending-=Ie,0===De.pending&&(De.pending_out=0))}function Mn(O,De){ht._tr_flush_block(O,O.block_start>=0?O.block_start:-1,O.strstart-O.block_start,De),O.block_start=O.strstart,en(O.strm)}function Vt(O,De){O.pending_buf[O.pending++]=De}function oi(O,De){O.pending_buf[O.pending++]=De>>>8&255,O.pending_buf[O.pending++]=255&De}function Ki(O,De,Ie,G){var ce=O.avail_in;return ce>G&&(ce=G),0===ce?0:(O.avail_in-=ce,At.arraySet(De,O.input,O.next_in,ce,Ie),1===O.state.wrap?O.adler=Ut(O.adler,De,ce,Ie):2===O.state.wrap&&(O.adler=V(O.adler,De,ce,Ie)),O.next_in+=ce,O.total_in+=ce,ce)}function fn(O,De){var ce,Ae,Ie=O.max_chain_length,G=O.strstart,Qt=O.prev_length,Ot=O.nice_match,Rt=O.strstart>O.w_size-lt?O.strstart-(O.w_size-lt):0,Jn=O.window,ms=O.w_mask,go=O.prev,di=O.strstart+258,an=Jn[G+Qt-1],vs=Jn[G+Qt];O.prev_length>=O.good_match&&(Ie>>=2),Ot>O.lookahead&&(Ot=O.lookahead);do{if(Jn[(ce=De)+Qt]===vs&&Jn[ce+Qt-1]===an&&Jn[ce]===Jn[G]&&Jn[++ce]===Jn[G+1]){G+=2,ce++;do{}while(Jn[++G]===Jn[++ce]&&Jn[++G]===Jn[++ce]&&Jn[++G]===Jn[++ce]&&Jn[++G]===Jn[++ce]&&Jn[++G]===Jn[++ce]&&Jn[++G]===Jn[++ce]&&Jn[++G]===Jn[++ce]&&Jn[++G]===Jn[++ce]&&G<di);if(Ae=258-(di-G),G=di-258,Ae>Qt){if(O.match_start=De,Qt=Ae,Ae>=Ot)break;an=Jn[G+Qt-1],vs=Jn[G+Qt]}}}while((De=go[De&ms])>Rt&&0!=--Ie);return Qt<=O.lookahead?Qt:O.lookahead}function js(O){var Ie,G,ce,Ae,Qt,De=O.w_size;do{if(Ae=O.window_size-O.lookahead-O.strstart,O.strstart>=De+(De-lt)){At.arraySet(O.window,O.window,De,De,0),O.match_start-=De,O.strstart-=De,O.block_start-=De,Ie=G=O.hash_size;do{ce=O.head[--Ie],O.head[Ie]=ce>=De?ce-De:0}while(--G);Ie=G=De;do{ce=O.prev[--Ie],O.prev[Ie]=ce>=De?ce-De:0}while(--G);Ae+=De}if(0===O.strm.avail_in)break;if(G=Ki(O.strm,O.window,O.strstart+O.lookahead,Ae),O.lookahead+=G,O.lookahead+O.insert>=3)for(O.ins_h=O.window[Qt=O.strstart-O.insert],O.ins_h=(O.ins_h<<O.hash_shift^O.window[Qt+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[Qt+3-1])&O.hash_mask,O.prev[Qt&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=Qt,Qt++,O.insert--,!(O.lookahead+O.insert<3)););}while(O.lookahead<lt&&0!==O.strm.avail_in)}function fa(O,De){for(var Ie,G;;){if(O.lookahead<lt){if(js(O),O.lookahead<lt&&0===De)return 1;if(0===O.lookahead)break}if(Ie=0,O.lookahead>=3&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,Ie=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),0!==Ie&&O.strstart-Ie<=O.w_size-lt&&(O.match_length=fn(O,Ie)),O.match_length>=3)if(G=ht._tr_tally(O,O.strstart-O.match_start,O.match_length-3),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=3){O.match_length--;do{O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,Ie=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart}while(0!=--O.match_length);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else G=ht._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(G&&(Mn(O,!1),0===O.strm.avail_out))return 1}return O.insert=O.strstart<2?O.strstart:2,4===De?(Mn(O,!0),0===O.strm.avail_out?3:4):O.last_lit&&(Mn(O,!1),0===O.strm.avail_out)?1:2}function si(O,De){for(var Ie,G,ce;;){if(O.lookahead<lt){if(js(O),O.lookahead<lt&&0===De)return 1;if(0===O.lookahead)break}if(Ie=0,O.lookahead>=3&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,Ie=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=2,0!==Ie&&O.prev_length<O.max_lazy_match&&O.strstart-Ie<=O.w_size-lt&&(O.match_length=fn(O,Ie),O.match_length<=5&&(1===O.strategy||3===O.match_length&&O.strstart-O.match_start>4096)&&(O.match_length=2)),O.prev_length>=3&&O.match_length<=O.prev_length){ce=O.strstart+O.lookahead-3,G=ht._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-3),O.lookahead-=O.prev_length-1,O.prev_length-=2;do{++O.strstart<=ce&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,Ie=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart)}while(0!=--O.prev_length);if(O.match_available=0,O.match_length=2,O.strstart++,G&&(Mn(O,!1),0===O.strm.avail_out))return 1}else if(O.match_available){if((G=ht._tr_tally(O,0,O.window[O.strstart-1]))&&Mn(O,!1),O.strstart++,O.lookahead--,0===O.strm.avail_out)return 1}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(G=ht._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<2?O.strstart:2,4===De?(Mn(O,!0),0===O.strm.avail_out?3:4):O.last_lit&&(Mn(O,!1),0===O.strm.avail_out)?1:2}function fs(O,De,Ie,G,ce){this.good_length=O,this.max_lazy=De,this.nice_length=Ie,this.max_chain=G,this.func=ce}function K(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new At.Buf16(1146),this.dyn_dtree=new At.Buf16(122),this.bl_tree=new At.Buf16(78),$n(this.dyn_ltree),$n(this.dyn_dtree),$n(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new At.Buf16(16),this.heap=new At.Buf16(573),$n(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new At.Buf16(573),$n(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ot(O){var De;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=2,(De=O.state).pending=0,De.pending_out=0,De.wrap<0&&(De.wrap=-De.wrap),De.status=De.wrap?42:113,O.adler=2===De.wrap?0:1,De.last_flush=0,ht._tr_init(De),0):Ko(O,q)}function dt(O){var De=ot(O);return 0===De&&function b1(O){O.window_size=2*O.w_size,$n(O.head),O.max_lazy_match=Is[O.level].max_lazy,O.good_match=Is[O.level].good_length,O.nice_match=Is[O.level].nice_length,O.max_chain_length=Is[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=2,O.match_available=0,O.ins_h=0}(O.state),De}function ge(O,De,Ie,G,ce,Ae){if(!O)return q;var Qt=1;if(-1===De&&(De=6),G<0?(Qt=0,G=-G):G>15&&(Qt=2,G-=16),ce<1||ce>9||8!==Ie||G<8||G>15||De<0||De>9||Ae<0||Ae>4)return Ko(O,q);8===G&&(G=9);var Ot=new K;return O.state=Ot,Ot.strm=O,Ot.wrap=Qt,Ot.gzhead=null,Ot.w_bits=G,Ot.w_size=1<<Ot.w_bits,Ot.w_mask=Ot.w_size-1,Ot.hash_bits=ce+7,Ot.hash_size=1<<Ot.hash_bits,Ot.hash_mask=Ot.hash_size-1,Ot.hash_shift=~~((Ot.hash_bits+3-1)/3),Ot.window=new At.Buf8(2*Ot.w_size),Ot.head=new At.Buf16(Ot.hash_size),Ot.prev=new At.Buf16(Ot.w_size),Ot.lit_bufsize=1<<ce+6,Ot.pending_buf_size=4*Ot.lit_bufsize,Ot.pending_buf=new At.Buf8(Ot.pending_buf_size),Ot.d_buf=1*Ot.lit_bufsize,Ot.l_buf=3*Ot.lit_bufsize,Ot.level=De,Ot.strategy=Ae,Ot.method=Ie,dt(O)}Is=[new fs(0,0,0,0,function W1(O,De){var Ie=65535;for(Ie>O.pending_buf_size-5&&(Ie=O.pending_buf_size-5);;){if(O.lookahead<=1){if(js(O),0===O.lookahead&&0===De)return 1;if(0===O.lookahead)break}O.strstart+=O.lookahead,O.lookahead=0;var G=O.block_start+Ie;if((0===O.strstart||O.strstart>=G)&&(O.lookahead=O.strstart-G,O.strstart=G,Mn(O,!1),0===O.strm.avail_out)||O.strstart-O.block_start>=O.w_size-lt&&(Mn(O,!1),0===O.strm.avail_out))return 1}return O.insert=0,4===De?(Mn(O,!0),0===O.strm.avail_out?3:4):(O.strstart>O.block_start&&Mn(O,!1),1)}),new fs(4,4,8,4,fa),new fs(4,5,16,8,fa),new fs(4,6,32,32,fa),new fs(4,4,16,16,si),new fs(8,16,32,32,si),new fs(8,16,128,128,si),new fs(8,32,128,256,si),new fs(32,128,258,1024,si),new fs(32,258,258,4096,si)],wt.deflateInit=function ze(O,De){return ge(O,De,8,15,8,0)},wt.deflateInit2=ge,wt.deflateReset=dt,wt.deflateResetKeep=ot,wt.deflateSetHeader=function Lt(O,De){return O&&O.state&&2===O.state.wrap?(O.state.gzhead=De,0):q},wt.deflate=function z(O,De){var Ie,G,ce,Ae;if(!O||!O.state||De>5||De<0)return O?Ko(O,q):q;if(G=O.state,!O.output||!O.input&&0!==O.avail_in||666===G.status&&4!==De)return Ko(O,0===O.avail_out?-5:q);if(G.strm=O,Ie=G.last_flush,G.last_flush=De,42===G.status)if(2===G.wrap)O.adler=0,Vt(G,31),Vt(G,139),Vt(G,8),G.gzhead?(Vt(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),Vt(G,255&G.gzhead.time),Vt(G,G.gzhead.time>>8&255),Vt(G,G.gzhead.time>>16&255),Vt(G,G.gzhead.time>>24&255),Vt(G,9===G.level?2:G.strategy>=2||G.level<2?4:0),Vt(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(Vt(G,255&G.gzhead.extra.length),Vt(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(O.adler=V(O.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(Vt(G,0),Vt(G,0),Vt(G,0),Vt(G,0),Vt(G,0),Vt(G,9===G.level?2:G.strategy>=2||G.level<2?4:0),Vt(G,3),G.status=113);else{var Qt=8+(G.w_bits-8<<4)<<8;Qt|=(G.strategy>=2||G.level<2?0:G.level<6?1:6===G.level?2:3)<<6,0!==G.strstart&&(Qt|=32),Qt+=31-Qt%31,G.status=113,oi(G,Qt),0!==G.strstart&&(oi(G,O.adler>>>16),oi(G,65535&O.adler)),O.adler=1}if(69===G.status)if(G.gzhead.extra){for(ce=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>ce&&(O.adler=V(O.adler,G.pending_buf,G.pending-ce,ce)),en(O),ce=G.pending,G.pending!==G.pending_buf_size));)Vt(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>ce&&(O.adler=V(O.adler,G.pending_buf,G.pending-ce,ce)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(73===G.status)if(G.gzhead.name){ce=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>ce&&(O.adler=V(O.adler,G.pending_buf,G.pending-ce,ce)),en(O),ce=G.pending,G.pending===G.pending_buf_size)){Ae=1;break}Ae=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,Vt(G,Ae)}while(0!==Ae);G.gzhead.hcrc&&G.pending>ce&&(O.adler=V(O.adler,G.pending_buf,G.pending-ce,ce)),0===Ae&&(G.gzindex=0,G.status=91)}else G.status=91;if(91===G.status)if(G.gzhead.comment){ce=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>ce&&(O.adler=V(O.adler,G.pending_buf,G.pending-ce,ce)),en(O),ce=G.pending,G.pending===G.pending_buf_size)){Ae=1;break}Ae=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,Vt(G,Ae)}while(0!==Ae);G.gzhead.hcrc&&G.pending>ce&&(O.adler=V(O.adler,G.pending_buf,G.pending-ce,ce)),0===Ae&&(G.status=103)}else G.status=103;if(103===G.status&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&en(O),G.pending+2<=G.pending_buf_size&&(Vt(G,255&O.adler),Vt(G,O.adler>>8&255),O.adler=0,G.status=113)):G.status=113),0!==G.pending){if(en(O),0===O.avail_out)return G.last_flush=-1,0}else if(0===O.avail_in&&ja(De)<=ja(Ie)&&4!==De)return Ko(O,-5);if(666===G.status&&0!==O.avail_in)return Ko(O,-5);if(0!==O.avail_in||0!==G.lookahead||0!==De&&666!==G.status){var Rt=2===G.strategy?function w1(O,De){for(var Ie;;){if(0===O.lookahead&&(js(O),0===O.lookahead)){if(0===De)return 1;break}if(O.match_length=0,Ie=ht._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++,Ie&&(Mn(O,!1),0===O.strm.avail_out))return 1}return O.insert=0,4===De?(Mn(O,!0),0===O.strm.avail_out?3:4):O.last_lit&&(Mn(O,!1),0===O.strm.avail_out)?1:2}(G,De):3===G.strategy?function I0(O,De){for(var Ie,G,ce,Ae,Qt=O.window;;){if(O.lookahead<=258){if(js(O),O.lookahead<=258&&0===De)return 1;if(0===O.lookahead)break}if(O.match_length=0,O.lookahead>=3&&O.strstart>0&&(G=Qt[ce=O.strstart-1])===Qt[++ce]&&G===Qt[++ce]&&G===Qt[++ce]){Ae=O.strstart+258;do{}while(G===Qt[++ce]&&G===Qt[++ce]&&G===Qt[++ce]&&G===Qt[++ce]&&G===Qt[++ce]&&G===Qt[++ce]&&G===Qt[++ce]&&G===Qt[++ce]&&ce<Ae);O.match_length=258-(Ae-ce),O.match_length>O.lookahead&&(O.match_length=O.lookahead)}if(O.match_length>=3?(Ie=ht._tr_tally(O,1,O.match_length-3),O.lookahead-=O.match_length,O.strstart+=O.match_length,O.match_length=0):(Ie=ht._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++),Ie&&(Mn(O,!1),0===O.strm.avail_out))return 1}return O.insert=0,4===De?(Mn(O,!0),0===O.strm.avail_out?3:4):O.last_lit&&(Mn(O,!1),0===O.strm.avail_out)?1:2}(G,De):Is[G.level].func(G,De);if((3===Rt||4===Rt)&&(G.status=666),1===Rt||3===Rt)return 0===O.avail_out&&(G.last_flush=-1),0;if(2===Rt&&(1===De?ht._tr_align(G):5!==De&&(ht._tr_stored_block(G,0,0,!1),3===De&&($n(G.head),0===G.lookahead&&(G.strstart=0,G.block_start=0,G.insert=0))),en(O),0===O.avail_out))return G.last_flush=-1,0}return 4!==De?0:G.wrap<=0?1:(2===G.wrap?(Vt(G,255&O.adler),Vt(G,O.adler>>8&255),Vt(G,O.adler>>16&255),Vt(G,O.adler>>24&255),Vt(G,255&O.total_in),Vt(G,O.total_in>>8&255),Vt(G,O.total_in>>16&255),Vt(G,O.total_in>>24&255)):(oi(G,O.adler>>>16),oi(G,65535&O.adler)),en(O),G.wrap>0&&(G.wrap=-G.wrap),0!==G.pending?0:1)},wt.deflateEnd=function rt(O){var De;return O&&O.state?42!==(De=O.state.status)&&69!==De&&73!==De&&91!==De&&103!==De&&113!==De&&666!==De?Ko(O,q):(O.state=null,113===De?Ko(O,-3):0):q},wt.deflateSetDictionary=function hn(O,De){var G,ce,Ae,Qt,Ot,Rt,Jn,ms,Ie=De.length;if(!O||!O.state||2===(Qt=(G=O.state).wrap)||1===Qt&&42!==G.status||G.lookahead)return q;for(1===Qt&&(O.adler=Ut(O.adler,De,Ie,0)),G.wrap=0,Ie>=G.w_size&&(0===Qt&&($n(G.head),G.strstart=0,G.block_start=0,G.insert=0),ms=new At.Buf8(G.w_size),At.arraySet(ms,De,Ie-G.w_size,G.w_size,0),De=ms,Ie=G.w_size),Ot=O.avail_in,Rt=O.next_in,Jn=O.input,O.avail_in=Ie,O.next_in=0,O.input=De,js(G);G.lookahead>=3;){ce=G.strstart,Ae=G.lookahead-2;do{G.ins_h=(G.ins_h<<G.hash_shift^G.window[ce+3-1])&G.hash_mask,G.prev[ce&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=ce,ce++}while(--Ae);G.strstart=ce,G.lookahead=2,js(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=2,G.match_available=0,O.next_in=Rt,O.input=Jn,O.avail_in=Ot,G.wrap=Qt,0},wt.deflateInfo="pako deflate (from Nodeca project)"},107:ni=>{"use strict";ni.exports=function wt(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},282:ni=>{"use strict";ni.exports=function(ht,Ut){var V,_t,B,L,X,j,Z,Q,W,q,ie,U,te,se,ne,H,Y,he,J,_e,Oe,ve,be,Se,Re;Se=ht.input,B=(_t=ht.next_in)+(ht.avail_in-5),Re=ht.output,X=(L=ht.next_out)-(Ut-ht.avail_out),j=L+(ht.avail_out-257),Z=(V=ht.state).dmax,Q=V.wsize,W=V.whave,q=V.wnext,ie=V.window,U=V.hold,te=V.bits,se=V.lencode,ne=V.distcode,H=(1<<V.lenbits)-1,Y=(1<<V.distbits)-1;e:do{te<15&&(U+=Se[_t++]<<te,U+=Se[_t++]<<(te+=8),te+=8),he=se[U&H];t:for(;;){if(U>>>=J=he>>>24,te-=J,0==(J=he>>>16&255))Re[L++]=65535&he;else{if(!(16&J)){if(64&J){if(32&J){V.mode=12;break e}ht.msg="invalid literal/length code",V.mode=30;break e}he=se[(65535&he)+(U&(1<<J)-1)];continue t}for(_e=65535&he,(J&=15)&&(te<J&&(U+=Se[_t++]<<te,te+=8),_e+=U&(1<<J)-1,U>>>=J,te-=J),te<15&&(U+=Se[_t++]<<te,U+=Se[_t++]<<(te+=8),te+=8),he=ne[U&Y];;){if(U>>>=J=he>>>24,te-=J,16&(J=he>>>16&255)){if(Oe=65535&he,te<(J&=15)&&(U+=Se[_t++]<<te,(te+=8)<J&&(U+=Se[_t++]<<te,te+=8)),(Oe+=U&(1<<J)-1)>Z){ht.msg="invalid distance too far back",V.mode=30;break e}if(U>>>=J,te-=J,Oe>(J=L-X)){if((J=Oe-J)>W&&V.sane){ht.msg="invalid distance too far back",V.mode=30;break e}if(ve=0,be=ie,0===q){if(ve+=Q-J,J<_e){_e-=J;do{Re[L++]=ie[ve++]}while(--J);ve=L-Oe,be=Re}}else if(q<J){if(ve+=Q+q-J,(J-=q)<_e){_e-=J;do{Re[L++]=ie[ve++]}while(--J);if(ve=0,q<_e){_e-=J=q;do{Re[L++]=ie[ve++]}while(--J);ve=L-Oe,be=Re}}}else if(ve+=q-J,J<_e){_e-=J;do{Re[L++]=ie[ve++]}while(--J);ve=L-Oe,be=Re}for(;_e>2;)Re[L++]=be[ve++],Re[L++]=be[ve++],Re[L++]=be[ve++],_e-=3;_e&&(Re[L++]=be[ve++],_e>1&&(Re[L++]=be[ve++]))}else{ve=L-Oe;do{Re[L++]=Re[ve++],Re[L++]=Re[ve++],Re[L++]=Re[ve++],_e-=3}while(_e>2);_e&&(Re[L++]=Re[ve++],_e>1&&(Re[L++]=Re[ve++]))}break}if(64&J){ht.msg="invalid distance code",V.mode=30;break e}he=ne[(65535&he)+(U&(1<<J)-1)]}}break}}while(_t<B&&L<j);U&=(1<<(te-=(_e=te>>3)<<3))-1,ht.next_in=_t-=_e,ht.next_out=L,ht.avail_in=_t<B?B-_t+5:5-(_t-B),ht.avail_out=L<j?j-L+257:257-(L-j),V.hold=U,V.bits=te}},416:(ni,wt,$t)=>{"use strict";var At=$t(662),ht=$t(334),Ut=$t(208),V=$t(282),_t=$t(295),U=-2;function oi(ge){return(ge>>>24&255)+(ge>>>8&65280)+((65280&ge)<<8)+((255&ge)<<24)}function Ki(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new At.Buf16(320),this.work=new At.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function fn(ge){var ze;return ge&&ge.state?(ge.total_in=ge.total_out=(ze=ge.state).total=0,ge.msg="",ze.wrap&&(ge.adler=1&ze.wrap),ze.mode=1,ze.last=0,ze.havedict=0,ze.dmax=32768,ze.head=null,ze.hold=0,ze.bits=0,ze.lencode=ze.lendyn=new At.Buf32(852),ze.distcode=ze.distdyn=new At.Buf32(592),ze.sane=1,ze.back=-1,0):U}function js(ge){var ze;return ge&&ge.state?((ze=ge.state).wsize=0,ze.whave=0,ze.wnext=0,fn(ge)):U}function W1(ge,ze){var z,rt;return!ge||!ge.state||(rt=ge.state,ze<0?(z=0,ze=-ze):(z=1+(ze>>4),ze<48&&(ze&=15)),ze&&(ze<8||ze>15))?U:(null!==rt.window&&rt.wbits!==ze&&(rt.window=null),rt.wrap=z,rt.wbits=ze,js(ge))}function fa(ge,ze){var z,rt;return ge?(rt=new Ki,ge.state=rt,rt.window=null,0!==(z=W1(ge,ze))&&(ge.state=null),z):U}var w1,fs,I0=!0;function Is(ge){if(I0){var ze;for(w1=new At.Buf32(512),fs=new At.Buf32(32),ze=0;ze<144;)ge.lens[ze++]=8;for(;ze<256;)ge.lens[ze++]=9;for(;ze<280;)ge.lens[ze++]=7;for(;ze<288;)ge.lens[ze++]=8;for(_t(1,ge.lens,0,288,w1,0,ge.work,{bits:9}),ze=0;ze<32;)ge.lens[ze++]=5;_t(2,ge.lens,0,32,fs,0,ge.work,{bits:5}),I0=!1}ge.lencode=w1,ge.lenbits=9,ge.distcode=fs,ge.distbits=5}function b1(ge,ze,z,rt){var hn,O=ge.state;return null===O.window&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new At.Buf8(O.wsize)),rt>=O.wsize?(At.arraySet(O.window,ze,z-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):((hn=O.wsize-O.wnext)>rt&&(hn=rt),At.arraySet(O.window,ze,z-rt,hn,O.wnext),(rt-=hn)?(At.arraySet(O.window,ze,z-rt,rt,0),O.wnext=rt,O.whave=O.wsize):(O.wnext+=hn,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=hn))),0}wt.inflateReset=js,wt.inflateReset2=W1,wt.inflateResetKeep=fn,wt.inflateInit=function si(ge){return fa(ge,15)},wt.inflateInit2=fa,wt.inflate=function K(ge,ze){var z,rt,hn,O,De,Ie,G,ce,Ae,Qt,Ot,Rt,Jn,ms,di,an,vs,sr,g5,f5,xe,Mr,Xa,hi,go=0,ui=new At.Buf8(4),Pi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ge||!ge.state||!ge.output||!ge.input&&0!==ge.avail_in)return U;12===(z=ge.state).mode&&(z.mode=13),De=ge.next_out,hn=ge.output,O=ge.next_in,rt=ge.input,ce=z.hold,Ae=z.bits,Qt=Ie=ge.avail_in,Ot=G=ge.avail_out,Mr=0;e:for(;;)switch(z.mode){case 1:if(0===z.wrap){z.mode=13;break}for(;Ae<16;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}if(2&z.wrap&&35615===ce){z.check=0,ui[0]=255&ce,ui[1]=ce>>>8&255,z.check=Ut(z.check,ui,2,0),ce=0,Ae=0,z.mode=2;break}if(z.flags=0,z.head&&(z.head.done=!1),!(1&z.wrap)||(((255&ce)<<8)+(ce>>8))%31){ge.msg="incorrect header check",z.mode=30;break}if(8!=(15&ce)){ge.msg="unknown compression method",z.mode=30;break}if(Ae-=4,xe=8+(15&(ce>>>=4)),0===z.wbits)z.wbits=xe;else if(xe>z.wbits){ge.msg="invalid window size",z.mode=30;break}z.dmax=1<<xe,ge.adler=z.check=1,z.mode=512&ce?10:12,ce=0,Ae=0;break;case 2:for(;Ae<16;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}if(z.flags=ce,8!=(255&z.flags)){ge.msg="unknown compression method",z.mode=30;break}if(57344&z.flags){ge.msg="unknown header flags set",z.mode=30;break}z.head&&(z.head.text=ce>>8&1),512&z.flags&&(ui[0]=255&ce,ui[1]=ce>>>8&255,z.check=Ut(z.check,ui,2,0)),ce=0,Ae=0,z.mode=3;case 3:for(;Ae<32;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}z.head&&(z.head.time=ce),512&z.flags&&(ui[0]=255&ce,ui[1]=ce>>>8&255,ui[2]=ce>>>16&255,ui[3]=ce>>>24&255,z.check=Ut(z.check,ui,4,0)),ce=0,Ae=0,z.mode=4;case 4:for(;Ae<16;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}z.head&&(z.head.xflags=255&ce,z.head.os=ce>>8),512&z.flags&&(ui[0]=255&ce,ui[1]=ce>>>8&255,z.check=Ut(z.check,ui,2,0)),ce=0,Ae=0,z.mode=5;case 5:if(1024&z.flags){for(;Ae<16;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}z.length=ce,z.head&&(z.head.extra_len=ce),512&z.flags&&(ui[0]=255&ce,ui[1]=ce>>>8&255,z.check=Ut(z.check,ui,2,0)),ce=0,Ae=0}else z.head&&(z.head.extra=null);z.mode=6;case 6:if(1024&z.flags&&((Rt=z.length)>Ie&&(Rt=Ie),Rt&&(z.head&&(xe=z.head.extra_len-z.length,z.head.extra||(z.head.extra=new Array(z.head.extra_len)),At.arraySet(z.head.extra,rt,O,Rt,xe)),512&z.flags&&(z.check=Ut(z.check,rt,Rt,O)),Ie-=Rt,O+=Rt,z.length-=Rt),z.length))break e;z.length=0,z.mode=7;case 7:if(2048&z.flags){if(0===Ie)break e;Rt=0;do{xe=rt[O+Rt++],z.head&&xe&&z.length<65536&&(z.head.name+=String.fromCharCode(xe))}while(xe&&Rt<Ie);if(512&z.flags&&(z.check=Ut(z.check,rt,Rt,O)),Ie-=Rt,O+=Rt,xe)break e}else z.head&&(z.head.name=null);z.length=0,z.mode=8;case 8:if(4096&z.flags){if(0===Ie)break e;Rt=0;do{xe=rt[O+Rt++],z.head&&xe&&z.length<65536&&(z.head.comment+=String.fromCharCode(xe))}while(xe&&Rt<Ie);if(512&z.flags&&(z.check=Ut(z.check,rt,Rt,O)),Ie-=Rt,O+=Rt,xe)break e}else z.head&&(z.head.comment=null);z.mode=9;case 9:if(512&z.flags){for(;Ae<16;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}if(ce!==(65535&z.check)){ge.msg="header crc mismatch",z.mode=30;break}ce=0,Ae=0}z.head&&(z.head.hcrc=z.flags>>9&1,z.head.done=!0),ge.adler=z.check=0,z.mode=12;break;case 10:for(;Ae<32;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}ge.adler=z.check=oi(ce),ce=0,Ae=0,z.mode=11;case 11:if(0===z.havedict)return ge.next_out=De,ge.avail_out=G,ge.next_in=O,ge.avail_in=Ie,z.hold=ce,z.bits=Ae,2;ge.adler=z.check=1,z.mode=12;case 12:if(5===ze||6===ze)break e;case 13:if(z.last){ce>>>=7&Ae,Ae-=7&Ae,z.mode=27;break}for(;Ae<3;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}switch(z.last=1&ce,Ae-=1,3&(ce>>>=1)){case 0:z.mode=14;break;case 1:if(Is(z),z.mode=20,6===ze){ce>>>=2,Ae-=2;break e}break;case 2:z.mode=17;break;case 3:ge.msg="invalid block type",z.mode=30}ce>>>=2,Ae-=2;break;case 14:for(ce>>>=7&Ae,Ae-=7&Ae;Ae<32;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}if((65535&ce)!=(ce>>>16^65535)){ge.msg="invalid stored block lengths",z.mode=30;break}if(z.length=65535&ce,ce=0,Ae=0,z.mode=15,6===ze)break e;case 15:z.mode=16;case 16:if(Rt=z.length){if(Rt>Ie&&(Rt=Ie),Rt>G&&(Rt=G),0===Rt)break e;At.arraySet(hn,rt,O,Rt,De),Ie-=Rt,O+=Rt,G-=Rt,De+=Rt,z.length-=Rt;break}z.mode=12;break;case 17:for(;Ae<14;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}if(z.nlen=257+(31&ce),Ae-=5,z.ndist=1+(31&(ce>>>=5)),Ae-=5,z.ncode=4+(15&(ce>>>=5)),ce>>>=4,Ae-=4,z.nlen>286||z.ndist>30){ge.msg="too many length or distance symbols",z.mode=30;break}z.have=0,z.mode=18;case 18:for(;z.have<z.ncode;){for(;Ae<3;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}z.lens[Pi[z.have++]]=7&ce,ce>>>=3,Ae-=3}for(;z.have<19;)z.lens[Pi[z.have++]]=0;if(z.lencode=z.lendyn,z.lenbits=7,Mr=_t(0,z.lens,0,19,z.lencode,0,z.work,Xa={bits:z.lenbits}),z.lenbits=Xa.bits,Mr){ge.msg="invalid code lengths set",z.mode=30;break}z.have=0,z.mode=19;case 19:for(;z.have<z.nlen+z.ndist;){for(;an=(go=z.lencode[ce&(1<<z.lenbits)-1])>>>16&255,vs=65535&go,!((di=go>>>24)<=Ae);){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}if(vs<16)ce>>>=di,Ae-=di,z.lens[z.have++]=vs;else{if(16===vs){for(hi=di+2;Ae<hi;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}if(ce>>>=di,Ae-=di,0===z.have){ge.msg="invalid bit length repeat",z.mode=30;break}xe=z.lens[z.have-1],Rt=3+(3&ce),ce>>>=2,Ae-=2}else if(17===vs){for(hi=di+3;Ae<hi;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}Ae-=di,xe=0,Rt=3+(7&(ce>>>=di)),ce>>>=3,Ae-=3}else{for(hi=di+7;Ae<hi;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}Ae-=di,xe=0,Rt=11+(127&(ce>>>=di)),ce>>>=7,Ae-=7}if(z.have+Rt>z.nlen+z.ndist){ge.msg="invalid bit length repeat",z.mode=30;break}for(;Rt--;)z.lens[z.have++]=xe}}if(30===z.mode)break;if(0===z.lens[256]){ge.msg="invalid code -- missing end-of-block",z.mode=30;break}if(z.lenbits=9,Mr=_t(1,z.lens,0,z.nlen,z.lencode,0,z.work,Xa={bits:z.lenbits}),z.lenbits=Xa.bits,Mr){ge.msg="invalid literal/lengths set",z.mode=30;break}if(z.distbits=6,z.distcode=z.distdyn,Mr=_t(2,z.lens,z.nlen,z.ndist,z.distcode,0,z.work,Xa={bits:z.distbits}),z.distbits=Xa.bits,Mr){ge.msg="invalid distances set",z.mode=30;break}if(z.mode=20,6===ze)break e;case 20:z.mode=21;case 21:if(Ie>=6&&G>=258){ge.next_out=De,ge.avail_out=G,ge.next_in=O,ge.avail_in=Ie,z.hold=ce,z.bits=Ae,V(ge,Ot),De=ge.next_out,hn=ge.output,G=ge.avail_out,O=ge.next_in,rt=ge.input,Ie=ge.avail_in,ce=z.hold,Ae=z.bits,12===z.mode&&(z.back=-1);break}for(z.back=0;an=(go=z.lencode[ce&(1<<z.lenbits)-1])>>>16&255,vs=65535&go,!((di=go>>>24)<=Ae);){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}if(an&&!(240&an)){for(sr=di,g5=an,f5=vs;an=(go=z.lencode[f5+((ce&(1<<sr+g5)-1)>>sr)])>>>16&255,vs=65535&go,!(sr+(di=go>>>24)<=Ae);){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}ce>>>=sr,Ae-=sr,z.back+=sr}if(ce>>>=di,Ae-=di,z.back+=di,z.length=vs,0===an){z.mode=26;break}if(32&an){z.back=-1,z.mode=12;break}if(64&an){ge.msg="invalid literal/length code",z.mode=30;break}z.extra=15&an,z.mode=22;case 22:if(z.extra){for(hi=z.extra;Ae<hi;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}z.length+=ce&(1<<z.extra)-1,ce>>>=z.extra,Ae-=z.extra,z.back+=z.extra}z.was=z.length,z.mode=23;case 23:for(;an=(go=z.distcode[ce&(1<<z.distbits)-1])>>>16&255,vs=65535&go,!((di=go>>>24)<=Ae);){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}if(!(240&an)){for(sr=di,g5=an,f5=vs;an=(go=z.distcode[f5+((ce&(1<<sr+g5)-1)>>sr)])>>>16&255,vs=65535&go,!(sr+(di=go>>>24)<=Ae);){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}ce>>>=sr,Ae-=sr,z.back+=sr}if(ce>>>=di,Ae-=di,z.back+=di,64&an){ge.msg="invalid distance code",z.mode=30;break}z.offset=vs,z.extra=15&an,z.mode=24;case 24:if(z.extra){for(hi=z.extra;Ae<hi;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}z.offset+=ce&(1<<z.extra)-1,ce>>>=z.extra,Ae-=z.extra,z.back+=z.extra}if(z.offset>z.dmax){ge.msg="invalid distance too far back",z.mode=30;break}z.mode=25;case 25:if(0===G)break e;if(z.offset>(Rt=Ot-G)){if((Rt=z.offset-Rt)>z.whave&&z.sane){ge.msg="invalid distance too far back",z.mode=30;break}Jn=Rt>z.wnext?z.wsize-(Rt-=z.wnext):z.wnext-Rt,Rt>z.length&&(Rt=z.length),ms=z.window}else ms=hn,Jn=De-z.offset,Rt=z.length;Rt>G&&(Rt=G),G-=Rt,z.length-=Rt;do{hn[De++]=ms[Jn++]}while(--Rt);0===z.length&&(z.mode=21);break;case 26:if(0===G)break e;hn[De++]=z.length,G--,z.mode=21;break;case 27:if(z.wrap){for(;Ae<32;){if(0===Ie)break e;Ie--,ce|=rt[O++]<<Ae,Ae+=8}if(ge.total_out+=Ot-=G,z.total+=Ot,Ot&&(ge.adler=z.check=z.flags?Ut(z.check,hn,Ot,De-Ot):ht(z.check,hn,Ot,De-Ot)),Ot=G,(z.flags?ce:oi(ce))!==z.check){ge.msg="incorrect data check",z.mode=30;break}ce=0,Ae=0}z.mode=28;case 28:if(z.wrap&&z.flags){for(;Ae<32;){if(0===Ie)break e;Ie--,ce+=rt[O++]<<Ae,Ae+=8}if(ce!==(4294967295&z.total)){ge.msg="incorrect length check",z.mode=30;break}ce=0,Ae=0}z.mode=29;case 29:Mr=1;break e;case 30:Mr=-3;break e;case 31:return-4;default:return U}return ge.next_out=De,ge.avail_out=G,ge.next_in=O,ge.avail_in=Ie,z.hold=ce,z.bits=Ae,(z.wsize||Ot!==ge.avail_out&&z.mode<30&&(z.mode<27||4!==ze))&&b1(ge,ge.output,ge.next_out,Ot-ge.avail_out)?(z.mode=31,-4):(Ot-=ge.avail_out,ge.total_in+=Qt-=ge.avail_in,ge.total_out+=Ot,z.total+=Ot,z.wrap&&Ot&&(ge.adler=z.check=z.flags?Ut(z.check,hn,Ot,ge.next_out-Ot):ht(z.check,hn,Ot,ge.next_out-Ot)),ge.data_type=z.bits+(z.last?64:0)+(12===z.mode?128:0)+(20===z.mode||15===z.mode?256:0),(0===Qt&&0===Ot||4===ze)&&0===Mr&&(Mr=-5),Mr)},wt.inflateEnd=function ot(ge){if(!ge||!ge.state)return U;var ze=ge.state;return ze.window&&(ze.window=null),ge.state=null,0},wt.inflateGetHeader=function dt(ge,ze){var z;return ge&&ge.state&&2&(z=ge.state).wrap?(z.head=ze,ze.done=!1,0):U},wt.inflateSetDictionary=function Lt(ge,ze){var rt,z=ze.length;return ge&&ge.state&&(0===(rt=ge.state).wrap||11===rt.mode)?11===rt.mode&&ht(1,ze,z,0)!==rt.check?-3:b1(ge,ze,z,z)?(rt.mode=31,-4):(rt.havedict=1,0):U},wt.inflateInfo="pako inflate (from Nodeca project)"},295:(ni,wt,$t)=>{"use strict";var At=$t(662),X=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],j=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Q=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ni.exports=function(q,ie,U,te,se,ne,H,Y){var ft,xt,qe,Ye,lt,Nt,Hn,zn,ko,he=Y.bits,J=0,_e=0,Oe=0,ve=0,be=0,Se=0,Re=0,ct=0,it=0,Xe=0,Mt=null,Wt=0,An=new At.Buf16(16),ii=new At.Buf16(16),rn=null,Yn=0;for(J=0;J<=15;J++)An[J]=0;for(_e=0;_e<te;_e++)An[ie[U+_e]]++;for(be=he,ve=15;ve>=1&&0===An[ve];ve--);if(be>ve&&(be=ve),0===ve)return se[ne++]=20971520,se[ne++]=20971520,Y.bits=1,0;for(Oe=1;Oe<ve&&0===An[Oe];Oe++);for(be<Oe&&(be=Oe),ct=1,J=1;J<=15;J++)if(ct<<=1,(ct-=An[J])<0)return-1;if(ct>0&&(0===q||1!==ve))return-1;for(ii[1]=0,J=1;J<15;J++)ii[J+1]=ii[J]+An[J];for(_e=0;_e<te;_e++)0!==ie[U+_e]&&(H[ii[ie[U+_e]]++]=_e);if(0===q?(Mt=rn=H,Nt=19):1===q?(Mt=X,Wt-=257,rn=j,Yn-=257,Nt=256):(Mt=Z,rn=Q,Nt=-1),Xe=0,_e=0,J=Oe,lt=ne,Se=be,Re=0,qe=-1,Ye=(it=1<<be)-1,1===q&&it>852||2===q&&it>592)return 1;for(;;){Hn=J-Re,H[_e]<Nt?(zn=0,ko=H[_e]):H[_e]>Nt?(zn=rn[Yn+H[_e]],ko=Mt[Wt+H[_e]]):(zn=96,ko=0),ft=1<<J-Re,Oe=xt=1<<Se;do{se[lt+(Xe>>Re)+(xt-=ft)]=Hn<<24|zn<<16|ko}while(0!==xt);for(ft=1<<J-1;Xe&ft;)ft>>=1;if(0!==ft?(Xe&=ft-1,Xe+=ft):Xe=0,_e++,0==--An[J]){if(J===ve)break;J=ie[U+H[_e]]}if(J>be&&(Xe&Ye)!==qe){for(0===Re&&(Re=be),lt+=Oe,ct=1<<(Se=J-Re);Se+Re<ve&&!((ct-=An[Se+Re])<=0);)Se++,ct<<=1;if(it+=1<<Se,1===q&&it>852||2===q&&it>592)return 1;se[qe=Xe&Ye]=be<<24|Se<<16|lt-ne}}return 0!==Xe&&(se[lt+Xe]=J-Re<<24|64<<16),Y.bits=be,0}},943:ni=>{"use strict";ni.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},838:(ni,wt,$t)=>{"use strict";var At=$t(662);function B(K){for(var ot=K.length;--ot>=0;)K[ot]=0}var ve=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],be=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],it=new Array(576);B(it);var Xe=new Array(60);B(Xe);var ft=new Array(512);B(ft);var xt=new Array(256);B(xt);var qe=new Array(29);B(qe);var Mt,Wt,Nt,Ye=new Array(30);function lt(K,ot,dt,Lt,ge){this.static_tree=K,this.extra_bits=ot,this.extra_base=dt,this.elems=Lt,this.max_length=ge,this.has_stree=K&&K.length}function An(K,ot){this.dyn_tree=K,this.max_code=0,this.stat_desc=ot}function ii(K){return K<256?ft[K]:ft[256+(K>>>7)]}function rn(K,ot){K.pending_buf[K.pending++]=255&ot,K.pending_buf[K.pending++]=ot>>>8&255}function Yn(K,ot,dt){K.bi_valid>16-dt?(K.bi_buf|=ot<<K.bi_valid&65535,rn(K,K.bi_buf),K.bi_buf=ot>>16-K.bi_valid,K.bi_valid+=dt-16):(K.bi_buf|=ot<<K.bi_valid&65535,K.bi_valid+=dt)}function Hn(K,ot,dt){Yn(K,dt[2*ot],dt[2*ot+1])}function zn(K,ot){var dt=0;do{dt|=1&K,K>>>=1,dt<<=1}while(--ot>0);return dt>>>1}function ls(K,ot,dt){var ze,z,Lt=new Array(16),ge=0;for(ze=1;ze<=15;ze++)Lt[ze]=ge=ge+dt[ze-1]<<1;for(z=0;z<=ot;z++){var rt=K[2*z+1];0!==rt&&(K[2*z]=zn(Lt[rt]++,rt))}}function Ko(K){var ot;for(ot=0;ot<286;ot++)K.dyn_ltree[2*ot]=0;for(ot=0;ot<30;ot++)K.dyn_dtree[2*ot]=0;for(ot=0;ot<19;ot++)K.bl_tree[2*ot]=0;K.dyn_ltree[512]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function ja(K){K.bi_valid>8?rn(K,K.bi_buf):K.bi_valid>0&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function en(K,ot,dt,Lt){var ge=2*ot,ze=2*dt;return K[ge]<K[ze]||K[ge]===K[ze]&&Lt[ot]<=Lt[dt]}function Mn(K,ot,dt){for(var Lt=K.heap[dt],ge=dt<<1;ge<=K.heap_len&&(ge<K.heap_len&&en(ot,K.heap[ge+1],K.heap[ge],K.depth)&&ge++,!en(ot,Lt,K.heap[ge],K.depth));)K.heap[dt]=K.heap[ge],dt=ge,ge<<=1;K.heap[dt]=Lt}function Vt(K,ot,dt){var Lt,ge,z,rt,ze=0;if(0!==K.last_lit)do{Lt=K.pending_buf[K.d_buf+2*ze]<<8|K.pending_buf[K.d_buf+2*ze+1],ge=K.pending_buf[K.l_buf+ze],ze++,0===Lt?Hn(K,ge,ot):(Hn(K,(z=xt[ge])+256+1,ot),0!==(rt=ve[z])&&Yn(K,ge-=qe[z],rt),Hn(K,z=ii(--Lt),dt),0!==(rt=be[z])&&Yn(K,Lt-=Ye[z],rt))}while(ze<K.last_lit);Hn(K,256,ot)}function oi(K,ot){var z,rt,O,dt=ot.dyn_tree,Lt=ot.stat_desc.static_tree,ge=ot.stat_desc.has_stree,ze=ot.stat_desc.elems,hn=-1;for(K.heap_len=0,K.heap_max=573,z=0;z<ze;z++)0!==dt[2*z]?(K.heap[++K.heap_len]=hn=z,K.depth[z]=0):dt[2*z+1]=0;for(;K.heap_len<2;)dt[2*(O=K.heap[++K.heap_len]=hn<2?++hn:0)]=1,K.depth[O]=0,K.opt_len--,ge&&(K.static_len-=Lt[2*O+1]);for(ot.max_code=hn,z=K.heap_len>>1;z>=1;z--)Mn(K,dt,z);O=ze;do{z=K.heap[1],K.heap[1]=K.heap[K.heap_len--],Mn(K,dt,1),rt=K.heap[1],K.heap[--K.heap_max]=z,K.heap[--K.heap_max]=rt,dt[2*O]=dt[2*z]+dt[2*rt],K.depth[O]=(K.depth[z]>=K.depth[rt]?K.depth[z]:K.depth[rt])+1,dt[2*z+1]=dt[2*rt+1]=O,K.heap[1]=O++,Mn(K,dt,1)}while(K.heap_len>=2);K.heap[--K.heap_max]=K.heap[1],function zo(K,ot){var O,De,Ie,G,ce,Ae,dt=ot.dyn_tree,Lt=ot.max_code,ge=ot.stat_desc.static_tree,ze=ot.stat_desc.has_stree,z=ot.stat_desc.extra_bits,rt=ot.stat_desc.extra_base,hn=ot.stat_desc.max_length,Qt=0;for(G=0;G<=15;G++)K.bl_count[G]=0;for(dt[2*K.heap[K.heap_max]+1]=0,O=K.heap_max+1;O<573;O++)(G=dt[2*dt[2*(De=K.heap[O])+1]+1]+1)>hn&&(G=hn,Qt++),dt[2*De+1]=G,!(De>Lt)&&(K.bl_count[G]++,ce=0,De>=rt&&(ce=z[De-rt]),K.opt_len+=(Ae=dt[2*De])*(G+ce),ze&&(K.static_len+=Ae*(ge[2*De+1]+ce)));if(0!==Qt){do{for(G=hn-1;0===K.bl_count[G];)G--;K.bl_count[G]--,K.bl_count[G+1]+=2,K.bl_count[hn]--,Qt-=2}while(Qt>0);for(G=hn;0!==G;G--)for(De=K.bl_count[G];0!==De;)!((Ie=K.heap[--O])>Lt)&&(dt[2*Ie+1]!==G&&(K.opt_len+=(G-dt[2*Ie+1])*dt[2*Ie],dt[2*Ie+1]=G),De--)}}(K,ot),ls(dt,hn,K.bl_count)}function Ki(K,ot,dt){var Lt,ze,ge=-1,z=ot[1],rt=0,hn=7,O=4;for(0===z&&(hn=138,O=3),ot[2*(dt+1)+1]=65535,Lt=0;Lt<=dt;Lt++)ze=z,z=ot[2*(Lt+1)+1],!(++rt<hn&&ze===z)&&(rt<O?K.bl_tree[2*ze]+=rt:0!==ze?(ze!==ge&&K.bl_tree[2*ze]++,K.bl_tree[32]++):rt<=10?K.bl_tree[34]++:K.bl_tree[36]++,rt=0,ge=ze,0===z?(hn=138,O=3):ze===z?(hn=6,O=3):(hn=7,O=4))}function fn(K,ot,dt){var Lt,ze,ge=-1,z=ot[1],rt=0,hn=7,O=4;for(0===z&&(hn=138,O=3),Lt=0;Lt<=dt;Lt++)if(ze=z,z=ot[2*(Lt+1)+1],!(++rt<hn&&ze===z)){if(rt<O)do{Hn(K,ze,K.bl_tree)}while(0!=--rt);else 0!==ze?(ze!==ge&&(Hn(K,ze,K.bl_tree),rt--),Hn(K,16,K.bl_tree),Yn(K,rt-3,2)):rt<=10?(Hn(K,17,K.bl_tree),Yn(K,rt-3,3)):(Hn(K,18,K.bl_tree),Yn(K,rt-11,7));rt=0,ge=ze,0===z?(hn=138,O=3):ze===z?(hn=6,O=3):(hn=7,O=4)}}B(Ye);var si=!1;function w1(K,ot,dt,Lt){Yn(K,0+(Lt?1:0),3),function $n(K,ot,dt,Lt){ja(K),Lt&&(rn(K,dt),rn(K,~dt)),At.arraySet(K.pending_buf,K.window,ot,dt,K.pending),K.pending+=dt}(K,ot,dt,!0)}wt._tr_init=function I0(K){si||(function Si(){var K,ot,dt,Lt,ge,ze=new Array(16);for(dt=0,Lt=0;Lt<28;Lt++)for(qe[Lt]=dt,K=0;K<1<<ve[Lt];K++)xt[dt++]=Lt;for(xt[dt-1]=Lt,ge=0,Lt=0;Lt<16;Lt++)for(Ye[Lt]=ge,K=0;K<1<<be[Lt];K++)ft[ge++]=Lt;for(ge>>=7;Lt<30;Lt++)for(Ye[Lt]=ge<<7,K=0;K<1<<be[Lt]-7;K++)ft[256+ge++]=Lt;for(ot=0;ot<=15;ot++)ze[ot]=0;for(K=0;K<=143;)it[2*K+1]=8,K++,ze[8]++;for(;K<=255;)it[2*K+1]=9,K++,ze[9]++;for(;K<=279;)it[2*K+1]=7,K++,ze[7]++;for(;K<=287;)it[2*K+1]=8,K++,ze[8]++;for(ls(it,287,ze),K=0;K<30;K++)Xe[2*K+1]=5,Xe[2*K]=zn(K,5);Mt=new lt(it,ve,257,286,15),Wt=new lt(Xe,be,0,30,15),Nt=new lt(new Array(0),Se,0,19,7)}(),si=!0),K.l_desc=new An(K.dyn_ltree,Mt),K.d_desc=new An(K.dyn_dtree,Wt),K.bl_desc=new An(K.bl_tree,Nt),K.bi_buf=0,K.bi_valid=0,Ko(K)},wt._tr_stored_block=w1,wt._tr_flush_block=function Is(K,ot,dt,Lt){var ge,ze,z=0;K.level>0?(2===K.strm.data_type&&(K.strm.data_type=function fa(K){var dt,ot=4093624447;for(dt=0;dt<=31;dt++,ot>>>=1)if(1&ot&&0!==K.dyn_ltree[2*dt])return 0;if(0!==K.dyn_ltree[18]||0!==K.dyn_ltree[20]||0!==K.dyn_ltree[26])return 1;for(dt=32;dt<256;dt++)if(0!==K.dyn_ltree[2*dt])return 1;return 0}(K)),oi(K,K.l_desc),oi(K,K.d_desc),z=function js(K){var ot;for(Ki(K,K.dyn_ltree,K.l_desc.max_code),Ki(K,K.dyn_dtree,K.d_desc.max_code),oi(K,K.bl_desc),ot=18;ot>=3&&0===K.bl_tree[2*Re[ot]+1];ot--);return K.opt_len+=3*(ot+1)+5+5+4,ot}(K),(ze=K.static_len+3+7>>>3)<=(ge=K.opt_len+3+7>>>3)&&(ge=ze)):ge=ze=dt+5,dt+4<=ge&&-1!==ot?w1(K,ot,dt,Lt):4===K.strategy||ze===ge?(Yn(K,2+(Lt?1:0),3),Vt(K,it,Xe)):(Yn(K,4+(Lt?1:0),3),function W1(K,ot,dt,Lt){var ge;for(Yn(K,ot-257,5),Yn(K,dt-1,5),Yn(K,Lt-4,4),ge=0;ge<Lt;ge++)Yn(K,K.bl_tree[2*Re[ge]+1],3);fn(K,K.dyn_ltree,ot-1),fn(K,K.dyn_dtree,dt-1)}(K,K.l_desc.max_code+1,K.d_desc.max_code+1,z+1),Vt(K,K.dyn_ltree,K.dyn_dtree)),Ko(K),Lt&&ja(K)},wt._tr_tally=function b1(K,ot,dt){return K.pending_buf[K.d_buf+2*K.last_lit]=ot>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&ot,K.pending_buf[K.l_buf+K.last_lit]=255&dt,K.last_lit++,0===ot?K.dyn_ltree[2*dt]++:(K.matches++,ot--,K.dyn_ltree[2*(xt[dt]+256+1)]++,K.dyn_dtree[2*ii(ot)]++),K.last_lit===K.lit_bufsize-1},wt._tr_align=function fs(K){Yn(K,2,3),Hn(K,256,it),function ko(K){16===K.bi_valid?(rn(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):K.bi_valid>=8&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)}(K)}},629:ni=>{"use strict";ni.exports=function wt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},58:(ni,wt,$t)=>{!function(){var ht,V,_t,B,L,X,At={};function Ut(){typeof process>"u"&&console.log.apply(console,arguments)}ni.exports=At,ht=$t(725),V=At,_t=ht,B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},L=function(){function j(Z){this.message="JPEG error: "+Z}return(j.prototype=Error()).name="JpegError",j.constructor=j}(),X=function(){function j(Z,Q){this.message=Z,this.g=Q}return(j.prototype=Error()).name="DNLMarkerError",j.constructor=j}(),function(){function j(){this.M=null,this.B=-1}function Z(U,te){for(var H,Y,se=0,ne=[],he=16;0<he&&!U[he-1];)he--;ne.push({children:[],index:0});var _e,J=ne[0];for(H=0;H<he;H++){for(Y=0;Y<U[H];Y++){for((J=ne.pop()).children[J.index]=te[se];0<J.index;)J=ne.pop();for(J.index++,ne.push(J);ne.length<=H;)ne.push(_e={children:[],index:0}),J.children[J.index]=_e.children,J=_e;se++}H+1<he&&(ne.push(_e={children:[],index:0}),J.children[J.index]=_e.children,J=_e)}return ne[0].children}function Q(U,te,se,ne,H,Y,he,J,_e){function Oe(){if(0<Mt)return Mt--,lt>>Mt&1;if(255===(lt=U[te++])){var en=U[te++];if(en){if(220===en&&xt){te+=2;var Mn=U[te++]<<8|U[te++];if(0<Mn&&Mn!==se.g)throw new X("Found DNL marker (0xFFDC) while parsing scan data",Mn)}throw new L("unexpected marker "+(lt<<8|en).toString(16))}}return Mt=7,lt>>>7}function ve(en){for(;;){if("number"==typeof(en=en[Oe()]))return en;if("object"!==(typeof en>"u"?"undefined":B(en)))throw new L("invalid huffman sequence")}}function be(en){for(var Mn=0;0<en;)Mn=Mn<<1|Oe(),en--;return Mn}function Se(en){if(1===en)return 1===Oe()?1:-1;var Mn=be(en);return Mn>=1<<en-1?Mn:Mn+(-1<<en)+1}for(var An,rn,Yn,Hn,zn,Si,Ko,xt=9<arguments.length&&void 0!==arguments[9]&&arguments[9],qe=se.P,Ye=te,lt=0,Mt=0,Wt=0,Nt=0,ii=ne.length,ko=se.S?0===Y?0===J?function ct(en,Mn){var Vt=ve(en.D);Vt=0===Vt?0:Se(Vt)<<_e,en.a[Mn]=en.m+=Vt}:function it(en,Mn){en.a[Mn]|=Oe()<<_e}:0===J?function Xe(en,Mn){if(0<Wt)Wt--;else for(var Vt=Y;Vt<=he;){var oi=ve(en.o),Ki=15&oi;if(oi>>=4,0===Ki){if(15>oi){Wt=be(oi)+(1<<oi)-1;break}Vt+=16}else en.a[Mn+ie[Vt+=oi]]=Se(Ki)*(1<<_e),Vt++}}:function ft(en,Mn){for(var Ki,Vt=Y,oi=0;Vt<=he;){var fn=0>en.a[Ki=Mn+ie[Vt]]?-1:1;switch(Nt){case 0:if(Ki=15&(oi=ve(en.o)),oi>>=4,0===Ki)15>oi?(Wt=be(oi)+(1<<oi),Nt=4):(oi=16,Nt=1);else{if(1!==Ki)throw new L("invalid ACn encoding");An=Se(Ki),Nt=oi?2:3}continue;case 1:case 2:en.a[Ki]?en.a[Ki]+=fn*(Oe()<<_e):0==--oi&&(Nt=2===Nt?3:0);break;case 3:en.a[Ki]?en.a[Ki]+=fn*(Oe()<<_e):(en.a[Ki]=An<<_e,Nt=0);break;case 4:en.a[Ki]&&(en.a[Ki]+=fn*(Oe()<<_e))}Vt++}4===Nt&&0==--Wt&&(Nt=0)}:function Re(en,Mn){var Vt=ve(en.D);for(Vt=0===Vt?0:Se(Vt),en.a[Mn]=en.m+=Vt,Vt=1;64>Vt;){var oi=ve(en.o),Ki=15&oi;if(oi>>=4,0===Ki){if(15>oi)break;Vt+=16}else en.a[Mn+ie[Vt+=oi]]=Se(Ki),Vt++}},zo=0,ls=1===ii?ne[0].c*ne[0].l:qe*se.O;zo<ls;){var ja=H?Math.min(ls-zo,H):ls;for(rn=0;rn<ii;rn++)ne[rn].m=0;if(Wt=0,1===ii){var $n=ne[0];for(zn=0;zn<ja;zn++)ko($n,64*(($n.c+1)*(zo/$n.c|0)+zo%$n.c)),zo++}else for(zn=0;zn<ja;zn++){for(rn=0;rn<ii;rn++)for(Si=($n=ne[rn]).h,Ko=$n.j,Yn=0;Yn<Ko;Yn++)for(Hn=0;Hn<Si;Hn++)ko($n,64*(($n.c+1)*((zo/qe|0)*$n.j+Yn)+(zo%qe*$n.h+Hn)));zo++}if(Mt=0,($n=q(U,te))&&$n.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+$n.f),te=$n.offset),!($n=$n&&$n.F)||65280>=$n)throw new L("marker was not found");if(!(65488<=$n&&65495>=$n))break;te+=2}return($n=q(U,te))&&$n.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+$n.f),te=$n.offset),te-Ye}function W(U,te){for(var se=te.c,ne=te.l,H=new Int16Array(64),Y=0;Y<ne;Y++)for(var he=0;he<se;he++){var J=64*((te.c+1)*Y+he),_e=H,Oe=te.G,ve=te.a;if(!Oe)throw new L("missing required Quantization Table.");for(var be=0;64>be;be+=8){var Se=ve[J+be],Re=ve[J+be+1],ct=ve[J+be+2],it=ve[J+be+3],Xe=ve[J+be+4],ft=ve[J+be+5],xt=ve[J+be+6],qe=ve[J+be+7];if(Se*=Oe[be],Re|ct|it|Xe|ft|xt|qe){it*=Oe[be+3],ft*=Oe[be+5];var Ye=5793*Se+128>>8,lt=5793*(Xe*=Oe[be+4])+128>>8,Mt=ct*=Oe[be+2],Wt=xt*=Oe[be+6];lt=(Ye=Ye+lt+1>>1)-lt,Se=3784*Mt+1567*Wt+128>>8,Mt=1567*Mt-3784*Wt+128>>8,ft=(Xe=(Xe=2896*((Re*=Oe[be+1])-(qe*=Oe[be+7]))+128>>8)+(ft<<=4)+1>>1)-ft,it=(qe=(qe=2896*(Re+qe)+128>>8)+(it<<=4)+1>>1)-it,Wt=(Ye=Ye+(Wt=Se)+1>>1)-Wt,Mt=(lt=lt+Mt+1>>1)-Mt,Se=2276*Xe+3406*qe+2048>>12,Xe=3406*Xe-2276*qe+2048>>12,qe=Se,Se=799*it+4017*ft+2048>>12,it=4017*it-799*ft+2048>>12,ft=Se,_e[be]=Ye+qe,_e[be+7]=Ye-qe,_e[be+1]=lt+ft,_e[be+6]=lt-ft,_e[be+2]=Mt+it,_e[be+5]=Mt-it,_e[be+3]=Wt+Xe,_e[be+4]=Wt-Xe}else _e[be]=Se=5793*Se+512>>10,_e[be+1]=Se,_e[be+2]=Se,_e[be+3]=Se,_e[be+4]=Se,_e[be+5]=Se,_e[be+6]=Se,_e[be+7]=Se}for(Oe=0;8>Oe;++Oe)Se=_e[Oe],(Re=_e[Oe+8])|(ct=_e[Oe+16])|(it=_e[Oe+24])|(Xe=_e[Oe+32])|(ft=_e[Oe+40])|(xt=_e[Oe+48])|(qe=_e[Oe+56])?(lt=(Ye=4112+((Ye=5793*Se+2048>>12)+(lt=5793*Xe+2048>>12)+1>>1))-lt,Se=3784*(Mt=ct)+1567*(Wt=xt)+2048>>12,Mt=1567*Mt-3784*Wt+2048>>12,Wt=Se,ft=(Xe=(Xe=2896*(Re-qe)+2048>>12)+ft+1>>1)-ft,it=(qe=(qe=2896*(Re+qe)+2048>>12)+it+1>>1)-it,Se=2276*Xe+3406*qe+2048>>12,Xe=3406*Xe-2276*qe+2048>>12,qe=Se,Se=799*it+4017*ft+2048>>12,it=4017*it-799*ft+2048>>12,ft=Se,Se=(Ye=Ye+Wt+1>>1)+qe,Re=(lt=lt+Mt+1>>1)+ft,xt=lt-ft,ft=(Mt=lt-Mt)-it,Re=16>Re?0:4080<=Re?255:Re>>4,ct=16>(ct=Mt+it)?0:4080<=ct?255:ct>>4,it=16>(it=(Wt=Ye-Wt)+Xe)?0:4080<=it?255:it>>4,Xe=16>(Xe=Wt-Xe)?0:4080<=Xe?255:Xe>>4,ft=16>ft?0:4080<=ft?255:ft>>4,xt=16>xt?0:4080<=xt?255:xt>>4,qe=16>(qe=Ye-qe)?0:4080<=qe?255:qe>>4,ve[J+Oe]=Se=16>Se?0:4080<=Se?255:Se>>4,ve[J+Oe+8]=Re,ve[J+Oe+16]=ct,ve[J+Oe+24]=it,ve[J+Oe+32]=Xe,ve[J+Oe+40]=ft,ve[J+Oe+48]=xt,ve[J+Oe+56]=qe):(ve[J+Oe]=Se=-2040>(Se=5793*Se+8192>>14)?0:2024<=Se?255:Se+2056>>4,ve[J+Oe+8]=Se,ve[J+Oe+16]=Se,ve[J+Oe+24]=Se,ve[J+Oe+32]=Se,ve[J+Oe+40]=Se,ve[J+Oe+48]=Se,ve[J+Oe+56]=Se)}return te.a}function q(U,te){var se=2<arguments.length&&void 0!==arguments[2]?arguments[2]:te,ne=U.length-1;if(te>=ne)return null;var H=U[te]<<8|U[te+1];if(65472<=H&&65534>=H)return{f:null,F:H,offset:te};for(var Y=U[se=se<te?se:te]<<8|U[se+1];!(65472<=Y&&65534>=Y);){if(++se>=ne)return null;Y=U[se]<<8|U[se+1]}return{f:H.toString(16),F:Y,offset:se}}var ie=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);j.prototype={parse:function(U){function te(){var Mt=U[he]<<8|U[he+1];return he+=2,Mt}function ne(Mt){for(var Wt=Math.ceil(Mt.v/8/Mt.s),Nt=Math.ceil(Mt.g/8/Mt.u),An=0;An<Mt.b.length;An++){Ye=Mt.b[An];var ii=Math.ceil(Math.ceil(Mt.v/8)*Ye.h/Mt.s),rn=Math.ceil(Math.ceil(Mt.g/8)*Ye.j/Mt.u);Ye.a=new Int16Array(64*Nt*Ye.j*(Wt*Ye.h+1)),Ye.c=ii,Ye.l=rn}Mt.P=Wt,Mt.O=Nt}var H=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).N,Y=void 0===H?null:H,he=0,J=null,_e=0;H=[];var Mt,Wt,Oe=[],ve=[],be=te();if(65496!==be)throw new L("SOI not found");for(be=te();65497!==be;){switch(be){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Se=(Mt=void 0,void 0,Mt=te(),(Wt=q(U,Mt=he+Mt-2,he))&&Wt.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+Wt.f),Mt=Wt.offset),Mt=U.subarray(he,Mt),he+=Mt.length,Mt);65518===be&&65===Se[0]&&100===Se[1]&&111===Se[2]&&98===Se[3]&&101===Se[4]&&(J={version:Se[5]<<8|Se[6],Y:Se[7]<<8|Se[8],Z:Se[9]<<8|Se[10],W:Se[11]});break;case 65499:be=te()+he-2;for(var Re;he<be;){var ct=U[he++],it=new Uint16Array(64);if(ct>>4){if(ct>>4!=1)throw new L("DQT - invalid table spec");for(Se=0;64>Se;Se++)it[Re=ie[Se]]=te()}else for(Se=0;64>Se;Se++)it[Re=ie[Se]]=U[he++];H[15&ct]=it}break;case 65472:case 65473:case 65474:if(Xe)throw new L("Only single frame JPEGs supported");te();var Xe={};for(Xe.X=65473===be,Xe.S=65474===be,Xe.precision=U[he++],be=te(),Xe.g=Y||be,Xe.v=te(),Xe.b=[],Xe.C={},Se=U[he++],be=it=ct=0;be<Se;be++){Re=U[he];var ft=U[he+1]>>4,xt=15&U[he+1];ct<ft&&(ct=ft),it<xt&&(it=xt),ft=Xe.b.push({h:ft,j:xt,T:U[he+2],G:null}),Xe.C[Re]=ft-1,he+=3}Xe.s=ct,Xe.u=it,ne(Xe);break;case 65476:for(Re=te(),be=2;be<Re;){for(ct=U[he++],it=new Uint8Array(16),Se=ft=0;16>Se;Se++,he++)ft+=it[Se]=U[he];for(xt=new Uint8Array(ft),Se=0;Se<ft;Se++,he++)xt[Se]=U[he];be+=17+ft,(ct>>4?Oe:ve)[15&ct]=Z(it,xt)}break;case 65501:te();var qe=te();break;case 65498:for(Se=1==++_e&&!Y,te(),ct=U[he++],Re=[],be=0;be<ct;be++){it=Xe.C[U[he++]];var Ye=Xe.b[it];it=U[he++],Ye.D=ve[it>>4],Ye.o=Oe[15&it],Re.push(Ye)}be=U[he++],ct=U[he++],it=U[he++];try{var lt=Q(U,he,Xe,Re,qe,be,ct,it>>4,15&it,Se);he+=lt}catch(Mt){if(Mt instanceof X)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(U,{N:Mt.g});throw Mt}break;case 65500:he+=4;break;case 65535:255!==U[he]&&he--;break;default:if(255===U[he-3]&&192<=U[he-2]&&254>=U[he-2])he-=3;else{if(!(Se=q(U,he-2))||!Se.f)throw new L("unknown marker "+be.toString(16));(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+Se.f),he=Se.offset}}be=te()}for(this.width=Xe.v,this.height=Xe.g,this.A=J,this.b=[],be=0;be<Xe.b.length;be++)(qe=H[(Ye=Xe.b[be]).T])&&(Ye.G=qe),this.b.push({R:W(0,Ye),U:Ye.h/Xe.s,V:Ye.j/Xe.u,c:Ye.c,l:Ye.l});this.i=this.b.length},L:function(U,te){var H,Y,se=this.width/U,ne=this.height/te,he=this.b.length,J=U*te*he,_e=new Uint8ClampedArray(J),Oe=new Uint32Array(U);for(Y=0;Y<he;Y++){var ve=this.b[Y],be=ve.U*se,Se=ve.V*ne,Re=Y,ct=ve.R,it=ve.c+1<<3;for(H=0;H<U;H++)Oe[H]=(4294967288&(ve=0|H*be))<<3|7&ve;for(be=0;be<te;be++)for(ve=it*(4294967288&(ve=0|be*Se))|(7&ve)<<3,H=0;H<U;H++)_e[Re]=ct[ve+Oe[H]],Re+=he}if(ne=this.M)for(Y=0;Y<J;)for(se=ve=0;ve<he;ve++,Y++,se+=2)_e[Y]=(_e[Y]*ne[se]>>8)+ne[se+1];return _e},w:function(){return this.A?!!this.A.W:3===this.i?0!==this.B:1===this.B},I:function(U){for(var te,se,ne,H=0,Y=U.length;H<Y;H+=3)se=U[H+1],U[H]=(te=U[H])-179.456+1.402*(ne=U[H+2]),U[H+1]=te+135.459-.344*se-.714*ne,U[H+2]=te-226.816+1.772*se;return U},K:function(U){for(var te,se,ne,H,Y=0,he=0,J=U.length;he<J;he+=4)U[Y++]=(se=U[he+1])*(-660635669420364e-19*se+.000437130475926232*(ne=U[he+2])-54080610064599e-18*(te=U[he])+.00048449797120281*(H=U[he+3])-.154362151871126)-122.67195406894+ne*(-.000957964378445773*ne+.000817076911346625*te-.00477271405408747*H+1.53380253221734)+te*(.000961250184130688*te-.00266257332283933*H+.48357088451265)+H*(-.000336197177618394*H+.484791561490776),U[Y++]=107.268039397724+se*(219927104525741e-19*se-.000640992018297945*ne+.000659397001245577*te+.000426105652938837*H-.176491792462875)+ne*(-.000778269941513683*ne+.00130872261408275*te+.000770482631801132*H-.151051492775562)+te*(.00126935368114843*te-.00265090189010898*H+.25802910206845)+H*(-.000318913117588328*H-.213742400323665),U[Y++]=se*(-.000570115196973677*se-263409051004589e-19*ne+.0020741088115012*te-.00288260236853442*H+.814272968359295)-20.810012546947+ne*(-153496057440975e-19*ne-.000132689043961446*te+.000560833691242812*H-.195152027534049)+te*(.00174418132927582*te-.00255243321439347*H+.116935020465145)+H*(-.000343531996510555*H+.24165260232407);return U.subarray(0,Y)},J:function(U){for(var te,se,ne,H=0,Y=U.length;H<Y;H+=4)se=U[H+1],U[H]=434.456-(te=U[H])-1.402*(ne=U[H+2]),U[H+1]=119.541-te+.344*se+.714*ne,U[H+2]=481.816-te-1.772*se;return U},H:function(U){for(var te,se,ne,H,Y=0,he=1/255,J=0,_e=U.length;J<_e;J+=4)U[Y++]=255+(te=U[J]*he)*(-4.387332384609988*te+54.48615194189176*(se=U[J+1]*he)+18.82290502165302*(ne=U[J+2]*he)+212.25662451639585*(H=U[J+3]*he)-285.2331026137004)+se*(1.7149763477362134*se-5.6096736904047315*ne-17.873870861415444*H-5.497006427196366)+ne*(-2.5217340131683033*ne-21.248923337353073*H+17.5119270841813)-H*(21.86122147463605*H+189.48180835922747),U[Y++]=255+te*(8.841041422036149*te+60.118027045597366*se+6.871425592049007*ne+31.159100130055922*H-79.2970844816548)+se*(-15.310361306967817*se+17.575251261109482*ne+131.35250912493976*H-190.9453302588951)+ne*(4.444339102852739*ne+9.8632861493405*H-24.86741582555878)-H*(20.737325471181034*H+187.80453709719578),U[Y++]=255+te*(.8842522430003296*te+8.078677503112928*se+30.89978309703729*ne-.23883238689178934*H-14.183576799673286)+se*(10.49593273432072*se+63.02378494754052*ne+50.606957656360734*H-112.23884253719248)+ne*(.03296041114873217*ne+115.60384449646641*H-193.58209356861505)-H*(22.33816807309886*H+180.12613974708367);return U.subarray(0,Y)},getData:function(U,te,se){if(4<this.i)throw new L("Unsupported color mode");if(U=this.L(U,te),1===this.i&&se){se=U.length,te=new Uint8ClampedArray(3*se);for(var ne=0,H=0;H<se;H++){var Y=U[H];te[ne++]=Y,te[ne++]=Y,te[ne++]=Y}return te}if(3===this.i&&this.w())return this.I(U);if(4===this.i){if(this.w())return se?this.K(U):this.J(U);if(se)return this.H(U)}return U}},V.JpegDecoder=j}(),V.encodeImage=function(B,L,X,j){var Z={t256:[L],t257:[X],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[X],t279:[L*X*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(j)for(var Q in j)Z[Q]=j[Q];var W=new Uint8Array(V.encode([Z])),q=new Uint8Array(B),ie=new Uint8Array(1e3+L*X*4);for(Q=0;Q<W.length;Q++)ie[Q]=W[Q];for(Q=0;Q<q.length;Q++)ie[1e3+Q]=q[Q];return ie.buffer},V.encode=function(B){var L=new Uint8Array(2e4),X=4,j=V._binBE;L[0]=77,L[1]=77,L[3]=42;var Z=8;j.writeUint(L,X,Z),X+=4;for(var Q=0;Q<B.length;Q++){var W=V._writeIFD(j,L,Z,B[Q]);Z=W[1],Q<B.length-1&&j.writeUint(L,W[0],Z)}return L.slice(0,Z).buffer},V.decode=function(B){V.decode._decodeG3.allow2D=null;var L=new Uint8Array(B),X=0,Z="II"==V._binBE.readASCII(L,X,2)?V._binLE:V._binBE,W=(Z.readUshort(L,X+=2),Z.readUint(L,X+=2));X+=4;for(var q=[];;){var ie=V._readIFD(Z,L,W,q,0,!1);if(0==(W=Z.readUint(L,ie)))break}return q},V.decodeImage=function(B,L,X){var j=new Uint8Array(B),Z=V._binBE.readASCII(j,0,2);if(null!=L.t256){L.isLE="II"==Z,L.width=L.t256[0],L.height=L.t257[0];var q,Q=L.t259?L.t259[0]:1,W=L.t266?L.t266[0]:1;L.t284&&2==L.t284[0]&&Ut("PlanarConfiguration 2 should not be used!"),q=L.t258?Math.min(32,L.t258[0])*L.t258.length:L.t277?L.t277[0]:1,1==Q&&null!=L.t279&&L.t278&&32803==L.t262[0]&&(q=Math.round(8*L.t279[0]/(L.width*L.t278[0])));var ie=8*Math.ceil(L.width*q/8),U=L.t273;null==U&&(U=L.t324);var te=L.t279;1==Q&&1==U.length&&(te=[L.height*(ie>>>3)]),null==te&&(te=L.t325);var se=new Uint8Array(L.height*(ie>>>3)),ne=0;if(null!=L.t322){for(var H=L.t322[0],Y=L.t323[0],he=Math.floor((L.width+H-1)/H),J=Math.floor((L.height+Y-1)/Y),_e=new Uint8Array(0|Math.ceil(H*Y*q/8)),Oe=0;Oe<J;Oe++)for(var ve=0;ve<he;ve++){for(var be=Oe*he+ve,Se=0;Se<_e.length;Se++)_e[Se]=0;V.decode._decompress(L,X,j,U[be],te[be],Q,_e,0,W),6==Q?se=_e:V._copyTile(_e,0|Math.ceil(H*q/8),Y,se,0|Math.ceil(L.width*q/8),L.height,0|Math.ceil(ve*H*q/8),Oe*Y)}ne=8*se.length}else{var Re=L.t278?L.t278[0]:L.height;for(Re=Math.min(Re,L.height),be=0;be<U.length;be++)V.decode._decompress(L,X,j,U[be],te[be],Q,se,0|Math.ceil(ne/8),W),ne+=ie*Re;ne=Math.min(ne,8*se.length)}L.data=new Uint8Array(se.buffer,0,0|Math.ceil(ne/8))}},V.decode._decompress=function(B,L,X,j,Z,Q,W,q,ie){if(1==Q||Z==W.length&&32767!=Q)for(var U=0;U<Z;U++)W[q+U]=X[j+U];else if(3==Q)V.decode._decodeG3(X,j,Z,W,q,B.width,ie);else if(4==Q)V.decode._decodeG4(X,j,Z,W,q,B.width,ie);else if(5==Q)V.decode._decodeLZW(X,j,W,q);else if(6==Q)V.decode._decodeOldJPEG(B,X,j,Z,W,q);else if(7==Q)V.decode._decodeNewJPEG(B,X,j,Z,W,q);else if(8==Q)for(var te=new Uint8Array(X.buffer,j,Z),se=_t.inflate(te),ne=0;ne<se.length;ne++)W[q+ne]=se[ne];else 32767==Q?V.decode._decodeARW(B,X,j,Z,W,q):32773==Q?V.decode._decodePackBits(X,j,Z,W,q):32809==Q?V.decode._decodeThunder(X,j,Z,W,q):34713==Q?V.decode._decodeNikon(B,L,X,j,Z,W,q):Ut("Unknown compression",Q);var H=B.t258?Math.min(32,B.t258[0]):1,Y=B.t277?B.t277[0]:1,he=H*Y>>>3,J=B.t278?B.t278[0]:B.height,_e=Math.ceil(H*Y*B.width/8);if(16==H&&!B.isLE&&null==B.t33422)for(var Oe=0;Oe<J;Oe++)for(var ve=q+Oe*_e,be=1;be<_e;be+=2){var Se=W[ve+be];W[ve+be]=W[ve+be-1],W[ve+be-1]=Se}if(B.t317&&2==B.t317[0])for(Oe=0;Oe<J;Oe++){var Re=q+Oe*_e;if(16==H)for(U=he;U<_e;U+=2){var ct=(W[Re+U+1]<<8|W[Re+U])+(W[Re+U-he+1]<<8|W[Re+U-he]);W[Re+U]=255&ct,W[Re+U+1]=ct>>>8&255}else if(3==Y)for(U=3;U<_e;U+=3)W[Re+U]=W[Re+U]+W[Re+U-3]&255,W[Re+U+1]=W[Re+U+1]+W[Re+U-2]&255,W[Re+U+2]=W[Re+U+2]+W[Re+U-1]&255;else for(U=he;U<_e;U++)W[Re+U]=W[Re+U]+W[Re+U-he]&255}},V.decode._ljpeg_diff=function(B,L,X){var Z,Q,j=V.decode._getbithuff;return Z=j(B,L,X[0],X),(Q=j(B,L,Z,0))&1<<Z-1||(Q-=(1<<Z)-1),Q},V.decode._decodeARW=function(B,L,X,j,Z,Q){var W=B.t256[0],q=B.t257[0],ie=B.t258[0],U=B.isLE?V._binLE:V._binBE;if(W*q==j||W*q*1.5==j)if(W*q*1.5!=j){var ft,xt,qe,Ye,lt,Mt,Wt,An,ct=new Uint16Array(16),ii=new Uint8Array(W+1);for(it=0;it<q;it++){for(var rn=0;rn<W;rn++)ii[rn]=L[X++];for(An=0,Xe=0;Xe<W-30;An+=16){for(xt=2047&(ft=U.readUint(ii,An)),qe=2047&ft>>>11,Ye=15&ft>>>22,lt=15&ft>>>26,Mt=0;Mt<4&&128<<Mt<=xt-qe;Mt++);for(Wt=30,Nt=0;Nt<16;Nt++)Nt==Ye?ct[Nt]=xt:Nt==lt?ct[Nt]=qe:(ct[Nt]=((U.readUshort(ii,An+(Wt>>3))>>>(7&Wt)&127)<<Mt)+qe,ct[Nt]>2047&&(ct[Nt]=2047),Wt+=7);for(Nt=0;Nt<16;Nt++,Xe+=2)V.decode._putsF(Z,(it*W+Xe)*ie,ct[Nt]<<1<<16-ie);Xe-=1&Xe?1:31}}}else for(var Nt=0;Nt<j;Nt+=3){var be=L[X+Nt+0],Se=L[X+Nt+1],Re=L[X+Nt+2];Z[Q+Nt]=Se<<4|be>>>4,Z[Q+Nt+1]=be<<4|Re>>>4,Z[Q+Nt+2]=Re<<4|Se>>>4}else{q+=8;var he,Xe,it,se=[X,0,0,0],ne=new Uint16Array(32770),H=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],J=0,_e=V.decode._ljpeg_diff;for(ne[0]=15,he=Nt=0;Nt<18;Nt++)for(var Oe=32768>>>(H[Nt]>>>8),Y=0;Y<Oe;Y++)ne[++he]=H[Nt];for(Xe=W;Xe--;)for(it=0;it<q+1;it+=2)it==q&&(it=1),J+=_e(L,se,ne),it<q&&V.decode._putsF(Z,(it*W+Xe)*ie,(4095&J)<<16-ie)}},V.decode._decodeNikon=function(B,L,X,j,Z,Q,W){var q=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],ie=B.t256[0],U=B.t257[0],te=B.t258[0],se=0,ne=0,H=V.decode._make_decoder,Y=V.decode._getbithuff,he=L[0].exifIFD.makerNote,J=he.t150?he.t150:he.t140,_e=0,Oe=J[_e++],ve=J[_e++];(73==Oe||88==ve)&&(_e+=2110),70==Oe&&(se=2),14==te&&(se+=3);for(var be=[[0,0],[0,0]],Se=B.isLE?V._binLE:V._binBE,ft=0;ft<2;ft++)for(var Re=0;Re<2;Re++)be[ft][Re]=Se.readShort(J,_e),_e+=2;var ct=1<<te&32767,it=0,Xe=Se.readShort(J,_e);_e+=2,Xe>1&&(it=Math.floor(ct/(Xe-1))),68==Oe&&32==ve&&it>0&&(ne=Se.readShort(J,562));var xt,qe,Ye,lt,Mt,Nt=[0,0],An=H(q[se]),ii=[j,0,0,0];for(xt=0;xt<U;xt++)for(ne&&xt==ne&&(An=H(q[se+1])),qe=0;qe<ie;qe++){ft=Y(X,ii,An[0],An),(Mt=1+(Y(X,ii,(Ye=15&ft)-(lt=ft>>>4),0)<<1)<<lt>>>1)&1<<Ye-1||(Mt-=(1<<Ye)-(0==lt?1:0)),qe<2?Nt[qe]=be[1&xt][qe]+=Mt:Nt[1&qe]+=Mt;var rn=Math.min(Math.max(Nt[1&qe],0),(1<<te)-1);V.decode._putsF(Q,(xt*ie+qe)*te,rn<<16-te)}},V.decode._putsF=function(B,L,X){var j=L>>>3;B[j]|=(X<<=8-(7&L))>>>16,B[j+1]|=X>>>8,B[j+2]|=X},V.decode._getbithuff=function(B,L,X,j){var W,q=L[0],ie=L[1],U=L[2],te=L[3];if(0==X||U<0)return 0;for(;!te&&U<X&&-1!=(W=B[q++])&&!(te=0);)ie=(ie<<8)+W,U+=8;if(W=ie<<32-U>>>32-X,j?(U-=j[W+1]>>>8,W=255&j[W+1]):U-=X,U<0)throw"e";return L[0]=q,L[1]=ie,L[2]=U,L[3]=te,W},V.decode._make_decoder=function(B){var L,X,j,Z,Q,W=[];for(L=16;0!=L&&!B[L];L--);var q=17;for(W[0]=L,j=X=1;X<=L;X++)for(Z=0;Z<B[X];Z++,++q)for(Q=0;Q<1<<L-X;Q++)j<=1<<L&&(W[j++]=X<<8|B[q]);return W},V.decode._decodeNewJPEG=function(B,L,X,j,Z,Q){var W=B.t347,q=W?W.length:0,ie=new Uint8Array(q+j);if(W){for(var se=0,ne=0;ne<q-1&&(255!=W[ne]||217!=W[ne+1]);ne++)ie[se++]=W[ne];var H=L[X],Y=L[X+1];for((255!=H||216!=Y)&&(ie[se++]=H,ie[se++]=Y),ne=2;ne<j;ne++)ie[se++]=L[X+ne]}else for(ne=0;ne<j;ne++)ie[ne]=L[X+ne];if(32803==B.t262[0]||34892==B.t262[0]){var he=B.t258[0],J=V.LosslessJpegDecode(ie),_e=J.length;if(16==he)if(B.isLE)for(ne=0;ne<_e;ne++)Z[Q+(ne<<1)]=255&J[ne],Z[Q+(ne<<1)+1]=J[ne]>>>8;else for(ne=0;ne<_e;ne++)Z[Q+(ne<<1)]=J[ne]>>>8,Z[Q+(ne<<1)+1]=255&J[ne];else{if(14!=he&&12!=he)throw new Error("unsupported bit depth "+he);var Oe=16-he;for(ne=0;ne<_e;ne++)V.decode._putsF(Z,ne*he,J[ne]<<Oe)}}else{var ve=new V.JpegDecoder;ve.parse(ie);var be=ve.getData(ve.width,ve.height);for(ne=0;ne<be.length;ne++)Z[Q+ne]=be[ne]}6==B.t262[0]&&(B.t262[0]=2)},V.decode._decodeOldJPEGInit=function(B,L,X,j){var H,Y,J,_e,Oe,Z=216,se=0,ne=0,he=!1,ve=B.t513,be=ve?ve[0]:0,Se=B.t514,Re=Se?Se[0]:0,ct=B.t324||B.t273||ve,it=B.t530,Xe=0,ft=0,xt=B.t277?B.t277[0]:1,qe=B.t515;if(ct&&(ne=ct[0],he=ct.length>1),!he){if(255==L[X]&&L[X+1]==Z)return{jpegOffset:X};if(null!=ve&&(255==L[X+be]&&L[X+be+1]==Z?se=X+be:Ut("JPEGInterchangeFormat does not point to SOI"),null==Se?Ut("JPEGInterchangeFormatLength field is missing"):(be>=ne||be+Re<=ne)&&Ut("JPEGInterchangeFormatLength field value is invalid"),null!=se))return{jpegOffset:se}}if(null!=it&&(Xe=it[0],ft=it[1]),null!=ve&&null!=Se)if(Re>=2&&be+Re<=ne){for(H=255==L[X+be+Re-2]&&L[X+be+Re-1]==Z?new Uint8Array(Re-2):new Uint8Array(Re),J=0;J<H.length;J++)H[J]=L[X+be+J];Ut("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else Ut("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==H){var Ye=0,lt=[];lt[Ye++]=255,lt[Ye++]=Z;var Mt=B.t519;if(null==Mt)throw new Error("JPEGQTables tag is missing");for(J=0;J<Mt.length;J++)for(lt[Ye++]=255,lt[Ye++]=219,lt[Ye++]=0,lt[Ye++]=67,lt[Ye++]=J,_e=0;_e<64;_e++)lt[Ye++]=L[X+Mt[J]+_e];for(Oe=0;Oe<2;Oe++){var Wt=B[0==Oe?"t520":"t521"];if(null==Wt)throw new Error((0==Oe?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(J=0;J<Wt.length;J++){lt[Ye++]=255,lt[Ye++]=196;var Nt=19;for(_e=0;_e<16;_e++)Nt+=L[X+Wt[J]+_e];for(lt[Ye++]=Nt>>>8,lt[Ye++]=255&Nt,lt[Ye++]=J|Oe<<4,_e=0;_e<16;_e++)lt[Ye++]=L[X+Wt[J]+_e];for(_e=0;_e<Nt;_e++)lt[Ye++]=L[X+Wt[J]+16+_e]}}if(lt[Ye++]=255,lt[Ye++]=192,lt[Ye++]=0,lt[Ye++]=8+3*xt,lt[Ye++]=8,lt[Ye++]=B.height>>>8&255,lt[Ye++]=255&B.height,lt[Ye++]=B.width>>>8&255,lt[Ye++]=255&B.width,lt[Ye++]=xt,1==xt)lt[Ye++]=1,lt[Ye++]=17,lt[Ye++]=0;else for(J=0;J<3;J++)lt[Ye++]=J+1,lt[Ye++]=0!=J?17:(15&Xe)<<4|15&ft,lt[Ye++]=J;null!=qe&&0!=qe[0]&&(lt[Ye++]=255,lt[Ye++]=221,lt[Ye++]=0,lt[Ye++]=4,lt[Ye++]=qe[0]>>>8&255,lt[Ye++]=255&qe[0]),H=new Uint8Array(lt)}var An=-1;for(J=0;J<H.length-1;){if(255==H[J]&&192==H[J+1]){An=J;break}J++}if(-1==An){var ii=new Uint8Array(H.length+10+3*xt);ii.set(H);var rn=H.length;if(An=H.length,(H=ii)[rn++]=255,H[rn++]=192,H[rn++]=0,H[rn++]=8+3*xt,H[rn++]=8,H[rn++]=B.height>>>8&255,H[rn++]=255&B.height,H[rn++]=B.width>>>8&255,H[rn++]=255&B.width,H[rn++]=xt,1==xt)H[rn++]=1,H[rn++]=17,H[rn++]=0;else for(J=0;J<3;J++)H[rn++]=J+1,H[rn++]=0!=J?17:(15&Xe)<<4|15&ft,H[rn++]=J}if(255==L[ne]&&218==L[ne+1]){var Yn=L[ne+2]<<8|L[ne+3];for((Y=new Uint8Array(Yn+2))[0]=L[ne],Y[1]=L[ne+1],Y[2]=L[ne+2],Y[3]=L[ne+3],J=0;J<Yn-2;J++)Y[J+4]=L[ne+J+4]}else{var Hn=0;if((Y=new Uint8Array(8+2*xt))[Hn++]=255,Y[Hn++]=218,Y[Hn++]=0,Y[Hn++]=6+2*xt,Y[Hn++]=xt,1==xt)Y[Hn++]=1,Y[Hn++]=0;else for(J=0;J<3;J++)Y[Hn++]=J+1,Y[Hn++]=J<<4|J;Y[Hn++]=0,Y[Hn++]=63,Y[Hn++]=0}return{jpegOffset:X,tables:H,sosMarker:Y,sofPosition:An}},V.decode._decodeOldJPEG=function(B,L,X,j,Z,Q){var q,ie,U,te,se=V.decode._decodeOldJPEGInit(B,L,X,j);if(null!=se.jpegOffset)for(q=X+j-se.jpegOffset,U=new Uint8Array(q),W=0;W<q;W++)U[W]=L[se.jpegOffset+W];else{for(ie=se.tables.length,(U=new Uint8Array(ie+se.sosMarker.length+j+2)).set(se.tables),te=ie,U[se.sofPosition+5]=B.height>>>8&255,U[se.sofPosition+6]=255&B.height,U[se.sofPosition+7]=B.width>>>8&255,U[se.sofPosition+8]=255&B.width,(255!=L[X]||L[X+1]!=SOS)&&(U.set(se.sosMarker,te),te+=sosMarker.length),W=0;W<j;W++)U[te++]=L[X+W];U[te++]=255,U[te++]=EOI}var ne=new V.JpegDecoder;ne.parse(U);for(var H=ne.getData(ne.width,ne.height),W=0;W<H.length;W++)Z[Q+W]=H[W];B.t262&&6==B.t262[0]&&(B.t262[0]=2)},V.decode._decodePackBits=function(B,L,X,j,Z){for(var Q=new Int8Array(B.buffer),W=new Int8Array(j.buffer),q=L+X;L<q;){var ie=Q[L];if(L++,ie>=0&&ie<128)for(var U=0;U<ie+1;U++)W[Z]=Q[L],Z++,L++;if(ie>=-127&&ie<0){for(U=0;U<1-ie;U++)W[Z]=Q[L],Z++;L++}}},V.decode._decodeThunder=function(B,L,X,j,Z){for(var Q=[0,1,0,-1],W=[0,1,2,3,0,-3,-2,-1],q=L+X,ie=2*Z,U=0;L<q;){var te=B[L],se=te>>>6,ne=63&te;if(L++,3==se&&(j[ie>>>1]|=(U=15&ne)<<4*(1-ie&1),ie++),0==se)for(var H=0;H<ne;H++)j[ie>>>1]|=U<<4*(1-ie&1),ie++;if(2==se)for(H=0;H<2;H++)4!=(Y=ne>>>3*(1-H)&7)&&(j[ie>>>1]|=(U+=W[Y])<<4*(1-ie&1),ie++);if(1==se)for(H=0;H<3;H++){var Y;2!=(Y=ne>>>2*(2-H)&3)&&(j[ie>>>1]|=(U+=Q[Y])<<4*(1-ie&1),ie++)}}},V.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},V.decode._lens=function(){var B=function(ie,U,te,se){for(var ne=0;ne<U.length;ne++)ie[U[ne]]=te+ne*se},L="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",X="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",j="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",Z="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",Q="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";L=L.split(","),X=X.split(","),j=j.split(","),Z=Z.split(","),Q=Q.split(",");var W={},q={};return B(W,L,0,1),B(W,j,64,64),B(W,Q,1792,64),B(q,X,0,1),B(q,Z,64,64),B(q,Q,1792,64),[W,q]}(),V.decode._decodeG4=function(B,L,X,j,Z,Q,W){for(var q=V.decode,ie=L<<3,U=0,te="",se=[],ne=[],H=0;H<Q;H++)ne.push(0);ne=q._makeDiff(ne);for(var Y=0,he=0,_e=0,Oe=0,ve=0,be=0,Se="",Re=0,ct=8*Math.ceil(Q/8);ie>>>3<L+X;){_e=q._findDiff(ne,Y+(0==Y?0:1),1-ve),Oe=q._findDiff(ne,_e,ve);var it=0;if(1==W&&(it=B[ie>>>3]>>>7-(7&ie)&1),2==W&&(it=B[ie>>>3]>>>(7&ie)&1),ie++,te+=it,"H"==Se){if(null!=q._lens[ve][te]){var Xe=q._lens[ve][te];te="",U+=Xe,Xe<64&&(q._addNtimes(se,U,ve),Y+=U,ve=1-ve,U=0,0==--Re&&(Se=""))}}else"0001"==te&&(te="",q._addNtimes(se,Oe-Y,ve),Y=Oe),"001"==te&&(te="",Se="H",Re=2),null!=q._dmap[te]&&(q._addNtimes(se,(he=_e+q._dmap[te])-Y,ve),Y=he,te="",ve=1-ve);se.length==Q&&""==Se&&(q._writeBits(se,j,8*Z+be*ct),ve=0,be++,Y=0,ne=q._makeDiff(se),se=[])}},V.decode._findDiff=function(B,L,X){for(var j=0;j<B.length;j+=2)if(B[j]>=L&&B[j+1]==X)return B[j]},V.decode._makeDiff=function(B){var L=[];1==B[0]&&L.push(0,1);for(var X=1;X<B.length;X++)B[X-1]!=B[X]&&L.push(X,B[X]);return L.push(B.length,0,B.length,1),L},V.decode._decodeG3=function(B,L,X,j,Z,Q,W){for(var q=V.decode,ie=L<<3,U=0,te="",se=[],ne=[],H=0;H<Q;H++)se.push(0);for(var Y=0,he=0,_e=0,Oe=0,ve=0,be=-1,Se="",Re=0,ct=!1,it=8*Math.ceil(Q/8);ie>>>3<L+X;){_e=q._findDiff(ne,Y+(0==Y?0:1),1-ve),Oe=q._findDiff(ne,_e,ve);var Xe=0;if(1==W&&(Xe=B[ie>>>3]>>>7-(7&ie)&1),2==W&&(Xe=B[ie>>>3]>>>(7&ie)&1),ie++,te+=Xe,ct){if(null!=q._lens[ve][te]){var ft=q._lens[ve][te];te="",U+=ft,ft<64&&(q._addNtimes(se,U,ve),ve=1-ve,U=0)}}else"H"==Se?null!=q._lens[ve][te]&&(ft=q._lens[ve][te],te="",U+=ft,ft<64&&(q._addNtimes(se,U,ve),Y+=U,ve=1-ve,U=0,0==--Re&&(Se=""))):("0001"==te&&(te="",q._addNtimes(se,Oe-Y,ve),Y=Oe),"001"==te&&(te="",Se="H",Re=2),null!=q._dmap[te]&&(q._addNtimes(se,(he=_e+q._dmap[te])-Y,ve),Y=he,te="",ve=1-ve));te.endsWith("000000000001")&&(be>=0&&q._writeBits(se,j,8*Z+be*it),1==W&&(ct=1==(B[ie>>>3]>>>7-(7&ie)&1)),2==W&&(ct=1==(B[ie>>>3]>>>(7&ie)&1)),ie++,null==q._decodeG3.allow2D&&(q._decodeG3.allow2D=ct),q._decodeG3.allow2D||(ct=!0,ie--),te="",ve=0,be++,Y=0,ne=q._makeDiff(se),se=[])}se.length==Q&&q._writeBits(se,j,8*Z+be*it)},V.decode._addNtimes=function(B,L,X){for(var j=0;j<L;j++)B.push(X)},V.decode._writeBits=function(B,L,X){for(var j=0;j<B.length;j++)L[X+j>>>3]|=B[j]<<7-(X+j&7)},V.decode._decodeLZW=function(B,L,X,j){if(null==V.decode._lzwTab){for(var Z=new Uint32Array(65535),Q=new Uint16Array(65535),te=new Uint8Array(2e6),W=0;W<256;W++)te[W<<2]=W,Z[W]=W<<2,Q[W]=1;V.decode._lzwTab=[Z,Q,te]}for(var q=V.decode._copyData,ie=V.decode._lzwTab[0],U=V.decode._lzwTab[1],se=(te=V.decode._lzwTab[2],258),ne=1032,H=9,Y=L<<3,Oe=0,ve=0;Oe=(B[Y>>>3]<<16|B[Y+8>>>3]<<8|B[Y+16>>>3])>>24-(7&Y)-H&(1<<H)-1,Y+=H,257!=Oe;){if(256==Oe){if(se=258,ne=1032,Oe=(B[Y>>>3]<<16|B[Y+8>>>3]<<8|B[Y+16>>>3])>>24-(7&Y)-(H=9)&(1<<H)-1,Y+=H,257==Oe)break;X[j]=Oe,j++}else if(Oe<se){var be=ie[Oe],Se=U[Oe];q(te,be,X,j,Se),j+=Se,ve>=se?(ie[se]=ne,te[ie[se]]=be[0],U[se]=1,ne=ne+1+3&-4,se++):(ie[se]=ne,q(te,ie[ve],te,ne,ct=U[ve]),te[ne+ct]=te[be],ct++,U[se]=ct,se++,ne=ne+ct+3&-4),se+1==1<<H&&H++}else{var ct;ve>=se?(ie[se]=ne,U[se]=0,se++):(ie[se]=ne,q(te,ie[ve],te,ne,ct=U[ve]),te[ne+ct]=te[ne],ct++,U[se]=ct,se++,q(te,ne,X,j,ct),j+=ct,ne=ne+ct+3&-4),se+1==1<<H&&H++}ve=Oe}},V.decode._copyData=function(B,L,X,j,Z){for(var Q=0;Q<Z;Q+=4)X[j+Q]=B[L+Q],X[j+Q+1]=B[L+Q+1],X[j+Q+2]=B[L+Q+2],X[j+Q+3]=B[L+Q+3]},V.tags={},V.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},V._readIFD=function(B,L,X,j,Z,Q){var W=B.readUshort(L,X);X+=2;var q={};j.push(q),Q&&Ut("   ".repeat(Z),j.length-1,">>>----------------");for(var ie=0;ie<W;ie++){var U=B.readUshort(L,X),te=B.readUshort(L,X+=2),se=B.readUint(L,X+=2),ne=B.readUint(L,X+=4);X+=4;var H=[];if((1==te||7==te)&&(H=new Uint8Array(L.buffer,se<5?X-4:ne,se)),2==te){var Y=se<5?X-4:ne;L[Y]<128?H.push(B.readASCII(L,Y,se-1)):H=new Uint8Array(L.buffer,Y,se-1)}if(3==te)for(var J=0;J<se;J++)H.push(B.readUshort(L,(se<3?X-4:ne)+2*J));if(4==te)for(J=0;J<se;J++)H.push(B.readUint(L,(se<2?X-4:ne)+4*J));if(5==te)for(J=0;J<se;J++)H.push(B.readUint(L,ne+8*J)/B.readUint(L,ne+8*J+4));if(8==te)for(J=0;J<se;J++)H.push(B.readShort(L,(se<3?X-4:ne)+2*J));if(9==te)for(J=0;J<se;J++)H.push(B.readInt(L,(se<2?X-4:ne)+4*J));if(10==te)for(J=0;J<se;J++)H.push(B.readInt(L,ne+8*J)/B.readInt(L,ne+8*J+4));if(11==te)for(J=0;J<se;J++)H.push(B.readFloat(L,ne+4*J));if(12==te)for(J=0;J<se;J++)H.push(B.readDouble(L,ne+8*J));if(q["t"+U]=H,0!=se&&0==H.length&&Ut("unknown TIFF tag type: ",te,"num:",se),Q&&Ut("   ".repeat(Z),U,te,V.tags[U],H),(330!=U||!q.t272||"DSLR-A100"!=q.t272[0])&&(330==U||34665==U||50740==U&&B.readUshort(L,B.readUint(H,0))<300)){var _e=50740==U?[B.readUint(H,0)]:H,Oe=[];for(J=0;J<_e.length;J++)V._readIFD(B,L,_e[J],Oe,Z+1,Q);330==U&&(q.subIFD=Oe),34665==U&&(q.exifIFD=Oe[0]),50740==U&&(q.dngPrvt=Oe[0])}if(37500==U){var ve=H;if("Nikon"==B.readASCII(ve,0,5))q.makerNote=V.decode(ve.slice(10).buffer)[0];else if(B.readUshort(L,ne)<300){var be=[];V._readIFD(B,L,ne,be,Z+1,Q),q.makerNote=be[0]}}}return Q&&Ut("   ".repeat(Z),"<<<---------------"),X},V._writeIFD=function(B,L,X,j){var Z=Object.keys(j);B.writeUshort(L,X,Z.length);for(var Q=(X+=2)+12*Z.length+4,W=0;W<Z.length;W++){var q=Z[W],ie=parseInt(q.slice(1)),U=V.ttypes[ie];if(null==U)throw new Error("unknown type of tag: "+ie);var te=j[q];2==U&&(te=te[0]+"\0");var se=te.length;B.writeUshort(L,X,ie),B.writeUshort(L,X+=2,U),B.writeUint(L,X+=2,se);var ne=[-1,1,1,2,4,8,0,0,0,0,0,0,8][U]*se,H=X+=4;if(ne>4&&(B.writeUint(L,X,Q),H=Q),2==U&&B.writeASCII(L,H,te),3==U)for(var Y=0;Y<se;Y++)B.writeUshort(L,H+2*Y,te[Y]);if(4==U)for(Y=0;Y<se;Y++)B.writeUint(L,H+4*Y,te[Y]);if(5==U)for(Y=0;Y<se;Y++)B.writeUint(L,H+8*Y,Math.round(1e4*te[Y])),B.writeUint(L,H+8*Y+4,1e4);if(12==U)for(Y=0;Y<se;Y++)B.writeDouble(L,H+8*Y,te[Y]);ne>4&&(Q+=ne+=1&ne),X+=4}return[X,Q]},V.toRGBA8=function(B){var L=B.width,X=B.height,j=L*X,Z=4*j,Q=B.data,W=new Uint8Array(4*j),q=B.t262?B.t262[0]:2,ie=B.t258?Math.min(32,B.t258[0]):1;if(0==q)for(var U=Math.ceil(ie*L/8),te=0;te<X;te++){var se=te*U,ne=te*L;if(1==ie)for(var H=0;H<L;H++)W[Y=ne+H<<2]=W[Y+1]=W[Y+2]=255*(1-(he=Q[se+(H>>3)]>>7-(7&H)&1)),W[Y+3]=255;if(4==ie)for(H=0;H<L;H++)W[Y=ne+H<<2]=W[Y+1]=W[Y+2]=17*(15-(he=Q[se+(H>>1)]>>4-4*(1&H)&15)),W[Y+3]=255;if(8==ie)for(H=0;H<L;H++)W[Y=ne+H<<2]=W[Y+1]=W[Y+2]=255-(he=Q[se+H]),W[Y+3]=255}else if(1==q)for(U=Math.ceil(ie*L/8),te=0;te<X;te++){if(se=te*U,ne=te*L,1==ie)for(H=0;H<L;H++)W[Y=ne+H<<2]=W[Y+1]=W[Y+2]=255*(he=Q[se+(H>>3)]>>7-(7&H)&1),W[Y+3]=255;if(2==ie)for(H=0;H<L;H++)W[Y=ne+H<<2]=W[Y+1]=W[Y+2]=85*(he=Q[se+(H>>2)]>>6-2*(3&H)&3),W[Y+3]=255;if(8==ie)for(H=0;H<L;H++)W[Y=ne+H<<2]=W[Y+1]=W[Y+2]=he=Q[se+H],W[Y+3]=255;if(16==ie)for(H=0;H<L;H++){var he=Q[se+(2*H+1)];W[Y=ne+H<<2]=W[Y+1]=W[Y+2]=Math.min(255,he),W[Y+3]=255}}else if(2==q){var J=B.t258?B.t258.length:3;if(8==ie){if(4==J)for(H=0;H<Z;H++)W[H]=Q[H];if(3==J)for(H=0;H<j;H++)W[Y=H<<2]=Q[_e=3*H],W[Y+1]=Q[_e+1],W[Y+2]=Q[_e+2],W[Y+3]=255}else{if(4==J)for(H=0;H<j;H++)W[Y=H<<2]=Q[_e=8*H+1],W[Y+1]=Q[_e+2],W[Y+2]=Q[_e+4],W[Y+3]=Q[_e+6];if(3==J)for(H=0;H<j;H++){var _e;W[Y=H<<2]=Q[_e=6*H+1],W[Y+1]=Q[_e+2],W[Y+2]=Q[_e+4],W[Y+3]=255}}}else if(3==q){var Oe=B.t320;for(H=0;H<j;H++){var ve=Q[H];W[Y=H<<2]=Oe[ve]>>8,W[Y+1]=Oe[256+ve]>>8,W[Y+2]=Oe[512+ve]>>8,W[Y+3]=255}}else if(5==q){var be=(J=B.t258?B.t258.length:4)>4?1:0;for(H=0;H<j;H++){var Y,Se=H*J,ct=255-Q[Se+1],it=255-Q[Se+2],Xe=1/255*(255-Q[Se+3]);W[Y=H<<2]=~~((255-Q[Se])*Xe+.5),W[Y+1]=~~(ct*Xe+.5),W[Y+2]=~~(it*Xe+.5),W[Y+3]=255*(1-be)+Q[Se+4]*be}}else Ut("Unknown Photometric interpretation: "+q);return W},V.replaceIMG=function(B){null==B&&(B=document.getElementsByTagName("img"));for(var L=["tif","tiff","dng","cr2","nef"],X=0;X<B.length;X++){var j=B[X],Z=j.getAttribute("src");if(null!=Z){var Q=Z.split(".").pop().toLowerCase();if(-1!=L.indexOf(Q)){var W=new XMLHttpRequest;V._xhrs.push(W),V._imgs.push(j),W.open("GET",Z),W.responseType="arraybuffer",W.onload=V._imgLoaded,W.send()}}}},V._xhrs=[],V._imgs=[],V._imgLoaded=function(B){var L=B.target.response,X=V.decode(L),j=X,Z=0,Q=j[0];X[0].subIFD&&(j=j.concat(X[0].subIFD));for(var W=0;W<j.length;W++)if(!(null==(ne=j[W]).t258||ne.t258.length<3)){var q=ne.t256*ne.t257;q>Z&&(Z=q,Q=ne)}V.decodeImage(L,Q,X);var ie=V.toRGBA8(Q),U=Q.width,te=Q.height,se=V._xhrs.indexOf(B.target),ne=V._imgs[se];V._xhrs.splice(se,1),V._imgs.splice(se,1);var H=document.createElement("canvas");H.width=U,H.height=te;var Y=H.getContext("2d"),he=Y.createImageData(U,te);for(W=0;W<ie.length;W++)he.data[W]=ie[W];Y.putImageData(he,0,0),ne.setAttribute("src",H.toDataURL())},V._binBE={nextZero:function(B,L){for(;0!=B[L];)L++;return L},readUshort:function(B,L){return B[L]<<8|B[L+1]},readShort:function(B,L){var X=V._binBE.ui8;return X[0]=B[L+1],X[1]=B[L+0],V._binBE.i16[0]},readInt:function(B,L){var X=V._binBE.ui8;return X[0]=B[L+3],X[1]=B[L+2],X[2]=B[L+1],X[3]=B[L+0],V._binBE.i32[0]},readUint:function(B,L){var X=V._binBE.ui8;return X[0]=B[L+3],X[1]=B[L+2],X[2]=B[L+1],X[3]=B[L+0],V._binBE.ui32[0]},readASCII:function(B,L,X){for(var j="",Z=0;Z<X;Z++)j+=String.fromCharCode(B[L+Z]);return j},readFloat:function(B,L){for(var X=V._binBE.ui8,j=0;j<4;j++)X[j]=B[L+3-j];return V._binBE.fl32[0]},readDouble:function(B,L){for(var X=V._binBE.ui8,j=0;j<8;j++)X[j]=B[L+7-j];return V._binBE.fl64[0]},writeUshort:function(B,L,X){B[L]=X>>8&255,B[L+1]=255&X},writeUint:function(B,L,X){B[L]=X>>24&255,B[L+1]=X>>16&255,B[L+2]=X>>8&255,B[L+3]=255&X},writeASCII:function(B,L,X){for(var j=0;j<X.length;j++)B[L+j]=X.charCodeAt(j)},writeDouble:function(B,L,X){V._binBE.fl64[0]=X;for(var j=0;j<8;j++)B[L+j]=V._binBE.ui8[7-j]}},V._binBE.ui8=new Uint8Array(8),V._binBE.i16=new Int16Array(V._binBE.ui8.buffer),V._binBE.i32=new Int32Array(V._binBE.ui8.buffer),V._binBE.ui32=new Uint32Array(V._binBE.ui8.buffer),V._binBE.fl32=new Float32Array(V._binBE.ui8.buffer),V._binBE.fl64=new Float64Array(V._binBE.ui8.buffer),V._binLE={nextZero:V._binBE.nextZero,readUshort:function(B,L){return B[L+1]<<8|B[L]},readShort:function(B,L){var X=V._binBE.ui8;return X[0]=B[L+0],X[1]=B[L+1],V._binBE.i16[0]},readInt:function(B,L){var X=V._binBE.ui8;return X[0]=B[L+0],X[1]=B[L+1],X[2]=B[L+2],X[3]=B[L+3],V._binBE.i32[0]},readUint:function(B,L){var X=V._binBE.ui8;return X[0]=B[L+0],X[1]=B[L+1],X[2]=B[L+2],X[3]=B[L+3],V._binBE.ui32[0]},readASCII:V._binBE.readASCII,readFloat:function(B,L){for(var X=V._binBE.ui8,j=0;j<4;j++)X[j]=B[L+j];return V._binBE.fl32[0]},readDouble:function(B,L){for(var X=V._binBE.ui8,j=0;j<8;j++)X[j]=B[L+j];return V._binBE.fl64[0]}},V._copyTile=function(B,L,X,j,Z,Q,W,q){for(var ie=Math.min(L,Z-W),U=Math.min(X,Q-q),te=0;te<U;te++)for(var se=(q+te)*Z+W,ne=te*L,H=0;H<ie;H++)j[se+H]=B[ne+H]},V.LosslessJpegDecode=function(){function B(Z){this.w=Z,this.N=0,this._=0,this.G=0}B.prototype={t:function(Z){this.N=Math.max(0,Math.min(this.w.length,Z))},i:function(){return this.w[this.N++]},l:function(){var Z=this.N;return this.N+=2,this.w[Z]<<8|this.w[Z+1]},J:function(){return 0==this._&&(this.G=this.w[this.N],this.N+=1+(this.G+1>>>8),this._=8),this.G>>>--this._&1},Z:function(Z){var Q=this._,W=this.G,q=Math.min(Q,Z);Z-=q;for(var ie=W>>>(Q-=q)&(1<<q)-1;Z>0;)this.N+=1+((W=this.w[this.N])+1>>>8),Z-=q=Math.min(8,Z),ie<<=q,ie|=W>>>(Q=8-q)&(1<<q)-1;return this._=Q,this.G=W,ie}};var L={};function X(Z){this.z=new B(Z),this.D(this.z)}return L.X=function(){return[0,0,-1]},L.s=function(Z,Q,W){Z[L.Y(Z,0,W)+2]=Q},L.Y=function(Z,Q,W){if(-1!=Z[Q+2])return 0;if(0==W)return Q;for(var q=0;q<2;q++){0==Z[Q+q]&&(Z[Q+q]=Z.length,Z.push(0),Z.push(0),Z.push(-1));var ie=L.Y(Z,Z[Q+q],W-1);if(0!=ie)return ie}return 0},L.B=function(Z,Q){for(var W=0,q=0,U=Q._,te=Q.G,se=Q.N;;)if(0==U&&(se+=1+((te=Q.w[se])+1>>>8),U=8),-1!=(q=Z[(W=Z[W+(te>>>--U&1)])+2]))return Q._=U,Q.G=te,Q.N=se,q;return-1},X.prototype={$:function(Z,Q){this.Q=Z.i(),this.F=Z.l(),this.o=Z.l();var W=this.O=Z.i();this.L=[];for(var q=0;q<W;q++){var ie=Z.i();Z.i(),Z.i(),this.L[ie]=q}Z.t(Z.N+Q-(6+3*W))},e:function(){var Z=0,Q=this.z.i();null==this.H&&(this.H={});for(var W=this.H[Q]=L.X(),q=[],ie=0;ie<16;ie++)q[ie]=this.z.i(),Z+=q[ie];for(ie=0;ie<16;ie++)for(var U=0;U<q[ie];U++)L.s(W,this.z.i(),ie+1);return Z+17},W:function(Z){for(;Z>0;)Z-=this.e()},p:function(Z,Q){var W=Z.i();this.U||(this.U=[]);for(var q=0;q<W;q++){var ie=Z.i(),U=Z.i();this.U[this.L[ie]]=this.H[U>>>4]}this.g=Z.i(),Z.t(Z.N+Q-(2+2*W))},D:function(Z){var Q=!1;if((W=Z.l())===X.q)do{var W=Z.l(),q=Z.l()-2;switch(W){case X.m:this.$(Z,q);break;case X.K:this.W(q);break;case X.V:this.p(Z,q),Q=!0;break;default:Z.t(Z.N+q)}}while(!Q)},I:function(Z,Q){var W=L.B(Q,Z);if(16==W)return-32768;var q=Z.Z(W);return q&1<<W-1||(q-=(1<<W)-1),q},B:function(Z,Q){for(var W=this.z,q=this.O,ie=this.F,U=this.I,te=this.g,se=this.o*q,ne=this.U,H=0;H<q;H++)Z[H]=U(W,ne[H])+(1<<this.Q-1);for(var Y=q;Y<se;Y+=q)for(H=0;H<q;H++)Z[Y+H]=U(W,ne[H])+Z[Y+H-q];for(var he=Q,J=1;J<ie;J++){for(H=0;H<q;H++)Z[he+H]=U(W,ne[H])+Z[he+H-Q];for(Y=q;Y<se;Y+=q)for(H=0;H<q;H++){var _e=he+Y+H,Oe=Z[_e-q];6==te&&(Oe=Z[_e-Q]+(Oe-Z[_e-q-Q]>>>1)),Z[_e]=Oe+U(W,ne[H])}he+=Q}}},X.m=65475,X.K=65476,X.q=65496,X.V=65498,function j(Z){var Q=new X(Z),q=new(Q.Q>8?Uint16Array:Uint8Array)(Q.o*Q.F*Q.O);return Q.B(q,Q.o*Q.O),q}}()}()},731:ni=>{"use strict";ni.exports=JSON.parse('{"application/andrew-inset":{"name":"Andrew Toolkit","extensions":["N/A"]},"application/applixware":{"name":"Applixware","extensions":["aw"]},"application/atom+xml":{"name":"Atom Syndication Format","extensions":["atom","xml"]},"application/atomcat+xml":{"name":"Atom Publishing Protocol","extensions":["atomcat"]},"application/atomsvc+xml":{"name":"Atom Publishing Protocol Service Document","extensions":["atomsvc"]},"application/ccxml+xml,":{"name":"Voice Browser Call Control","extensions":["ccxml"]},"application/cdmi-capability":{"name":"Cloud Data Management Interface (CDMI) - Capability","extensions":["cdmia"]},"application/cdmi-container":{"name":"Cloud Data Management Interface (CDMI) - Container","extensions":["cdmic"]},"application/cdmi-domain":{"name":"Cloud Data Management Interface (CDMI) - Domain","extensions":["cdmid"]},"application/cdmi-object":{"name":"Cloud Data Management Interface (CDMI) - Object","extensions":["cdmio"]},"application/cdmi-queue":{"name":"Cloud Data Management Interface (CDMI) - Queue","extensions":["cdmiq"]},"application/cu-seeme":{"name":"CU-SeeMe","extensions":["cu"]},"application/davmount+xml":{"name":"Web Distributed Authoring and Versioning","extensions":["davmount"]},"application/dssc+der":{"name":"Data Structure for the Security Suitability of Cryptographic Algorithms","extensions":["dssc"]},"application/dssc+xml":{"name":"Data Structure for the Security Suitability of Cryptographic Algorithms","extensions":["xdssc"]},"application/ecmascript":{"name":"ECMAScript","extensions":["es"]},"application/emma+xml":{"name":"Extensible MultiModal Annotation","extensions":["emma"]},"application/epub+zip":{"name":"Electronic Publication","extensions":["epub"]},"application/exi":{"name":"Efficient XML Interchange","extensions":["exi"]},"application/font-tdpfr":{"name":"Portable Font Resource","extensions":["pfr"]},"application/hyperstudio":{"name":"Hyperstudio","extensions":["stk"]},"application/ipfix":{"name":"Internet Protocol Flow Information Export","extensions":["ipfix"]},"application/java-archive":{"name":"Java Archive","extensions":["jar"]},"application/java-serialized-object":{"name":"Java Serialized Object","extensions":["ser"]},"application/java-vm":{"name":"Java Bytecode File","extensions":["class"]},"application/javascript":{"name":"JavaScript","extensions":["js"]},"application/json":{"name":"JavaScript Object Notation (JSON)","extensions":["json"]},"application/mac-binhex40":{"name":"Macintosh BinHex 4.0","extensions":["hqx"]},"application/mac-compactpro":{"name":"Compact Pro","extensions":["cpt"]},"application/mads+xml":{"name":"Metadata Authority Description Schema","extensions":["mads"]},"application/marc":{"name":"MARC Formats","extensions":["mrc"]},"application/marcxml+xml":{"name":"MARC21 XML Schema","extensions":["mrcx"]},"application/mathematica":{"name":"Mathematica Notebooks","extensions":["ma"]},"application/mathml+xml":{"name":"Mathematical Markup Language","extensions":["mathml"]},"application/mbox":{"name":"Mbox database files","extensions":["mbox"]},"application/mediaservercontrol+xml":{"name":"Media Server Control Markup Language","extensions":["mscml"]},"application/metalink4+xml":{"name":"Metalink","extensions":["meta4"]},"application/mets+xml":{"name":"Metadata Encoding and Transmission Standard","extensions":["mets"]},"application/mods+xml":{"name":"Metadata Object Description Schema","extensions":["mods"]},"application/mp21":{"name":"MPEG-21","extensions":["m21"]},"application/mp4":{"name":"MPEG4","extensions":["mp4"]},"application/msword":{"name":"Microsoft Word","extensions":["doc"]},"application/mxf":{"name":"Material Exchange Format","extensions":["mxf"]},"application/octet-stream":{"name":"Binary Data","extensions":["bin"]},"application/oda":{"name":"Office Document Architecture","extensions":["oda"]},"application/oebps-package+xml":{"name":"Open eBook Publication Structure","extensions":["opf"]},"application/ogg":{"name":"Ogg","extensions":["ogx"]},"application/onenote":{"name":"Microsoft OneNote","extensions":["onetoc"]},"application/patch-ops-error+xml":{"name":"XML Patch Framework","extensions":["xer"]},"application/pdf":{"name":"Adobe Portable Document Format","extensions":["pdf"]},"application/pgp-encrypted":{"name":"Pretty Good Privacy","extensions":[]},"application/pgp-signature":{"name":"Pretty Good Privacy - Signature","extensions":["pgp"]},"application/pics-rules":{"name":"PICSRules","extensions":["prf"]},"application/pkcs10":{"name":"PKCS #10 - Certification Request Standard","extensions":["p10"]},"application/pkcs7-mime":{"name":"PKCS #7 - Cryptographic Message Syntax Standard","extensions":["p7m"]},"application/pkcs7-signature":{"name":"PKCS #7 - Cryptographic Message Syntax Standard","extensions":["p7s"]},"application/pkcs8":{"name":"PKCS #8 - Private-Key Information Syntax Standard","extensions":["p8"]},"application/pkix-attr-cert":{"name":"Attribute Certificate","extensions":["ac"]},"application/pkix-cert":{"name":"Internet Public Key Infrastructure - Certificate","extensions":["cer"]},"application/pkix-crl":{"name":"Internet Public Key Infrastructure - Certificate Revocation Lists","extensions":["crl"]},"application/pkix-pkipath":{"name":"Internet Public Key Infrastructure - Certification Path","extensions":["pkipath"]},"application/pkixcmp":{"name":"Internet Public Key Infrastructure - Certificate Management Protocol","extensions":["pki"]},"application/pls+xml":{"name":"Pronunciation Lexicon Specification","extensions":["pls"]},"application/postscript":{"name":"PostScript","extensions":["ai"]},"application/prs.cww":{"name":"CU-Writer","extensions":["cww"]},"application/pskc+xml":{"name":"Portable Symmetric Key Container","extensions":["pskcxml"]},"application/rdf+xml":{"name":"Resource Description Framework","extensions":["rdf"]},"application/reginfo+xml":{"name":"IMS Networks","extensions":["rif"]},"application/relax-ng-compact-syntax":{"name":"Relax NG Compact Syntax","extensions":["rnc"]},"application/resource-lists+xml":{"name":"XML Resource Lists","extensions":["rl"]},"application/resource-lists-diff+xml":{"name":"XML Resource Lists Diff","extensions":["rld"]},"application/rls-services+xml":{"name":"XML Resource Lists","extensions":["rs"]},"application/rsd+xml":{"name":"Really Simple Discovery","extensions":["rsd"]},"application/rss+xml":{"name":"RSS - Really Simple Syndication","extensions":["rss","xml"]},"application/rtf":{"name":"Rich Text Format","extensions":["rtf"]},"application/sbml+xml":{"name":"Systems Biology Markup Language","extensions":["sbml"]},"application/scvp-cv-request":{"name":"Server-Based Certificate Validation Protocol - Validation Request","extensions":["scq"]},"application/scvp-cv-response":{"name":"Server-Based Certificate Validation Protocol - Validation Response","extensions":["scs"]},"application/scvp-vp-request":{"name":"Server-Based Certificate Validation Protocol - Validation Policies - Request","extensions":["spq"]},"application/scvp-vp-response":{"name":"Server-Based Certificate Validation Protocol - Validation Policies - Response","extensions":["spp"]},"application/sdp":{"name":"Session Description Protocol","extensions":["sdp"]},"application/set-payment-initiation":{"name":"Secure Electronic Transaction - Payment","extensions":["setpay"]},"application/set-registration-initiation":{"name":"Secure Electronic Transaction - Registration","extensions":["setreg"]},"application/shf+xml":{"name":"S Hexdump Format","extensions":["shf"]},"application/smil+xml":{"name":"Synchronized Multimedia Integration Language","extensions":["smi"]},"application/sparql-query":{"name":"SPARQL - Query","extensions":["rq"]},"application/sparql-results+xml":{"name":"SPARQL - Results","extensions":["srx"]},"application/srgs":{"name":"Speech Recognition Grammar Specification","extensions":["gram"]},"application/srgs+xml":{"name":"Speech Recognition Grammar Specification - XML","extensions":["grxml"]},"application/sru+xml":{"name":"Search/Retrieve via URL Response Format","extensions":["sru"]},"application/ssml+xml":{"name":"Speech Synthesis Markup Language","extensions":["ssml"]},"application/tei+xml":{"name":"Text Encoding and Interchange","extensions":["tei"]},"application/thraud+xml":{"name":"Sharing Transaction Fraud Data","extensions":["tfi"]},"application/timestamped-data":{"name":"Time Stamped Data Envelope","extensions":["tsd"]},"application/vnd.3gpp.pic-bw-large":{"name":"3rd Generation Partnership Project - Pic Large","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"name":"3rd Generation Partnership Project - Pic Small","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"name":"3rd Generation Partnership Project - Pic Var","extensions":["pvb"]},"application/vnd.3gpp2.tcap":{"name":"3rd Generation Partnership Project - Transaction Capabilities Application Part","extensions":["tcap"]},"application/vnd.3m.post-it-notes":{"name":"3M Post It Notes","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"name":"Simply Accounting","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"name":"Simply Accounting - Data Import","extensions":["imp"]},"application/vnd.acucobol":{"name":"ACU Cobol","extensions":["acu"]},"application/vnd.acucorp":{"name":"ACU Cobol","extensions":["atc"]},"application/vnd.adobe.air-application-installer-package+zip":{"name":"Adobe AIR Application","extensions":["air"]},"application/vnd.adobe.fxp":{"name":"Adobe Flex Project","extensions":["fxp"]},"application/vnd.adobe.xdp+xml":{"name":"Adobe XML Data Package","extensions":["xdp"]},"application/vnd.adobe.xfdf":{"name":"Adobe XML Forms Data Format","extensions":["xfdf"]},"application/vnd.ahead.space":{"name":"Ahead AIR Application","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"name":"AirZip FileSECURE","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"name":"AirZip FileSECURE","extensions":["azs"]},"application/vnd.amazon.ebook":{"name":"Amazon Kindle eBook format","extensions":["azw"]},"application/vnd.americandynamics.acc":{"name":"Active Content Compression","extensions":["acc"]},"application/vnd.amiga.ami":{"name":"AmigaDE","extensions":["ami"]},"application/vnd.android.package-archive":{"name":"Android Package Archive","extensions":["apk"]},"application/vnd.anser-web-certificate-issue-initiation":{"name":"ANSER-WEB Terminal Client - Certificate Issue","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"name":"ANSER-WEB Terminal Client - Web Funds Transfer","extensions":["fti"]},"application/vnd.antix.game-component":{"name":"Antix Game Player","extensions":["atx"]},"application/vnd.apple.installer+xml":{"name":"Apple Installer Package","extensions":["mpkg"]},"application/vnd.apple.mpegurl":{"name":"Multimedia Playlist Unicode","extensions":["m3u8"]},"application/vnd.aristanetworks.swi":{"name":"Arista Networks Software Image","extensions":["swi"]},"application/vnd.audiograph":{"name":"Audiograph","extensions":["aep"]},"application/vnd.blueice.multipass":{"name":"Blueice Research Multipass","extensions":["mpm"]},"application/vnd.bmi":{"name":"BMI Drawing Data Interchange","extensions":["bmi"]},"application/vnd.businessobjects":{"name":"BusinessObjects","extensions":["rep"]},"application/vnd.chemdraw+xml":{"name":"CambridgeSoft Chem Draw","extensions":["cdxml"]},"application/vnd.chipnuts.karaoke-mmd":{"name":"Karaoke on Chipnuts Chipsets","extensions":["mmd"]},"application/vnd.cinderella":{"name":"Interactive Geometry Software Cinderella","extensions":["cdy"]},"application/vnd.claymore":{"name":"Claymore Data Files","extensions":["cla"]},"application/vnd.cloanto.rp9":{"name":"RetroPlatform Player","extensions":["rp9"]},"application/vnd.clonk.c4group":{"name":"Clonk Game","extensions":["c4g"]},"application/vnd.cluetrust.cartomobile-config":{"name":"ClueTrust CartoMobile - Config","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"name":"ClueTrust CartoMobile - Config Package","extensions":["c11amz"]},"application/vnd.commonspace":{"name":"Sixth Floor Media - CommonSpace","extensions":["csp"]},"application/vnd.contact.cmsg":{"name":"CIM Database","extensions":["cdbcmsg"]},"application/vnd.cosmocaller":{"name":"CosmoCaller","extensions":["cmc"]},"application/vnd.crick.clicker":{"name":"CrickSoftware - Clicker","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"name":"CrickSoftware - Clicker - Keyboard","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"name":"CrickSoftware - Clicker - Palette","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"name":"CrickSoftware - Clicker - Template","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"name":"CrickSoftware - Clicker - Wordbank","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"name":"Critical Tools - PERT Chart EXPERT","extensions":["wbs"]},"application/vnd.ctc-posml":{"name":"PosML","extensions":["pml"]},"application/vnd.cups-ppd":{"name":"Adobe PostScript Printer Description File Format","extensions":["ppd"]},"application/vnd.curl.car":{"name":"CURL Applet","extensions":["car"]},"application/vnd.curl.pcurl":{"name":"CURL Applet","extensions":["pcurl"]},"application/vnd.data-vision.rdz":{"name":"RemoteDocs R-Viewer","extensions":["rdz"]},"application/vnd.denovo.fcselayout-link":{"name":"FCS Express Layout Link","extensions":["fe_launch"]},"application/vnd.dna":{"name":"New Moon Liftoff/DNA","extensions":["dna"]},"application/vnd.dolby.mlp":{"name":"Dolby Meridian Lossless Packing","extensions":["mlp"]},"application/vnd.dpgraph":{"name":"DPGraph","extensions":["dpg"]},"application/vnd.dreamfactory":{"name":"DreamFactory","extensions":["dfac"]},"application/vnd.dvb.ait":{"name":"Digital Video Broadcasting","extensions":["ait"]},"application/vnd.dvb.service":{"name":"Digital Video Broadcasting","extensions":["svc"]},"application/vnd.dynageo":{"name":"DynaGeo","extensions":["geo"]},"application/vnd.ecowin.chart":{"name":"EcoWin Chart","extensions":["mag"]},"application/vnd.enliven":{"name":"Enliven Viewer","extensions":["nml"]},"application/vnd.epson.esf":{"name":"QUASS Stream Player","extensions":["esf"]},"application/vnd.epson.msf":{"name":"QUASS Stream Player","extensions":["msf"]},"application/vnd.epson.quickanime":{"name":"QuickAnime Player","extensions":["qam"]},"application/vnd.epson.salt":{"name":"SimpleAnimeLite Player","extensions":["slt"]},"application/vnd.epson.ssf":{"name":"QUASS Stream Player","extensions":["ssf"]},"application/vnd.eszigno3+xml":{"name":"MICROSEC e-Szign\xc2\xa2","extensions":["es3"]},"application/vnd.ezpix-album":{"name":"EZPix Secure Photo Album","extensions":["ez2"]},"application/vnd.ezpix-package":{"name":"EZPix Secure Photo Album","extensions":["ez3"]},"application/vnd.fdf":{"name":"Forms Data Format","extensions":["fdf"]},"application/vnd.fdsn.seed":{"name":"Digital Siesmograph Networks - SEED Datafiles","extensions":["seed"]},"application/vnd.flographit":{"name":"NpGraphIt","extensions":["gph"]},"application/vnd.fluxtime.clip":{"name":"FluxTime Clip","extensions":["ftc"]},"application/vnd.framemaker":{"name":"FrameMaker Normal Format","extensions":["fm"]},"application/vnd.frogans.fnc":{"name":"Frogans Player","extensions":["fnc"]},"application/vnd.frogans.ltf":{"name":"Frogans Player","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"name":"Friendly Software Corporation","extensions":["fsc"]},"application/vnd.fujitsu.oasys":{"name":"Fujitsu Oasys","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"name":"Fujitsu Oasys","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"name":"Fujitsu Oasys","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"name":"Fujitsu Oasys","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"name":"Fujitsu Oasys","extensions":["bh2"]},"application/vnd.fujixerox.ddd":{"name":"Fujitsu - Xerox 2D CAD Data","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"name":"Fujitsu - Xerox DocuWorks","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"name":"Fujitsu - Xerox DocuWorks Binder","extensions":["xbd"]},"application/vnd.fuzzysheet":{"name":"FuzzySheet","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"name":"Genomatix Tuxedo Framework","extensions":["txd"]},"application/vnd.geogebra.file":{"name":"GeoGebra","extensions":["ggb"]},"application/vnd.geogebra.tool":{"name":"GeoGebra","extensions":["ggt"]},"application/vnd.geometry-explorer":{"name":"GeoMetry Explorer","extensions":["gex"]},"application/vnd.geonext":{"name":"GEONExT and JSXGraph","extensions":["gxt"]},"application/vnd.geoplan":{"name":"GeoplanW","extensions":["g2w"]},"application/vnd.geospace":{"name":"GeospacW","extensions":["g3w"]},"application/vnd.gmx":{"name":"GameMaker ActiveX","extensions":["gmx"]},"application/vnd.google-earth.kml+xml":{"name":"Google Earth - KML","extensions":["kml"]},"application/vnd.google-earth.kmz":{"name":"Google Earth - Zipped KML","extensions":["kmz"]},"application/vnd.grafeq":{"name":"GrafEq","extensions":["gqf"]},"application/vnd.groove-account":{"name":"Groove - Account","extensions":["gac"]},"application/vnd.groove-help":{"name":"Groove - Help","extensions":["ghf"]},"application/vnd.groove-identity-message":{"name":"Groove - Identity Message","extensions":["gim"]},"application/vnd.groove-injector":{"name":"Groove - Injector","extensions":["grv"]},"application/vnd.groove-tool-message":{"name":"Groove - Tool Message","extensions":["gtm"]},"application/vnd.groove-tool-template":{"name":"Groove - Tool Template","extensions":["tpl"]},"application/vnd.groove-vcard":{"name":"Groove - Vcard","extensions":["vcg"]},"application/vnd.hal+xml":{"name":"Hypertext Application Language","extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"name":"ZVUE Media Manager","extensions":["zmm"]},"application/vnd.hbci":{"name":"Homebanking Computer Interface (HBCI)","extensions":["hbci"]},"application/vnd.hhe.lesson-player":{"name":"Archipelago Lesson Player","extensions":["les"]},"application/vnd.hp-hpgl":{"name":"HP-GL/2 and HP RTL","extensions":["hpgl"]},"application/vnd.hp-hpid":{"name":"Hewlett Packard Instant Delivery","extensions":["hpid"]},"application/vnd.hp-hps":{"name":"Hewlett-Packard\'s WebPrintSmart","extensions":["hps"]},"application/vnd.hp-jlyt":{"name":"HP Indigo Digital Press - Job Layout Language","extensions":["jlt"]},"application/vnd.hp-pcl":{"name":"HP Printer Command Language","extensions":["pcl"]},"application/vnd.hp-pclxl":{"name":"PCL 6 Enhanced (Formely PCL XL)","extensions":["pclxl"]},"application/vnd.hydrostatix.sof-data":{"name":"Hydrostatix Master Suite","extensions":["sfd-hdstx"]},"application/vnd.hzn-3d-crossword":{"name":"3D Crossword Plugin","extensions":["x3d"]},"application/vnd.ibm.minipay":{"name":"MiniPay","extensions":["mpy"]},"application/vnd.ibm.modcap":{"name":"MO:DCA-P","extensions":["afp"]},"application/vnd.ibm.rights-management":{"name":"IBM DB2 Rights Manager","extensions":["irm"]},"application/vnd.ibm.secure-container":{"name":"IBM Electronic Media Management System - Secure Container","extensions":["sc"]},"application/vnd.iccprofile":{"name":"ICC profile","extensions":["icc"]},"application/vnd.igloader":{"name":"igLoader","extensions":["igl"]},"application/vnd.immervision-ivp":{"name":"ImmerVision PURE Players","extensions":["ivp"]},"application/vnd.immervision-ivu":{"name":"ImmerVision PURE Players","extensions":["ivu"]},"application/vnd.insors.igm":{"name":"IOCOM Visimeet","extensions":["igm"]},"application/vnd.intercon.formnet":{"name":"Intercon FormNet","extensions":["xpw"]},"application/vnd.intergeo":{"name":"Interactive Geometry Software","extensions":["i2g"]},"application/vnd.intu.qbo":{"name":"Open Financial Exchange","extensions":["qbo"]},"application/vnd.intu.qfx":{"name":"Quicken","extensions":["qfx"]},"application/vnd.ipunplugged.rcprofile":{"name":"IP Unplugged Roaming Client","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"name":"iRepository / Lucidoc Editor","extensions":["irp"]},"application/vnd.is-xpr":{"name":"Express by Infoseek","extensions":["xpr"]},"application/vnd.isac.fcs":{"name":"International Society for Advancement of Cytometry","extensions":["fcs"]},"application/vnd.jam":{"name":"Lightspeed Audio Lab","extensions":["jam"]},"application/vnd.jcp.javame.midlet-rms":{"name":"Mobile Information Device Profile","extensions":["rms"]},"application/vnd.jisp":{"name":"RhymBox","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"name":"Joda Archive","extensions":["joda"]},"application/vnd.kahootz":{"name":"Kahootz","extensions":["ktz"]},"application/vnd.kde.karbon":{"name":"KDE KOffice Office Suite - Karbon","extensions":["karbon"]},"application/vnd.kde.kchart":{"name":"KDE KOffice Office Suite - KChart","extensions":["chrt"]},"application/vnd.kde.kformula":{"name":"KDE KOffice Office Suite - Kformula","extensions":["kfo"]},"application/vnd.kde.kivio":{"name":"KDE KOffice Office Suite - Kivio","extensions":["flw"]},"application/vnd.kde.kontour":{"name":"KDE KOffice Office Suite - Kontour","extensions":["kon"]},"application/vnd.kde.kpresenter":{"name":"KDE KOffice Office Suite - Kpresenter","extensions":["kpr"]},"application/vnd.kde.kspread":{"name":"KDE KOffice Office Suite - Kspread","extensions":["ksp"]},"application/vnd.kde.kword":{"name":"KDE KOffice Office Suite - Kword","extensions":["kwd"]},"application/vnd.kenameaapp":{"name":"Kenamea App","extensions":["htke"]},"application/vnd.kidspiration":{"name":"Kidspiration","extensions":["kia"]},"application/vnd.kinar":{"name":"Kinar Applications","extensions":["kne"]},"application/vnd.koan":{"name":"SSEYO Koan Play File","extensions":["skp"]},"application/vnd.kodak-descriptor":{"name":"Kodak Storyshare","extensions":["sse"]},"application/vnd.las.las+xml":{"name":"Laser App Enterprise","extensions":["lasxml"]},"application/vnd.llamagraphics.life-balance.desktop":{"name":"Life Balance - Desktop Edition","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"name":"Life Balance - Exchange Format","extensions":["lbe"]},"application/vnd.lotus-1-2-3":{"name":"Lotus 1-2-3","extensions":["123"]},"application/vnd.lotus-approach":{"name":"Lotus Approach","extensions":["apr"]},"application/vnd.lotus-freelance":{"name":"Lotus Freelance","extensions":["pre"]},"application/vnd.lotus-notes":{"name":"Lotus Notes","extensions":["nsf"]},"application/vnd.lotus-organizer":{"name":"Lotus Organizer","extensions":["org"]},"application/vnd.lotus-screencam":{"name":"Lotus Screencam","extensions":["scm"]},"application/vnd.lotus-wordpro":{"name":"Lotus Wordpro","extensions":["lwp"]},"application/vnd.macports.portpkg":{"name":"MacPorts Port System","extensions":["portpkg"]},"application/vnd.mcd":{"name":"Micro CADAM Helix D&D","extensions":["mcd"]},"application/vnd.medcalcdata":{"name":"MedCalc","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"name":"MediaRemote","extensions":["cdkey"]},"application/vnd.mfer":{"name":"Medical Waveform Encoding Format","extensions":["mwf"]},"application/vnd.mfmp":{"name":"Melody Format for Mobile Platform","extensions":["mfm"]},"application/vnd.micrografx.flo":{"name":"Micrografx","extensions":["flo"]},"application/vnd.micrografx.igx":{"name":"Micrografx iGrafx Professional","extensions":["igx"]},"application/vnd.mif":{"name":"FrameMaker Interchange Format","extensions":["mif"]},"application/vnd.mobius.daf":{"name":"Mobius Management Systems - UniversalArchive","extensions":["daf"]},"application/vnd.mobius.dis":{"name":"Mobius Management Systems - Distribution Database","extensions":["dis"]},"application/vnd.mobius.mbk":{"name":"Mobius Management Systems - Basket file","extensions":["mbk"]},"application/vnd.mobius.mqy":{"name":"Mobius Management Systems - Query File","extensions":["mqy"]},"application/vnd.mobius.msl":{"name":"Mobius Management Systems - Script Language","extensions":["msl"]},"application/vnd.mobius.plc":{"name":"Mobius Management Systems - Policy Definition Language File","extensions":["plc"]},"application/vnd.mobius.txf":{"name":"Mobius Management Systems - Topic Index File","extensions":["txf"]},"application/vnd.mophun.application":{"name":"Mophun VM","extensions":["mpn"]},"application/vnd.mophun.certificate":{"name":"Mophun Certificate","extensions":["mpc"]},"application/vnd.mozilla.xul+xml":{"name":"XUL - XML User Interface Language","extensions":["xul"]},"application/vnd.ms-artgalry":{"name":"Microsoft Artgalry","extensions":["cil"]},"application/vnd.ms-cab-compressed":{"name":"Microsoft Cabinet File","extensions":["cab"]},"application/vnd.ms-excel":{"name":"Microsoft Excel","extensions":["xls"]},"application/vnd.ms-excel.addin.macroenabled.12":{"name":"Microsoft Excel - Add-In File","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"name":"Microsoft Excel - Binary Workbook","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"name":"Microsoft Excel - Macro-Enabled Workbook","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"name":"Microsoft Excel - Macro-Enabled Template File","extensions":["xltm"]},"application/vnd.ms-fontobject":{"name":"Microsoft Embedded OpenType","extensions":["eot"]},"application/vnd.ms-htmlhelp":{"name":"Microsoft Html Help File","extensions":["chm"]},"application/vnd.ms-ims":{"name":"Microsoft Class Server","extensions":["ims"]},"application/vnd.ms-lrm":{"name":"Microsoft Learning Resource Module","extensions":["lrm"]},"application/vnd.ms-officetheme":{"name":"Microsoft Office System Release Theme","extensions":["thmx"]},"application/vnd.ms-pki.seccat":{"name":"Microsoft Trust UI Provider - Security Catalog","extensions":["cat"]},"application/vnd.ms-pki.stl":{"name":"Microsoft Trust UI Provider - Certificate Trust Link","extensions":["stl"]},"application/vnd.ms-powerpoint":{"name":"Microsoft PowerPoint","extensions":["ppt"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"name":"Microsoft PowerPoint - Add-in file","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"name":"Microsoft PowerPoint - Macro-Enabled Presentation File","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"name":"Microsoft PowerPoint - Macro-Enabled Open XML Slide","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"name":"Microsoft PowerPoint - Macro-Enabled Slide Show File","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"name":"Micosoft PowerPoint - Macro-Enabled Template File","extensions":["potm"]},"application/vnd.ms-project":{"name":"Microsoft Project","extensions":["mpp"]},"application/vnd.ms-word.document.macroenabled.12":{"name":"Micosoft Word - Macro-Enabled Document","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"name":"Micosoft Word - Macro-Enabled Template","extensions":["dotm"]},"application/vnd.ms-works":{"name":"Microsoft Works","extensions":["wps"]},"application/vnd.ms-wpl":{"name":"Microsoft Windows Media Player Playlist","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"name":"Microsoft XML Paper Specification","extensions":["xps"]},"application/vnd.mseq":{"name":"3GPP MSEQ File","extensions":["mseq"]},"application/vnd.musician":{"name":"Musical Score Interpreted Code Invented for the ASCII designation of Notation","extensions":["mus"]},"application/vnd.muvee.style":{"name":"Muvee Automatic Video Editing","extensions":["msty"]},"application/vnd.neurolanguage.nlu":{"name":"neuroLanguage","extensions":["nlu"]},"application/vnd.noblenet-directory":{"name":"NobleNet Directory","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"name":"NobleNet Sealer","extensions":["nns"]},"application/vnd.noblenet-web":{"name":"NobleNet Web","extensions":["nnw"]},"application/vnd.nokia.n-gage.data":{"name":"N-Gage Game Data","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"name":"N-Gage Game Installer","extensions":["n-gage"]},"application/vnd.nokia.radio-preset":{"name":"Nokia Radio Application - Preset","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"name":"Nokia Radio Application - Preset","extensions":["rpss"]},"application/vnd.novadigm.edm":{"name":"Novadigm\'s RADIA and EDM products","extensions":["edm"]},"application/vnd.novadigm.edx":{"name":"Novadigm\'s RADIA and EDM products","extensions":["edx"]},"application/vnd.novadigm.ext":{"name":"Novadigm\'s RADIA and EDM products","extensions":["ext"]},"application/vnd.oasis.opendocument.chart":{"name":"OpenDocument Chart","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"name":"OpenDocument Chart Template","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"name":"OpenDocument Database","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"name":"OpenDocument Formula","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"name":"OpenDocument Formula Template","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"name":"OpenDocument Graphics","extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"name":"OpenDocument Graphics Template","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"name":"OpenDocument Image","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"name":"OpenDocument Image Template","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"name":"OpenDocument Presentation","extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"name":"OpenDocument Presentation Template","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"name":"OpenDocument Spreadsheet","extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"name":"OpenDocument Spreadsheet Template","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"name":"OpenDocument Text","extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"name":"OpenDocument Text Master","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"name":"OpenDocument Text Template","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"name":"Open Document Text Web","extensions":["oth"]},"application/vnd.olpc-sugar":{"name":"Sugar Linux Application Bundle","extensions":["xo"]},"application/vnd.oma.dd2+xml":{"name":"OMA Download Agents","extensions":["dd2"]},"application/vnd.openofficeorg.extension":{"name":"Open Office Extension","extensions":["oxt"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"name":"Microsoft Office - OOXML - Presentation","extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"name":"Microsoft Office - OOXML - Presentation (Slide)","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"name":"Microsoft Office - OOXML - Presentation (Slideshow)","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.template":{"name":"Microsoft Office - OOXML - Presentation Template","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"name":"Microsoft Office - OOXML - Spreadsheet","extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"name":"Microsoft Office - OOXML - Spreadsheet Template","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"name":"Microsoft Office - OOXML - Word Document","extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"name":"Microsoft Office - OOXML - Word Document Template","extensions":["dotx"]},"application/vnd.osgeo.mapguide.package":{"name":"MapGuide DBXML","extensions":["mgp"]},"application/vnd.osgi.dp":{"name":"OSGi Deployment Package","extensions":["dp"]},"application/vnd.palm":{"name":"PalmOS Data","extensions":["pdb"]},"application/vnd.pawaafile":{"name":"PawaaFILE","extensions":["paw"]},"application/vnd.pg.format":{"name":"Proprietary P&G Standard Reporting System","extensions":["str"]},"application/vnd.pg.osasli":{"name":"Proprietary P&G Standard Reporting System","extensions":["ei6"]},"application/vnd.picsel":{"name":"Pcsel eFIF File","extensions":["efif"]},"application/vnd.pmi.widget":{"name":"Qualcomm\'s Plaza Mobile Internet","extensions":["wg"]},"application/vnd.pocketlearn":{"name":"PocketLearn Viewers","extensions":["plf"]},"application/vnd.powerbuilder6":{"name":"PowerBuilder","extensions":["pbd"]},"application/vnd.previewsystems.box":{"name":"Preview Systems ZipLock/VBox","extensions":["box"]},"application/vnd.proteus.magazine":{"name":"EFI Proteus","extensions":["mgz"]},"application/vnd.publishare-delta-tree":{"name":"PubliShare Objects","extensions":["qps"]},"application/vnd.pvi.ptid1":{"name":"Princeton Video Image","extensions":["ptid"]},"application/vnd.quark.quarkxpress":{"name":"QuarkXpress","extensions":["qxd"]},"application/vnd.realvnc.bed":{"name":"RealVNC","extensions":["bed"]},"application/vnd.recordare.musicxml":{"name":"Recordare Applications","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"name":"Recordare Applications","extensions":["musicxml"]},"application/vnd.rig.cryptonote":{"name":"CryptoNote","extensions":["cryptonote"]},"application/vnd.rim.cod":{"name":"Blackberry COD File","extensions":["cod"]},"application/vnd.rn-realmedia":{"name":"RealMedia","extensions":["rm"]},"application/vnd.route66.link66+xml":{"name":"ROUTE 66 Location Based Services","extensions":["link66"]},"application/vnd.sailingtracker.track":{"name":"SailingTracker","extensions":["st"]},"application/vnd.seemail":{"name":"SeeMail","extensions":["see"]},"application/vnd.sema":{"name":"Secured eMail","extensions":["sema"]},"application/vnd.semd":{"name":"Secured eMail","extensions":["semd"]},"application/vnd.semf":{"name":"Secured eMail","extensions":["semf"]},"application/vnd.shana.informed.formdata":{"name":"Shana Informed Filler","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"name":"Shana Informed Filler","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"name":"Shana Informed Filler","extensions":["iif"]},"application/vnd.shana.informed.package":{"name":"Shana Informed Filler","extensions":["ipk"]},"application/vnd.simtech-mindmapper":{"name":"SimTech MindMapper","extensions":["twd"]},"application/vnd.smaf":{"name":"SMAF File","extensions":["mmf"]},"application/vnd.smart.teacher":{"name":"SMART Technologies Apps","extensions":["teacher"]},"application/vnd.solent.sdkm+xml":{"name":"SudokuMagic","extensions":["sdkm"]},"application/vnd.spotfire.dxp":{"name":"TIBCO Spotfire","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"name":"TIBCO Spotfire","extensions":["sfs"]},"application/vnd.stardivision.calc":{"name":"StarOffice - Calc","extensions":["sdc"]},"application/vnd.stardivision.draw":{"name":"StarOffice - Draw","extensions":["sda"]},"application/vnd.stardivision.impress":{"name":"StarOffice - Impress","extensions":["sdd"]},"application/vnd.stardivision.math":{"name":"StarOffice - Math","extensions":["smf"]},"application/vnd.stardivision.writer":{"name":"StarOffice - Writer","extensions":["sdw"]},"application/vnd.stardivision.writer-global":{"name":"StarOffice - Writer  (Global)","extensions":["sgl"]},"application/vnd.stepmania.stepchart":{"name":"StepMania","extensions":["sm"]},"application/vnd.sun.xml.calc":{"name":"OpenOffice - Calc (Spreadsheet)","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"name":"OpenOffice - Calc Template (Spreadsheet)","extensions":["stc"]},"application/vnd.sun.xml.draw":{"name":"OpenOffice - Draw (Graphics)","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"name":"OpenOffice - Draw Template (Graphics)","extensions":["std"]},"application/vnd.sun.xml.impress":{"name":"OpenOffice - Impress (Presentation)","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"name":"OpenOffice - Impress Template (Presentation)","extensions":["sti"]},"application/vnd.sun.xml.math":{"name":"OpenOffice - Math (Formula)","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"name":"OpenOffice - Writer (Text - HTML)","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"name":"OpenOffice - Writer (Text - HTML)","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"name":"OpenOffice - Writer Template (Text - HTML)","extensions":["stw"]},"application/vnd.sus-calendar":{"name":"ScheduleUs","extensions":["sus"]},"application/vnd.svd":{"name":"SourceView Document","extensions":["svd"]},"application/vnd.symbian.install":{"name":"Symbian Install Package","extensions":["sis"]},"application/vnd.syncml+xml":{"name":"SyncML","extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"name":"SyncML - Device Management","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"name":"SyncML - Device Management","extensions":["xdm"]},"application/vnd.tao.intent-module-archive":{"name":"Tao Intent","extensions":["tao"]},"application/vnd.tmobile-livetv":{"name":"MobileTV","extensions":["tmo"]},"application/vnd.trid.tpt":{"name":"TRI Systems Config","extensions":["tpt"]},"application/vnd.triscape.mxs":{"name":"Triscape Map Explorer","extensions":["mxs"]},"application/vnd.trueapp":{"name":"True BASIC","extensions":["tra"]},"application/vnd.ufdl":{"name":"Universal Forms Description Language","extensions":["ufd"]},"application/vnd.uiq.theme":{"name":"User Interface Quartz - Theme (Symbian)","extensions":["utz"]},"application/vnd.umajin":{"name":"UMAJIN","extensions":["umj"]},"application/vnd.unity":{"name":"Unity 3d","extensions":["unityweb"]},"application/vnd.uoml+xml":{"name":"Unique Object Markup Language","extensions":["uoml"]},"application/vnd.vcx":{"name":"VirtualCatalog","extensions":["vcx"]},"application/vnd.visio":{"name":"Microsoft Visio","extensions":["vsd"]},"application/vnd.visionary":{"name":"Visionary","extensions":["vis"]},"application/vnd.vsf":{"name":"Viewport+","extensions":["vsf"]},"application/vnd.wap.wbxml":{"name":"WAP Binary XML (WBXML)","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"name":"Compiled Wireless Markup Language (WMLC)","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"name":"WMLScript","extensions":["wmlsc"]},"application/vnd.webturbo":{"name":"WebTurbo","extensions":["wtb"]},"application/vnd.wolfram.player":{"name":"Mathematica Notebook Player","extensions":["nbp"]},"application/vnd.wordperfect":{"name":"Wordperfect","extensions":["wpd"]},"application/vnd.wqd":{"name":"SundaHus WQ","extensions":["wqd"]},"application/vnd.wt.stf":{"name":"Worldtalk","extensions":["stf"]},"application/vnd.xara":{"name":"CorelXARA","extensions":["xar"]},"application/vnd.xfdl":{"name":"Extensible Forms Description Language","extensions":["xfdl"]},"application/vnd.yamaha.hv-dic":{"name":"HV Voice Dictionary","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"name":"HV Script","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"name":"HV Voice Parameter","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"name":"Open Score Format","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"name":"OSFPVG","extensions":["osfpvg"]},"application/vnd.yamaha.smaf-audio":{"name":"SMAF Audio","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"name":"SMAF Phrase","extensions":["spf"]},"application/vnd.yellowriver-custom-menu":{"name":"CustomMenu","extensions":["cmp"]},"application/vnd.zul":{"name":"Z.U.L. Geometry","extensions":["zir"]},"application/vnd.zzazz.deck+xml":{"name":"Zzazz Deck","extensions":["zaz"]},"application/voicexml+xml":{"name":"VoiceXML","extensions":["vxml"]},"application/widget":{"name":"Widget Packaging and XML Configuration","extensions":["wgt"]},"application/winhlp":{"name":"WinHelp","extensions":["hlp"]},"application/wsdl+xml":{"name":"WSDL - Web Services Description Language","extensions":["wsdl"]},"application/wspolicy+xml":{"name":"Web Services Policy","extensions":["wspolicy"]},"application/x-7z-compressed":{"name":"7-Zip","extensions":["7z"]},"application/x-abiword":{"name":"AbiWord","extensions":["abw"]},"application/x-ace-compressed":{"name":"Ace Archive","extensions":["ace"]},"application/x-authorware-bin":{"name":"Adobe (Macropedia) Authorware - Binary File","extensions":["aab"]},"application/x-authorware-map":{"name":"Adobe (Macropedia) Authorware - Map","extensions":["aam"]},"application/x-authorware-seg":{"name":"Adobe (Macropedia) Authorware - Segment File","extensions":["aas"]},"application/x-bcpio":{"name":"Binary CPIO Archive","extensions":["bcpio"]},"application/x-bittorrent":{"name":"BitTorrent","extensions":["torrent"]},"application/x-bzip":{"name":"Bzip Archive","extensions":["bz"]},"application/x-bzip2":{"name":"Bzip2 Archive","extensions":["bz2"]},"application/x-cdlink":{"name":"Video CD","extensions":["vcd"]},"application/x-chat":{"name":"pIRCh","extensions":["chat"]},"application/x-chess-pgn":{"name":"Portable Game Notation (Chess Games)","extensions":["pgn"]},"application/x-cpio":{"name":"CPIO Archive","extensions":["cpio"]},"application/x-csh":{"name":"C Shell Script","extensions":["csh"]},"application/x-debian-package":{"name":"Debian Package","extensions":["deb"]},"application/x-director":{"name":"Adobe Shockwave Player","extensions":["dir"]},"application/x-doom":{"name":"Doom Video Game","extensions":["wad"]},"application/x-dtbncx+xml":{"name":"Navigation Control file for XML (for ePub)","extensions":["ncx"]},"application/x-dtbook+xml":{"name":"Digital Talking Book","extensions":["dtb"]},"application/x-dtbresource+xml":{"name":"Digital Talking Book - Resource File","extensions":["res"]},"application/x-dvi":{"name":"Device Independent File Format (DVI)","extensions":["dvi"]},"application/x-font-bdf":{"name":"Glyph Bitmap Distribution Format","extensions":["bdf"]},"application/x-font-ghostscript":{"name":"Ghostscript Font","extensions":["gsf"]},"application/x-font-linux-psf":{"name":"PSF Fonts","extensions":["psf"]},"application/x-font-otf":{"name":"OpenType Font File","extensions":["otf"]},"application/x-font-pcf":{"name":"Portable Compiled Format","extensions":["pcf"]},"application/x-font-snf":{"name":"Server Normal Format","extensions":["snf"]},"application/x-font-ttf":{"name":"TrueType Font","extensions":["ttf"]},"application/x-font-type1":{"name":"PostScript Fonts","extensions":["pfa"]},"application/x-font-woff":{"name":"Web Open Font Format","extensions":["woff"]},"application/x-futuresplash":{"name":"FutureSplash Animator","extensions":["spl"]},"application/x-gnumeric":{"name":"Gnumeric","extensions":["gnumeric"]},"application/x-gtar":{"name":"GNU Tar Files","extensions":["gtar"]},"application/x-hdf":{"name":"Hierarchical Data Format","extensions":["hdf"]},"application/x-java-jnlp-file":{"name":"Java Network Launching Protocol","extensions":["jnlp"]},"application/x-latex":{"name":"LaTeX","extensions":["latex"]},"application/x-mobipocket-ebook":{"name":"Mobipocket","extensions":["prc"]},"application/x-ms-application":{"name":"Microsoft ClickOnce","extensions":["application"]},"application/x-ms-wmd":{"name":"Microsoft Windows Media Player Download Package","extensions":["wmd"]},"application/x-ms-wmz":{"name":"Microsoft Windows Media Player Skin Package","extensions":["wmz"]},"application/x-ms-xbap":{"name":"Microsoft XAML Browser Application","extensions":["xbap"]},"application/x-msaccess":{"name":"Microsoft Access","extensions":["mdb"]},"application/x-msbinder":{"name":"Microsoft Office Binder","extensions":["obd"]},"application/x-mscardfile":{"name":"Microsoft Information Card","extensions":["crd"]},"application/x-msclip":{"name":"Microsoft Clipboard Clip","extensions":["clp"]},"application/x-msdownload":{"name":"Microsoft Application","extensions":["exe"]},"application/x-msmediaview":{"name":"Microsoft MediaView","extensions":["mvb"]},"application/x-msmetafile":{"name":"Microsoft Windows Metafile","extensions":["wmf"]},"application/x-msmoney":{"name":"Microsoft Money","extensions":["mny"]},"application/x-mspublisher":{"name":"Microsoft Publisher","extensions":["pub"]},"application/x-msschedule":{"name":"Microsoft Schedule+","extensions":["scd"]},"application/x-msterminal":{"name":"Microsoft Windows Terminal Services","extensions":["trm"]},"application/x-mswrite":{"name":"Microsoft Wordpad","extensions":["wri"]},"application/x-netcdf":{"name":"Network Common Data Form (NetCDF)","extensions":["nc"]},"application/x-pkcs12":{"name":"PKCS #12 - Personal Information Exchange Syntax Standard","extensions":["p12"]},"application/x-pkcs7-certificates":{"name":"PKCS #7 - Cryptographic Message Syntax Standard (Certificates)","extensions":["p7b"]},"application/x-pkcs7-certreqresp":{"name":"PKCS #7 - Cryptographic Message Syntax Standard (Certificate Request Response)","extensions":["p7r"]},"application/x-rar-compressed":{"name":"RAR Archive","extensions":["rar"]},"application/x-sh":{"name":"Bourne Shell Script","extensions":["sh"]},"application/x-shar":{"name":"Shell Archive","extensions":["shar"]},"application/x-shockwave-flash":{"name":"Adobe Flash","extensions":["swf"]},"application/x-silverlight-app":{"name":"Microsoft Silverlight","extensions":["xap"]},"application/x-stuffit":{"name":"Stuffit Archive","extensions":["sit"]},"application/x-stuffitx":{"name":"Stuffit Archive","extensions":["sitx"]},"application/x-sv4cpio":{"name":"System V Release 4 CPIO Archive","extensions":["sv4cpio"]},"application/x-sv4crc":{"name":"System V Release 4 CPIO Checksum Data","extensions":["sv4crc"]},"application/x-tar":{"name":"Tar File (Tape Archive)","extensions":["tar"]},"application/x-tcl":{"name":"Tcl Script","extensions":["tcl"]},"application/x-tex":{"name":"TeX","extensions":["tex"]},"application/x-tex-tfm":{"name":"TeX Font Metric","extensions":["tfm"]},"application/x-texinfo":{"name":"GNU Texinfo Document","extensions":["texinfo"]},"application/x-ustar":{"name":"Ustar (Uniform Standard Tape Archive)","extensions":["ustar"]},"application/x-wais-source":{"name":"WAIS Source","extensions":["src"]},"application/x-x509-ca-cert":{"name":"X.509 Certificate","extensions":["der"]},"application/x-xfig":{"name":"Xfig","extensions":["fig"]},"application/x-xpinstall":{"name":"XPInstall - Mozilla","extensions":["xpi"]},"application/xcap-diff+xml":{"name":"XML Configuration Access Protocol - XCAP Diff","extensions":["xdf"]},"application/xenc+xml":{"name":"XML Encryption Syntax and Processing","extensions":["xenc"]},"application/xhtml+xml":{"name":"XHTML - The Extensible HyperText Markup Language","extensions":["xhtml"]},"application/xml":{"name":"XML - Extensible Markup Language","extensions":["xml"]},"application/xml-dtd":{"name":"Document Type Definition","extensions":["dtd"]},"application/xop+xml":{"name":"XML-Binary Optimized Packaging","extensions":["xop"]},"application/xslt+xml":{"name":"XML Transformations","extensions":["xslt"]},"application/xspf+xml":{"name":"XSPF - XML Shareable Playlist Format","extensions":["xspf"]},"application/xv+xml":{"name":"MXML","extensions":["mxml"]},"application/yang":{"name":"YANG Data Modeling Language","extensions":["yang"]},"application/yin+xml":{"name":"YIN (YANG - XML)","extensions":["yin"]},"application/zip":{"name":"Zip Archive","extensions":["zip"]},"audio/adpcm":{"name":"Adaptive differential pulse-code modulation","extensions":["adp"]},"audio/basic":{"name":"Sun Audio - Au file format","extensions":["au"]},"audio/midi":{"name":"MIDI - Musical Instrument Digital Interface","extensions":["mid"]},"audio/mp4":{"name":"MPEG-4 Audio","extensions":["mp4a"]},"audio/mpeg":{"name":"MPEG Audio","extensions":["mpga"]},"audio/ogg":{"name":"Ogg Audio","extensions":["oga"]},"audio/vnd.dece.audio":{"name":"DECE Audio","extensions":["uva"]},"audio/vnd.digital-winds":{"name":"Digital Winds Music","extensions":["eol"]},"audio/vnd.dra":{"name":"DRA Audio","extensions":["dra"]},"audio/vnd.dts":{"name":"DTS Audio","extensions":["dts"]},"audio/vnd.dts.hd":{"name":"DTS High Definition Audio","extensions":["dtshd"]},"audio/vnd.lucent.voice":{"name":"Lucent Voice","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"name":"Microsoft PlayReady Ecosystem","extensions":["pya"]},"audio/vnd.nuera.ecelp4800":{"name":"Nuera ECELP 4800","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"name":"Nuera ECELP 7470","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"name":"Nuera ECELP 9600","extensions":["ecelp9600"]},"audio/vnd.rip":{"name":"Hit\'n\'Mix","extensions":["rip"]},"audio/webm":{"name":"Open Web Media Project - Audio","extensions":["weba"]},"audio/x-aac":{"name":"Advanced Audio Coding (AAC)","extensions":["aac"]},"audio/x-aiff":{"name":"Audio Interchange File Format","extensions":["aif"]},"audio/x-mpegurl":{"name":"M3U (Multimedia Playlist)","extensions":["m3u"]},"audio/x-ms-wax":{"name":"Microsoft Windows Media Audio Redirector","extensions":["wax"]},"audio/x-ms-wma":{"name":"Microsoft Windows Media Audio","extensions":["wma"]},"audio/x-pn-realaudio":{"name":"Real Audio Sound","extensions":["ram"]},"audio/x-pn-realaudio-plugin":{"name":"Real Audio Sound","extensions":["rmp"]},"audio/x-wav":{"name":"Waveform Audio File Format (WAV)","extensions":["wav"]},"chemical/x-cdx":{"name":"ChemDraw eXchange file","extensions":["cdx"]},"chemical/x-cif":{"name":"Crystallographic Interchange Format","extensions":["cif"]},"chemical/x-cmdf":{"name":"CrystalMaker Data Format","extensions":["cmdf"]},"chemical/x-cml":{"name":"Chemical Markup Language","extensions":["cml"]},"chemical/x-csml":{"name":"Chemical Style Markup Language","extensions":["csml"]},"chemical/x-xyz":{"name":"XYZ File Format","extensions":["xyz"]},"image/bmp":{"name":"Bitmap Image File","extensions":["bmp"]},"image/cgm":{"name":"Computer Graphics Metafile","extensions":["cgm"]},"image/g3fax":{"name":"G3 Fax Image","extensions":["g3"]},"image/gif":{"name":"Graphics Interchange Format","extensions":["gif"]},"image/ief":{"name":"Image Exchange Format","extensions":["ief"]},"image/jpeg":{"name":"JPEG Image","extensions":["jpeg","jpg"]},"image/ktx":{"name":"OpenGL Textures (KTX)","extensions":["ktx"]},"image/png":{"name":"Portable Network Graphics (PNG)","extensions":["png"]},"image/prs.btif":{"name":"BTIF","extensions":["btif"]},"image/svg+xml":{"name":"Scalable Vector Graphics (SVG)","extensions":["svg"]},"image/tiff":{"name":"Tagged Image File Format","extensions":["tiff"]},"image/vnd.adobe.photoshop":{"name":"Photoshop Document","extensions":["psd"]},"image/vnd.dece.graphic":{"name":"DECE Graphic","extensions":["uvi"]},"image/vnd.dvb.subtitle":{"name":"Close Captioning - Subtitle","extensions":["sub"]},"image/vnd.djvu":{"name":"DjVu","extensions":["djvu"]},"image/vnd.dwg":{"name":"DWG Drawing","extensions":["dwg"]},"image/vnd.dxf":{"name":"AutoCAD DXF","extensions":["dxf"]},"image/vnd.fastbidsheet":{"name":"FastBid Sheet","extensions":["fbs"]},"image/vnd.fpx":{"name":"FlashPix","extensions":["fpx"]},"image/vnd.fst":{"name":"FAST Search & Transfer ASA","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"name":"EDMICS 2000","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"name":"EDMICS 2000","extensions":["rlc"]},"image/vnd.ms-modi":{"name":"Microsoft Document Imaging Format","extensions":["mdi"]},"image/vnd.net-fpx":{"name":"FlashPix","extensions":["npx"]},"image/vnd.wap.wbmp":{"name":"WAP Bitamp (WBMP)","extensions":["wbmp"]},"image/vnd.xiff":{"name":"eXtended Image File Format (XIFF)","extensions":["xif"]},"image/webp":{"name":"WebP Image","extensions":["webp"]},"image/x-cmu-raster":{"name":"CMU Image","extensions":["ras"]},"image/x-cmx":{"name":"Corel Metafile Exchange (CMX)","extensions":["cmx"]},"image/x-freehand":{"name":"FreeHand MX","extensions":["fh"]},"image/x-icon":{"name":"Icon Image","extensions":["ico"]},"image/x-pcx":{"name":"PCX Image","extensions":["pcx"]},"image/x-pict":{"name":"PICT Image","extensions":["pic"]},"image/x-portable-anymap":{"name":"Portable Anymap Image","extensions":["pnm"]},"image/x-portable-bitmap":{"name":"Portable Bitmap Format","extensions":["pbm"]},"image/x-portable-graymap":{"name":"Portable Graymap Format","extensions":["pgm"]},"image/x-portable-pixmap":{"name":"Portable Pixmap Format","extensions":["ppm"]},"image/x-rgb":{"name":"Silicon Graphics RGB Bitmap","extensions":["rgb"]},"image/x-xbitmap":{"name":"X BitMap","extensions":["xbm"]},"image/x-xpixmap":{"name":"X PixMap","extensions":["xpm"]},"image/x-xwindowdump":{"name":"X Window Dump","extensions":["xwd"]},"message/rfc822":{"name":"Email Message","extensions":["eml"]},"model/iges":{"name":"Initial Graphics Exchange Specification (IGES)","extensions":["igs"]},"model/mesh":{"name":"Mesh Data Type","extensions":["msh"]},"model/vnd.collada+xml":{"name":"COLLADA","extensions":["dae"]},"model/vnd.dwf":{"name":"Autodesk Design Web Format (DWF)","extensions":["dwf"]},"model/vnd.gdl":{"name":"Geometric Description Language (GDL)","extensions":["gdl"]},"model/vnd.gtw":{"name":"Gen-Trix Studio","extensions":["gtw"]},"model/vnd.mts":{"name":"Virtue MTS","extensions":["mts"]},"model/vnd.vtu":{"name":"Virtue VTU","extensions":["vtu"]},"model/vrml":{"name":"Virtual Reality Modeling Language","extensions":["wrl"]},"text/calendar":{"name":"iCalendar","extensions":["ics"]},"text/css":{"name":"Cascading Style Sheets (CSS)","extensions":["css"]},"text/csv":{"name":"Comma-Separated Values","extensions":["csv"]},"text/html":{"name":"HyperText Markup Language (HTML)","extensions":["html"]},"text/n3":{"name":"Notation3","extensions":["n3"]},"text/plain":{"name":"Text File","extensions":["txt"]},"text/prs.lines.tag":{"name":"PRS Lines Tag","extensions":["dsc"]},"text/richtext":{"name":"Rich Text Format (RTF)","extensions":["rtx"]},"text/sgml":{"name":"Standard Generalized Markup Language (SGML)","extensions":["sgml"]},"text/tab-separated-values":{"name":"Tab Separated Values","extensions":["tsv"]},"text/troff":{"name":"troff","extensions":["t"]},"text/turtle":{"name":"Turtle (Terse RDF Triple Language)","extensions":["ttl"]},"text/uri-list":{"name":"URI Resolution Services","extensions":["uri"]},"text/vnd.curl":{"name":"Curl - Applet","extensions":["curl"]},"text/vnd.curl.dcurl":{"name":"Curl - Detached Applet","extensions":["dcurl"]},"text/vnd.curl.scurl":{"name":"Curl - Source Code","extensions":["scurl"]},"text/vnd.curl.mcurl":{"name":"Curl - Manifest File","extensions":["mcurl"]},"text/vnd.fly":{"name":"mod_fly / fly.cgi","extensions":["fly"]},"text/vnd.fmi.flexstor":{"name":"Flexstor","extensions":["flx"]},"text/vnd.graphviz":{"name":"Graphviz","extensions":["gv"]},"text/vnd.in3d.3dml":{"name":"In3D - 3DML","extensions":["3dml"]},"text/vnd.in3d.spot":{"name":"In3D - 3DML","extensions":["spot"]},"text/vnd.sun.j2me.app-descriptor":{"name":"J2ME App Descriptor","extensions":["jad"]},"text/vnd.wap.wml":{"name":"Wireless Markup Language (WML)","extensions":["wml"]},"text/vnd.wap.wmlscript":{"name":"Wireless Markup Language Script (WMLScript)","extensions":["wmls"]},"text/x-asm":{"name":"Assembler Source File","extensions":["s"]},"text/x-c":{"name":"C Source File","extensions":["c"]},"text/x-fortran":{"name":"Fortran Source File","extensions":["f"]},"text/x-pascal":{"name":"Pascal Source File","extensions":["p"]},"text/x-java-source,java":{"name":"Java Source File","extensions":["java"]},"text/x-setext":{"name":"Setext","extensions":["etx"]},"text/x-uuencode":{"name":"UUEncode","extensions":["uu"]},"text/x-vcalendar":{"name":"vCalendar","extensions":["vcs"]},"text/x-vcard":{"name":"vCard","extensions":["vcf"]},"video/3gpp":{"name":"3GP","extensions":["3gp"]},"video/3gpp2":{"name":"3GP2","extensions":["3g2"]},"video/h261":{"name":"H.261","extensions":["h261"]},"video/h263":{"name":"H.263","extensions":["h263"]},"video/h264":{"name":"H.264","extensions":["h264"]},"video/jpeg":{"name":"JPGVideo","extensions":["jpgv"]},"video/jpm":{"name":"JPEG 2000 Compound Image File Format","extensions":["jpm"]},"video/mj2":{"name":"Motion JPEG 2000","extensions":["mj2"]},"video/mp4":{"name":"MPEG-4 Video","extensions":["mp4"]},"video/mpeg":{"name":"MPEG Video","extensions":["mpeg"]},"video/ogg":{"name":"Ogg Video","extensions":["ogv"]},"video/quicktime":{"name":"Quicktime Video","extensions":["qt"]},"video/vnd.dece.hd":{"name":"DECE High Definition Video","extensions":["uvh"]},"video/vnd.dece.mobile":{"name":"DECE Mobile Video","extensions":["uvm"]},"video/vnd.dece.pd":{"name":"DECE PD Video","extensions":["uvp"]},"video/vnd.dece.sd":{"name":"DECE SD Video","extensions":["uvs"]},"video/vnd.dece.video":{"name":"DECE Video","extensions":["uvv"]},"video/vnd.fvt":{"name":"FAST Search & Transfer ASA","extensions":["fvt"]},"video/vnd.mpegurl":{"name":"MPEG Url","extensions":["mxu"]},"video/vnd.ms-playready.media.pyv":{"name":"Microsoft PlayReady Ecosystem Video","extensions":["pyv"]},"video/vnd.uvvu.mp4":{"name":"DECE MP4","extensions":["uvu"]},"video/vnd.vivo":{"name":"Vivo","extensions":["viv"]},"video/webm":{"name":"Open Web Media Project - Video","extensions":["webm"]},"video/x-f4v":{"name":"Flash Video","extensions":["f4v"]},"video/x-fli":{"name":"FLI/FLC Animation Format","extensions":["fli"]},"video/x-flv":{"name":"Flash Video","extensions":["flv"]},"video/x-m4v":{"name":"M4v","extensions":["m4v"]},"video/x-ms-asf":{"name":"Microsoft Advanced Systems Format (ASF)","extensions":["asf"]},"video/x-ms-wm":{"name":"Microsoft Windows Media","extensions":["wm"]},"video/x-ms-wmv":{"name":"Microsoft Windows Media Video","extensions":["wmv"]},"video/x-ms-wmx":{"name":"Microsoft Windows Media Audio/Video Playlist","extensions":["wmx"]},"video/x-ms-wvx":{"name":"Microsoft Windows Media Video Playlist","extensions":["wvx"]},"video/x-msvideo":{"name":"Audio Video Interleave (AVI)","extensions":["avi"]},"video/x-sgi-movie":{"name":"SGI Movie","extensions":["movie"]},"x-conference/x-cooltalk":{"name":"CoolTalk","extensions":["ice"]},"text/plain-bas":{"name":"BAS Partitur Format","extensions":["par"]},"text/yaml":{"name":"YAML","extensions":["yaml"]}}')}},ni=>{ni(ni.s=623)}]);